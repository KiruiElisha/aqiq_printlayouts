[
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Employee",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<style>\r\n  @media print {\r\n    @page {\r\n      size: landscape;\r\n      height: 100vh;\r\n      width: 100vh;\r\n      position: absolute;\r\n      margin-top: 0;\r\n      margin-left: 5px;\r\n      overflow: hidden;\r\n    }\r\n  }\r\n</style>\r\n\r\n\r\n<p class=\"\"><b>APPENDIX 1A</b></p>\r\n<center>\r\n<div style=\"font-weight: bold; line-height:1\"> \r\n    <p>KENYA REVENUE AUTHORITY </p>\r\n    <p>INCOME TAX DEPARTMENT </p>\r\n    <p>TAX DEDUCTION CARD YEAR 2024</p> \r\n</div>\r\n</center>\r\n<div style=\"width:100%; display:flex; justify-content: space-between;\">\r\n\r\n    <!-- Left Section Table -->\r\n    <table class=\"table table-sm\" style=\"width:40%; border: none;  line-height: 0.5;\">\r\n        <tr>\r\n            <td style=\"border: none;\"><i>Employer's Name:</i></td>\r\n            <td style=\"border: none;\"><i class=\"fa fa-map-marker\" style=\"color:{{filters.color}};\"></i>{{ doc.company }}</td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"border: none;\"><i>Employee's Main Name:</i></td>\r\n            <td style=\"border: none;\"><i class=\"fa fa-map-marker\" style=\"color:{{filters.color}};\"></i>{{ doc.employee_name }}</td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"border: none;\"><i>Employee's Other Names:</i></td>\r\n            <td style=\"border: none;\"><i class=\"fa fa-map-marker\" style=\"color:{{filters.color}};\"></i>{{ doc.employee }}</td>\r\n        </tr>\r\n    </table>\r\n\r\n    <!-- Right Section Table -->\r\n    <table class=\"table table-sm\" style=\"width:40%; text-align:right; font-weight:None; border: none;  line-height: 0.5;\">\r\n        <tr>\r\n            <td style=\"border: none;\"><i>Employer's PIN:</i></td>\r\n            <td style=\"border: none;\"><i class=\"fa fa-map-marker\" style=\"color:{{filters.color}};\"></i>{{ frappe.db.get_value('Company', doc.company, 'tax_id') }}</td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"border: none;\"><i>Employee's PIN:</i></td>\r\n            <td style=\"border: none;\"><i class=\"fa fa-map-marker\" style=\"color:{{filters.color}};\"></i>{{ doc.employee_pin}}</td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"border: none;\"><i>Employee's Payroll:</i></td>\r\n            <td style=\"border: none;\"><i class=\"fa fa-map-marker\" style=\"color:{{filters.color}};\"></i>{{ frappe.db.get_value(\"Salary Slip\", doc.employee, \"payroll_entry\") or ''}}</td>\r\n        </tr>\r\n    </table>\r\n\r\n\r\n</div>\r\n\r\n<table class=\"table table-bordered\" style = \" line-height: 0.8; margin-top: -10px;\">\r\n    <thead>\r\n        <tr>\r\n            <th style=\"width: \">Month</th>\r\n            <th style=\"width: \">Basic Salary</th>\r\n            <th style=\"width: \">Benefits Non-Cash</th>\r\n            <th style=\"width: \">Value of Quarters</th>\r\n            <th style=\"width: \">Total Gross Pay</th>\r\n            <th style=\"width: \">Defined</th>  \r\n            <th style=\"width: \">Contribution Scheme</th>\r\n            <th style=\"width: \">Retirement</th>\r\n            <th style=\"width: \">Owner-Occupied Interest</th>\r\n            <th style=\"width: \">Retirement Contribution & Owner Occupied Interest</th>\r\n            <th style=\"width: \">Chargeable Pay</th>\r\n            <th style=\"width: \">Tax Charged</th> \r\n            <th style=\"width: \">Personal Relief</th>\r\n            <th style=\"width: \">Insurance Relief</th>\r\n            <th style=\"width: \">PAYE Tax (J-K)</th>   \r\n        </tr>\r\n    </thead>\r\n    <tbody style = \"line-height:0.5\">\r\n        {% set salary_slips = frappe.get_all(\"Salary Slip\",filters={\"employee\": doc.employee,\"start_date\": (\">=\", \"2023-01-01\"),\"end_date\": (\"<=\", \"2023-12-31\")},fields=[\"*\"]) %}\r\n\r\n        {% set grouped_salary_slips = {} %}\r\n        {% for slip in salary_slips %}\r\n            {% if slip.start_date %}\r\n                {% set month = slip.end_date.strftime('%B') %}\r\n                {% if month not in grouped_salary_slips %}\r\n                    {% set _ = grouped_salary_slips.update({month: [slip]}) %}\r\n                {% else %}\r\n                    {% set _ = grouped_salary_slips[month].append(slip) %}\r\n                {% endif %}\r\n            {% endif %}\r\n        {% endfor %}\r\n\r\n        {% set total_basic_salary = 0 %}\r\n        {% set total_benefits_non_cash = 0 %}\r\n        {% set total_value_of_quarters = 0 %}\r\n        {% set total_gross_pay = 0 %}\r\n        {% set total_chargeable_pay = 0 %}\r\n        {% set total_tax_charged = 0 %}\r\n        {% set total_personal_relief = 0 %}\r\n        {% set total_insurance_relief = 0 %}\r\n        {% set total_paye_tax = 0 %}\r\n\r\n        {% for month in [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"] %}\r\n            {% if month in grouped_salary_slips %}\r\n                {% set slips = grouped_salary_slips[month] %}\r\n                {% for slip in slips %}\r\n                    {% set total_basic_salary = total_basic_salary + (frappe.db.get_value(\"Salary Detail\", {'parent': slip.name, 'salary_component': 'Basic'}, 'amount') or 0.00) %}\r\n                    {% set total_benefits_non_cash = total_benefits_non_cash + (frappe.db.get_value(\"Salary Detail\", {'parent': slip.name, 'salary_component': 'Benefit'}, 'amount') or 0.00) %}\r\n                    {% set total_value_of_quarters = total_value_of_quarters + (frappe.db.get_value(\"Salary Detail\", {'parent': slip.name, 'salary_component': 'Value of Quarters'}, 'amount') or 0.00) %}\r\n                    {% set total_gross_pay = total_gross_pay + slip.gross_pay %}\r\n                    {% set total_chargeable_pay = total_chargeable_pay + (frappe.db.get_value(\"Salary Detail\", {'parent': slip.name, 'salary_component': 'Taxable Income'}, 'amount') or 0.00) %}\r\n                    {% set total_tax_charged = total_tax_charged + (frappe.db.get_value(\"Salary Detail\", {'parent': slip.name, 'salary_component': 'Tax Charged'}, 'amount') or 0.00) %}\r\n                    {% set total_personal_relief = total_personal_relief + (frappe.db.get_value(\"Salary Detail\", {'parent': slip.name, 'salary_component': 'Personal Relief'}, 'amount') or 0.00) %}\r\n                    {% set total_insurance_relief = total_insurance_relief + (frappe.db.get_value(\"Salary Detail\", {'parent': slip.name, 'salary_component': 'Insurance Relief'}, 'amount') or 0.00) %}\r\n                    {% set total_paye_tax = total_paye_tax + (frappe.db.get_value(\"Salary Detail\", {'parent': slip.name, 'salary_component': 'PAYE'}, 'amount') or 0.00) %}\r\n                    \r\n                    <tr style=\"line-height:0.5\">\r\n                        <td>{{ month }}</td>\r\n                        <td>{{ frappe.db.get_value(\"Salary Detail\", {'parent': slip.name, 'salary_component': 'Basic'}, 'amount') or 0.00 }}</td>\r\n                        <td>{{ frappe.db.get_value(\"Salary Detail\", {'parent': slip.name, 'salary_component': 'Benefit'}, 'amount') or 0.00 }}</td>\r\n                        <td>{{ frappe.db.get_value(\"Salary Detail\", {'parent': slip.name, 'salary_component': 'Value of Quarters'}, 'amount') or 0.00 }}</td>\r\n                        <td>{{ slip.gross_pay }}</td>\r\n                        <td>0.00</td>\r\n                        <td>0.00</td>\r\n                        <td>0.00</td>\r\n                        <td>0.00</td>\r\n                        <td>0.00</td>\r\n                        <td>{{ frappe.db.get_value(\"Salary Detail\", {'parent': slip.name, 'salary_component': 'Taxable Income'}, 'amount') or 0.00 }}</td>\r\n                        <td>{{ frappe.db.get_value(\"Salary Detail\", {'parent': slip.name, 'salary_component': 'Tax Charged'}, 'amount') or 0.00 }}</td>\r\n                        <td>{{ frappe.db.get_value(\"Salary Detail\", {'parent': slip.name, 'salary_component': 'Personal Relief'}, 'amount') or 0.00 }}</td>\r\n                        <td>{{ frappe.db.get_value(\"Salary Detail\", {'parent': slip.name, 'salary_component': 'Insurance Relief'}, 'amount') or 0.00 }}</td>\r\n                        <td>{{ frappe.db.get_value(\"Salary Detail\", {'parent': slip.name, 'salary_component': 'PAYE'}, 'amount') or 0.00 }}</td>\r\n                    </tr>\r\n                {% endfor %}\r\n            {% else %}\r\n                <tr>\r\n                    <td>{{ month }}</td>\r\n                    <td>0.00</td>\r\n                    <td>0.00</td>\r\n                    <td>0.00</td>\r\n                    <td>0.00</td>\r\n                    <td>0.00</td>\r\n                    <td>0.00</td>\r\n                    <td>0.00</td>\r\n                    <td>0.00</td>\r\n                    <td>0.00</td>\r\n                    <td>0.00</td>\r\n                    <td>0.00</td>\r\n                    <td>0.00</td>\r\n                    <td>0.00</td>\r\n                    <td>0.00</td>\r\n                </tr>\r\n            {% endif %}\r\n        {% endfor %}\r\n        <tr>\r\n            <td><b>Total</b></td>\r\n            <td>{{ total_basic_salary }}</td>\r\n            <td>{{ total_benefits_non_cash }}</td>\r\n            <td>{{ total_value_of_quarters }}</td>\r\n            <td>{{ total_gross_pay }}</td>\r\n            <td>0.00</td>\r\n            <td>0.00</td>\r\n            <td>0.00</td>\r\n            <td>0.00</td>\r\n            <td>0.00</td>\r\n            <td>{{ total_chargeable_pay }}</td>\r\n            <td>{{ total_tax_charged }}</td>\r\n            <td>{{ total_personal_relief }}</td>\r\n            <td>{{ total_insurance_relief }}</td>\r\n            <td>{{ total_paye_tax }}</td>\r\n        </tr>\r\n    </tbody>\r\n</table>\r\n\r\n<div style=\"font-size: 10px;\">\r\n    <table style=\"font-size: 8px;  line-height: 1;  margin-top: 0\">\r\n        <tr>\r\n            <td>\r\n                <p style=\"font-weight: bold;\">To be completed by Employer at end of year</p>\r\n                <p><strong>TOTAL CHARGEABLE PAY (COL.H) Kshs. </strong></p>\r\n            </td>\r\n            <td>\r\n                <p style = \"text-align: left; \">(b) Attach</p>\r\n                <ol>\r\n                    <li>(i) Photostat copy of interest certificate and statement of account from the financial institution</li>\r\n                    <li>(ii) The DECLARATION duly signed by the employee to form P9A</li>\r\n                </ol>\r\n\r\n                <p><strong>NAMES OF FINANCIAL INSTITUTION ADVANCING MORTGAGE LOAN</strong></p>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td>\r\n                <p><strong>IMPORTANT</strong></p>\r\n                <ol>\r\n                    <li>\r\n                        Use P9A\r\n                        <ul>\r\n                            <li>(a) For all liable employees and where director/employee received benefits in addition to cash emoluments.</li>\r\n                            <li>(b) Where an employee is eligible for a deduction on owner-occupied interest.</li>\r\n                        </ul>\r\n                    </li>\r\n                    <li>Deductible interest in respect of any month must not exceed Kshs. 12500/=, except for December where the amount shall be Kshs. 8337/=</li>\r\n                </ol>\r\n                <p>(See back of this card for further information required by the Department)</p>\r\n            </td>\r\n            <td>\r\n                <p><strong>L.R NO OF OWNER OCCUPIED PROPERTY:</strong></p>\r\n                <p><strong>DATE OF OCCUPATION OF HOUSE:</strong></p>\r\n\r\n            </td>\r\n        </tr>\r\n    </table>\r\n</div>\r\n\r\n<p class=\"text-right text-muted\" style = \"margin-top:0;\">Printed On <span id=\"datetime\">{{ frappe.utils.now() }}</span></p>\r\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:11:00.856360",
  "module": "AQIQ Print Formats",
  "name": "p9report(2024)",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": ".li_high{\r\n    line-height: 1 !important;\r\n}\r\n\r\n@media screen,pdf{\r\n\t\t.print-format {\r\n\t\t}\r\n\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n \r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n \r\n#main_tab *{\r\nline-height:1.4;\r\nmargin:0px !important;\r\npadding:2px !important;\r\nfont-size:9px;\r\n}\r\n margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\nmargin-top-15{\r\n    margin-top:15px;\r\n}\r\n \r\n   .text-size-9{\r\n     font-size:9px;\r\n }\r\n .additional-info{\r\n     text-decoration:none !important;\r\n }\r\n \r\n    }\r\n    \r\n@media print{\r\n\t\t.print-format {\r\n\t\t}\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n \r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n  .text-size-9{\r\n     font-size:9px;\r\n }\r\n \r\n table.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n \r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n@media screen {\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n\r\n  .text-size-9{\r\n     font-size:9px;\r\n }\r\n\r\n.amount-val{\r\n   color:darkgrey;\r\n   bottom:20px;\r\n   position:relative;\r\n}\r\n\r\n/*.watermark {*/\r\n/*    position: fixed;*/\r\n/*    top: 420px;*/\r\n/*    left: 220px;*/\r\n/*    right: 220px;*/\r\n/*    background: url(\"http://192.241.152.17/files/draft-background.png\");*/\r\n/*    background-repeat: no-repeat;*/\r\n    /*background-size: center;*/\r\n/*    height:400px;*/\r\n/*    width:50%;*/\r\n/*    background-position: center;*/\r\n/*    background-size: 100%;*/\r\n/*    color:black !important;*/\r\n/*    opacity: 0.3;*/\r\n/*    position: running(wtrmrk);*/\r\n/*    background-repeat: repeat-x;*/\r\n/*    }*/\r\n\r\n.watermark {\r\n    position: fixed;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%) rotate(-45deg);\r\n    opacity: 0.5;\r\n    font-size: 100px;\r\n    color: rgba(255, 0, 0, 0.3);\r\n}\r\n\r\n\r\n.days_tab {\r\n    position: relative;\r\n}\r\n\r\n.barchart-Wrapper {\r\n      display: table;\r\n      position: relative;\r\n      margin: 20px 0;\r\n      height: 120px;\r\n    }\r\n    .barChart-Container {\r\n      display: table-cell;\r\n      width: 100%;\r\n      height: 100%;\r\n      padding-left: 20px;\r\n      padding-right: 20px;\r\n    }\r\n    .barchart {\r\n     display: table;\r\n     table-layout: fixed;\r\n     height: 100%;\r\n     width: 100%;\r\n     border-bottom: 3px solid darkgrey;\r\n    }\r\n    .barchart-Col {\r\n      position: relative;\r\n      vertical-align: bottom;\r\n      display: table-cell;\r\n      height: 100%;\r\n    }\r\n    .barchart-Col + .barchart-Col {\r\n      border-left: 4px solid transparent;\r\n    }\r\n    .barchart-Bar {\r\n      position: static;\r\n      height: 0;\r\n      transition: height 0.5s 2s;\r\n      width: 10px;\r\n      margin: auto;\r\n    }\r\n    .barchart-Bar:after {\r\n      content: attr(attr-height);\r\n      color: white;\r\n      position: absolute;\r\n      text-align: center;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter {\r\n      position: absolute;\r\n      text-align: center;\r\n      left:40px;\r\n      height: 10%;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter h3 {\r\n      color: darkred;\r\n    }\r\n    .barchart-TimeCol {\r\n      position: absolute;\r\n      top: 0;\r\n      height: 100%;\r\n      width: 100%;\r\n    }\r\n    .barchart-Time {\r\n      height: 25%;\r\n      vertical-align: middle;\r\n      position: relative;\r\n    }\r\n    .barchart-Time:after {\r\n      border-bottom: 3px solid white;\r\n      content: \"\";\r\n      position: absolute;\r\n      width: 100%;\r\n      left: 0;\r\n      top: 0em;\r\n    }\r\n    .barchart-TimeText {\r\n      position: absolute;\r\n      top: -8px;\r\n      z-index: 1;\r\n      background: white;\r\n      padding-right: 5px;\r\n      color: #4d4d4d;\r\n      font-size: 15px;\r\n      font-family: 'Avenir Medium';\r\n    }\r\n    .sq1-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq1-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq2-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq2-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq3-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq3-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq4-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq4-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    \r\n}\r\n\r\n",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Sales Order",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<style>\n</style>\n\n\n<div id=\"header-html\" class = \"margin-top-15\"   style = \" margin-top:-20px  !important; width:92.2%; margin-left:15px !important\">\n    <div class = \"row\" style = \"\">\n\n        <div class = \"col-xs-10\" style = \"width:100%;   float:left; border:1px solid black \">\n             {% set header = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1}, \"content\") %}\n\n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website',]) %}\n            \n            \n        \n        {% set comapny_address_line1 = '' %}        \n        {% set comapny_city = '' %}        \n        {% set comapny_counrty = '' %}        \n        {% set comapny_state = '' %}        \n        {% set phone = '' %}        \n\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\n\n        {% if company_address_name  %}\n            {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\n                \n\n        {% set comapny_address_line1 = address.address_line1 %}        \n        {% set comapny_city =  address.city  %}        \n        {% set comapny_counrty =  address.country  %}        \n        {% set comapny_state =  address.state  %}        \n\n        {% set phone = address.phone %}        \n\n        {% endif  %}\n\n\n            \n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \n            'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \n            'state' : comapny_state,\n            'phone_no' : phone, 'email' : company_details[0].email, 'pin_no': company_details[0].tax_id ,  'company_logo' : company_details[0].company_logo, 'website' : company_details[0].website,  }) %}\n            {{header_updated}}\n            \n\n            <table  class = \"table table-sm\" style = \"width:28%; font-size:10px  \"> \n                <tr>\n                    {% if doc.workflow_state == \"Quotation\" %}\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:11px\"> SALES QUOTATION </b> </span> </center>  </td>\n                    {% else %}\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:11px\"> SALES ORDER </b> </span> </center>  </td>\n                    {% endif %}\n                </tr>\n\n                <tr>\n                    <td style = 'font-size:10px'> Date </td> <td style = 'font-size:10px'> \n                    {{ doc.get_formatted('transaction_date')}}\n                </tr>\n\n                <tr> \n                    <td style = \"font-size:10px\"> SO# </td> <td style = \"font-size:10px\">  {{ doc.name }}</td>\n                </tr>\n                <tr> \n                    <td style = \"font-size:10px\"> Division </td> <td style = \"font-size:10px\">  {{ doc.cost_center }} </td>\n                </tr>\n                <tr> \n                    <td style = \"font-size:10px\"> Department </td> <td style = \"font-size:10px\">  {{ doc.department }} </td>\n                </tr>\n                <tr> \n                    <td style = \"font-size:10px\"> Warehouse </td> <td style = \"font-size:10px\">  {{ doc.set_warehouse }} </td>\n                </tr>\n\n            </table>\n\n\n        </div>\n</div>\n\n\n</div>\n\n<table class = \"margin-top-15\"  style = \"width:100%; font-size:10px !important; border-bottom:1px solid black !important;\"> \n    <tr> \n        <td style = \"width:35%\">  \n            <div>  <b style=\"font-size:10px\"> Bill To, </b></div>\n            <div> <b style = \"font-size:10px\" > {{ doc.customer }} </b> </div>\n            <div> <b style = \"font-size:10px\" > {{ doc.customer_name }} </b> </div>\n            <div style = \"font-size:10px\" > {{ doc.address_display }} </div>\n        </td>\n        <td style=\"20%\">\n            <img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\" class=\"center\" height=80px>\n        </td>\n        <td style = \"width:45%\">  \n            <table class = \" text-size-10\" style = \"width:100%; margin-top:-1px !important;\" cellspacing = '0' cellpadding = '0'> \n                <tr>\n                    {% set po_order = frappe.db.get_value(\"Purchase Order\", doc.name, \"name\") %}\n                    {% set po_date = frappe.db.get_value(\"Purchase Order\", doc.name, \"transaction_date\") %}\n                    <td class = \"text-size-10\"  style = 'font-size:10px'> PO Date </td> <td class = \"text-size-10\"  style = 'font-size:11px'>  {{ po_date }} </td>\n                </tr>\n                <tr>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'> Customer PO#. </td> <td class = \"text-size-10\"  style = 'font-size:11px'> {{doc.po_no}} </td>\n                </tr>\n                <tr>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'> Sales Person </td>\n                    {% set salesman = [] %}\n                    {% for s in doc.sales_team %}\n                        {% set salesman = salesman.append(s.get(\"sales_person\")) %}\n                        \n                    {% endfor %}\n                    {% set sales_team = salesman|join(', ') %}\n                    \n                    <td class = \"text-size-10\"  style = 'font-size:10px'>{{sales_team}}</td>\n                </tr>\n                <tr>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'> Currency </td>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'>{{ doc.currency }}</td>\n                </tr>\n\n\n                <tr>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'> Customer Pin </td>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'>{{ doc.tax_id }}</td>\n                </tr>\n\n            </table>\n        </td>\n    </tr>\n</table>\n<div style=\"margin-top:2px; height:40px; border:1px solid black;\">\n   Additional Notes:\n    <p>\n        {% if doc.posa_notes %}\n        {{doc.posa_notes}} \n        {% endif %}\n    </p>\n</div>\n\n\n    \n<!---new table start  from here for item componet v2-->    \n    \n    <div class = \"\" style = \"width:100%\">\n{% set total_ex_vat = {\"total_ex_vat\": 0.0} %}\n{% set tot_qty = {\"tot_qty\": 0.0} %}\n{% set tot_pcs = {\"tot_pcs\": 0.0} %}\n{% set total_in_vat = {\"total_in_vat\": 0.0} %}\n{% set total_amount = {\"total_amount\": 0} %}\n{% set total_vat = {\"total_vat\": 0} %}\n{% set total_inclusive = {\"total_inclusive\": 0} %}\n\n<table class = \"custom_print table table-sm table-bordered \" style = \"width:100%\" border = \"1\" id=\"main_tab\"> \n\n\n    <thead> \n        <tr style = \"background-color:#FBFCFC;color:black \" > \n            <th style=\"width:3%;\"> <b>No</b> </th>\n            <th style=\"width:5%;\"> <b>Item Code</b> </th>\n            <th style=\"width:15%;\"> <b>Item Name</b> </th>\n            <th  class=\"text-center\" style=\"width:6%;\"><b> Width </b></th>\n            <th  class=\"text-center\" style=\"width:6%;\"><b> Height </b></th>\n            <th  class=\"text-center\" style=\"width:5%;\"><b> Pcs </b></th>\n            <th  class=\"text-center\" style=\"width:5%;\"><b> Qty/SQM </b></th>\n            <th  class=\"text-center\" style=\"width:10%;\"><b> Rate </b></th>\n            <th  class=\"text-center\" style=\"width:8%;\"><b> Exc.VAT </b></th>\n            <th  class=\"text-center\" style=\"width:8%;\"><b> Chargeable Size</b></th>\n            <th style=\"width:16%;\"> <b>Shape</b> </th>\n            <th  class=\"text-center\" style=\"width:5%;\"><b> Wastage</b></th>\n            <th  class=\"text-center\" style=\"width:5%;\"><b> Inc Wastage</b></th>\n            <th style=\"width:16%;\"> <b>Additional Notes</b> </th>\n            \n        </tr>\n    </thead>\n    <thead> \n         <tr> \n                            <th class=\"li_high\"><b>Item Group</b> </th>\n                            <th colspan=\"5\" class=\"li_high\"><b>Item Code </b> </th>\n                            <th colspan=\"5\" class=\"li_high\"> <b>Item Name</b> </th>\n                            <th class=\"li_high\"><b> Qty</b> </th>\n                            <th colspan='2' class=\"li_high\"><b> Price Type</b> </th>\n                        </tr>\n    </thead>\n    \n    \n    {% set total_qty_sqm = {\"total_qty_sqm\": 0} %}\n    {% set total_amount_sqm = {\"amount\": 0} %}\n    {% set total_qty_sqm_pcs = {\"qty\": 0} %}\n    {% set total_amount_sqm_pcs = {\"amount\": 0} %}\n    {% set total_pcs = {\"total_pcs\": 0} %}\n    {% set total_pcs_amount = {\"amount\": 0} %}\n    {% set total_fittings_qty = {\"qty\" : 0} %}\n    {% set total_fittings_amount = {\"amount\": 0} %}\n{% for i in doc.items %}\n        <tr>\n            <td style=\"\"> <b> {{i.idx}} </b>  </td>\n            <td style=\"\"> <b>{{i.item_code}}  </b> </td>\n            <td style=\"\"><b> {{i.item_name}}   </b></td>\n            <td style=\"\"><b> {{i.width }}  </b></td>\n            <td style=\"\"><b> {{i.height }} </b> </td>\n            {% if i.uom=='Square Meter' %}\n            <td style=\"\"><b>{{ i.pcs }}</b> </td>\n            {% else %}\n            <td style=\"\"><b>{{ i.qty }}</b> </td>\n            {% endif %}\n            {% if i.uom == \"Square Meter\" %}\n             <td style=\"\"><b>{{ i.qty }}</b> </td>\n             {% else %}\n             <td>0</td>\n             {% endif %}\n            {% if tot_qty.update({\"tot_qty\": tot_qty[\"tot_qty\"] + i.qty}) %} {% endif %}\n            <td style=\"\"><b> {{'{0:,.2f}'.format(i.net_rate) }} </b> </td>\n            <!--{% if i.uom == 'PCS' %}-->\n            <!--<td style=\"\"><b> {{'{0:,.2f}'.format(i.rate) }} </b> </td>-->\n            <!--{% elif i.uom == 'Square Meter' %}-->\n            <!--<td style=\"\"><b> {{'{0:,.2f}'.format(i.net_amount/(i.chargeable_size or 1.0)) }} </b> </td>-->\n            <!--{% else %}-->\n            <!--<td>{{'{0:,.2f}'.format(i.rate) }}</td>-->\n            <td style=\"\"><b> {{'{0:,.2f}'.format(i.net_amount) }} </b> </td>\n            <!--{% endif %}-->\n             {% set in_vat = '' %}\n\n        {% set total_tax_percentage = i.total_tax_percentage |replace(\"%\", \"\")  %}   \n        {% set ex_vat  =  ((i.net_amount|float / 100) * total_tax_percentage|int)  %}\n        \n        \n        {% set in_vat  =  i.net_amount  / 100 * total_tax_percentage | int  %}\n        <td style=\"\"><b>\n\n            {% if tax_type == 'Exclusive' %}\n            \n\n\n  {{ '{0:,.2f}'.format(i.net_amount | float ) }} \n                {% if total_ex_vat.update({\"total_ex_vat\": total_ex_vat[\"total_ex_vat\"] + i.net_amount}) %} {% endif %}\n            {% else  %}\n    \n  {{ '{0:,.2f}'.format(i.net_amount | float ) }} \n\n                {% if total_ex_vat.update({\"total_ex_vat\": total_ex_vat[\"total_ex_vat\"] + i.net_amount}) %} {% endif %}\n            {% endif  %}\n            </b></td>\n             <td style=\"\"><b> {% if i.uom != 'PCS' %} {{i.chargeable_size }} {% else %} 0 {% endif %}</b> </td> \n            \n            <td style=\"\"><b> {{i.shape }} </b> </td>   \n            {% set westage = i.wastage_rate * i.qty%}\n            \n               <td style=\"\"> <b>{{'{0:,.2f}'.format(westage)}}</b> </td>\n            \n            {% set inc_westage = i.wastage_per /(i.wastage_per+100) %}\n            \n            <td style=\"\"> <b>{{'{0:,.2f}'.format(inc_westage)}} </b></td>\n            <td style=\"\"><b> {{i.posa_notes}}   </b></td>\n                \n            \n        </tr>\n    {% if i.uom == 'Square Meter' %}\n        {% set total_qty_sqm = total_qty_sqm.update({\"total_qty_sqm\": total_qty_sqm.total_qty_sqm + i.qty}) %}\n        {% if total_amount_sqm.update({\"amount\":total_amount_sqm.amount + i.net_amount }) %} {% endif %}\n        {% if total_qty_sqm_pcs.update({\"qty\": total_qty_sqm_pcs.qty + i.pcs }) %} {% endif %}\n        {% if total_amount_sqm_pcs.update({\"amount\": total_amount_sqm_pcs.amount + i.net_amount }) %} {% endif %}\n        {% if total_pcs.update({\"total_pcs\": total_pcs.total_pcs + frappe.utils.ceil(i.pcs)}) %}{% endif %}\n        {% if total_pcs_amount.update({\"amount\": total_pcs_amount.amount + i.net_amount }) %} {% endif %}\n    {% endif %}\n    \n    \n    {% if i.uom in ('PCS', \"Meter\") %}\n        {% if total_pcs.update({\"total_pcs\": total_pcs.total_pcs + frappe.utils.ceil(i.qty)}) %} {% endif %}\n        {% if total_pcs_amount.update({\"amount\": total_pcs_amount.amount + i.net_amount }) %} {% endif %}\n        {% if total_fittings_qty.update({\"qty\": total_fittings_qty.qty + i.qty}) %} {% endif %}    \n        {% if total_fittings_amount.update({\"amount\": total_fittings_amount.amount + i.net_amount }) %} {% endif %}    \n\n    {% endif %}\n    \n            {% set item_components = doc.components %}\n            {% set item_code_quantities = {} %}\n            {% set item_groups = {} %}\n            {% set item_names = {} %}\n            {% set price_types = {} %}\n            \n           \n            {% for item in item_components %}\n             {% if item.item_detail == i.name %}\n                {% set item_code = item.item_code %}\n                {% set qty = item.qty %}\n                {% set item_group = item.item_group %}\n                {% set price_type = item.price_type %}\n                \n            \n                {% if item_code in item_code_quantities %}\n                    {% set item_code_quantities = item_code_quantities.update({item_code: item_code_quantities[item_code] + qty}) %}\n                {% else %}\n                    {% set item_code_quantities = item_code_quantities.update({item_code: qty}) %}\n                {% endif %}\n            \n                {% set item_groups = item_groups.update({item_code: item_group}) %}\n                {% set item_names = item_names.update({item_code: item.item_name}) %}\n                {% set price_types = price_types.update({item_code: price_type}) %}\n               \n             {% endif %}\n            {% endfor %}\n           \n           \n            {% for item_code, total_qty in item_code_quantities.items() %}\n           \n            \n                <tr>\n                    <td class=\"li_high\" style=\"border:none !important;\">{{ item_groups[item_code] }}</td>\n                    <td class=\"li_high\" colspan=\"5\" style=\"border:none !important;\">{{ item_code }}</td>\n                    <td class=\"li_high\" colspan=\"5\" style=\"border:none !important;\">{{ item_names[item_code] }}</td>\n                    <td class=\"li_high\" style=\"border:none !important;\">{{ total_qty }}</td>\n                    <td colspan='2' class=\"li_high\" style=\"border:none !important;\">{{ price_types[item_code] }}</td>\n                </tr>\n            \n            {% endfor %}\n\n    \n\n{% endfor %}\n                </table>\n\n    \n\n</div>\n\n        \n        \n        \n        \n     <b>Additional Info:</b>    \n<div class =\"additional-info\" style=\"display: flex; text-decoration:none !important;\" >\n    <div style=\"width: 48%; margin; border:1px solid black;\">\n        <table style = \"\">\n            <tr class=\"text-right\">\n                <td colspan=\"\" class=\"text-size-10 text-left\" style=\"font-size:11px; line-height: 0.6;\">\n                    Total Glasses/PCS(A):\n                </td>\n                <td colspan=\"\" class=\"text-size-10 text-left\" style=\"font-size:11px; line-height: 0.6;\">\n                    {{ total_qty_sqm_pcs.qty }}\n                </td>\n                <td colspan=\"\" class=\"text-size-10 text-left\" style=\"font-size:11px; line-height: 0.6;\">\n                    <!--{{ doc.currency }}  {{ '{0:,.3f}'.format(total_amount_sqm_pcs.amount) }}-->\n                </td>\n            </tr>\n            <tr class=\"text-left\">\n                <td colspan=\"\" class=\"text-size-10 text-left\" style=\"font-size:11px;  line-height: 0.6;\">\n                    Total Glasses/SQM:\n                </td>\n                <td colspan=\"\" class=\"text-size-10 text-left\" style=\"font-size:11px; line-height: 0.6;\">\n                    {{ '{0:,.3f}'.format(total_qty_sqm.total_qty_sqm) }}\n                </td>\n                <td colspan=\"3\" class=\"text-size-10 text-left\" style=\"font-size:11px; line-height: 0.6;\">\n                    {{ doc.currency }}  {{ '{0:,.3f}'.format(total_amount_sqm.amount) }}\n                </td>\n            </tr>\n            \n            <tr class=\"text-right\">\n                <td colspan=\"\" class=\"text-size-10 text-left\" style=\"font-size:11px;  line-height: 0.6;\">\n                    Total Fittings(B):\n                </td>\n                <td colspan=\"\" class=\"text-size-10 text-left\" style=\"font-size:11px; line-height: 0.6;\">\n                    {{ '{0:,.2f}'.format(total_fittings_qty.qty)  }} \n                </td>\n                <td colspan=\"\" class=\"text-size-10 text-left\" style=\"font-size:10px; line-height: 0.6;\">\n                    {{ doc.currency }}  {{ '{0:,.2f}'.format(total_fittings_amount.amount) }} \n                </td>\n            </tr>\n            <tr class=\"text-right\">\n                <td colspan=\"\" class=\"text-size-10 text-left\" style=\"font-size:11px;  line-height: 0.6;\">\n                    Total Pieces(A+B):\n                </td>\n                <td colspan=\"\" class=\"text-size-10 text-left\" style=\"font-size:11px; line-height: 0.6;\">\n                    {{ total_pcs.total_pcs }} \n                </td>\n                <td colspan=\"\" class=\"text-size-10 text-left\" style=\"font-size:11px; line-height: 0.6;\">\n                    {{ doc.currency }}  {{ '{0:,.2f}'.format(total_pcs_amount.amount) }} \n                </td>\n            </tr>\n        </table>\n    </div>\n   <div style=\"width:48%; margin-left: auto; text-align: right; border:1px solid black;\">\n        <table style=\"margin-left:auto; align-items:right; position:relative;\">\n            <tr class=\"text-right\" style=\"border-top:;\">\n                \n                <td colspan=\"\" class=\"text-size-10 text-right\" style=\"font-size:11px; line-height: 0.6;\">\n                    Excl. VAT:\n                </td>\n                <td></td>\n                <td colspan=\"\" class=\"text-size-10 text-right\" style=\"font-size:11px; line-height: 0.6;\">\n                    {{doc.currency}} {{ '{0:,.2f}'.format(total_ex_vat.total_ex_vat) }}\n                </td>\n            </tr>\n            <tr class=\"text-right\">\n                \n                <td colspan=\"\" class=\"text-size-10 text-right\" style=\"font-size:11px; line-height: 0.6;\">\n                    Total VAT:\n                </td>\n               <td style=\"\"></td>\n                <td colspan=\"\" class=\"text-size-10 text-right\" style=\"font-size:11px; line-height: 0.6;\">\n                    {{doc.currency}} {{ '{0:,.2f}'.format(doc.total_taxes_and_charges) }}\n                </td>\n            </tr>\n            <tr class=\"text-right\">\n                \n                <td colspan=\"\" class=\"text-size-10 text-right\" style=\"font-size:11px; line-height: 0.6;\">\n                    <b>Total Amount:</b>\n                </td>\n                <td></td>\n                <td colspan=\"\" class=\"text-size-10 text-right\" style=\"font-size:11px; line-height: 0.6;\">\n                 <b>   {{doc.currency}} {{ '{0:,.2f}'.format(total_ex_vat.total_ex_vat + doc.total_taxes_and_charges) }}</b>\n                </td>\n            </tr>\n            <tr colspan='5'></tr>\n        </table>\n    </div>\n</div>\n\n\n<table style=\"margin-top:2px; border-top:1px solid black;\">\n        <tr> \n        <td colspan = \"\"> \n        <p  class = \"text-size-10\" > Created By: {{ doc.owner }} </p> \n        \n        <p  class = \"text-size-10\" > Created ON: {{ doc.get_formatted('creation')}} </p> \n        <p  class = \"text-size-10\" > \n    Authorized By:  {% if doc.docstatus==1 %} {{doc.owner}} {% endif %} \n    </p>\n\n        \n        </td>\n        <td colspan = \"4\" class = \"text-right\" > \n        \n        <table class = \"text-right\" style = '; width:100%; border:none' > \n        <tr>\n           \n        </tr>\n            \n            \n            \n        </table>\n\n\n        </td>\n        </tr>\n        \n        \n</table>\n<div style=\"margin-top:1px; margin-bottom:1px;  border:1px solid black;\">\n     \n</div>\n{% if doc.docstatus==0 %}\n<div class ='watermark'>\n    DRAFT\n</div>\n{% endif %}\n\n\n\n\n\n\n    <!--<div  id = \"\" style = 'page-break-after :always;  ' >  </div>-->\n\n    <!--<div class = 'text-center' style = \"font-size:12px; font-weight:600\" >General Terms and Conditions </div>-->\n\n<div style=\"width:100%;\">\n     <b style=\"text-size: 13px; padding-left: 3px;margin-left:250px;\">Bank Details for RTGS</b>\n<div style=\"display:flex; width:100%;\">\n    <div style=\"width:50%;\">\n    <div style=\"margin-top:2px; height:auto; border:1px solid black;\">\n       Account Name: Impala Glass Industries Ltd<br>\n        <p style=\"padding: 3px;\">\n            Bank Name: Habib Bank AG Zurich,Nairobi,Kenya<br>\n            Branch: Koinange Branch<br>\n            Swift Code: HBZUKENA<br>\n            Code: 17-000<br>\n            <br>\n\n            Kenya Shillings Account Number:09-0101-20311-546-208022<br>\n            USD Account Number:09-0101-20311-333-315074\n            <br>\n                        <div style=\"padding-left:25px;\">\n                USD Correspondent Bank:<br>\n                Citi Bank New York Nostro Account No.36406125<br>\n                Swift Code CITIUS33\n            </div>\n        </p>\n    </div>\n</div>\n\n</div>\n</div>\n\n\n</div>\n\n\n\n<div style=\"margin-top:1px; margin-bottom:1px;  border:1px solid black;\"></div>\n<div class = 'text-center' style = \"font-size:12px;\" >Goods sold as per our terms & condition, to view the same visit <a href=\"https://impalaglass.com/tnc/\">impalaglass.com/tnc</a></div>\n\n\n\n{% set footer = frappe.db.get_value(\"Letter Head\", doc.letter_head, \"footer\") %}\n\n{% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(), \"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user}) %}\n{{ footer_updated }}\n\n\n    <div id=\"footer-html\" class=\"visible-pdf text-center  \" style = \"font-size:10px\" >\n        <p id=\"demo\"></p>\n        <div class=\"letter-head-footer text-size-10 text-center \"  style=\"font-size: 10px;\"  >\n            {{ footer }}\n        </div>\n        <p class=\"text-center small page-number visible-pdf\" style = \"font-size:10px\" >\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\n        </p>\n    </div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:11:00.987535",
  "module": "AQIQ Print Formats",
  "name": "Al-Aziz Order",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "@media screen,pdf {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n \r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\nmargin-top-15{\r\n    margin-top:15px;\r\n}\r\n \r\n   .text-size-9{\r\n     font-size:9px;\r\n }\r\n \r\n    }\r\n    \r\n@media print {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n \r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n  .text-size-9{\r\n     font-size:9px;\r\n }\r\n \r\n table.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n \r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n@media screen {\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n\r\n  .text-size-9{\r\n     font-size:9px;\r\n }\r\n\r\n.amount-val{\r\n   color:darkgrey;\r\n   bottom:20px;\r\n   position:relative;\r\n}\r\n\r\n/*.watermark {*/\r\n/*    position: fixed;*/\r\n/*    top: 420px;*/\r\n/*    left: 220px;*/\r\n/*    right: 220px;*/\r\n/*    background: url(\"http://192.241.152.17/files/draft-background.png\");*/\r\n/*    background-repeat: no-repeat;*/\r\n    /*background-size: center;*/\r\n/*    height:400px;*/\r\n/*    width:50%;*/\r\n/*    background-position: center;*/\r\n/*    background-size: 100%;*/\r\n/*    color:black !important;*/\r\n/*    opacity: 0.3;*/\r\n/*    position: running(wtrmrk);*/\r\n/*    background-repeat: repeat-x;*/\r\n/*    }*/\r\n\r\n.watermark {\r\n    position: fixed;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%) rotate(-45deg);\r\n    opacity: 0.5;\r\n    font-size: 100px;\r\n    color: rgba(255, 0, 0, 0.3);\r\n}\r\n\r\n\r\n.days_tab {\r\n    position: relative;\r\n}\r\n\r\n.barchart-Wrapper {\r\n      display: table;\r\n      position: relative;\r\n      margin: 20px 0;\r\n      height: 120px;\r\n    }\r\n    .barChart-Container {\r\n      display: table-cell;\r\n      width: 100%;\r\n      height: 100%;\r\n      padding-left: 20px;\r\n      padding-right: 20px;\r\n    }\r\n    .barchart {\r\n     display: table;\r\n     table-layout: fixed;\r\n     height: 100%;\r\n     width: 100%;\r\n     border-bottom: 3px solid darkgrey;\r\n    }\r\n    .barchart-Col {\r\n      position: relative;\r\n      vertical-align: bottom;\r\n      display: table-cell;\r\n      height: 100%;\r\n    }\r\n    .barchart-Col + .barchart-Col {\r\n      border-left: 4px solid transparent;\r\n    }\r\n    .barchart-Bar {\r\n      position: static;\r\n      height: 0;\r\n      transition: height 0.5s 2s;\r\n      width: 10px;\r\n      margin: auto;\r\n    }\r\n    .barchart-Bar:after {\r\n      content: attr(attr-height);\r\n      color: white;\r\n      position: absolute;\r\n      text-align: center;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter {\r\n      position: absolute;\r\n      text-align: center;\r\n      left:40px;\r\n      height: 10%;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter h3 {\r\n      color: darkred;\r\n    }\r\n    .barchart-TimeCol {\r\n      position: absolute;\r\n      top: 0;\r\n      height: 100%;\r\n      width: 100%;\r\n    }\r\n    .barchart-Time {\r\n      height: 25%;\r\n      vertical-align: middle;\r\n      position: relative;\r\n    }\r\n    .barchart-Time:after {\r\n      border-bottom: 3px solid white;\r\n      content: \"\";\r\n      position: absolute;\r\n      width: 100%;\r\n      left: 0;\r\n      top: 0em;\r\n    }\r\n    .barchart-TimeText {\r\n      position: absolute;\r\n      top: -8px;\r\n      z-index: 1;\r\n      background: white;\r\n      padding-right: 5px;\r\n      color: #4d4d4d;\r\n      font-size: 15px;\r\n      font-family: 'Avenir Medium';\r\n    }\r\n    .sq1-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq1-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq2-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq2-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq3-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq3-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq4-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq4-bar {\r\n      background-color: #a61a17;\r\n    }",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Sales Order",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<style>\n</style>\n\n<div id=\"header-html\" class = \"margin-top-15\"   style = \" margin-top:-20px  !important; width:92.2%; margin-left:15px !important\">\n    <div class = \"row\" style = \"display:flex;  border:1px solid black \">\n  <div style = \"width:50%;\">\n      <table class = \" table table-sm\" style = \"\" cellspacing = '0' cellpadding = '0'> \n                <tr>\n                    {% set po_order = frappe.db.get_value(\"Purchase Order\", doc.name, \"name\") %}\n                    {% set po_date = frappe.db.get_value(\"Purchase Order\", doc.name, \"transaction_date\") %}\n                    <td class = \"text-size-10\"  style = 'font-size:10px'> PO Date </td> <td class = \"text-size-10\"  style = 'font-size:11px'>  {{ po_date }} </td>\n                </tr>\n                <tr>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'> Customer PO#. </td> <td class = \"text-size-10\"  style = 'font-size:11px'>  {{po_order}} </td>\n                </tr>\n                <tr>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'> Sales Person </td>\n                    {% set salesman = [] %}\n                    {% for i in doc.sales_team %}\n                        {% set salesman = salesman.append(i.get(\"sales_person\")) %}\n                        \n                    {% endfor %}\n                    {% set sales_team = salesman|join(', ') %}\n                    \n                    <td class = \"text-size-10\"  style = 'font-size:10px'>{{sales_team}}</td>\n                </tr>\n                <tr>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'> Currency </td>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'>{{ doc.currency }}</td>\n                </tr>\n\n\n                <tr>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'> Customer Pin </td>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'>{{ doc.tax_id }}</td>\n                </tr>\n\n            </table>\n  </div>\n        <div class = \"col-xs-10\" style = \"width:50%; float:right  \">\n            \n        \n            \n\n            <table  class = \"table table-sm\" style = \" font-size:10px  \"> \n                <tr>\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:12px\"> SALES ORDER </b> </span> </center>  </td>\n                </tr>\n\n                <tr>\n                    <td style = 'font-size:10px'> Date </td> <td style = 'font-size:10px'> \n                    {{ doc.get_formatted('transaction_date') }} \n                </tr>\n\n                <tr> \n                    <td style = \"font-size:10px\"> Order No </td> <td style = \"font-size:10px\">  {{ doc.name }}</td>\n                </tr>\n                <tr> \n                    <td style = \"font-size:10px\"> Division </td> <td style = \"font-size:10px\">  {{ doc.cost_center }} </td>\n                </tr>\n                <tr> \n                    <td style = \"font-size:10px\"> Department </td> <td style = \"font-size:10px\">  {{ doc.department }} </td>\n                </tr>\n<tr> \n                    <td style = \"font-size:10px\"> Warehouse </td> <td style = \"font-size:10px\">  {{ doc.set_warehouse }} </td>\n                </tr>\n\n            </table>\n\n\n        </div>\n</div>\n\n\n</div>\n\n<table class = \"margin-top-15\"  style = \"width:100%; font-size:10px !important; border-bottom:1px solid black !important;\"> \n    <tr> \n        <td style = \"width:35%\">  \n            <div>  <b style=\"font-size:10px\"> Bill To, </b></div>\n            <div> <b style = \"font-size:10px\" > {{ doc.customer }} </b> </div>\n            <div> <b style = \"font-size:10px\" > {{ doc.customer_name }} </b> </div>\n            <div style = \"font-size:10px\" > {{ doc.address_display }} </div>\n        </td>\n        <td style=\"20%\">\n            <!--<img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\" class=\"center\" height=80px>-->\n        </td>\n        <td style = \"width:45%\">  \n            \n        </td>\n    </tr>\n</table>\n<div style=\"margin-top:2px; height:auto; border:1px solid black;\">\n    Additional Notes:\n    <p>\n        {% if doc.posa_notes %}\n        {{doc.posa_notes}} \n        {% endif %}\n    </p>\n</div>\n<table  class = 'table table-sm' style = \"width:100%; font-size:9px;  margin-top:10px\" border = '1'> \n    <tr> \n        <thead> \n            <th class=\"text-left text-size-9 \" style = \"\"  >  # </th>\n            <th class=\"text-left text-size-9 \">  Item Code </th>\n            <th class=\"text-left text-size-9 \">  Item Name </th>\n            <th class=\"text-right text-size-9 \">  UOM </th>\n            <th class=\"text-right text-size-9 \">  Rate </th>\n            <th class=\"text-right text-size-9 \">  Qty </th>\n            <th class=\"text-right text-size-9 \">  Amount </th>\n            <!--<th class=\"text-right text-size-9 \">  VAT </th>-->\n            <!--<th class=\"text-righttext-size-9 \">  Inc.VAT </th>-->\n\n        </thead>\n    </tr>\n{% set total_ex_vat = {\"total_ex_vat\": 0.0} %}\n{% set total_in_vat = {\"total_in_vat\": 0.0} %}\n{% set total_amount = {\"total_amount\": 0} %}\n{% set total_vat = {\"total_vat\": 0} %}\n{% set gross_total = {\"gross_total\": 0} %}\n{% set total_inclusive = {\"total_inclusive\": 0} %}\n{% set tax_type = doc.tax_type  %}\n\n{% set uoms_object = {} %}\n{% for entry in doc.items %}\n    {% if entry.uom not in uoms_object.keys() %}\n        {% if entry.item_code != \"Installation Charge\" %}\n            {% set uoms_object = uoms_object.update({entry.uom : 0.0}) %}\n        {% endif %}\n    {% endif %}\n{% endfor %}\n\n\n\n\n{% for row in doc.items %}\n    {% if total_amount.update({\"total_amount\": total_amount[\"total_amount\"] + row.qty * row.net_rate}) %} {% endif %}\n    \n        <tr>\n            <td style=\"\" class=\"text-left text-size-9 \">{{ row.idx }}</td>\n            <td style=\"\" class=\"text-left text-size-9 \">\n                {{ row.item_code }}\n            </td>\n            <td style=\"\" class=\"text-left text-size-9 \">\n                {{ row.item_name }}\n            </td>\n            <td style=\"\" class=\"text-right text-size-9 \">\n                {{ row.uom }}\n            </td>\n            <td style=\"\" class=\"text-right text-size-9 \">\n\n  {{ '{0:,.2f}'.format(row.net_rate  ) }} \n\n            </td>\n            <td style=\"\" class=\"text-right text-size-9 \">\n                {{ row.qty }}\n            </td>\n        \n        {% set in_vat = '' %}\n\n        {% set total_tax_percentage = row.total_tax_percentage |replace(\"%\", \"\")  %}   \n        {% set ex_vat  =  ((row.net_amount|float / 100) * total_tax_percentage|int)  %}\n        \n        \n        {% set in_vat  =  row.net_amount  / 100 * total_tax_percentage | int  %}\n\n            <td style=\"\" class=\"text-right\">\n\n            {% if tax_type == 'Exclusive' %}\n            \n\n\n  {{ '{0:,.2f}'.format(row.net_amount | float ) }} \n                {% if total_ex_vat.update({\"total_ex_vat\": total_ex_vat[\"total_ex_vat\"] + row.net_amount}) %} {% endif %}\n            {% else  %}\n    \n  {{ '{0:,.2f}'.format(row.net_amount | float ) }} \n\n                {% if total_ex_vat.update({\"total_ex_vat\": total_ex_vat[\"total_ex_vat\"] + row.net_amount}) %} {% endif %}\n            {% endif  %}\n            </td>\n        \n  <!--          <td style=\"\" class=\"text-right text-size-9 \">-->\n\n  <!--          {% set tem_vat = 0 %}-->\n  <!--          {% if tax_type == 'Exclusive' %}-->\n            \n  <!--              {% set ex_vat  =  row.net_amount  / 100 * total_tax_percentage | int  %}-->\n\n  <!--{{ '{0:,.2f}'.format(ex_vat  ) }} -->\n                \n                \n  <!--              {% set tem_vat = ex_vat %}-->\n\n  <!--          {% else  %}-->\n  <!--              {% set in_vat  =  row.net_amount  / 100 * total_tax_percentage | int  %}-->\n                \n  <!--{{ '{0:,.2f}'.format(in_vat  ) }} -->\n\n  <!--              {% set tem_vat = in_vat %}-->\n            \n            \n  <!--          {% endif  %}-->\n                \n                \n  <!--      {% if total_vat.update({\"total_vat\": total_vat[\"total_vat\"] + tem_vat  }) %} {% endif %}-->\n\n  <!--          </td>-->\n           \n            <!--<td style=\"\" class=\"text-right text-size-9 \">-->\n            <!--{% set total_inlusive_temp = ''  %}-->\n\n            <!--{% if tax_type == 'Exclusive' %}-->\n\n            <!--    {% set total_inlusive_temp = ex_vat + row.net_amount  %}-->\n            \n            <!--      {{ '{0:,.2f}'.format(total_inlusive_temp  ) }} -->\n\n                \n            <!--    {% if total_inclusive.update({\"total_inclusive\": total_inclusive[\"total_inclusive\"] + total_inlusive_temp}) %} {% endif %}-->\n                \n\n            <!--{% else  %}-->\n\n            <!--    {% set total_inlusive_temp =  row.net_amount + in_vat   %}-->\n            <!--    {% if total_inclusive.update({\"total_inclusive\": total_inclusive[\"total_inclusive\"] + total_inlusive_temp}) %} {% endif %}-->\n\n\n            <!--      {{ '{0:,.2f}'.format(total_inlusive_temp  ) }} -->\n\n            <!--{% endif  %}-->\n            <!--</td>-->\n\n        </tr>\n        \n        {% if row.item_code != \"Installation Charge\"%}\n            {% set uoms_object = uoms_object.update({row.uom : uoms_object[row.uom] + row.qty})%}\n        {% endif %}\n        \n        {%- endfor -%}\n        \n        <tr> \n            <td colspan=\"5\" class=\"text-right\"><b>Totals:</b>   </td>\n            <td class=\"text-right\"> <b>\n                {{doc.total_qty}}</b></td>\n            <td class=\"text-right small \">  <b>\n                \n                                  {{ '{0:,.2f}'.format(total_ex_vat.total_ex_vat  ) }} \n\n                \n                </b> </td>\n            <!--<td class=\"text-right small \">  <b>{{ total_amount.total_amount }}</b> </td>-->\n            <!--<td class=\"text-right small\">  <b>-->\n                \n            <!--                                      {{ '{0:,.2f}'.format( total_vat.total_vat  ) }} -->\n\n            <!--    </b> </td>-->\n         \n\n            <!--<td class=\"text-right small \">  <b>-->\n            <!--                     {{ '{0:,.2f}'.format( total_inclusive.total_inclusive  ) }} -->\n                \n            <!--    </b> </td>-->\n        </tr>\n        \n        <tr> \n            <td colspan = \"9\"> \n            <b class = \"text-size-10\" >Total Amount in words:   {{ frappe.utils.money_in_words(total_inclusive.total_inclusive, doc.currency ) }}  </b>\n\n            </td>\n        </tr>\n        </table>\n            \n        <table style = \"width:100%; font-size:11px;  margin-top:2px\">\n            <tr rowspan = \"1\" style = \"border-top: 1px solid black;  border-bottom: 1px solid black\">\n                        {% for key, val in uoms_object.items() %}\n                        <td colspan = \"1\" style='border: 1px solid black'> <b>Total {{key}} : {{val | round(2)}} </b> </td>\n                        {% endfor %}\n            </tr>\n        </table>\n        <table class = \"table table-sm\" >\n        <tr> \n            <td colspan = \"\"> \n            <!--<p  class = \"text-size-10\" > Created By: {{ doc.owner }} </p> -->\n            \n            <p  class = \"text-size-10\" > Created ON: {{ doc.get_formatted('creation')}} </p> \n            <!--<p  class = \"text-size-10\" > Authorized By:  {% if doc.workflow_state=='Approve Order'%}-->\n            <!--{{frappe.db.get_value('Workflow Action', {'reference_doctype' : 'Sales Order', 'reference_name' : doc.name, 'workflow_state': 'Approve Order'}, 'owner')}}-->\n            <!--{% endif %} </p>-->\n        </td>\n        <td colspan = \"4\" class = \"text-right\" > \n        \n        <table class = \"text-right\" style = '; width:100%; border:none' > \n            <tr class = \"text-right\" > \n                <td colspan = \"\" class = \"text-size-10 text-right\"  style=\"font-size:10px; font-weight:bold;\"> <b>  Total Amount </b> </td>\n                <td colspan = \"\" class = \"text-size-10 text-right\" style=\"font-size:10px; font-weight:bold;\"><b> \n                \n\n                                                 {{ '{0:,.2f}'.format(total_ex_vat.total_ex_vat  ) }} \n                </b> </td>\n\n\n            <!--</tr>-->\n\n            <!--<tr class = \"text-right\" > -->\n            <!--    <td colspan = \"\" class = \"text-size-10 text-right \" style=\"font-size:10px; font-weight:bold;\">  <b> Total Amount: </b>  </td>-->\n            <!--    <td colspan = \"\" class = \"text-size-10 text-right \" style=\"font-size:10px; font-weight:bold;\"> -->\n                \n                \n            <!--    <b>  -->\n            <!--                                        {{ '{0:,.2f}'.format(total_inclusive.total_inclusive) }} -->\n\n                \n\n                \n            <!--    </b></td>-->\n            <!--</tr>-->\n        </table>\n\n\n        </td>\n        </tr>\n        \n        \n</table>\n<div style=\"margin-top:1px; margin-bottom:1px;  border:1px solid black;\">\n     \n</div>\n{% if doc.docstatus==0 %}\n<div class ='watermark'>\n    DRAFT\n</div>\n{% endif %}\n\n\n\n<div style=\"margin-top:2px; height:auto; border:1px solid black;\">\n    <b style=\"text-size: 13px; padding-left: 3px;\">Bank Details</b>\n    <p style=\"padding: 3px;\">\n        <br>\n        Equity Bank,<br>\n        Eastleigh Branch<br>DELEGATA GENERAL TRADING COMPANY LIMITED\n        <br>\n        Paybill : 247247<br>Account No : 0840284903817\n    </p>\n</div>\n\n\n\n\n\n\n<div style=\"margin-top:1px; margin-bottom:1px;  border:1px solid black;\"></div>\n<div class = 'text-center' style = \"font-size:12px;\" >Goods sold as per our terms & condition</div>\n\n\n\n\n{% set footer = frappe.db.get_value(\"Letter Head\", doc.letter_head, \"footer\") %}\n\n{% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(), \"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user}) %}\n{{ footer_updated }}\n\n\n    <div id=\"footer-html\" class=\"visible-pdf text-center  \" style = \"font-size:10px\" >\n        <p id=\"demo\"></p>\n        <div class=\"letter-head-footer text-size-10 text-center \"  style=\"font-size: 10px;\"  >\n            {{ footer }}\n        </div>\n        <p class=\"text-center small page-number visible-pdf\" style = \"font-size:10px\" >\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\n        </p>\n    </div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:11:01.153340",
  "module": "AQIQ Print Formats",
  "name": "Q.H. Quotation",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": ".li_high{\r\n    line-height: 1 !important;\r\n}\r\n\r\n@media screen,pdf{\r\n\t\t.print-format {\r\n\t\t}\r\n\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n \r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n \r\n#main_tab *{\r\nline-height:1.4;\r\nmargin:0px !important;\r\npadding:2px !important;\r\nfont-size:9px;\r\n}\r\n margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\nmargin-top-15{\r\n    margin-top:15px;\r\n}\r\n \r\n   .text-size-9{\r\n     font-size:9px;\r\n }\r\n .additional-info{\r\n     text-decoration:none !important;\r\n }\r\n \r\n    }\r\n    \r\n@media print{\r\n\t\t.print-format {\r\n\t\t}\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n \r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n  .text-size-9{\r\n     font-size:9px;\r\n }\r\n \r\n table.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n \r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n@media screen {\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n\r\n  .text-size-9{\r\n     font-size:9px;\r\n }\r\n\r\n.amount-val{\r\n   color:darkgrey;\r\n   bottom:20px;\r\n   position:relative;\r\n}\r\n\r\n/*.watermark {*/\r\n/*    position: fixed;*/\r\n/*    top: 420px;*/\r\n/*    left: 220px;*/\r\n/*    right: 220px;*/\r\n/*    background: url(\"http://192.241.152.17/files/draft-background.png\");*/\r\n/*    background-repeat: no-repeat;*/\r\n    /*background-size: center;*/\r\n/*    height:400px;*/\r\n/*    width:50%;*/\r\n/*    background-position: center;*/\r\n/*    background-size: 100%;*/\r\n/*    color:black !important;*/\r\n/*    opacity: 0.3;*/\r\n/*    position: running(wtrmrk);*/\r\n/*    background-repeat: repeat-x;*/\r\n/*    }*/\r\n\r\n.watermark {\r\n    position: fixed;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%) rotate(-45deg);\r\n    opacity: 0.5;\r\n    font-size: 100px;\r\n    color: rgba(255, 0, 0, 0.3);\r\n}\r\n\r\n\r\n.days_tab {\r\n    position: relative;\r\n}\r\n\r\n.barchart-Wrapper {\r\n      display: table;\r\n      position: relative;\r\n      margin: 20px 0;\r\n      height: 120px;\r\n    }\r\n    .barChart-Container {\r\n      display: table-cell;\r\n      width: 100%;\r\n      height: 100%;\r\n      padding-left: 20px;\r\n      padding-right: 20px;\r\n    }\r\n    .barchart {\r\n     display: table;\r\n     table-layout: fixed;\r\n     height: 100%;\r\n     width: 100%;\r\n     border-bottom: 3px solid darkgrey;\r\n    }\r\n    .barchart-Col {\r\n      position: relative;\r\n      vertical-align: bottom;\r\n      display: table-cell;\r\n      height: 100%;\r\n    }\r\n    .barchart-Col + .barchart-Col {\r\n      border-left: 4px solid transparent;\r\n    }\r\n    .barchart-Bar {\r\n      position: static;\r\n      height: 0;\r\n      transition: height 0.5s 2s;\r\n      width: 10px;\r\n      margin: auto;\r\n    }\r\n    .barchart-Bar:after {\r\n      content: attr(attr-height);\r\n      color: white;\r\n      position: absolute;\r\n      text-align: center;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter {\r\n      position: absolute;\r\n      text-align: center;\r\n      left:40px;\r\n      height: 10%;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter h3 {\r\n      color: darkred;\r\n    }\r\n    .barchart-TimeCol {\r\n      position: absolute;\r\n      top: 0;\r\n      height: 100%;\r\n      width: 100%;\r\n    }\r\n    .barchart-Time {\r\n      height: 25%;\r\n      vertical-align: middle;\r\n      position: relative;\r\n    }\r\n    .barchart-Time:after {\r\n      border-bottom: 3px solid white;\r\n      content: \"\";\r\n      position: absolute;\r\n      width: 100%;\r\n      left: 0;\r\n      top: 0em;\r\n    }\r\n    .barchart-TimeText {\r\n      position: absolute;\r\n      top: -8px;\r\n      z-index: 1;\r\n      background: white;\r\n      padding-right: 5px;\r\n      color: #4d4d4d;\r\n      font-size: 15px;\r\n      font-family: 'Avenir Medium';\r\n    }\r\n    .sq1-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq1-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq2-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq2-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq3-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq3-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq4-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq4-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    \r\n}\r\n\r\n",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Sales Order",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<style>\n</style>\n\n\n<div id=\"header-html\" class = \"margin-top-15\"   style = \" margin-top:-20px  !important; width:92.2%; margin-left:15px !important\">\n    <div class = \"row\" style = \"\">\n\n        <div class = \"col-xs-10\" style = \"width:100%;   float:left; border:1px solid black \">\n             {% set header = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1}, \"content\") %}\n\n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website',]) %}\n            \n            \n        \n        {% set comapny_address_line1 = '' %}        \n        {% set comapny_city = '' %}        \n        {% set comapny_counrty = '' %}        \n        {% set comapny_state = '' %}        \n        {% set phone = '' %}        \n\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\n\n        {% if company_address_name  %}\n            {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\n                \n\n        {% set comapny_address_line1 = address.address_line1 %}        \n        {% set comapny_city =  address.city  %}        \n        {% set comapny_counrty =  address.country  %}        \n        {% set comapny_state =  address.state  %}        \n\n        {% set phone = address.phone %}        \n\n        {% endif  %}\n\n\n            \n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \n            'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \n            'state' : comapny_state,\n            'phone_no' : phone, 'email' : company_details[0].email, 'pin_no': company_details[0].tax_id ,  'company_logo' : company_details[0].company_logo, 'website' : company_details[0].website,  }) %}\n            {{header_updated}}\n            \n\n            <table  class = \"table table-sm\" style = \"width:28%; font-size:10px  \"> \n                <tr>\n                    {% if doc.workflow_state == \"Quotation\" %}\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:11px\"> SALES QUOTATION </b> </span> </center>  </td>\n                    {% else %}\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:11px\"> SALES ORDER </b> </span> </center>  </td>\n                    {% endif %}\n                </tr>\n\n                <tr>\n                    <td style = 'font-size:10px'> Date </td> <td style = 'font-size:10px'> \n                    {{ doc.get_formatted('transaction_date')}}\n                </tr>\n\n                <tr> \n                    <td style = \"font-size:10px\"> SO# </td> <td style = \"font-size:10px\">  {{ doc.name }}</td>\n                </tr>\n                <tr> \n                    <td style = \"font-size:10px\"> Division </td> <td style = \"font-size:10px\">  {{ doc.cost_center }} </td>\n                </tr>\n                <tr> \n                    <td style = \"font-size:10px\"> Department </td> <td style = \"font-size:10px\">  {{ doc.department }} </td>\n                </tr>\n                <tr> \n                    <td style = \"font-size:10px\"> Warehouse </td> <td style = \"font-size:10px\">  {{ doc.set_warehouse }} </td>\n                </tr>\n\n            </table>\n\n\n        </div>\n</div>\n\n\n</div>\n\n<table class = \"margin-top-15\"  style = \"width:100%; font-size:10px !important; border-bottom:1px solid black !important;\"> \n    <tr> \n        <td style = \"width:35%\">  \n            <div>  <b style=\"font-size:10px\"> Bill To, </b></div>\n            <div> <b style = \"font-size:10px\" > {{ doc.customer }} </b> </div>\n            <div> <b style = \"font-size:10px\" > {{ doc.customer_name }} </b> </div>\n            <div style = \"font-size:10px\" > {{ doc.address_display }} </div>\n        </td>\n        <td style=\"20%\">\n            <img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\" class=\"center\" height=80px>\n        </td>\n        <td style = \"width:45%\">  \n            <table class = \" text-size-10\" style = \"width:100%; margin-top:-1px !important;\" cellspacing = '0' cellpadding = '0'> \n                <tr>\n                    {% set po_order = frappe.db.get_value(\"Purchase Order\", doc.name, \"name\") %}\n                    {% set po_date = frappe.db.get_value(\"Purchase Order\", doc.name, \"transaction_date\") %}\n                    <td class = \"text-size-10\"  style = 'font-size:10px'> PO Date </td> <td class = \"text-size-10\"  style = 'font-size:11px'>  {{ po_date }} </td>\n                </tr>\n                <tr>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'> Customer PO#. </td> <td class = \"text-size-10\"  style = 'font-size:11px'> {{doc.po_no}} </td>\n                </tr>\n                <tr>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'> Sales Person </td>\n                    {% set salesman = [] %}\n                    {% for s in doc.sales_team %}\n                        {% set salesman = salesman.append(s.get(\"sales_person\")) %}\n                        \n                    {% endfor %}\n                    {% set sales_team = salesman|join(', ') %}\n                    \n                    <td class = \"text-size-10\"  style = 'font-size:10px'>{{sales_team}}</td>\n                </tr>\n                <tr>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'> Currency </td>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'>{{ doc.currency }}</td>\n                </tr>\n\n\n                <tr>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'> Customer Pin </td>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'>{{ doc.tax_id }}</td>\n                </tr>\n                <tr>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'> Weight </td>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'>{{ doc.total_net_weight or \"\" }}</td>\n                </tr>\n                <tr>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'> Delivery Date </td>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'>{{ doc.get_formatted('delivery_date') or \"\" }}</td>\n                </tr>\n            </table>\n        </td>\n    </tr>\n</table>\n<div style=\"margin-top:2px; height:40px; border:1px solid black;\">\n   Additional Notes:\n    <p>\n        {% if doc.posa_notes %}\n        {{doc.posa_notes}} \n        {% endif %}\n    </p>\n</div>\n\n\n    \n<!---new table start  from here for item componet v2-->    \n    \n    <div class = \"\" style = \"width:100%\">\n{% set total_ex_vat = {\"total_ex_vat\": 0.0} %}\n{% set tot_qty = {\"tot_qty\": 0.0} %}\n{% set tot_pcs = {\"tot_pcs\": 0.0} %}\n{% set total_in_vat = {\"total_in_vat\": 0.0} %}\n{% set total_amount = {\"total_amount\": 0} %}\n{% set total_vat = {\"total_vat\": 0} %}\n{% set total_inclusive = {\"total_inclusive\": 0} %}\n\n<table class = \"custom_print table table-sm table-bordered \" style = \"width:100%\" border = \"1\" id=\"main_tab\"> \n\n\n    <thead> \n        <tr style = \"background-color:#FBFCFC;color:black \" > \n            <th style=\"width:3%;\"> <b>No</b> </th>\n            <th style=\"width:5%;\"> <b>Item Code</b> </th>\n            <th style=\"width:15%;\"> <b>Item Name</b> </th>\n            <th  class=\"text-center\" style=\"width:6%;\"><b> Width </b></th>\n            <th  class=\"text-center\" style=\"width:6%;\"><b> Height </b></th>\n            <th  class=\"text-center\" style=\"width:5%;\"><b> Pcs </b></th>\n            <th  class=\"text-center\" style=\"width:5%;\"><b> Qty/SQM </b></th>\n            <th  class=\"text-center\" style=\"width:10%;\"><b> Rate </b></th>\n            <th  class=\"text-center\" style=\"width:8%;\"><b> Exc.VAT </b></th>\n            <th  class=\"text-center\" style=\"width:8%;\"><b> Chargeable Size</b></th>\n            <th style=\"width:16%;\"> <b>Shape</b> </th>\n            <th  class=\"text-center\" style=\"width:5%;\"><b> Wastage</b></th>\n            <th  class=\"text-center\" style=\"width:5%;\"><b> Inc Wastage</b></th>\n            <th style=\"width:16%;\"> <b>Additional Notes</b> </th>\n            \n        </tr>\n    </thead>\n    <thead> \n         <tr> \n                            <th class=\"li_high\"><b>Item Group</b> </th>\n                            <th colspan=\"5\" class=\"li_high\"><b>Item Code </b> </th>\n                            <th colspan=\"5\" class=\"li_high\"> <b>Item Name</b> </th>\n                            <th class=\"li_high\"><b> Qty</b> </th>\n                            <th colspan='2' class=\"li_high\"><b> Price Type</b> </th>\n                        </tr>\n    </thead>\n    \n    \n    {% set total_qty_sqm = {\"total_qty_sqm\": 0} %}\n    {% set total_amount_sqm = {\"amount\": 0} %}\n    {% set total_qty_sqm_pcs = {\"qty\": 0} %}\n    {% set total_amount_sqm_pcs = {\"amount\": 0} %}\n    {% set total_pcs = {\"total_pcs\": 0} %}\n    {% set total_pcs_amount = {\"amount\": 0} %}\n    {% set total_fittings_qty = {\"qty\" : 0} %}\n    {% set total_fittings_amount = {\"amount\": 0} %}\n{% for i in doc.items %}\n        <tr>\n            <td style=\"\"> <b> {{i.idx}} </b>  </td>\n            <td style=\"\"> <b>{{i.item_code}}  </b> </td>\n            <td style=\"\"><b> {{i.item_name}}   </b></td>\n            <td style=\"\"><b> {{i.width }}  </b></td>\n            <td style=\"\"><b> {{i.height }} </b> </td>\n            {% if i.uom=='Square Meter' %}\n            <td style=\"\"><b>{{ i.pcs }}</b> </td>\n            {% else %}\n            <td style=\"\"><b>{{ i.qty }}</b> </td>\n            {% endif %}\n            {% if i.uom == \"Square Meter\" %}\n             <td style=\"\"><b>{{ i.qty }}</b> </td>\n             {% else %}\n             <td>0</td>\n             {% endif %}\n            {% if tot_qty.update({\"tot_qty\": tot_qty[\"tot_qty\"] + i.qty}) %} {% endif %}\n            <td style=\"\"><b> {{'{0:,.2f}'.format(i.net_rate) }} </b> </td>\n            <!--{% if i.uom == 'PCS' %}-->\n            <!--<td style=\"\"><b> {{'{0:,.2f}'.format(i.rate) }} </b> </td>-->\n            <!--{% elif i.uom == 'Square Meter' %}-->\n            <!--<td style=\"\"><b> {{'{0:,.2f}'.format(i.net_amount/(i.chargeable_size or 1.0)) }} </b> </td>-->\n            <!--{% else %}-->\n            <!--<td>{{'{0:,.2f}'.format(i.rate) }}</td>-->\n            <td style=\"\"><b> {{'{0:,.2f}'.format(i.net_amount) }} </b> </td>\n            <!--{% endif %}-->\n             {% set in_vat = '' %}\n\n        {% set total_tax_percentage = i.total_tax_percentage |replace(\"%\", \"\")  %}   \n        {% set ex_vat  =  ((i.net_amount|float / 100) * total_tax_percentage|int)  %}\n        \n        \n        {% set in_vat  =  i.net_amount  / 100 * total_tax_percentage | int  %}\n        <td style=\"\"><b>\n\n            {% if tax_type == 'Exclusive' %}\n            \n\n\n  {{ '{0:,.2f}'.format(i.net_amount | float ) }} \n                {% if total_ex_vat.update({\"total_ex_vat\": total_ex_vat[\"total_ex_vat\"] + i.net_amount}) %} {% endif %}\n            {% else  %}\n    \n  {{ '{0:,.2f}'.format(i.net_amount | float ) }} \n\n                {% if total_ex_vat.update({\"total_ex_vat\": total_ex_vat[\"total_ex_vat\"] + i.net_amount}) %} {% endif %}\n            {% endif  %}\n            </b></td>\n             <td style=\"\"><b> {% if i.uom != 'PCS' %} {{i.chargeable_size }} {% else %} 0 {% endif %}</b> </td> \n            \n            <td style=\"\"><b> {{i.shape }} </b> </td>   \n            {% set westage = i.wastage_rate * i.qty%}\n            \n               <td style=\"\"> <b>{{'{0:,.2f}'.format(westage)}}</b> </td>\n            \n            {% set inc_westage = i.wastage_per /(i.wastage_per+100) %}\n            \n            <td style=\"\"> <b>{{'{0:,.2f}'.format(inc_westage)}} </b></td>\n            <td style=\"\"><b> {{i.posa_notes}}   </b></td>\n                \n            \n        </tr>\n    {% if i.uom == 'Square Meter' %}\n        {% set total_qty_sqm = total_qty_sqm.update({\"total_qty_sqm\": total_qty_sqm.total_qty_sqm + i.qty}) %}\n        {% if total_amount_sqm.update({\"amount\":total_amount_sqm.amount + i.net_amount }) %} {% endif %}\n        {% if total_qty_sqm_pcs.update({\"qty\": total_qty_sqm_pcs.qty + i.pcs }) %} {% endif %}\n        {% if total_amount_sqm_pcs.update({\"amount\": total_amount_sqm_pcs.amount + i.net_amount }) %} {% endif %}\n        {% if total_pcs.update({\"total_pcs\": total_pcs.total_pcs + frappe.utils.ceil(i.pcs)}) %}{% endif %}\n        {% if total_pcs_amount.update({\"amount\": total_pcs_amount.amount + i.net_amount }) %} {% endif %}\n    {% endif %}\n    \n    \n    {% if i.uom in ('PCS', \"Meter\") %}\n        {% if total_pcs.update({\"total_pcs\": total_pcs.total_pcs + frappe.utils.ceil(i.qty)}) %} {% endif %}\n        {% if total_pcs_amount.update({\"amount\": total_pcs_amount.amount + i.net_amount }) %} {% endif %}\n        {% if total_fittings_qty.update({\"qty\": total_fittings_qty.qty + i.qty}) %} {% endif %}    \n        {% if total_fittings_amount.update({\"amount\": total_fittings_amount.amount + i.net_amount }) %} {% endif %}    \n\n    {% endif %}\n    \n            {% set item_components = doc.components %}\n            {% set item_code_quantities = {} %}\n            {% set item_groups = {} %}\n            {% set item_names = {} %}\n            {% set price_types = {} %}\n            \n           \n            {% for item in item_components %}\n             {% if item.item_detail == i.name %}\n                {% set item_code = item.item_code %}\n                {% set qty = item.qty %}\n                {% set item_group = item.item_group %}\n                {% set price_type = item.price_type %}\n                \n            \n                {% if item_code in item_code_quantities %}\n                    {% set item_code_quantities = item_code_quantities.update({item_code: item_code_quantities[item_code] + qty}) %}\n                {% else %}\n                    {% set item_code_quantities = item_code_quantities.update({item_code: qty}) %}\n                {% endif %}\n            \n                {% set item_groups = item_groups.update({item_code: item_group}) %}\n                {% set item_names = item_names.update({item_code: item.item_name}) %}\n                {% set price_types = price_types.update({item_code: price_type}) %}\n               \n             {% endif %}\n            {% endfor %}\n           \n           \n            {% for item_code, total_qty in item_code_quantities.items() %}\n           \n            \n                <tr>\n                    <td class=\"li_high\" style=\"border:none !important;\">{{ item_groups[item_code] }}</td>\n                    <td class=\"li_high\" colspan=\"5\" style=\"border:none !important;\">{{ item_code }}</td>\n                    <td class=\"li_high\" colspan=\"5\" style=\"border:none !important;\">{{ item_names[item_code] }}</td>\n                    <td class=\"li_high\" style=\"border:none !important;\">{{ total_qty }}</td>\n                    <td colspan='2' class=\"li_high\" style=\"border:none !important;\">{{ price_types[item_code] }}</td>\n                </tr>\n            \n            {% endfor %}\n\n    \n\n{% endfor %}\n                </table>\n\n    \n\n</div>\n\n        \n        \n        \n        \n     <b>Additional Info:</b>    \n<div class =\"additional-info\" style=\"display: flex; text-decoration:none !important;\" >\n    <div style=\"width: 48%; margin; border:1px solid black;\">\n        <table style = \"\">\n            <tr class=\"text-right\">\n                <td colspan=\"\" class=\"text-size-10 text-left\" style=\"font-size:11px; line-height: 0.6;\">\n                    Total Glasses/PCS(A):\n                </td>\n                <td colspan=\"\" class=\"text-size-10 text-left\" style=\"font-size:11px; line-height: 0.6;\">\n                    {{ total_qty_sqm_pcs.qty }}\n                </td>\n                <td colspan=\"\" class=\"text-size-10 text-left\" style=\"font-size:11px; line-height: 0.6;\">\n                    <!--{{ doc.currency }}  {{ '{0:,.3f}'.format(total_amount_sqm_pcs.amount) }}-->\n                </td>\n            </tr>\n            <tr class=\"text-left\">\n                <td colspan=\"\" class=\"text-size-10 text-left\" style=\"font-size:11px;  line-height: 0.6;\">\n                    Total Glasses/SQM:\n                </td>\n                <td colspan=\"\" class=\"text-size-10 text-left\" style=\"font-size:11px; line-height: 0.6;\">\n                    {{ '{0:,.3f}'.format(total_qty_sqm.total_qty_sqm) }}\n                </td>\n                <td colspan=\"3\" class=\"text-size-10 text-left\" style=\"font-size:11px; line-height: 0.6;\">\n                    {{ doc.currency }}  {{ '{0:,.3f}'.format(total_amount_sqm.amount) }}\n                </td>\n            </tr>\n            \n            <tr class=\"text-right\">\n                <td colspan=\"\" class=\"text-size-10 text-left\" style=\"font-size:11px;  line-height: 0.6;\">\n                    Total Fittings(B):\n                </td>\n                <td colspan=\"\" class=\"text-size-10 text-left\" style=\"font-size:11px; line-height: 0.6;\">\n                    {{ '{0:,.2f}'.format(total_fittings_qty.qty)  }} \n                </td>\n                <td colspan=\"\" class=\"text-size-10 text-left\" style=\"font-size:10px; line-height: 0.6;\">\n                    {{ doc.currency }}  {{ '{0:,.2f}'.format(total_fittings_amount.amount) }} \n                </td>\n            </tr>\n            <tr class=\"text-right\">\n                <td colspan=\"\" class=\"text-size-10 text-left\" style=\"font-size:11px;  line-height: 0.6;\">\n                    Total Pieces(A+B):\n                </td>\n                <td colspan=\"\" class=\"text-size-10 text-left\" style=\"font-size:11px; line-height: 0.6;\">\n                    {{ total_pcs.total_pcs }} \n                </td>\n                <td colspan=\"\" class=\"text-size-10 text-left\" style=\"font-size:11px; line-height: 0.6;\">\n                    {{ doc.currency }}  {{ '{0:,.2f}'.format(total_pcs_amount.amount) }} \n                </td>\n            </tr>\n        </table>\n    </div>\n   <div style=\"width:48%; margin-left: auto; text-align: right; border:1px solid black;\">\n        <table style=\"margin-left:auto; align-items:right; position:relative;\">\n            <tr class=\"text-right\" style=\"border-top:;\">\n                \n                <td colspan=\"\" class=\"text-size-10 text-right\" style=\"font-size:11px; line-height: 0.6;\">\n                    Excl. VAT:\n                </td>\n                <td></td>\n                <td colspan=\"\" class=\"text-size-10 text-right\" style=\"font-size:11px; line-height: 0.6;\">\n                    {{doc.currency}} {{ '{0:,.2f}'.format(total_ex_vat.total_ex_vat) }}\n                </td>\n            </tr>\n            <tr class=\"text-right\">\n                \n                <td colspan=\"\" class=\"text-size-10 text-right\" style=\"font-size:11px; line-height: 0.6;\">\n                    Total VAT:\n                </td>\n               <td style=\"\"></td>\n                <td colspan=\"\" class=\"text-size-10 text-right\" style=\"font-size:11px; line-height: 0.6;\">\n                    {{doc.currency}} {{ '{0:,.2f}'.format(doc.total_taxes_and_charges) }}\n                </td>\n            </tr>\n            <tr class=\"text-right\">\n                \n                <td colspan=\"\" class=\"text-size-10 text-right\" style=\"font-size:11px; line-height: 0.6;\">\n                    <b>Total Amount:</b>\n                </td>\n                <td></td>\n                <td colspan=\"\" class=\"text-size-10 text-right\" style=\"font-size:11px; line-height: 0.6;\">\n                 <b>   {{doc.currency}} {{ '{0:,.2f}'.format(total_ex_vat.total_ex_vat + doc.total_taxes_and_charges) }}</b>\n                </td>\n            </tr>\n            <tr colspan='5'></tr>\n        </table>\n    </div>\n</div>\n\n\n<table style=\"margin-top:2px; border-top:1px solid black;\">\n        <tr> \n        <td colspan = \"\"> \n        <p  class = \"text-size-10\" > Created By: {{ doc.owner }} </p> \n        \n        <p  class = \"text-size-10\" > Created ON: {{ doc.get_formatted('creation')}} </p> \n        <p  class = \"text-size-10\" > \n    Authorized By:  {% if doc.docstatus==1 %} {{doc.owner}} {% endif %} \n    </p>\n\n        \n        </td>\n        <td colspan = \"4\" class = \"text-right\" > \n        \n        <table class = \"text-right\" style = '; width:100%; border:none' > \n        <tr>\n           \n        </tr>\n            \n            \n            \n        </table>\n\n\n        </td>\n        </tr>\n        \n        \n</table>\n<div style=\"margin-top:1px; margin-bottom:1px;  border:1px solid black;\">\n     \n</div>\n{% if doc.docstatus==0 %}\n<div class ='watermark'>\n    DRAFT\n</div>\n{% endif %}\n\n\n\n\n\n\n    <!--<div  id = \"\" style = 'page-break-after :always;  ' >  </div>-->\n\n    <!--<div class = 'text-center' style = \"font-size:12px; font-weight:600\" >General Terms and Conditions </div>-->\n\n<div style=\"width:100%;\">\n     <b style=\"text-size: 13px; padding-left: 3px; display:flex; margin-left:50px;\">Bank Details</b>\n<div style=\"margin-top:2px; height:auto; border:1px solid black;display:flex;\">\n    <div style=\"width:50%\">\n        <p style=\"padding: 3px;\">\n            Habib Bank AG Zurich,<br>\nNairobi, Kenya<br>\nBank code 17-000<br>\nUSD A/C 09-01-01-20311-333-208022<br>\nSWIFT : HBZUKENA<br>\nCorrespondent Bank: Citi Bank, New York<br>\nNostro Account No. 36406125<br>\nSwift : CITIUS33<br>\n           \n        </p>\n        </div>\n        <div style=\"width:50%\">\n            <p style=\"padding: 3px;\">\n\n           PRIME Bank Ltd,<br>\nCapital Centre, NAIROBI PO BOX 3599  00506 NAIROBI<br>\nBank Branch Code: 10 - 011<br>\nSWIFT Code: PRIEKENX<br>\nfor credit of: IMPALA GLASS INDUSTRIES LTD<br><br>\n\nUSD Account # 3001221337<br>\nUSD Correspondent Bank:<br>\nCiti Bank New York Nostro<br>\nAccount No. 36406125<br>\nSwift Code CITIUS33<br>\n        </p>\n        </div>\n    </div>\n</div>\n\n\n\n<div style=\"margin-top:1px; margin-bottom:1px;  border:1px solid black;\"></div>\n<div class = 'text-center' style = \"font-size:12px;\" >Goods sold as per our terms & condition, to view the same visit <a href=\"https://impalaglass.com/tnc/\">impalaglass.com/tnc</a></div>\n\n\n\n{% set footer = frappe.db.get_value(\"Letter Head\", doc.letter_head, \"footer\") %}\n\n{% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(), \"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user}) %}\n{{ footer_updated }}\n\n\n    <div id=\"footer-html\" class=\"visible-pdf text-center  \" style = \"font-size:10px\" >\n        <p id=\"demo\"></p>\n        <div class=\"letter-head-footer text-size-10 text-center \"  style=\"font-size: 10px;\"  >\n            {{ footer }}\n        </div>\n        <p class=\"text-center small page-number visible-pdf\" style = \"font-size:10px\" >\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\n        </p>\n    </div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:11:01.311376",
  "module": "AQIQ Print Formats",
  "name": "Export Archi Quotation",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": ".li_high{\r\n    line-height: 1 !important;\r\n}\r\n\r\n@media screen,pdf{\r\n\t\t.print-format {\r\n\t\t}\r\n\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n \r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n \r\n#main_tab *{\r\nline-height:1.4;\r\nmargin:0px !important;\r\npadding:2px !important;\r\nfont-size:9px;\r\n}\r\n margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\nmargin-top-15{\r\n    margin-top:15px;\r\n}\r\n \r\n   .text-size-9{\r\n     font-size:9px;\r\n }\r\n .additional-info{\r\n     text-decoration:none !important;\r\n }\r\n \r\n    }\r\n    \r\n@media print{\r\n\t\t.print-format {\r\n\t\t}\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n \r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n  .text-size-9{\r\n     font-size:9px;\r\n }\r\n \r\n table.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n \r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n@media screen {\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n\r\n  .text-size-9{\r\n     font-size:9px;\r\n }\r\n\r\n.amount-val{\r\n   color:darkgrey;\r\n   bottom:20px;\r\n   position:relative;\r\n}\r\n\r\n/*.watermark {*/\r\n/*    position: fixed;*/\r\n/*    top: 420px;*/\r\n/*    left: 220px;*/\r\n/*    right: 220px;*/\r\n/*    background: url(\"http://192.241.152.17/files/draft-background.png\");*/\r\n/*    background-repeat: no-repeat;*/\r\n    /*background-size: center;*/\r\n/*    height:400px;*/\r\n/*    width:50%;*/\r\n/*    background-position: center;*/\r\n/*    background-size: 100%;*/\r\n/*    color:black !important;*/\r\n/*    opacity: 0.3;*/\r\n/*    position: running(wtrmrk);*/\r\n/*    background-repeat: repeat-x;*/\r\n/*    }*/\r\n\r\n.watermark {\r\n    position: fixed;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%) rotate(-45deg);\r\n    opacity: 0.5;\r\n    font-size: 100px;\r\n    color: rgba(255, 0, 0, 0.3);\r\n}\r\n\r\n\r\n.days_tab {\r\n    position: relative;\r\n}\r\n\r\n.barchart-Wrapper {\r\n      display: table;\r\n      position: relative;\r\n      margin: 20px 0;\r\n      height: 120px;\r\n    }\r\n    .barChart-Container {\r\n      display: table-cell;\r\n      width: 100%;\r\n      height: 100%;\r\n      padding-left: 20px;\r\n      padding-right: 20px;\r\n    }\r\n    .barchart {\r\n     display: table;\r\n     table-layout: fixed;\r\n     height: 100%;\r\n     width: 100%;\r\n     border-bottom: 3px solid darkgrey;\r\n    }\r\n    .barchart-Col {\r\n      position: relative;\r\n      vertical-align: bottom;\r\n      display: table-cell;\r\n      height: 100%;\r\n    }\r\n    .barchart-Col + .barchart-Col {\r\n      border-left: 4px solid transparent;\r\n    }\r\n    .barchart-Bar {\r\n      position: static;\r\n      height: 0;\r\n      transition: height 0.5s 2s;\r\n      width: 10px;\r\n      margin: auto;\r\n    }\r\n    .barchart-Bar:after {\r\n      content: attr(attr-height);\r\n      color: white;\r\n      position: absolute;\r\n      text-align: center;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter {\r\n      position: absolute;\r\n      text-align: center;\r\n      left:40px;\r\n      height: 10%;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter h3 {\r\n      color: darkred;\r\n    }\r\n    .barchart-TimeCol {\r\n      position: absolute;\r\n      top: 0;\r\n      height: 100%;\r\n      width: 100%;\r\n    }\r\n    .barchart-Time {\r\n      height: 25%;\r\n      vertical-align: middle;\r\n      position: relative;\r\n    }\r\n    .barchart-Time:after {\r\n      border-bottom: 3px solid white;\r\n      content: \"\";\r\n      position: absolute;\r\n      width: 100%;\r\n      left: 0;\r\n      top: 0em;\r\n    }\r\n    .barchart-TimeText {\r\n      position: absolute;\r\n      top: -8px;\r\n      z-index: 1;\r\n      background: white;\r\n      padding-right: 5px;\r\n      color: #4d4d4d;\r\n      font-size: 15px;\r\n      font-family: 'Avenir Medium';\r\n    }\r\n    .sq1-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq1-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq2-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq2-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq3-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq3-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq4-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq4-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    \r\n}\r\n\r\n",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Sales Order",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<style>\n</style>\n\n\n<div id=\"header-html\" class = \"margin-top-15\"   style = \" margin-top:-20px  !important; width:92.2%; margin-left:15px !important\">\n    <div class = \"row\" style = \"\">\n\n        <div class = \"col-xs-10\" style = \"width:100%;   float:left; border:1px solid black \">\n             {% set header = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1}, \"content\") %}\n\n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website',]) %}\n            \n            \n        \n        {% set comapny_address_line1 = '' %}        \n        {% set comapny_city = '' %}        \n        {% set comapny_counrty = '' %}        \n        {% set comapny_state = '' %}        \n        {% set phone = '' %}        \n\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\n\n        {% if company_address_name  %}\n            {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\n                \n\n        {% set comapny_address_line1 = address.address_line1 %}        \n        {% set comapny_city =  address.city  %}        \n        {% set comapny_counrty =  address.country  %}        \n        {% set comapny_state =  address.state  %}        \n\n        {% set phone = address.phone %}        \n\n        {% endif  %}\n\n\n            \n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \n            'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \n            'state' : comapny_state,\n            'phone_no' : phone, 'email' : company_details[0].email, 'pin_no': company_details[0].tax_id ,  'company_logo' : company_details[0].company_logo, 'website' : company_details[0].website,  }) %}\n            {{header_updated}}\n            \n\n            <table  class = \"table table-sm\" style = \"width:28%; font-size:10px  \"> \n                <tr>\n                    {% if doc.workflow_state == \"Quotation\" %}\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:11px\"> SALES QUOTATION </b> </span> </center>  </td>\n                    {% else %}\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:11px\"> SALES ORDER </b> </span> </center>  </td>\n                    {% endif %}\n                </tr>\n\n                <tr>\n                    <td style = 'font-size:10px'> Date </td> <td style = 'font-size:10px'> \n                    {{ doc.get_formatted('transaction_date')}}\n                </tr>\n\n                <tr> \n                    <td style = \"font-size:10px\"> SO# </td> <td style = \"font-size:10px\">  {{ doc.name }}</td>\n                </tr>\n                <tr> \n                    <td style = \"font-size:10px\"> Division </td> <td style = \"font-size:10px\">  {{ doc.cost_center }} </td>\n                </tr>\n                <tr> \n                    <td style = \"font-size:10px\"> Department </td> <td style = \"font-size:10px\">  {{ doc.department }} </td>\n                </tr>\n                <tr> \n                    <td style = \"font-size:10px\"> Warehouse </td> <td style = \"font-size:10px\">  {{ doc.set_warehouse }} </td>\n                </tr>\n\n            </table>\n\n\n        </div>\n</div>\n\n\n</div>\n\n<table class = \"margin-top-15\"  style = \"width:100%; font-size:10px !important; border-bottom:1px solid black !important;\"> \n    <tr> \n        <td style = \"width:35%\">  \n            <div>  <b style=\"font-size:10px\"> Bill To, </b></div>\n            <div> <b style = \"font-size:10px\" > {{ doc.customer }} </b> </div>\n            <div> <b style = \"font-size:10px\" > {{ doc.customer_name }} </b> </div>\n            <div style = \"font-size:10px\" > {{ doc.address_display }} </div>\n        </td>\n        <td style=\"20%\">\n            <img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\" class=\"center\" height=80px>\n        </td>\n        <td style = \"width:45%\">  \n            <table class = \" text-size-10\" style = \"width:100%; margin-top:-1px !important;\" cellspacing = '0' cellpadding = '0'> \n                <tr>\n                    {% set po_order = frappe.db.get_value(\"Purchase Order\", doc.name, \"name\") %}\n                    {% set po_date = frappe.db.get_value(\"Purchase Order\", doc.name, \"transaction_date\") %}\n                    <td class = \"text-size-10\"  style = 'font-size:10px'> PO Date </td> <td class = \"text-size-10\"  style = 'font-size:11px'>  {{ po_date }} </td>\n                </tr>\n                <tr>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'> Customer PO#. </td> <td class = \"text-size-10\"  style = 'font-size:11px'> {{doc.po_no}} </td>\n                </tr>\n                <tr>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'> Sales Person </td>\n                    {% set salesman = [] %}\n                    {% for s in doc.sales_team %}\n                        {% set salesman = salesman.append(s.get(\"sales_person\")) %}\n                        \n                    {% endfor %}\n                    {% set sales_team = salesman|join(', ') %}\n                    \n                    <td class = \"text-size-10\"  style = 'font-size:10px'>{{sales_team}}</td>\n                </tr>\n                <tr>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'> Currency </td>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'>{{ doc.currency }}</td>\n                </tr>\n\n\n                <tr>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'> Customer Pin </td>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'>{{ doc.tax_id }}</td>\n                </tr>\n\n            </table>\n        </td>\n    </tr>\n</table>\n<div style=\"margin-top:2px; height:40px; border:1px solid black;\">\n   Additional Notes:\n    <p>\n        {% if doc.posa_notes %}\n        {{doc.posa_notes}} \n        {% endif %}\n    </p>\n</div>\n\n\n    \n<!---new table start  from here for item componet v2-->    \n    \n    <div class = \"\" style = \"width:100%\">\n{% set total_ex_vat = {\"total_ex_vat\": 0.0} %}\n{% set tot_qty = {\"tot_qty\": 0.0} %}\n{% set tot_pcs = {\"tot_pcs\": 0.0} %}\n{% set total_in_vat = {\"total_in_vat\": 0.0} %}\n{% set total_amount = {\"total_amount\": 0} %}\n{% set total_vat = {\"total_vat\": 0} %}\n{% set total_inclusive = {\"total_inclusive\": 0} %}\n\n<table class = \"custom_print table table-sm table-bordered \" style = \"width:100%\" border = \"1\" id=\"main_tab\"> \n\n\n    <thead> \n        <tr style = \"background-color:#FBFCFC;color:black \" > \n            <th style=\"width:3%;\"> <b>No</b> </th>\n            <th style=\"width:5%;\"> <b>Item Code</b> </th>\n            <th style=\"width:15%;\"> <b>Item Name</b> </th>\n            <th  class=\"text-center\" style=\"width:6%;\"><b> Width </b></th>\n            <th  class=\"text-center\" style=\"width:6%;\"><b> Height </b></th>\n            <th  class=\"text-center\" style=\"width:5%;\"><b> Pcs </b></th>\n            <th  class=\"text-center\" style=\"width:5%;\"><b> Qty/SQM </b></th>\n            <th  class=\"text-center\" style=\"width:10%;\"><b> Rate </b></th>\n            <th  class=\"text-center\" style=\"width:8%;\"><b> Exc.VAT </b></th>\n            <th  class=\"text-center\" style=\"width:8%;\"><b> Chargeable Size</b></th>\n            <th style=\"width:16%;\"> <b>Shape</b> </th>\n            <th  class=\"text-center\" style=\"width:5%;\"><b> Wastage</b></th>\n            <th  class=\"text-center\" style=\"width:5%;\"><b> Inc Wastage</b></th>\n            <th style=\"width:16%;\"> <b>Additional Notes</b> </th>\n            \n        </tr>\n    </thead>\n    <thead> \n         <tr> \n                            <th class=\"li_high\"><b>Item Group</b> </th>\n                            <th colspan=\"5\" class=\"li_high\"><b>Item Code </b> </th>\n                            <th colspan=\"5\" class=\"li_high\"> <b>Item Name</b> </th>\n                            <th class=\"li_high\"><b> Qty</b> </th>\n                            <th colspan='2' class=\"li_high\"><b> Price Type</b> </th>\n                        </tr>\n    </thead>\n    \n    \n    {% set total_qty_sqm = {\"total_qty_sqm\": 0} %}\n    {% set total_amount_sqm = {\"amount\": 0} %}\n    {% set total_qty_sqm_pcs = {\"qty\": 0} %}\n    {% set total_amount_sqm_pcs = {\"amount\": 0} %}\n    {% set total_pcs = {\"total_pcs\": 0} %}\n    {% set total_pcs_amount = {\"amount\": 0} %}\n    {% set total_fittings_qty = {\"qty\" : 0} %}\n    {% set total_fittings_amount = {\"amount\": 0} %}\n{% for i in doc.items %}\n        <tr>\n            <td style=\"\"> <b> {{i.idx}} </b>  </td>\n            <td style=\"\"> <b>{{i.item_code}}  </b> </td>\n            <td style=\"\"><b> {{i.item_name}}   </b></td>\n            <td style=\"\"><b> {{i.width }}  </b></td>\n            <td style=\"\"><b> {{i.height }} </b> </td>\n            {% if i.uom=='Square Meter' %}\n            <td style=\"\"><b>{{ i.pcs }}</b> </td>\n            {% else %}\n            <td style=\"\"><b>{{ i.qty }}</b> </td>\n            {% endif %}\n            {% if i.uom == \"Square Meter\" %}\n             <td style=\"\"><b>{{ i.qty }}</b> </td>\n             {% else %}\n             <td>0</td>\n             {% endif %}\n            {% if tot_qty.update({\"tot_qty\": tot_qty[\"tot_qty\"] + i.qty}) %} {% endif %}\n            <td style=\"\"><b> {{'{0:,.2f}'.format(i.net_rate) }} </b> </td>\n            <!--{% if i.uom == 'PCS' %}-->\n            <!--<td style=\"\"><b> {{'{0:,.2f}'.format(i.rate) }} </b> </td>-->\n            <!--{% elif i.uom == 'Square Meter' %}-->\n            <!--<td style=\"\"><b> {{'{0:,.2f}'.format(i.net_amount/(i.chargeable_size or 1.0)) }} </b> </td>-->\n            <!--{% else %}-->\n            <!--<td>{{'{0:,.2f}'.format(i.rate) }}</td>-->\n            <td style=\"\"><b> {{'{0:,.2f}'.format(i.net_amount) }} </b> </td>\n            <!--{% endif %}-->\n             {% set in_vat = '' %}\n\n        {% set total_tax_percentage = i.total_tax_percentage |replace(\"%\", \"\")  %}   \n        {% set ex_vat  =  ((i.net_amount|float / 100) * total_tax_percentage|int)  %}\n        \n        \n        {% set in_vat  =  i.net_amount  / 100 * total_tax_percentage | int  %}\n        <td style=\"\"><b>\n\n            {% if tax_type == 'Exclusive' %}\n            \n\n\n  {{ '{0:,.2f}'.format(i.net_amount | float ) }} \n                {% if total_ex_vat.update({\"total_ex_vat\": total_ex_vat[\"total_ex_vat\"] + i.net_amount}) %} {% endif %}\n            {% else  %}\n    \n  {{ '{0:,.2f}'.format(i.net_amount | float ) }} \n\n                {% if total_ex_vat.update({\"total_ex_vat\": total_ex_vat[\"total_ex_vat\"] + i.net_amount}) %} {% endif %}\n            {% endif  %}\n            </b></td>\n             <td style=\"\"><b> {% if i.uom != 'PCS' %} {{i.chargeable_size }} {% else %} 0 {% endif %}</b> </td> \n            \n            <td style=\"\"><b> {{i.shape }} </b> </td>   \n            {% set westage = i.wastage_rate * i.qty%}\n            \n               <td style=\"\"> <b>{{'{0:,.2f}'.format(westage)}}</b> </td>\n            \n            {% set inc_westage = i.wastage_per /(i.wastage_per+100) %}\n            \n            <td style=\"\"> <b>{{'{0:,.2f}'.format(inc_westage)}} </b></td>\n            <td style=\"\"><b> {{i.posa_notes}}   </b></td>\n                \n            \n        </tr>\n    {% if i.uom == 'Square Meter' %}\n        {% set total_qty_sqm = total_qty_sqm.update({\"total_qty_sqm\": total_qty_sqm.total_qty_sqm + i.qty}) %}\n        {% if total_amount_sqm.update({\"amount\":total_amount_sqm.amount + i.net_amount }) %} {% endif %}\n        {% if total_qty_sqm_pcs.update({\"qty\": total_qty_sqm_pcs.qty + i.pcs }) %} {% endif %}\n        {% if total_amount_sqm_pcs.update({\"amount\": total_amount_sqm_pcs.amount + i.net_amount }) %} {% endif %}\n        {% if total_pcs.update({\"total_pcs\": total_pcs.total_pcs + frappe.utils.ceil(i.pcs)}) %}{% endif %}\n        {% if total_pcs_amount.update({\"amount\": total_pcs_amount.amount + i.net_amount }) %} {% endif %}\n    {% endif %}\n    \n    \n    {% if i.uom in ('PCS', \"Meter\") %}\n        {% if total_pcs.update({\"total_pcs\": total_pcs.total_pcs + frappe.utils.ceil(i.qty)}) %} {% endif %}\n        {% if total_pcs_amount.update({\"amount\": total_pcs_amount.amount + i.net_amount }) %} {% endif %}\n        {% if total_fittings_qty.update({\"qty\": total_fittings_qty.qty + i.qty}) %} {% endif %}    \n        {% if total_fittings_amount.update({\"amount\": total_fittings_amount.amount + i.net_amount }) %} {% endif %}    \n\n    {% endif %}\n    \n            {% set item_components = doc.components %}\n            {% set item_code_quantities = {} %}\n            {% set item_groups = {} %}\n            {% set item_names = {} %}\n            {% set price_types = {} %}\n            \n           \n            {% for item in item_components %}\n             {% if item.item_detail == i.name %}\n                {% set item_code = item.item_code %}\n                {% set qty = item.qty %}\n                {% set item_group = item.item_group %}\n                {% set price_type = item.price_type %}\n                \n            \n                {% if item_code in item_code_quantities %}\n                    {% set item_code_quantities = item_code_quantities.update({item_code: item_code_quantities[item_code] + qty}) %}\n                {% else %}\n                    {% set item_code_quantities = item_code_quantities.update({item_code: qty}) %}\n                {% endif %}\n            \n                {% set item_groups = item_groups.update({item_code: item_group}) %}\n                {% set item_names = item_names.update({item_code: item.item_name}) %}\n                {% set price_types = price_types.update({item_code: price_type}) %}\n               \n             {% endif %}\n            {% endfor %}\n           \n           \n            {% for item_code, total_qty in item_code_quantities.items() %}\n           \n            \n                <tr>\n                    <td class=\"li_high\" style=\"border:none !important;\">{{ item_groups[item_code] }}</td>\n                    <td class=\"li_high\" colspan=\"5\" style=\"border:none !important;\">{{ item_code }}</td>\n                    <td class=\"li_high\" colspan=\"5\" style=\"border:none !important;\">{{ item_names[item_code] }}</td>\n                    <td class=\"li_high\" style=\"border:none !important;\">{{ total_qty }}</td>\n                    <td colspan='2' class=\"li_high\" style=\"border:none !important;\">{{ price_types[item_code] }}</td>\n                </tr>\n            \n            {% endfor %}\n\n    \n\n{% endfor %}\n                </table>\n\n    \n\n</div>\n\n        \n        \n        \n        \n     <b>Additional Info:</b>    \n<div class =\"additional-info\" style=\"display: flex; text-decoration:none !important;\" >\n    <div style=\"width: 48%; margin; border:1px solid black;\">\n        <table style = \"\">\n            <tr class=\"text-right\">\n                <td colspan=\"\" class=\"text-size-10 text-left\" style=\"font-size:11px; line-height: 0.6;\">\n                    Total Glasses/PCS(A):\n                </td>\n                <td colspan=\"\" class=\"text-size-10 text-left\" style=\"font-size:11px; line-height: 0.6;\">\n                    {{ total_qty_sqm_pcs.qty }}\n                </td>\n                <td colspan=\"\" class=\"text-size-10 text-left\" style=\"font-size:11px; line-height: 0.6;\">\n                    <!--{{ doc.currency }}  {{ '{0:,.3f}'.format(total_amount_sqm_pcs.amount) }}-->\n                </td>\n            </tr>\n            <tr class=\"text-left\">\n                <td colspan=\"\" class=\"text-size-10 text-left\" style=\"font-size:11px;  line-height: 0.6;\">\n                    Total Glasses/SQM:\n                </td>\n                <td colspan=\"\" class=\"text-size-10 text-left\" style=\"font-size:11px; line-height: 0.6;\">\n                    {{ '{0:,.3f}'.format(total_qty_sqm.total_qty_sqm) }}\n                </td>\n                <td colspan=\"3\" class=\"text-size-10 text-left\" style=\"font-size:11px; line-height: 0.6;\">\n                    {{ doc.currency }}  {{ '{0:,.3f}'.format(total_amount_sqm.amount) }}\n                </td>\n            </tr>\n            \n            <tr class=\"text-right\">\n                <td colspan=\"\" class=\"text-size-10 text-left\" style=\"font-size:11px;  line-height: 0.6;\">\n                    Total Fittings(B):\n                </td>\n                <td colspan=\"\" class=\"text-size-10 text-left\" style=\"font-size:11px; line-height: 0.6;\">\n                    {{ '{0:,.2f}'.format(total_fittings_qty.qty)  }} \n                </td>\n                <td colspan=\"\" class=\"text-size-10 text-left\" style=\"font-size:10px; line-height: 0.6;\">\n                    {{ doc.currency }}  {{ '{0:,.2f}'.format(total_fittings_amount.amount) }} \n                </td>\n            </tr>\n            <tr class=\"text-right\">\n                <td colspan=\"\" class=\"text-size-10 text-left\" style=\"font-size:11px;  line-height: 0.6;\">\n                    Total Pieces(A+B):\n                </td>\n                <td colspan=\"\" class=\"text-size-10 text-left\" style=\"font-size:11px; line-height: 0.6;\">\n                    {{ total_pcs.total_pcs }} \n                </td>\n                <td colspan=\"\" class=\"text-size-10 text-left\" style=\"font-size:11px; line-height: 0.6;\">\n                    {{ doc.currency }}  {{ '{0:,.2f}'.format(total_pcs_amount.amount) }} \n                </td>\n            </tr>\n        </table>\n    </div>\n   <div style=\"width:48%; margin-left: auto; text-align: right; border:1px solid black;\">\n        <table style=\"margin-left:auto; align-items:right; position:relative;\">\n            <tr class=\"text-right\" style=\"border-top:;\">\n                \n                <td colspan=\"\" class=\"text-size-10 text-right\" style=\"font-size:11px; line-height: 0.6;\">\n                    Excl. VAT:\n                </td>\n                <td></td>\n                <td colspan=\"\" class=\"text-size-10 text-right\" style=\"font-size:11px; line-height: 0.6;\">\n                    {{doc.currency}} {{ '{0:,.2f}'.format(total_ex_vat.total_ex_vat) }}\n                </td>\n            </tr>\n            <tr class=\"text-right\">\n                \n                <td colspan=\"\" class=\"text-size-10 text-right\" style=\"font-size:11px; line-height: 0.6;\">\n                    Total VAT:\n                </td>\n               <td style=\"\"></td>\n                <td colspan=\"\" class=\"text-size-10 text-right\" style=\"font-size:11px; line-height: 0.6;\">\n                    {{doc.currency}} {{ '{0:,.2f}'.format(doc.total_taxes_and_charges) }}\n                </td>\n            </tr>\n            <tr class=\"text-right\">\n                \n                <td colspan=\"\" class=\"text-size-10 text-right\" style=\"font-size:11px; line-height: 0.6;\">\n                    <b>Total Amount:</b>\n                </td>\n                <td></td>\n                <td colspan=\"\" class=\"text-size-10 text-right\" style=\"font-size:11px; line-height: 0.6;\">\n                 <b>   {{doc.currency}} {{ '{0:,.2f}'.format(total_ex_vat.total_ex_vat + doc.total_taxes_and_charges) }}</b>\n                </td>\n            </tr>\n            <tr colspan='5'></tr>\n        </table>\n    </div>\n</div>\n\n\n<table style=\"margin-top:2px; border-top:1px solid black;\">\n        <tr> \n        <td colspan = \"\"> \n        <p  class = \"text-size-10\" > Created By: {{ doc.owner }} </p> \n        \n        <p  class = \"text-size-10\" > Created ON: {{ doc.get_formatted('creation')}} </p> \n        <p  class = \"text-size-10\" > \n    Authorized By:  {% if doc.docstatus==1 %} {{doc.owner}} {% endif %} \n    </p>\n\n        \n        </td>\n        <td colspan = \"4\" class = \"text-right\" > \n        \n        <table class = \"text-right\" style = '; width:100%; border:none' > \n        <tr>\n           \n        </tr>\n            \n            \n            \n        </table>\n\n\n        </td>\n        </tr>\n        \n        \n</table>\n<div style=\"margin-top:1px; margin-bottom:1px;  border:1px solid black;\">\n     \n</div>\n{% if doc.docstatus==0 %}\n<div class ='watermark'>\n    DRAFT\n</div>\n{% endif %}\n\n\n\n\n\n\n    <!--<div  id = \"\" style = 'page-break-after :always;  ' >  </div>-->\n\n    <!--<div class = 'text-center' style = \"font-size:12px; font-weight:600\" >General Terms and Conditions </div>-->\n\n<div style=\"width:100%;\">\n     <b style=\"text-size: 13px; padding-left: 3px; display:flex; margin-left:50px;\">Bank Details for RTGS : USD Account Number:09-0101-20311-333-208022</b>\n\n</div>\n\n\n\n<div style=\"margin-top:1px; margin-bottom:1px;  border:1px solid black;\"></div>\n<div class = 'text-center' style = \"font-size:12px;\" >Goods sold as per our terms & condition, to view the same visit <a href=\"https://impalaglass.com/tnc/\">impalaglass.com/tnc</a></div>\n\n\n\n{% set footer = frappe.db.get_value(\"Letter Head\", doc.letter_head, \"footer\") %}\n\n{% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(), \"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user}) %}\n{{ footer_updated }}\n\n\n    <div id=\"footer-html\" class=\"visible-pdf text-center  \" style = \"font-size:10px\" >\n        <p id=\"demo\"></p>\n        <div class=\"letter-head-footer text-size-10 text-center \"  style=\"font-size: 10px;\"  >\n            {{ footer }}\n        </div>\n        <p class=\"text-center small page-number visible-pdf\" style = \"font-size:10px\" >\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\n        </p>\n    </div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:11:01.480904",
  "module": "AQIQ Print Formats",
  "name": "Export",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "\r\n\r\n.watermark {\r\n    position: fixed;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%) rotate(-45deg);\r\n    opacity: 0.5;\r\n    font-size: 100px;\r\n    color: rgba(255, 0, 0, 0.3);\r\n}\r\n\r\n\r\n@media screen,pdf {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n .text-size-10{\r\n     font-size:14px;\r\n }\r\n \r\n \r\n .letter-head-footer{\r\n     font-size:14px;\r\n     \r\n }\r\n margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\nmargin-top-15{\r\n    margin-top:15px;\r\n}\r\n \r\n   .text-size-9{\r\n     font-size:14px;\r\n }\r\n \r\n    }\r\n    \r\n@media print {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\n .letter-head-footer{\r\n     font-size:14px;\r\n     \r\n }\r\n \r\n\r\n .text-size-10{\r\n     font-size:14px;\r\n }\r\n \r\n  .text-size-9{\r\n     font-size:14px;\r\n }\r\n \r\n table.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n \r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n@media screen {\r\n .text-size-10{\r\n     font-size:14px;\r\n }\r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n\r\n .letter-head-footer{\r\n     font-size:14px;\r\n     \r\n }\r\n\r\n  .text-size-9{\r\n     font-size:14px;\r\n }\r\n\r\n.amount-val{\r\n   color:darkgrey;\r\n   bottom:20px;\r\n   position:relative;\r\n}\r\n\r\n\r\n\r\n.days_tab {\r\n    position: relative;\r\n}\r\n\r\n.barchart-Wrapper {\r\n      display: table;\r\n      position: relative;\r\n      margin: 20px 0;\r\n      height: 120px;\r\n    }\r\n    .barChart-Container {\r\n      display: table-cell;\r\n      width: 100%;\r\n      height: 100%;\r\n      padding-left: 20px;\r\n      padding-right: 20px;\r\n    }\r\n    .barchart {\r\n     display: table;\r\n     table-layout: fixed;\r\n     height: 100%;\r\n     width: 100%;\r\n     border-bottom: 3px solid darkgrey;\r\n    }\r\n    .barchart-Col {\r\n      position: relative;\r\n      vertical-align: bottom;\r\n      display: table-cell;\r\n      height: 100%;\r\n    }\r\n    .barchart-Col + .barchart-Col {\r\n      border-left: 4px solid transparent;\r\n    }\r\n    .barchart-Bar {\r\n      position: static;\r\n      height: 0;\r\n      transition: height 0.5s 2s;\r\n      width: 10px;\r\n      margin: auto;\r\n    }\r\n    .barchart-Bar:after {\r\n      content: attr(attr-height);\r\n      color: white;\r\n      position: absolute;\r\n      text-align: center;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter {\r\n      position: absolute;\r\n      text-align: center;\r\n      left:40px;\r\n      height: 10%;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter h3 {\r\n      color: darkred;\r\n    }\r\n    .barchart-TimeCol {\r\n      position: absolute;\r\n      top: 0;\r\n      height: 100%;\r\n      width: 100%;\r\n    }\r\n    .barchart-Time {\r\n      height: 25%;\r\n      vertical-align: middle;\r\n      position: relative;\r\n    }\r\n    .barchart-Time:after {\r\n      border-bottom: 3px solid white;\r\n      content: \"\";\r\n      position: absolute;\r\n      width: 100%;\r\n      left: 0;\r\n      top: 0em;\r\n    }\r\n    .barchart-TimeText {\r\n      position: absolute;\r\n      top: -8px;\r\n      z-index: 1;\r\n      background: white;\r\n      padding-right: 5px;\r\n      color: #4d4d4d;\r\n      font-size: 15px;\r\n      font-family: 'Avenir Medium';\r\n    }\r\n    .sq1-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq1-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq2-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq2-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq3-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq3-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq4-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq4-bar {\r\n      background-color: #a61a17;\r\n    }",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Sales Order",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<!DOCTYPE html>\r\n<html lang=\"en\">\r\n\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>Commercial Invoice</title>\r\n    <style>\r\n        body {\r\n            font-family: Arial, sans-serif;\r\n            font-size: 10px;\r\n        }\r\n\r\n        h1 {\r\n            font-size: 20px;\r\n        }\r\n\r\n        table {\r\n            width: 50%;\r\n            font-size: 10px !important;\r\n        }\r\n\r\n        .margin-top-15 {\r\n            width: 100%;\r\n            font-size: 10px !important;\r\n            border-bottom: 1px solid black !important;\r\n        }\r\n\r\n        .margin-top-15 td {\r\n            width: 35%;\r\n        }\r\n    </style>\r\n</head>\r\n\r\n<body>    \r\n    \r\n    \r\n    \r\n    \r\n    <h4> <strong>Commercial Invoice</strong></h4>\r\n\r\n  \r\n   <table style=\"line-height: 0.5; width: 40%\">\r\n    <tr style=\"font-size:14px;\">\r\n        <td>Date:</td>\r\n       <td>\r\n   {{ frappe.format(frappe.utils.nowdate(), {\"fieldtype\": \"Date\", \"format\": \"ddMMyy\"}) }}\r\n    </td>\r\n\r\n\r\n    </tr>\r\n    <tr style=\"font-size:14px;\">\r\n        <td>INV#:</td>\r\n        <td>{{ doc.name }}</td>\r\n    </tr>\r\n    <tr style=\"font-size:14px;\">\r\n        <td>Customer PO#:</td>\r\n        <td>{{ doc.po_no }}</td>\r\n    </tr>\r\n    <tr style=\"font-size:14px;\">\r\n        <td>Currency:</td>\r\n        <td>{{ doc.currency }}</td>\r\n    </tr>\r\n</table>\r\n\r\n\r\n    <table class=\"margin-top-15\">\r\n        <tr style=\"font-size:14px;\">\r\n            <td>\r\n                <div><b>Bill To,</b></div>\r\n                <div><b>{{ doc.customer }}</b></div>\r\n                <div><b>{{ doc.customer_name }}</b></div>\r\n                <div>{{ doc.address_display }}</div>\r\n            </td>\r\n        </tr>\r\n    </table>\r\n\r\n    <table class=\"table table-sm\" style=\"width:100%; font-size:9px; margin-top:10px\" border=\"1\">\r\n    <tr>\r\n        <thead>\r\n            <th class=\"text-left text-size-9\" style='border: 1px solid black; border-bottom: 1px solid black;'>#</th>\r\n            <th class=\"text-left text-size-9\" style='border: 1px solid black; border-bottom: 1px solid black;'>Item Code</th>\r\n            <th class=\"text-left text-size-9\" style='border: 1px solid black; border-bottom: 1px solid black;'>Item Name</th>\r\n            <th class=\"text-right text-size-9\" style='border: 1px solid black; border-bottom: 1px solid black;'>Qty(PCS)</th>\r\n            <th class=\"text-right text-size-9\" style='border: 1px solid black; border-bottom: 1px solid black;'>Qty(SQM)</th>\r\n            <th class=\"text-right text-size-9\" style='border: 1px solid black; border-bottom: 1px solid black;'>Total</th>\r\n            <!--<th class=\"text-right text-size-9\" style='border: 1px solid black; border-bottom: 1px solid black;'>VAT</th>-->\r\n            <!--<th class=\"text-right text-size-9\" style='border: 1px solid black; border-bottom: 1px solid black;'>Inc.VAT</th>-->\r\n        </thead>\r\n    </tr>\r\n{% set item_details = {} %}\r\n\r\n{% for row in doc.items %}\r\n    {% if row.item_code not in item_details %}\r\n        {% if row.uom != \"Nos\" %}\r\n            {% set _ = item_details.update({\r\n                row.item_code: {\r\n                    'name': row.item_name,\r\n                    'pcs': row.pcs,\r\n                    'qty_pcs': row.qty,\r\n                    'total_amount': row.net_amount,\r\n                }\r\n            }) %}\r\n        {% else %}\r\n            {% if row.uom == \"Nos\" %}\r\n                {% set _ = item_details.update({\r\n                    row.item_code: {\r\n                        'name': row.item_name,\r\n                        'pcs': row.pcs,\r\n                        'qty_pcs': 0,\r\n                        'total_amount': row.net_amount,\r\n                    }\r\n                }) %}\r\n            {% endif %}\r\n        {% endif %}\r\n    {% else %}\r\n        {% if row.uom != \"Nos\" %}\r\n            {% set _ = item_details[row.item_code].update({\r\n                'pcs': (item_details[row.item_code]['pcs'] | default(0)) + row.pcs,\r\n                'qty_pcs': (item_details[row.item_code]['qty_pcs'] | default(0)) + row.qty,\r\n                'total_amount': (item_details[row.item_code]['total_amount'] | default(0)) + row.net_amount,\r\n            }) %}\r\n        {% else %}\r\n            {% if row.uom == \"Nos\" %}\r\n                {% set _ = item_details[row.item_code].update({\r\n                    'pcs': (item_details[row.item_code]['pcs'] | default(0)) + row.pcs,\r\n                    'total_amount': (item_details[row.item_code]['total_amount'] | default(0)) + row.net_amount,\r\n                }) %}\r\n            {% endif %}\r\n        {% endif %}\r\n    {% endif %}\r\n{% endfor %}\r\n\r\n\r\n\r\n\r\n    \r\n{% set total_qty_sqm = item_details.values()|map(attribute='qty_pcs')|sum %}\r\n{% set total_ex_vat = doc.items|map(attribute='amount')|sum %}\r\n{% set total_amount = item_details.values()|map(attribute='total_amount')|sum %}\r\n\r\n\r\n{% for item_code, details in item_details.items() %}\r\n    <tr>\r\n        <td style=\"border: 1px solid black; border-bottom: 1px solid black;\" class=\"text-left text-size-9\" >{{ loop.index }}</td>\r\n        <td style=\"border: 1px solid black; border-bottom: 1px solid black;\" class=\"text-left text-size-9\">{{ item_code }}</td>\r\n        <td style=\"border: 1px solid black; border-bottom: 1px solid black;\" class=\"text-left text-size-9\">{{ details['name'] }}</td>\r\n        <td style=\"border: 1px solid black; border-bottom: 1px solid black;\" class=\"text-right text-size-9\">{{ details['pcs'] }}</td>\r\n        <td style=\"border: 1px solid black; border-bottom: 1px solid black;\" class=\"text-right text-size-9\">{{ '{0:,.2f}'.format(details['qty_pcs']) }}</td>\r\n        <td style=\"border: 1px solid black; border-bottom: 1px solid black;\" class=\"text-right text-size-9\">{{ '{0:,.2f}'.format(details['total_amount']) }}</td>\r\n    </tr>\r\n{% endfor %}\r\n\r\n<tr>\r\n    <td colspan=\"3\" class=\"text-right\"><b>Totals:</b></td>\r\n    <td class=\"text-right\"><b>\r\n        {% set total_Qsqm = {'total': 0} %}\r\n        {% for row in doc.items %}\r\n            {% if row.uom != \"Nos\" %}\r\n                {% set _ = total_Qsqm.update({'total': total_Qsqm['total'] + row.pcs}) %}\r\n            {% endif %}\r\n        {% endfor %}\r\n        {{ '{0:,.2f}'.format(total_Qsqm['total']) }}\r\n    </b></td>\r\n    <td class=\"text-right\"><b>{{ '{0:,.2f}'.format(total_qty_sqm) }}</b></td>\r\n    <td class=\"text-right\"><b>{{ '{0:,.2f}'.format(doc.net_total) }}</b></td>\r\n    \r\n</tr>\r\n</table>\r\n\r\n\r\n \r\n\r\n\r\n\r\n <table style=\"width: 100%; border: 1px solid black;\">\r\n      {% set total_sqm = {'total': 0} %}\r\n        {% for row in doc.items %}\r\n            {% if row.uom != \"Nos\" %}\r\n                {% set _ = total_sqm.update({'total': total_sqm['total'] + row.qty}) %}\r\n            {% endif %}\r\n        {% endfor %}\r\n        \r\n        <tr>\r\n            <td>\r\n                <b>Total SQM: {{ '{0:,.2f}'.format(total_sqm['total']) }} </b>\r\n            </td>\r\n        </tr>\r\n\r\n\r\n\r\n\r\n    </table>\r\n    <br>\r\n   <table style=\"width: 100%; border: 1px solid black;\">\r\n        <tr>\r\n            <td style=\"font-size: 14px; border: 1px solid black;\"><b>Approximate Weight:</b><u>{{ doc.total_net_weight or '_________' }}</u> Kgs</td>\r\n            <td style='font-size: 14px; border: 1px solid black;'><b>Packed in:</b><u>{{ doc.packed_in or '___________'}}</u> Package</td>\r\n            <td style='font-size: 14px; border: 1px solid black;'><b>Exit Border Point: </b> <u>{{ doc.exit_border_point or '___________'}}</u></td>\r\n        </tr>\r\n        <tr>\r\n            <td colspan=\"4\" >\r\n                <div style='font-size: 14px;'>\r\n                    <b>Ex-Factory-Nairobi</b><br><br>\r\n                    <b>For And on Behalf of <br> Impala Glass Industries Ltd\r\n                        <br><br><br><br>_________________________________________\r\n                    </b>\r\n                </div>\r\n            </td>\r\n        </tr>\r\n    </table>\r\n    \r\n    <table class=\"table table-sm\">\r\n    <tr>\r\n        <td colspan=\"\">\r\n           \r\n        </td>\r\n        <td colspan=\"4\" class=\"text-right\">\r\n\r\n            <table class=\"text-right\" style='width:100%; border:none'>\r\n                \r\n\r\n                <tr class=\"text-right\">\r\n                    <td colspan=\"\" class=\"text-size-14 text-right\"\r\n                        style=\"font-size:14px; font-weight:bold;\"> <b> Total Amount: </b> </td>\r\n                    <td colspan=\"\" class=\"text-size-14 text-right\"\r\n                        style=\"font-size:14px; font-weight:bold;\">\r\n                        <b>\r\n\r\n                           {{doc.currency }} {{ '{0:,.2f}'.format(doc.net_total) }}\r\n\r\n\r\n                        </b></td>\r\n                </tr>\r\n            </table>\r\n\r\n\r\n        </td>\r\n    </tr>\r\n</table>\r\n{% if doc.docstatus == 0 %}\r\n<div class =\"watermark\"> DRAFT</div>\r\n\r\n{% endif %}",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:11:01.618661",
  "module": "AQIQ Print Formats",
  "name": "Commercial Invoice - 02",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "\r\n\r\n.watermark {\r\n    position: fixed;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%) rotate(-45deg);\r\n    opacity: 0.5;\r\n    font-size: 100px;\r\n    color: rgba(255, 0, 0, 0.3);\r\n}\r\n\r\n\r\n@media screen,pdf {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n .text-size-10{\r\n     font-size:14px;\r\n }\r\n .text-right{\r\n     font-size:14px;\r\n }\r\n \r\n .letter-head-footer{\r\n     font-size:14px;\r\n     \r\n }\r\n margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\nmargin-top-15{\r\n    margin-top:15px;\r\n}\r\n \r\n   .text-size-9{\r\n     font-size:14px;\r\n }\r\n \r\n    }\r\n    \r\n@media print {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\n .letter-head-footer{\r\n     font-size:14px;\r\n     \r\n }\r\n \r\n\r\n .text-size-10{\r\n     font-size:14px;\r\n }\r\n \r\n  .text-size-9{\r\n     font-size:14px;\r\n }\r\n \r\n table.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n \r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n@media screen {\r\n .text-size-10{\r\n     font-size:14px;\r\n }\r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n\r\n .letter-head-footer{\r\n     font-size:14px;\r\n     \r\n }\r\n\r\n  .text-size-9{\r\n     font-size:14px;\r\n }\r\n\r\n.amount-val{\r\n   color:darkgrey;\r\n   bottom:20px;\r\n   position:relative;\r\n}\r\n\r\n\r\n\r\n.days_tab {\r\n    position: relative;\r\n}\r\n\r\n.barchart-Wrapper {\r\n      display: table;\r\n      position: relative;\r\n      margin: 20px 0;\r\n      height: 120px;\r\n    }\r\n    .barChart-Container {\r\n      display: table-cell;\r\n      width: 100%;\r\n      height: 100%;\r\n      padding-left: 20px;\r\n      padding-right: 20px;\r\n    }\r\n    .barchart {\r\n     display: table;\r\n     table-layout: fixed;\r\n     height: 100%;\r\n     width: 100%;\r\n     border-bottom: 3px solid darkgrey;\r\n    }\r\n    .barchart-Col {\r\n      position: relative;\r\n      vertical-align: bottom;\r\n      display: table-cell;\r\n      height: 100%;\r\n    }\r\n    .barchart-Col + .barchart-Col {\r\n      border-left: 4px solid transparent;\r\n    }\r\n    .barchart-Bar {\r\n      position: static;\r\n      height: 0;\r\n      transition: height 0.5s 2s;\r\n      width: 10px;\r\n      margin: auto;\r\n    }\r\n    .barchart-Bar:after {\r\n      content: attr(attr-height);\r\n      color: white;\r\n      position: absolute;\r\n      text-align: center;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter {\r\n      position: absolute;\r\n      text-align: center;\r\n      left:40px;\r\n      height: 10%;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter h3 {\r\n      color: darkred;\r\n    }\r\n    .barchart-TimeCol {\r\n      position: absolute;\r\n      top: 0;\r\n      height: 100%;\r\n      width: 100%;\r\n    }\r\n    .barchart-Time {\r\n      height: 25%;\r\n      vertical-align: middle;\r\n      position: relative;\r\n    }\r\n    .barchart-Time:after {\r\n      border-bottom: 3px solid white;\r\n      content: \"\";\r\n      position: absolute;\r\n      width: 100%;\r\n      left: 0;\r\n      top: 0em;\r\n    }\r\n    .barchart-TimeText {\r\n      position: absolute;\r\n      top: -8px;\r\n      z-index: 1;\r\n      background: white;\r\n      padding-right: 5px;\r\n      color: #4d4d4d;\r\n      font-size: 15px;\r\n      font-family: 'Avenir Medium';\r\n    }\r\n    .sq1-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq1-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq2-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq2-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq3-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq3-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq4-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq4-bar {\r\n      background-color: #a61a17;\r\n    }",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Sales Order",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<!DOCTYPE html>\r\n<html lang=\"en\">\r\n\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>Commercial Invoice</title>\r\n    <style>\r\n        body {\r\n            font-family: Arial, sans-serif;\r\n            font-size: 14px;\r\n        }\r\n\r\n        h1 {\r\n            font-size: 20px;\r\n        }\r\n\r\n        table {\r\n            width: 50%;\r\n            font-size: 10px !important;\r\n        }\r\n\r\n        .margin-top-15 {\r\n            width: 100%;\r\n            font-size: 10px !important;\r\n            border-bottom: 1px solid black !important;\r\n        }\r\n\r\n        .margin-top-15 td {\r\n            width: 35%;\r\n        }\r\n    </style>\r\n</head>\r\n\r\n<body>\r\n\r\n     <h4> <strong>Commercial Invoice </strong></h4>\r\n\r\n   <table style=\"line-height: 0.5; width:40% \">\r\n    <tr style=\"font-size:14px;\">\r\n        <td>Date:</td>\r\n        <td>\r\n {{ frappe.format(frappe.utils.nowdate(), {\"fieldtype\": \"Date\", \"format\": \"ddMMyy\"}) }}\r\n\r\n    </td>\r\n\r\n    </tr>\r\n    <tr style=\"font-size:14px;\">\r\n        <td>INV#:</td>\r\n        <td>{{ doc.name }}</td>\r\n    </tr>\r\n    </br>\r\n    <tr style=\"font-size:14px;\">\r\n        <td>Customer PO#:</td>\r\n        <td>{{ doc.po_no }}</td>\r\n    </tr>\r\n    </br>\r\n    <tr style=\"font-size:14px;\">\r\n        <td>Currency:</td>\r\n        <td>{{ doc.currency }}</td>\r\n    </tr>\r\n</table>\r\n\r\n\r\n\r\n    <table class=\"margin-top-15\">\r\n        <tr style=\"font-size:14px;\">\r\n            <td>\r\n                <div><b>Bill To,</b></div>\r\n                <div><b>{{ doc.customer }}</b></div>\r\n                <div><b>{{ doc.customer_name }}</b></div>\r\n                <div>{{ doc.address_display }}</div>\r\n            </td>\r\n        </tr>\r\n    </table>\r\n    \r\n    <table class='table table-sm' style='width:100%; font-size:14px; margin-top:10px; border:1px solid black;'>\r\n  <thead>\r\n    <tr>\r\n      <th class='text-left text-size-9' style='border: 1px solid black; font-size:14px;'>#</th>\r\n      <th class='text-left text-size-9' style='border: 1px solid black; font-size:14px;'>Item Code</th>\r\n      <th class='text-left text-size-9' style='border: 1px solid black; font-size:14px;'>Item Name</th>\r\n      <th class='text-right text-size-9' style='border: 1px solid black; font-size:14px;'>Rate</th>\r\n      <th class='text-right text-size-9' style='border: 1px solid black; font-size:14px;'>Width (mm)</th>\r\n      <th class='text-right text-size-9' style='border: 1px solid black; font-size:14px;'>Height (mm)</th>\r\n      <th class='text-right text-size-9' style='border: 1px solid black; font-size:14px;'>Qty(PCS)</th>\r\n      <th class='text-right text-size-9' style='border: 1px solid black; font-size:14px;'>Qty(SQM)</th>\r\n      <th class='text-right text-size-9' style='border: 1px solid black; font-size:14px;'>Total</th>\r\n      <!--<th class='text-right text-size-9' style='border: 1px solid black;'>Exc.VAT</th>-->\r\n      <!--<th class='text-right text-size-9' style='border: 1px solid black;'>VAT</th>-->\r\n      <!--<th class='text-right text-size-9' style='border: 1px solid black;'>Inc.VAT</th>-->\r\n    </tr>\r\n  </thead>\r\n\r\n\r\n{% for row in doc.items %}\r\n            <tr>\r\n            <td style=\"border: 1px solid grey;\" class=\"text-left text-size-9 \" style='border: 1px solid black; font-size:14px;' >{{ row.idx }}</td>\r\n            <td style=\"border: 1px solid grey;\" class=\"text-left text-size-9 ;font-size:14px;\">\r\n                {{ row.item_code }}\r\n            </td>\r\n            <td style=\"border: 1px solid grey;\" class=\"text-left text-size-9 \">\r\n                {{ row.item_name }}\r\n            </td>\r\n            <td style=\"border: 1px solid grey;\" class=\"text-right text-size-9 \">\r\n\r\n            {{ '{0:,.2f}'.format(row.net_rate  ) }} \r\n\r\n            </td>\r\n            <td style=\"border: 1px solid grey;\" class=\"text-right text-size-9 \">\r\n                {{ row.width }}\r\n            </td>\r\n            <td style=\"border: 1px solid grey;\" class=\"text-right text-size-9 \">\r\n                {{ row.height }}\r\n            </td>\r\n            <td style=\"border: 1px solid grey;\" class=\"text-right text-size-9 \">\r\n            {{ row.pcs }}   \r\n            </td>\r\n            <td style=\"border: 1px solid grey;\" class=\"text-right text-size-9 \">\r\n            {% if row.uom != \"Nos\" %} {{ row.qty }} {% else %} 0 {% endif %}\r\n            </td>\r\n            <td style=\"border: 1px solid grey;\" class=\"text-right text-size-9 \">\r\n            {{  '{0:,.2f}'.format(row.net_amount) }} \r\n            </td>\r\n    </tr>\r\n      \r\n        {% endfor %}\r\n        <tr> \r\n            <td colspan=\"6\" class=\"text-right\"><b>Totals:</b>   </td>\r\n            <!--<td colspan=\"5\"  class=\"text-right\">-->\r\n            <!--   </td>-->\r\n           <td style=\"border: 1px solid black;\" class=\"text-right small\"><b>\r\n               {% set total_Qsqm = {'total': 0} %}\r\n        {% for row in doc.items %}\r\n            {% if row.uom != \"Nos\" %}\r\n                {% set _ = total_Qsqm.update({'total': total_Qsqm['total'] + row.pcs}) %}\r\n            {% endif %}\r\n        {% endfor %}\r\n        {{ '{0:,.2f}'.format(total_Qsqm['total']) }}\r\n             </b>\r\n           </td>\r\n            \r\n            <td style=\"border: 1px solid black;\" class=\"text-right small\">  <b>\r\n                \r\n             <b>\r\n                 {% set total_sqm = {'total': 0} %}\r\n        {% for row in doc.items %}\r\n            {% if row.uom != \"Nos\" %}\r\n                {% set _ = total_sqm.update({'total': total_sqm['total'] + row.qty}) %}\r\n            {% endif %}\r\n        {% endfor %}\r\n        {{ '{0:,.2f}'.format(total_sqm['total']) }}\r\n             </b>\r\n\r\n                </b> </td>\r\n         \r\n\r\n            <td style=\"border: 1px solid black;\" class=\"text-right small \">  <b>\r\n                                 {{ '{0:,.2f}'.format( doc.net_total) }} \r\n                \r\n                </b> </td>\r\n        </tr>\r\n        \r\n        </table>\r\n        \r\n       <table style=\"width: 100%; border: 1px solid black; font-size:14px;\">\r\n      {% set total_sqm = {'total': 0} %}\r\n        {% for row in doc.items %}\r\n            {% if row.uom != \"Nos\" %}\r\n                {% set _ = total_sqm.update({'total': total_sqm['total'] + row.qty}) %}\r\n            {% endif %}\r\n        {% endfor %}\r\n        \r\n        <tr>\r\n            <td>\r\n                <b>Total SQM: {{ '{0:,.2f}'.format(total_sqm['total']) }} </b>\r\n            </td>\r\n        </tr>\r\n\r\n\r\n\r\n\r\n    </table>\r\n    <br>\r\n    <table style=\"width: 100%; border: 1px solid black;font-size:14px;\">\r\n        <tr>\r\n            <td style=\"font-size: 10px; border: 1px solid black; font-size:14px;\"><b>Approximate Weight:</b> <u>{{ doc.total_net_weight or '_________' }} </u> Kgs</td>\r\n            <td style='font-size: 10px; border: 1px solid black; font-size:14px;'><b>Packed in:</b><u>{{ doc.packed_in or '___________'}}</u> Package</td>\r\n            <td style='font-size: 10px; border: 1px solid black;font-size:14px;'><b>Exit Border Point: </b> <u>{{ doc.exit_border_point or '___________'}}</u></td>\r\n        </tr>\r\n        <tr>\r\n            <td colspan=\"4\" >\r\n                <div style='font-size: 14px;'>\r\n                    <b>Ex-Factory-Nairobi</b><br><br>\r\n                    <b>For And on Behalf of <br> Impala Glass Industries Ltd\r\n                        <br><br><br><br>_________________________________________\r\n                    </b>\r\n                </div>\r\n            </td>\r\n        </tr>\r\n    </table>\r\n    \r\n    <table class=\"table table-sm\">\r\n    <tr>\r\n        <td colspan=\"\">\r\n           \r\n        </td>\r\n        <td colspan=\"4\" class=\"text-right\">\r\n\r\n            <table class=\"text-right\" style='width:100%; border:none;font-size:14px;'>\r\n               \r\n\r\n                <tr class=\"text-right\">\r\n                    <td colspan=\"\" class=\"text-size-14 text-right\"\r\n                        style=\"font-size:14px; font-weight:bold;\"> <b> Total Amount: </b> </td>\r\n                    <td colspan=\"\" class=\"text-size-14 text-right\"\r\n                        style=\"font-size:14px; font-weight:bold;\">\r\n                        <b>\r\n\r\n                            {{ '{0:,.2f}'.format(doc.net_total) }}\r\n\r\n\r\n                        </b></td>\r\n                </tr>\r\n            </table>\r\n\r\n\r\n        </td>\r\n    </tr>\r\n</table>\r\n    \r\n    \r\n    <div style = \"page-break-after:always\"></div>\r\n    \r\n   {% if doc.docstatus == 0 %}<div class=\"watermark\">DRAFT</div> {% endif %}\r\n   \r\n\r\n</body>\r\n\r\n</html>\r\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:11:01.718267",
  "module": "AQIQ Print Formats",
  "name": "Commercial Invoice - 01",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "\r\n\r\n.watermark {\r\n    position: fixed;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%) rotate(-45deg);\r\n    opacity: 0.5;\r\n    font-size: 100px;\r\n    color: rgba(255, 0, 0, 0.3);\r\n}\r\n\r\n\r\n@media screen,pdf {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n \r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\nmargin-top-15{\r\n    margin-top:15px;\r\n}\r\n \r\n   .text-size-9{\r\n     font-size:9px;\r\n }\r\n \r\n    }\r\n    \r\n@media print {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n \r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n  .text-size-9{\r\n     font-size:9px;\r\n }\r\n \r\n table.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n \r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n@media screen {\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n\r\n  .text-size-9{\r\n     font-size:9px;\r\n }\r\n\r\n.amount-val{\r\n   color:darkgrey;\r\n   bottom:20px;\r\n   position:relative;\r\n}\r\n\r\n\r\n\r\n.days_tab {\r\n    position: relative;\r\n}\r\n\r\n.barchart-Wrapper {\r\n      display: table;\r\n      position: relative;\r\n      margin: 20px 0;\r\n      height: 120px;\r\n    }\r\n    .barChart-Container {\r\n      display: table-cell;\r\n      width: 100%;\r\n      height: 100%;\r\n      padding-left: 20px;\r\n      padding-right: 20px;\r\n    }\r\n    .barchart {\r\n     display: table;\r\n     table-layout: fixed;\r\n     height: 100%;\r\n     width: 100%;\r\n     border-bottom: 3px solid darkgrey;\r\n    }\r\n    .barchart-Col {\r\n      position: relative;\r\n      vertical-align: bottom;\r\n      display: table-cell;\r\n      height: 100%;\r\n    }\r\n    .barchart-Col + .barchart-Col {\r\n      border-left: 4px solid transparent;\r\n    }\r\n    .barchart-Bar {\r\n      position: static;\r\n      height: 0;\r\n      transition: height 0.5s 2s;\r\n      width: 10px;\r\n      margin: auto;\r\n    }\r\n    .barchart-Bar:after {\r\n      content: attr(attr-height);\r\n      color: white;\r\n      position: absolute;\r\n      text-align: center;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter {\r\n      position: absolute;\r\n      text-align: center;\r\n      left:40px;\r\n      height: 10%;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter h3 {\r\n      color: darkred;\r\n    }\r\n    .barchart-TimeCol {\r\n      position: absolute;\r\n      top: 0;\r\n      height: 100%;\r\n      width: 100%;\r\n    }\r\n    .barchart-Time {\r\n      height: 25%;\r\n      vertical-align: middle;\r\n      position: relative;\r\n    }\r\n    .barchart-Time:after {\r\n      border-bottom: 3px solid white;\r\n      content: \"\";\r\n      position: absolute;\r\n      width: 100%;\r\n      left: 0;\r\n      top: 0em;\r\n    }\r\n    .barchart-TimeText {\r\n      position: absolute;\r\n      top: -8px;\r\n      z-index: 1;\r\n      background: white;\r\n      padding-right: 5px;\r\n      color: #4d4d4d;\r\n      font-size: 15px;\r\n      font-family: 'Avenir Medium';\r\n    }\r\n    .sq1-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq1-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq2-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq2-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq3-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq3-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq4-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq4-bar {\r\n      background-color: #a61a17;\r\n    }",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Sales Order",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<style>\n</style>\n\n<div id=\"header-html\" class = \"margin-top-15\"   style = \" margin-top:5px  !important; width:92.2%; margin-left:15px !important\">\n    <div class = \"row\" style = \"\">\n\n        <div class = \"col-xs-10\" style = \"width:100%;   float:left; border:1px solid black \">\n            {% set header = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1}, \"content\") %}\n            \n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website',]) %}\n            \n            {% set comapny_address_line1 = '' %}        \n            {% set comapny_city = '' %}        \n            {% set comapny_counrty = '' %}        \n            {% set comapny_state = '' %}        \n            {% set phone = '' %}        \n    \n            {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\n    \n            {% if company_address_name  %}\n                {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\n                    \n    \n            {% set comapny_address_line1 = address.address_line1 %}        \n            {% set comapny_city =  address.city  %}        \n            {% set comapny_counrty =  address.country  %}        \n            {% set comapny_state =  address.state  %}        \n    \n            {% set phone = address.phone %}        \n    \n            {% endif  %}\n            \n            {% if company_details %}\n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \n            'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \n            'state' : comapny_state,\n            'phone_no' : phone, 'email' : company_details[0].email, 'pin_no': company_details[0].tax_id ,  'company_logo' : company_details[0].company_logo, 'website' : company_details[0].website,  }) %}\n            {{header_updated}}\n            {% endif %}\n            \n\n            <table  class = \"table table-sm\" style = \"width:28%; font-size:10px  \"> \n                <tr>\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:11px\"> Commercial Invoice </b> </span> </center>  </td>\n                </tr>\n\n                <tr>\n                    <td style = 'font-size:10px'> Date </td> <td style = 'font-size:10px'> \n                    {{ doc.get_formatted('transaction_date') }} \n                </tr>\n\n                <tr> \n                    <td style = \"font-size:10px\"> INV# </td> <td style = \"font-size:10px\">  {{ doc.name }}</td>\n                </tr>\n                <tr> \n                    <td style = \"font-size:10px\"> Division </td> <td style = \"font-size:10px\">  {{ doc.cost_center }} </td>\n                </tr>\n                <tr> \n                    <td style = \"font-size:10px\"> Department </td> <td style = \"font-size:10px\">  {{ doc.department }} </td>\n                </tr>\n                <tr> \n                    <td style = \"font-size:11px\"> Warehouse </td> <td style = \"font-size:11px\">  {{ doc.set_warehouse }} </td>\n                </tr>\n\n            </table>\n\n\n        </div>\n</div>\n\n\n</div>\n\n<table class = \"margin-top-15\"  style = \"width:100%; font-size:10px !important; border-bottom:1px solid black !important;\"> \n    <tr> \n        <td style = \"width:35%\">  \n            <div>  <b style=\"font-size:10px\"> Bill To, </b></div>\n            <div> <b style = \"font-size:10px\" > {{ doc.customer }} </b> </div>\n            <div> <b style = \"font-size:10px\" > {{ doc.customer_name }} </b> </div>\n            <div style = \"font-size:10px\" > {{ doc.address_display }} </div>\n        </td>\n        <td style=\"20%\">\n            <img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\" class=\"center\" height=80px>\n        </td>\n        <td style = \"width:45%\">  \n            <table class = \" text-size-10\" style = \"width:100%; margin-top:-1px !important;\" cellspacing = '0' cellpadding = '0'> \n                <tr>\n                    {% set po_order = frappe.db.get_value(\"Purchase Order\", doc.name, \"name\") %}\n                    {% set po_date = frappe.db.get_value(\"Purchase Order\", doc.name, \"transaction_date\") %}\n                    <td class = \"text-size-10\"  style = 'font-size:10px'> PO Date </td> <td class = \"text-size-10\"  style = 'font-size:11px'>  {{ po_date }} </td>\n                </tr>\n                <tr>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'> Customer PO#. </td> <td class = \"text-size-10\"  style = 'font-size:11px'>  {{po_order}} </td>\n                </tr>\n                <tr>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'> Sales Person </td>\n                    {% set salesman = [] %}\n                    {% for i in doc.sales_team %}\n                        {% set salesman = salesman.append(i.get(\"sales_person\")) %}\n                        \n                    {% endfor %}\n                    {% set sales_team = salesman|join(', ') %}\n                    \n                    <td class = \"text-size-10\"  style = 'font-size:10px'>{{sales_team}}</td>\n                </tr>\n                <tr>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'> Currency </td>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'>{{ doc.currency }}</td>\n                </tr>\n\n\n                <tr>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'> Customer Pin </td>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'>{{ doc.tax_id }}</td>\n                </tr>\n\n            </table>\n        </td>\n    </tr>\n</table>\n<div style=\"margin-top:2px; height:40px; border:1px solid black;\">\n   Additional Notes:\n    <p>\n        {% if doc.posa_notes %}\n        {{doc.posa_notes}} \n        {% endif %}\n    </p>\n</div>\n\n<table class='table table-sm' style='width:100%; font-size:9px; margin-top:10px; border:1px solid black;'>\n  <thead>\n    <tr>\n      <th class='text-left text-size-9' style='border: 1px solid black;'>#</th>\n      <th class='text-left text-size-9' style='border: 1px solid black;'>Item Code</th>\n      <th class='text-left text-size-9' style='border: 1px solid black;'>Item Name</th>\n      <th class='text-right text-size-9' style='border: 1px solid black;'>Rate</th>\n      <th class='text-right text-size-9' style='border: 1px solid black;'>Width (mm)</th>\n      <th class='text-right text-size-9' style='border: 1px solid black;'>Height (mm)</th>\n      <th class='text-right text-size-9' style='border: 1px solid black;'>Qty(PCS)</th>\n      <th class='text-right text-size-9' style='border: 1px solid black;'>Qty(SQM)</th>\n      <th class='text-right text-size-9' style='border: 1px solid black;'>Exc.VAT</th>\n      <th class='text-right text-size-9' style='border: 1px solid black;'>VAT</th>\n      <th class='text-right text-size-9' style='border: 1px solid black;'>Inc.VAT</th>\n    </tr>\n  </thead>\n  \n{% set total_ex_vat = {\"total_ex_vat\": 0.0} %}\n{% set total_in_vat = {\"total_in_vat\": 0.0} %}\n{% set total_amount = {\"total_amount\": 0} %}\n{% set total_vat = {\"total_vat\": 0} %}\n{% set gross_total = {\"gross_total\": 0} %}\n{% set total_inclusive = {\"total_inclusive\": 0} %}\n{% set tax_type = doc.tax_type  %}\n\n\n{% set total_pcs = {\"total_pcs\" : 0.0} %}\n{% set uoms_object = {} %}\n{% for entry in doc.items %}\n    {% if entry.uom not in uoms_object.keys() %}\n        {% if entry.item_code != \"Installation Charge\" %}\n            {% set uoms_object = uoms_object.update({entry.uom : 0.0}) %}\n        {% endif %}\n    {% endif %}\n{% endfor %}\n\n\n\n\n{% for row in doc.items %}\n    {% if total_amount.update({\"total_amount\": total_amount[\"total_amount\"] + row.qty * row.rate}) %} {% endif %}\n    \n        <tr>\n            <td style=\"border: 1px solid grey;\" class=\"text-left text-size-9 \" style='border: 1px solid black;' >{{ row.idx }}</td>\n            <td style=\"border: 1px solid grey;\" class=\"text-left text-size-9 \">\n                {{ row.item_code }}\n            </td>\n            <td style=\"border: 1px solid grey;\" class=\"text-left text-size-9 \">\n                {{ row.item_name }}\n            </td>\n            <td style=\"border: 1px solid grey;\" class=\"text-right text-size-9 \">\n\n            {{ '{0:,.2f}'.format(row.rate  ) }} \n\n            </td>\n            <td style=\"border: 1px solid grey;\" class=\"text-right text-size-9 \">\n                {{ row.width }}\n            </td>\n            <td style=\"border: 1px solid grey;\" class=\"text-right text-size-9 \">\n                {{ row.height }}\n            </td>\n            <td style=\"border: 1px solid grey;\" class=\"text-right text-size-9 \">\n            {{ row.pcs }}   \n            </td>\n            <td style=\"border: 1px solid grey;\" class=\"text-right text-size-9 \">\n            {{ row.qty }} \n            </td>\n    \n        \n        {% set in_vat = '' %}\n\n        {% set total_tax_percentage = row.total_tax_percentage |replace(\"%\", \"\")  %}   \n        {% set ex_vat  =  ((row.net_amount|float / 100) * total_tax_percentage|int)  %}\n        \n        \n        {% set in_vat  =  row.net_amount  / 100 * total_tax_percentage | int  %}\n\n            <td style=\"border: 1px solid grey;\" class=\"text-right\">\n\n            {% if tax_type == 'Exclusive' %}\n            \n\n\n  {{ '{0:,.2f}'.format(row.net_amount | float ) }} \n                {% if total_ex_vat.update({\"total_ex_vat\": total_ex_vat[\"total_ex_vat\"] + row.net_amount}) %} {% endif %}\n            {% else  %}\n    \n  {{ '{0:,.2f}'.format(row.net_amount | float ) }} \n\n                {% if total_ex_vat.update({\"total_ex_vat\": total_ex_vat[\"total_ex_vat\"] + row.net_amount}) %} {% endif %}\n            {% endif  %}\n            </td>\n        \n            <td style=\"border: 1px solid grey;\" class=\"text-right text-size-9 \">\n\n            {% set tem_vat = 0 %}\n            {% if tax_type == 'Exclusive' %}\n            \n                {% set ex_vat  =  row.net_amount  / 100 * total_tax_percentage | int  %}\n\n  {{ '{0:,.2f}'.format(ex_vat  ) }} \n                \n                \n                {% set tem_vat = ex_vat %}\n\n            {% else  %}\n                {% set in_vat  =  row.net_amount  / 100 * total_tax_percentage | int  %}\n                \n  {{ '{0:,.2f}'.format(in_vat  ) }} \n\n                {% set tem_vat = in_vat %}\n            \n            \n            {% endif  %}\n                \n                \n        {% if total_vat.update({\"total_vat\": total_vat[\"total_vat\"] + tem_vat  }) %} {% endif %}\n\n            </td>\n           \n            <td style=\"border: 1px solid grey;\" class=\"text-right text-size-9 \">\n            {% set total_inlusive_temp = ''  %}\n\n            {% if tax_type == 'Exclusive' %}\n\n                {% set total_inlusive_temp = ex_vat + row.net_amount  %}\n            \n                  {{ '{0:,.2f}'.format(total_inlusive_temp  ) }} \n\n                \n                {% if total_inclusive.update({\"total_inclusive\": total_inclusive[\"total_inclusive\"] + total_inlusive_temp}) %} {% endif %}\n                \n\n            {% else  %}\n\n                {% set total_inlusive_temp =  row.net_amount + in_vat   %}\n                {% if total_inclusive.update({\"total_inclusive\": total_inclusive[\"total_inclusive\"] + total_inlusive_temp}) %} {% endif %}\n\n\n                  {{ '{0:,.2f}'.format(total_inlusive_temp  ) }} \n\n            {% endif  %}\n            </td>\n\n        </tr>\n        \n        \n        \n        {% if row.item_code != \"Installation Charge\"%}\n            {% set uoms_object = uoms_object.update({row.uom : uoms_object[row.uom] + row.qty})%}\n        {% endif %}\n        \n        {%- endfor -%}\n        \n        <tr> \n            <td colspan=\"7\" class=\"text-right\"><b>Totals:</b>   </td>\n            <td class=\"text-right\"> <b>\n                {{doc.total_qty}}</b></td>\n            <td class=\"text-right small \">  <b>\n                \n                                  {{ '{0:,.2f}'.format(total_ex_vat.total_ex_vat  ) }} \n\n                \n                </b> </td>\n            <!--<td class=\"text-right small \">  <b>{{ total_amount.total_amount }}</b> </td>-->\n            <td class=\"text-right small\">  <b>\n                \n                                                  {{ '{0:,.2f}'.format( total_vat.total_vat  ) }} \n\n                </b> </td>\n         \n\n            <td class=\"text-right small \">  <b>\n                                 {{ '{0:,.2f}'.format( total_inclusive.total_inclusive  ) }} \n                \n                </b> </td>\n        </tr>\n        \n        <tr> \n            <td colspan = \"11\"> \n            <b class = \"text-size-10\" >Total Amount in words:   {{ frappe.utils.money_in_words(total_inclusive.total_inclusive, doc.currency ) }}  </b>\n\n            </td>\n        </tr>\n        </table>\n            \n        <table style = \"width:100%; font-size:11px;  margin-top:2px\">\n            <tr rowspan = \"1\" style = \"border-top: 1px solid black;  border-bottom: 1px solid black\">\n                        {% for key, val in uoms_object.items() %}\n                        <td colspan = \"1\" style='border: 1px solid black'> <b>Total {{key}} : {{val | round(2)}} </b> </td>\n                        {% endfor %}\n            </tr>\n        </table>\n        <table style=\"border:1 px solid black; font-weight:10px; margin-top:2px;\">\n           <tr> \n                <td style=\"font-size:10px; border: 1px solid black\"><b>Approximate Weight:</b><br> <u>{{ doc.approximate_weight_ or '_________' }} </u> Kgs</td>\n                <td style='font-size:10px; border: 1px solid black;'><b>Packed in:</b><u>{{ doc.packed_in or '___________'}}</u> Package</td>\n                <td style='font-size:10px; border: 1px solid black;'><b>Transport By: </b> <u>{{ doc.transport_by or '___________'}}</u></td>\n                <td style='font-size:10px; border: 1px solid black;'><b>Exit Border Point: </b> <u>{{ doc.exit_border_point or '___________'}}</u></td>\n            </tr>\n\n            <tr>\n                <td>\n                    <div style='font-size:10px;'>\n                        <b>Ex-Factory-Nairobi</b><br><br>\n                        <b>For And on Behalf of <br> Impala Glass Industries Ltd\n                        <br><br><br><br>_________________________________________\n                        </b>\n                        \n                    </div>\n                </td>\n            </tr>\n        </table>\n        <table class = \"table table-sm\" >\n        <tr> \n            <td colspan = \"\"> \n            <p  class = \"text-size-10\" > Created By: {{ doc.owner }} </p> \n            \n            <p  class = \"text-size-10\" > Created ON: {{ doc.get_formatted('creation')}} </p> \n            <p  class = \"text-size-10\" > Authorized By:  {% if doc.workflow_state=='Approve Order'%}\n            {{frappe.db.get_value('Workflow Action', {'reference_doctype' : 'Sales Order', 'reference_name' : doc.name, 'workflow_state': 'Approve Order'}, 'owner')}}\n            {% endif %} </p>\n        </td>\n        <td colspan = \"4\" class = \"text-right\" > \n        \n        <table class = \"text-right\" style = '; width:100%; border:none' > \n            <tr class = \"text-right\" > \n                <td colspan = \"\" class = \"text-size-10 text-right\"  style=\"font-size:10px; font-weight:bold;\"> <b>  Excl. Vat </b> </td>\n                <td colspan = \"\" class = \"text-size-10 text-right\" style=\"font-size:10px; font-weight:bold;\"><b> \n                \n\n                                                 {{ '{0:,.2f}'.format(total_ex_vat.total_ex_vat  ) }} \n                </b> </td>\n\n\n            </tr>\n\n            <tr class = \"text-right\" > \n                <td colspan = \"\" class = \"text-size-10 text-right \" style=\"font-size:10px; font-weight:bold;\">  <b> Total Amount: </b>  </td>\n                <td colspan = \"\" class = \"text-size-10 text-right \" style=\"font-size:10px; font-weight:bold;\"> \n                \n                \n                <b>  \n                                                    {{ '{0:,.2f}'.format(total_inclusive.total_inclusive) }} \n\n                \n\n                \n                </b></td>\n            </tr>\n        </table>\n\n\n        </td>\n        </tr>\n        \n        \n</table>\n<div style=\"margin-top:1px; margin-bottom:1px;  border:1px solid black;\">\n     \n</div>\n{% if doc.docstatus==0 %}\n<div class ='watermark'>\n    DRAFT\n</div>\n{% endif %}\n\n\n\n\n\n\n    <!--<div  id = \"\" style = 'page-break-after :always;  ' >  </div>-->\n\n    <!--<div class = 'text-center' style = \"font-size:12px; font-weight:600\" >General Terms and Conditions </div>-->\n\n\n\n\n\n\n\n{% set footer = frappe.db.get_value(\"Letter Head\", doc.letter_head, \"footer\") %}\n\n{% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(), \"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user}) %}\n{{ footer_updated }}\n\n\n    <div id=\"footer-html\" class=\"visible-pdf text-center  \" style = \"font-size:10px\" >\n        <p id=\"demo\"></p>\n        <div class=\"letter-head-footer text-size-10 text-center \"  style=\"font-size: 10px;\"  >\n            {{ footer }}\n        </div>\n        <p class=\"text-center small page-number visible-pdf\" style = \"font-size:10px\" >\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\n        </p>\n    </div> \n    \n    <!--Page break here-->\n    \n   <div style=\"page-break-after: always;\"></div>\n<style>\n</style>\n\n<div id=\"header-html\" class = \"margin-top-15\"   style = \" margin-top:5px  !important; width:92.2%; margin-left:15px !important\">\n    <div class = \"row\" style = \"\">\n\n        <div class = \"col-xs-10\" style = \"width:100%;   float:left; border:1px solid black \">\n            {% set header = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1}, \"content\") %}\n            \n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website',]) %}\n            \n            {% set comapny_address_line1 = '' %}        \n            {% set comapny_city = '' %}        \n            {% set comapny_counrty = '' %}        \n            {% set comapny_state = '' %}        \n            {% set phone = '' %}        \n    \n            {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\n    \n            {% if company_address_name  %}\n                {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\n                    \n    \n            {% set comapny_address_line1 = address.address_line1 %}        \n            {% set comapny_city =  address.city  %}        \n            {% set comapny_counrty =  address.country  %}        \n            {% set comapny_state =  address.state  %}        \n    \n            {% set phone = address.phone %}        \n    \n            {% endif  %}\n            \n            {% if company_details %}\n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \n            'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \n            'state' : comapny_state,\n            'phone_no' : phone, 'email' : company_details[0].email, 'pin_no': company_details[0].tax_id ,  'company_logo' : company_details[0].company_logo, 'website' : company_details[0].website,  }) %}\n            {{header_updated}}\n            {% endif %}\n            \n\n            <table  class = \"table table-sm\" style = \"width:28%; font-size:10px  \"> \n                <tr>\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:11px\"> Commercial Invoice </b> </span> </center>  </td>\n                </tr>\n\n                <tr>\n                    <td style = 'font-size:10px'> Date </td> <td style = 'font-size:10px'> \n                    {{ doc.get_formatted('transaction_date') }} \n                </tr>\n\n                <tr> \n                    <td style = \"font-size:10px\"> INV# </td> <td style = \"font-size:10px\">  {{ doc.name }}</td>\n                </tr>\n                <tr> \n                    <td style = \"font-size:10px\"> Division </td> <td style = \"font-size:10px\">  {{ doc.cost_center }} </td>\n                </tr>\n                <tr> \n                    <td style = \"font-size:10px\"> Department </td> <td style = \"font-size:10px\">  {{ doc.department }} </td>\n                </tr>\n\n\n            </table>\n\n\n        </div>\n</div>\n\n\n</div>\n\n<table class = \"margin-top-15\"  style = \"width:100%; font-size:10px !important; border-bottom:1px solid black !important;\"> \n    <tr> \n        <td style = \"width:35%\">  \n            <div>  <b style=\"font-size:10px\"> Bill To, </b></div>\n            <div> <b style = \"font-size:10px\" > {{ doc.customer_name }} </b> </div>\n            <div style = \"font-size:10px\" > {{ doc.address_display }} </div>\n        </td>\n        <td style=\"20%\">\n            <img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\" class=\"center\" height=80px>\n        </td>\n        <td style = \"width:45%\">  \n            <table class = \" text-size-10\" style = \"width:100%; margin-top:-1px !important;\" cellspacing = '0' cellpadding = '0'> \n                <tr>\n                    {% set po_order = frappe.db.get_value(\"Purchase Order\", doc.name, \"name\") %}\n                    {% set po_date = frappe.db.get_value(\"Purchase Order\", doc.name, \"transaction_date\") %}\n                    <td class = \"text-size-10\"  style = 'font-size:10px'> PO Date </td> <td class = \"text-size-10\"  style = 'font-size:11px'>  {{ po_date }} </td>\n                </tr>\n                <tr>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'> Customer PO#. </td> <td class = \"text-size-10\"  style = 'font-size:11px'>  {{po_order}} </td>\n                </tr>\n                <tr>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'> Sales Person </td>\n                    {% set salesman = [] %}\n                    {% for i in doc.sales_team %}\n                        {% set salesman = salesman.append(i.get(\"sales_person\")) %}\n                        \n                    {% endfor %}\n                    {% set sales_team = salesman|join(', ') %}\n                    \n                    <td class = \"text-size-10\"  style = 'font-size:10px'>{{sales_team}}</td>\n                </tr>\n                <tr>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'> Currency </td>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'>{{ doc.currency }}</td>\n                </tr>\n\n\n                <tr>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'> Customer Pin </td>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'>{{ doc.tax_id }}</td>\n                </tr>\n\n            </table>\n        </td>\n    </tr>\n</table>\n<div style=\"margin-top:2px; height:40px; border:1px solid black;\">\n   Additional Notes:\n    <p>\n        {% if doc.posa_notes %}\n        {{doc.posa_notes}} \n        {% endif %}\n    </p>\n</div>\n\n<table class=\"table table-sm\" style=\"width:100%; font-size:9px; margin-top:10px\" border=\"1\">\n    <tr>\n        <thead>\n            <th class=\"text-left text-size-9\" style='border: 1px solid black; border-bottom: 1px solid black;'>#</th>\n            <th class=\"text-left text-size-9\" style='border: 1px solid black; border-bottom: 1px solid black;'>Item Code</th>\n            <th class=\"text-left text-size-9\" style='border: 1px solid black; border-bottom: 1px solid black;'>Item Name</th>\n            <th class=\"text-right text-size-9\" style='border: 1px solid black; border-bottom: 1px solid black;'>Qty(PCS)</th>\n            <th class=\"text-right text-size-9\" style='border: 1px solid black; border-bottom: 1px solid black;'>Qty(SQM)</th>\n            <th class=\"text-right text-size-9\" style='border: 1px solid black; border-bottom: 1px solid black;'>Exc.VAT</th>\n            <th class=\"text-right text-size-9\" style='border: 1px solid black; border-bottom: 1px solid black;'>VAT</th>\n            <th class=\"text-right text-size-9\" style='border: 1px solid black; border-bottom: 1px solid black;'>Inc.VAT</th>\n        </thead>\n    </tr>\n{% set item_details = {} %}\n    {% set total_ex_vat = 0.0 %}\n    {% set total_inclusive = 0.0 %}\n    {% set total_qty_sqm = 0 %}\n    {% set total_exc_vat = 0.0 %}\n    {% set total_vat = 0.0 %}\n    {% set total_inc_vat = 0.0 %}\n    {% set tax_type = doc.tax_type %}\n    {% set tem_vat = 0 %}\n\n    {% for row in doc.items %}\n        {% if row.item_code != \"Installation Charge\" %}\n            {% set ex_vat = row.net_amount / 100 * (row.total_tax_percentage | replace(\"%\", \"\") | int) %}\n            {% set in_vat = row.net_amount / 100 * (row.total_tax_percentage | replace(\"%\", \"\") | int) %}\n            {% set total_inclusive_temp = 0 %}\n            {% if tax_type == 'Exclusive' %}\n                {% set total_inclusive_temp = ex_vat + row.net_amount %}\n            {% else %}\n                {% set total_inclusive_temp = row.net_amount + in_vat %}\n            {% endif %}\n\n            {% set total_ex_vat = total_ex_vat + row.net_amount %}\n            {% set total_qty_sqm = total_qty_sqm + row.qty %}\n            {% set total_exc_vat = total_exc_vat + ex_vat %}\n            {% set total_vat = total_vat + tem_vat %}\n            {% set total_inc_vat = total_inc_vat + total_inclusive_temp %}\n            \n            {% if row.item_code in item_details %}\n                {% set _ = item_details[row.item_code].update({\n                    'pcs': (item_details[row.item_code]['pcs'] | default(0)) + row.pcs,\n                    'qty_pcs': (item_details[row.item_code]['qty_pcs'] | default(0)) + row.qty,\n                    'ex_vat': (item_details[row.item_code]['ex_vat'] | default(0)) + row.net_amount,\n                    'vat': (item_details[row.item_code]['vat'] | default(0)) + tem_vat,\n                    'inc_vat': (item_details[row.item_code]['inc_vat'] | default(0)) + row.amount,\n                }) %}\n            {% else %}\n                {% set _ = item_details.update({\n                    row.item_code: {\n                        'name': row.item_name,\n                        'pcs': row.pcs,\n                        'qty_pcs': row.qty,\n                        'ex_vat': ex_vat,\n                        'vat': tem_vat,\n                        'inc_vat': total_inclusive_temp,\n                    }\n                }) %}\n            {% endif %}\n        {% endif %}\n    {% endfor %}\n    \n{% set total_qty_sqm = item_details.values()|map(attribute='qty_pcs')|sum %}\n{% set total_ex_vat = doc.items|map(attribute='amount')|sum %}\n{% set total_tax = item_details.values()|map(attribute='ex_vat')|sum %}\n{% set total_vat = item_details.values()|map(attribute='vat')|sum %}\n{% set total_inc_vat = item_details.values()|map(attribute='inc_vat')|sum %}\n{% set total_exclusive = total_inc_vat - total_tax %}\n\n{% for item_code, details in item_details.items() %}\n    <tr>\n        <td style=\"border: 1px solid black; border-bottom: 1px solid black;\" class=\"text-left text-size-9\" >{{ loop.index }}</td>\n        <td style=\"border: 1px solid black; border-bottom: 1px solid black;\" class=\"text-left text-size-9\">{{ item_code }}</td>\n        <td style=\"border: 1px solid black; border-bottom: 1px solid black;\" class=\"text-left text-size-9\">{{ details['name'] }}</td>\n        <td style=\"border: 1px solid black; border-bottom: 1px solid black;\" class=\"text-right text-size-9\">{{ details['pcs'] }}</td>\n        <td style=\"border: 1px solid black; border-bottom: 1px solid black;\" class=\"text-right text-size-9\">{{ '{0:,.2f}'.format(details['qty_pcs']) }}</td>\n        <td style=\"border: 1px solid black; border-bottom: 1px solid black;\" class=\"text-right text-size-9\">{{ '{0:,.2f}'.format(details['inc_vat'] - details['ex_vat']) }}</td>\n        <td style=\"border: 1px solid black; border-bottom: 1px solid black;\" class=\"text-right text-size-9\">{{ '{0:,.2f}'.format(details['ex_vat']) }}</td>\n        <td style=\"border: 1px solid black; border-bottom: 1px solid black;\" class=\"text-right text-size-9\">{{ '{0:,.2f}'.format(details['inc_vat']) }}</td>\n    </tr>\n{% endfor %}\n\n<tr>\n    <td colspan=\"4\" class=\"text-right\"><b>Total:</b></td>\n    <td class=\"text-right\"><b>{{ '{0:,.2f}'.format(total_qty_sqm) }}</b></td>\n    <td class=\"text-right\"><b>{{ '{0:,.2f}'.format(total_exclusive) }}</b></td>\n    <td class=\"text-right\"><b>{{ '{0:,.2f}'.format(total_tax) }}</b></td>\n    <td class=\"text-right\"><b>{{ '{0:,.2f}'.format(total_inc_vat) }}</b></td>\n</tr>\n\n\n\n\n\n\n</table>\n\n<table style=\"width:100%; font-size:11px; margin-top:2px\">\n    <tr rowspan=\"1\" style=\"border-top: 1px solid black; border-bottom: 1px solid black\">\n        {% for key, val in uoms_object.items() %}\n            <td colspan=\"1\" style='border: 1px solid black'><b>Total {{key}}: {{val | round(2)}} </b></td>\n        {% endfor %}\n    </tr>\n</table>\n<table style=\"border:1px solid black; font-weight:10px; margin-top:2px;\">\n    <tr>\n        <td style=\"font-size:10px; border: 1px solid black\"><b>Approximate Weight:</b><br> <u>{{ doc.approximate_weight_ or '_________' }} </u> Kgs</td>\n        <td style='font-size:10px; border: 1px solid black;'><b>Packed in:</b><u>{{ doc.packed_in or '___________'}}</u> Package</td>\n        <td style='font-size:10px; border: 1px solid black;'><b>Transport By: </b> <u>{{ doc.transport_by or '___________'}}</u></td>\n        <td style='font-size:10px; border: 1px solid black;'><b>Exit Border Point: </b> <u>{{ doc.exit_border_point or '___________'}}</u></td>\n    </tr>\n\n    <tr>\n        <td>\n            <div style='font-size:10px;'>\n                <b>Ex-Factory-Nairobi</b><br><br>\n                <b>For And on Behalf of <br> Impala Glass Industries Ltd\n                    <br><br><br><br>_________________________________________\n                </b>\n\n            </div>\n        </td>\n    </tr>\n</table>\n<table class=\"table table-sm\">\n    <tr>\n        <td colspan=\"\">\n            <p class=\"text-size-10\">Created By: {{ doc.owner }}</p>\n\n            <p class=\"text-size-10\">Created ON: {{ doc.get_formatted('creation') }}</p>\n            <p class=\"text-size-10\">Authorized By: {% if doc.workflow_state=='Approve Order' %}\n                    {{frappe.db.get_value('Workflow Action', {'reference_doctype' : 'Sales Order', 'reference_name' : doc.name, 'workflow_state': 'Approve Order'}, 'owner')}}\n                {% endif %} </p>\n        </td>\n        <td colspan=\"4\" class=\"text-right\">\n\n            <table class=\"text-right\" style='width:100%; border:none'>\n                <tr class=\"text-right\">\n                    <td colspan=\"\" class=\"text-size-10 text-right\" style=\"font-size:10px; font-weight:bold;\"><b>Excl. Vat</b></td>\n                    <td colspan=\"\" class=\"text-size-10 text-right\"\n                        style=\"font-size:10px; font-weight:bold;\"><b>\n\n\n                            {{ '{0:,.2f}'.format(total_exclusive) }}\n                    </b></td>\n\n\n                </tr>\n\n                <tr class=\"text-right\">\n                    <td colspan=\"\" class=\"text-size-10 text-right\"\n                        style=\"font-size:10px; font-weight:bold;\"> <b> Total Amount: </b> </td>\n                    <td colspan=\"\" class=\"text-size-10 text-right\"\n                        style=\"font-size:10px; font-weight:bold;\">\n                        <b>\n\n                            {{ '{0:,.2f}'.format(doc.total) }}\n\n\n                        </b></td>\n                </tr>\n            </table>\n\n\n        </td>\n    </tr>\n</table>\n\n<div style=\"margin-top:1px; margin-bottom:1px;  border:1px solid black;\">\n     \n</div>\n{% if doc.docstatus==0 %}\n<div class ='watermark'>\n    DRAFT\n</div>\n{% endif %}\n\n\n\n\n\n\n    <!--<div  id = \"\" style = 'page-break-after :always;  ' >  </div>-->\n\n    <!--<div class = 'text-center' style = \"font-size:12px; font-weight:600\" >General Terms and Conditions </div>-->\n\n\n\n<div style=\"margin-top:1px; margin-bottom:1px;  border:1px solid black;\"></div>\n<div class = 'text-center' style = \"font-size:12px;\" >Goods sold as per our terms & condition, to view the same visit <a href=\"https://impalaglass.com/tnc/\">impalaglass.com/tnc</a></div>\n\n\n\n\n\n{% set footer = frappe.db.get_value(\"Letter Head\", doc.letter_head, \"footer\") %}\n\n{% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(), \"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user}) %}\n{{ footer_updated }}\n\n\n    <div id=\"footer-html\" class=\"visible-pdf text-center  \" style = \"font-size:10px\" >\n        <p id=\"demo\"></p>\n        <div class=\"letter-head-footer text-size-10 text-center \"  style=\"font-size: 10px;\"  >\n            {{ footer }}\n        </div>\n        <p class=\"text-center small page-number visible-pdf\" style = \"font-size:10px\" >\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\n        </p>\n    </div>\n    ",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:11:01.813649",
  "module": "AQIQ Print Formats",
  "name": "Commercial Invoice",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": ".li_high{\r\n    line-height: 1 !important;\r\n}\r\n\r\n@media screen,pdf{\r\n\t\t.print-format {\r\n\t\t}\r\n\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n \r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n \r\n#main_tab *{\r\nline-height:1.4;\r\nmargin:0px !important;\r\npadding:2px !important;\r\nfont-size:9px;\r\n}\r\n margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\nmargin-top-15{\r\n    margin-top:15px;\r\n}\r\n \r\n   .text-size-9{\r\n     font-size:9px;\r\n }\r\n \r\n    }\r\n    \r\n@media print{\r\n\t\t.print-format {\r\n\t\t}\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n \r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n  .text-size-9{\r\n     font-size:9px;\r\n }\r\n \r\n table.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n \r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n@media screen {\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n\r\n  .text-size-9{\r\n     font-size:9px;\r\n }\r\n\r\n.amount-val{\r\n   color:darkgrey;\r\n   bottom:20px;\r\n   position:relative;\r\n}\r\n\r\n/*.watermark {*/\r\n/*    position: fixed;*/\r\n/*    top: 420px;*/\r\n/*    left: 220px;*/\r\n/*    right: 220px;*/\r\n/*    background: url(\"http://192.241.152.17/files/draft-background.png\");*/\r\n/*    background-repeat: no-repeat;*/\r\n    /*background-size: center;*/\r\n/*    height:400px;*/\r\n/*    width:50%;*/\r\n/*    background-position: center;*/\r\n/*    background-size: 100%;*/\r\n/*    color:black !important;*/\r\n/*    opacity: 0.3;*/\r\n/*    position: running(wtrmrk);*/\r\n/*    background-repeat: repeat-x;*/\r\n/*    }*/\r\n\r\n.watermark {\r\n    position: fixed;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%) rotate(-45deg);\r\n    opacity: 0.5;\r\n    font-size: 100px;\r\n    color: rgba(255, 0, 0, 0.3);\r\n}\r\n\r\n\r\n.days_tab {\r\n    position: relative;\r\n}\r\n\r\n.barchart-Wrapper {\r\n      display: table;\r\n      position: relative;\r\n      margin: 20px 0;\r\n      height: 120px;\r\n    }\r\n    .barChart-Container {\r\n      display: table-cell;\r\n      width: 100%;\r\n      height: 100%;\r\n      padding-left: 20px;\r\n      padding-right: 20px;\r\n    }\r\n    .barchart {\r\n     display: table;\r\n     table-layout: fixed;\r\n     height: 100%;\r\n     width: 100%;\r\n     border-bottom: 3px solid darkgrey;\r\n    }\r\n    .barchart-Col {\r\n      position: relative;\r\n      vertical-align: bottom;\r\n      display: table-cell;\r\n      height: 100%;\r\n    }\r\n    .barchart-Col + .barchart-Col {\r\n      border-left: 4px solid transparent;\r\n    }\r\n    .barchart-Bar {\r\n      position: static;\r\n      height: 0;\r\n      transition: height 0.5s 2s;\r\n      width: 10px;\r\n      margin: auto;\r\n    }\r\n    .barchart-Bar:after {\r\n      content: attr(attr-height);\r\n      color: white;\r\n      position: absolute;\r\n      text-align: center;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter {\r\n      position: absolute;\r\n      text-align: center;\r\n      left:40px;\r\n      height: 10%;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter h3 {\r\n      color: darkred;\r\n    }\r\n    .barchart-TimeCol {\r\n      position: absolute;\r\n      top: 0;\r\n      height: 100%;\r\n      width: 100%;\r\n    }\r\n    .barchart-Time {\r\n      height: 25%;\r\n      vertical-align: middle;\r\n      position: relative;\r\n    }\r\n    .barchart-Time:after {\r\n      border-bottom: 3px solid white;\r\n      content: \"\";\r\n      position: absolute;\r\n      width: 100%;\r\n      left: 0;\r\n      top: 0em;\r\n    }\r\n    .barchart-TimeText {\r\n      position: absolute;\r\n      top: -8px;\r\n      z-index: 1;\r\n      background: white;\r\n      padding-right: 5px;\r\n      color: #4d4d4d;\r\n      font-size: 15px;\r\n      font-family: 'Avenir Medium';\r\n    }\r\n    .sq1-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq1-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq2-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq2-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq3-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq3-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq4-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq4-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    \r\n}\r\n\r\n",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Sales Order",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<style>\n</style>\n\n<div id=\"header-html\" class = \"margin-top-15\"   style = \" margin-top:-20px  !important; width:92.2%; margin-left:15px !important\">\n    <div class = \"row\" style = \"\">\n\n        <div class = \"col-xs-10\" style = \"width:100%;   float:left; border:1px solid black \">\n             {% set header = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1}, \"content\") %}\n\n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website',]) %}\n            \n            \n        \n        {% set comapny_address_line1 = '' %}        \n        {% set comapny_city = '' %}        \n        {% set comapny_counrty = '' %}        \n        {% set comapny_state = '' %}        \n        {% set phone = '' %}        \n\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\n\n        {% if company_address_name  %}\n            {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\n                \n\n        {% set comapny_address_line1 = address.address_line1 %}        \n        {% set comapny_city =  address.city  %}        \n        {% set comapny_counrty =  address.country  %}        \n        {% set comapny_state =  address.state  %}        \n\n        {% set phone = address.phone %}        \n\n        {% endif  %}\n\n\n            \n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \n            'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \n            'state' : comapny_state,\n            'phone_no' : phone, 'email' : company_details[0].email, 'pin_no': company_details[0].tax_id ,  'company_logo' : company_details[0].company_logo, 'website' : company_details[0].website,  }) %}\n            {{header_updated}}\n            \n\n            <table  class = \"table table-sm\" style = \"width:28%; font-size:10px  \"> \n                <tr>\n                    {% if doc.workflow_state == \"Quotation\" %}\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:11px\"> SALES QUOTATION </b> </span> </center>  </td>\n                    {% else %}\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:11px\"> SALES ORDER </b> </span> </center>  </td>\n                    {% endif %}\n                </tr>\n\n                <tr>\n                    <td style = 'font-size:10px'> Date </td> <td style = 'font-size:10px'> \n                    {{ doc.get_formatted('transaction_date')}}\n                </tr>\n\n                <tr> \n                    <td style = \"font-size:10px\"> SO# </td> <td style = \"font-size:10px\">  {{ doc.name }}</td>\n                </tr>\n                <tr> \n                    <td style = \"font-size:10px\"> Division </td> <td style = \"font-size:10px\">  {{ doc.cost_center }} </td>\n                </tr>\n                <tr> \n                    <td style = \"font-size:10px\"> Department </td> <td style = \"font-size:10px\">  {{ doc.department }} </td>\n                </tr>\n                <tr> \n                    <td style = \"font-size:11px\"> Warehouse </td> <td style = \"font-size:11px\">  {{ doc.set_warehouse }} </td>\n                </tr>\n\n            </table>\n\n\n        </div>\n</div>\n\n\n</div>\n\n<table class = \"margin-top-15\"  style = \"width:100%; font-size:10px !important; border-bottom:1px solid black !important;\"> \n    <tr> \n        <td style = \"width:35%\">  \n            <div>  <b style=\"font-size:10px\"> Bill To, </b></div>\n            <div> <b style = \"font-size:10px\" > {{ doc.customer }} </b> </div>\n            <div> <b style = \"font-size:10px\" > {{ doc.customer_name }} </b> </div>\n            <div style = \"font-size:10px\" > {{ doc.address_display }} </div>\n        </td>\n        <td style=\"20%\">\n            <img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\" class=\"center\" height=80px>\n        </td>\n        <td style = \"width:45%\">  \n            <table class = \" text-size-10\" style = \"width:100%; margin-top:-1px !important;\" cellspacing = '0' cellpadding = '0'> \n                <tr>\n                    {% set po_order = frappe.db.get_value(\"Purchase Order\", doc.name, \"name\") %}\n                    {% set po_date = frappe.db.get_value(\"Purchase Order\", doc.name, \"transaction_date\") %}\n                    <td class = \"text-size-10\"  style = 'font-size:10px'> PO Date </td> <td class = \"text-size-10\"  style = 'font-size:11px'>  {{ po_date }} </td>\n                </tr>\n                <tr>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'> Customer PO#. </td> <td class = \"text-size-10\"  style = 'font-size:11px'> {{doc.po_no}} </td>\n                </tr>\n                <tr>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'> Sales Person </td>\n                    {% set salesman = [] %}\n                    {% for s in doc.sales_team %}\n                        {% set salesman = salesman.append(s.get(\"sales_person\")) %}\n                        \n                    {% endfor %}\n                    {% set sales_team = salesman|join(', ') %}\n                    \n                    <td class = \"text-size-10\"  style = 'font-size:10px'>{{sales_team}}</td>\n                </tr>\n                <tr>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'> Currency </td>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'>{{ doc.currency }}</td>\n                </tr>\n\n\n                <tr>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'> Customer Pin </td>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'>{{ doc.tax_id }}</td>\n                </tr>\n\n            </table>\n        </td>\n    </tr>\n</table>\n<div style=\"margin-top:2px; height:40px; border:1px solid black;\">\n   Additional Notes:\n    <p>\n        {% if doc.posa_notes %}\n        {{doc.posa_notes}} \n        {% endif %}\n    </p>\n</div>\n\n\n    \n<!---new table start  from here for item componet v2-->    \n    \n    <div class = \"\" style = \"width:100%\">\n{% set total_ex_vat = {\"total_ex_vat\": 0.0} %}\n{% set tot_qty = {\"tot_qty\": 0.0} %}\n{% set tot_pcs = {\"tot_pcs\": 0.0} %}\n{% set total_in_vat = {\"total_in_vat\": 0.0} %}\n{% set total_amount = {\"total_amount\": 0} %}\n{% set total_vat = {\"total_vat\": 0} %}\n{% set total_inclusive = {\"total_inclusive\": 0} %}\n\n<table class = \"custom_print table table-sm table-bordered \" style = \"width:100%\" border = \"1\" id=\"main_tab\"> \n\n\n    <thead> \n        <tr style = \"background-color:#FBFCFC;color:black \" > \n            <th style=\"width:3%;\"> <b>No</b> </th>\n            <th style=\"width:5%;\"> <b>Item Code</b> </th>\n            <th style=\"width:15%;\"> <b>Item Name</b> </th>\n            <th  class=\"text-center\" style=\"width:6%;\"><b> Width </b></th>\n            <th  class=\"text-center\" style=\"width:6%;\"><b> Height </b></th>\n            <th  class=\"text-center\" style=\"width:5%;\"><b> Pcs </b></th>\n            <th  class=\"text-center\" style=\"width:5%;\"><b> Qty/SQM </b></th>\n            <!--<th  class=\"text-center\" style=\"width:10%;\"><b> Rate </b></th>-->\n            <!--<th  class=\"text-center\" style=\"width:8%;\"><b> Exc.VAT </b></th>-->\n            <!--<th  class=\"text-center\" style=\"width:8%;\"><b> Chargeable Size</b></th>-->\n            <th style=\"width:16%;\"> <b>Shape</b> </th>\n            <th  class=\"text-center\" style=\"width:5%;\"><b> Wastage</b></th>\n            <th  class=\"text-center\" style=\"width:5%;\"><b> Inc Wastage</b></th>\n            <th style=\"width:16%;\"> <b>Additional Notes</b> </th>\n            \n        </tr>\n    </thead>\n    <thead> \n         <tr> \n                            <th class=\"li_high\"><b>Item Group</b> </th>\n                            <th colspan=\"4\" class=\"li_high\"><b>Item Code </b> </th>\n                            <th colspan=\"4\" class=\"li_high\"> <b>Item Name</b> </th>\n                            <th class=\"li_high\"><b> Qty</b> </th>\n                            <th class=\"li_high\"><b> Price Type</b> </th>\n                        </tr>\n    </thead>\n    \n    \n    {% set total_qty_sqm = {\"total_qty_sqm\": 0} %}\n    {% set total_amount_sqm = {\"amount\": 0} %}\n    {% set total_qty_sqm_pcs = {\"qty\": 0} %}\n    {% set total_amount_sqm_pcs = {\"amount\": 0} %}\n    {% set total_pcs = {\"total_pcs\": 0} %}\n    {% set total_pcs_amount = {\"amount\": 0} %}\n    {% set total_fittings_qty = {\"qty\" : 0} %}\n    {% set total_fittings_amount = {\"amount\": 0} %}\n{% for i in doc.items %}\n        {% if not i.uom == 'Nos' %}\n        <tr>\n            <td style=\"\"> <b> {{i.idx}} </b>  </td>\n            <td style=\"\"> <b>{{i.item_code}}  </b> </td>\n            <td style=\"\"><b> {{i.item_name}}   </b></td>\n            <td style=\"\"><b> {{i.width }}  </b></td>\n            <td style=\"\"><b> {{i.height }} </b> </td>\n            {% if i.uom == 'Square Meter' %}\n            <td style=\"\"><b>{{ i.pcs }}</b> </td>\n            {% else %}\n            <td style=\"\"><b></b> </td>\n            {% endif %}\n            {% if i.uom == \"Square Meter\" %}\n             <td style=\"\"><b>{{ i.qty }}</b> </td>\n             {% else %}\n             <td></td>\n             {% endif %}\n            {% if tot_qty.update({\"tot_qty\": tot_qty[\"tot_qty\"] + i.qty}) %} {% endif %}\n            \n            {% if i.uom == 'PCS' %}\n            {% elif i.uom == 'Square Meter' %}\n            {% else %}\n            {% endif %}\n             {% set in_vat = '' %}\n        {% set total_tax_percentage = i.total_tax_percentage |replace(\"%\", \"\")  %}\n        {% set ex_vat  =  ((i.net_amount|float / 100) * total_tax_percentage|int)  %}\n        {% set in_vat  =  i.net_amount  / 100 * total_tax_percentage | int  %}\n            \n            <td style=\"\"><b> {{i.shape or '' }} </b> </td>\n            {% set westage = i.wastage_rate * i.qty%}\n            <td style=\"\"> <b>{{'{0:,.2f}'.format(westage)}}</b> </td>\n            {% set inc_westage = i.wastage_per /(i.wastage_per+100) %}\n            <td style=\"\"> <b>{{'{0:,.2f}'.format(inc_westage)}} </b></td>\n            <td style=\"\"><b> {{i.posa_notes}}   </b></td>\n        </tr>\n    {% endif %}\n    {% if i.uom == 'Square Meter' %}\n        {% set total_qty_sqm = total_qty_sqm.update({\"total_qty_sqm\": total_qty_sqm.total_qty_sqm + i.qty}) %}\n        {% if total_amount_sqm.update({\"amount\":total_amount_sqm.amount + i.net_amount }) %} {% endif %}\n        {% if total_qty_sqm_pcs.update({\"qty\": total_qty_sqm_pcs.qty + i.pcs }) %} {% endif %}\n        {% if total_amount_sqm_pcs.update({\"amount\": total_amount_sqm_pcs.amount + i.net_amount }) %} {% endif %}\n        {% if total_pcs.update({\"total_pcs\": total_pcs.total_pcs + frappe.utils.ceil(i.pcs)}) %}{% endif %}\n        {% if total_pcs_amount.update({\"amount\": total_pcs_amount.amount + i.net_amount }) %} {% endif %}\n    {% endif %}\n    \n    {% if i.uom in ('PCS', \"Meter\") %}\n        {% if total_pcs.update({\"total_pcs\": total_pcs.total_pcs + frappe.utils.ceil(i.qty)}) %} {% endif %}\n        {% if total_pcs_amount.update({\"amount\": total_pcs_amount.amount + i.net_amount }) %} {% endif %}\n        {% if total_fittings_qty.update({\"qty\": total_fittings_qty.qty + i.qty}) %} {% endif %}\n        {% if total_fittings_amount.update({\"amount\": total_fittings_amount.amount + i.net_amount }) %} {% endif %}\n    {% endif %}\n    \n{% set unique_groups = [] %}\n{% for li in doc.components %}\n{% if li.item_group %}\n{% set grps = li.item_group  %}\n{% else %}\n{% set grps = frappe.db.get_value(\"Item\", li.item_code, \"item_group\")  %}\n{% endif %}\n{% if not grps in unique_groups %}\n{% if li.item_detail == i.name %}\n{% set gg = unique_groups.append(grps) %}\n{% endif %}\n{% endif %}\n{% endfor %}\n            {% for ug in unique_groups %}\n            {% set final = [] %}\n            {% set final_detail = [] %}\n                \t\t{% set count = 0 %}\n                \t\t{% for c in doc.components %}\n                \t\t\n                \t\t{% if c.item_group %}\n                        {% set grp = c.item_group  %}\n                        {% else %}\n                        {% set grp = frappe.db.get_value(\"Item\", c.item_code, \"item_group\")  %}\n                        {% endif %}\n                        \n                        {% set item_detailing = dict() %}\n                        {% if (ug == grp) and (c.item_detail == i.name)  %}\n                    \t{% set mum = item_detailing.update( {\"item_code\":c.item_code,\"item_name\":c.item_name, \"qty\":c.qty,\"price_type\":c.price_type} ) %}\n                \t\t{% set mum = final_detail.append(item_detailing) %}\n                \t\t{% endif %}\n                \t\t{% endfor %}\n                \t\t{% set mum = final_detail.append({\"item_code\" : \"\", \"qty\" : \"\", \"price_type\" : \"\"}) %}\n                \t\t{% set total_qty = {\"total_qty\": 0} %}\n                \t\t{% for y in range((final_detail|length) -1) %}\n                \t\t{% if ((final_detail[y].item_code == final_detail[y+1].item_code) or (final_detail[y].item_code == final_detail[y-1].item_code)) %}\n                             {% if total_qty.update({\"total_qty\": total_qty[\"total_qty\"] + final_detail[y].qty }) %} {% endif %}\n                        {% endif %}\n                \t\t{% endfor %}\n                \t\t{% if (total_qty.total_qty) %}\n                        {% set mum = final.append({\"item_code\" : final_detail[0].item_code, \"qty\" : total_qty.total_qty, \"price_type\" : final_detail[0].price_type}) %}\n                        {% endif %}\n                \t\t{% for z in range((final_detail|length) -1) %}\n                \t\t{% if (final_detail[z].item_code != final_detail[z+1].item_code) and (final_detail[z].item_code != final_detail[z-1].item_code) %}\n                \t\t{% if (final_detail[z].item_code) %}\n                             {% set mum = final.append({\"item_code\" : final_detail[z].item_code, \"qty\" : final_detail[z].qty, \"price_type\" : final_detail[z].price_type}) %}\n                        {% endif %}\n                        {% endif %}\n                \t\t{% endfor %}\n                \t{% for n in range((final|length)) %}\n                \t\t  <tr>\n                \t\t      {% if final[n].item_group %}\n                                {% set grps = final[n].item_group  %}\n                                {% else %}\n                                {% set grps = frappe.db.get_value(\"Item\",final[n].item_code,\"item_group\" )  %}\n                            {% endif %}\n                \t\t    <td class=\"li_high\" style=\"border:none !important;\">{{grps}} </td>\n                            <td class=\"li_high\" colspan=\"4\" style=\"border:none !important;\"> {{ final[n].item_code }}  </td>\n                            <td class=\"li_high\" colspan=\"4\" style=\"border:none !important;\">{{frappe.db.get_value(\"Item\",final[n].item_code,\"item_name\" )}}  </td>\n                            <td class=\"li_high\" style=\"border:none !important;\">{{final[n].qty}} </td>\n                            <td class=\"li_high\"  style=\"border:none !important;\">{{final[n].price_type }} </td>\n                        </tr>\n                \t\t{% endfor %}\n                \t\t{% endfor %}\n\n{% endfor %}\n\n                </table>\n\n    \n\n</div>\n\n        \n        \n        \n        \n     <b>Additional Info:</b>    \n<div class =\"additional-info\" style=\"display: flex; text-decoration:none !important;\" >\n   <div style=\"width:100%; margin-left: auto; text-align: right; border:1px solid black;\">\n        <table style=\"margin-left:auto; align-items:right; position:relative;\">\n            <tr class=\"text-right\">\n                <td colspan=\"\" class=\"text-size-10 text-right\" style=\"font-size:11px; line-height: 0.6;\">\n                    Total Glasses/PCS:\n                </td>\n                <td colspan=\"\" class=\"text-size-10 text-right\" style=\"font-size:11px; line-height: 0.6;\">\n                    {{ total_qty_sqm_pcs.qty }}\n                </td>\n                \n            </tr>\n            <tr class=\"text-left\">\n                <td colspan=\"\" class=\"text-size-10 text-right\" style=\"font-size:11px;  line-height: 0.6;\">\n                    Total Glasses/SQM:\n                </td>\n                <td colspan=\"\" class=\"text-size-10 text-right\" style=\"font-size:11px; line-height: 0.6;\">\n                    {{ '{0:,.3f}'.format(total_qty_sqm.total_qty_sqm) }}\n                </td>\n                \n            <tr class=\"text-right\" style=\"border-top:;\">\n                <td colspan=\"\" class=\"text-size-10 text-right\" style=\"font-size:11px; line-height: 0.6;\">\n                    Excl. VAT:\n                </td>\n                <td colspan=\"\" class=\"text-size-10 text-right\" style=\"font-size:11px; line-height: 0.6;\">\n                    {{doc.currency}} {{ '{0:,.2f}'.format(doc.net_total) }}\n                </td>\n            </tr>\n            <tr class=\"text-right\">\n                \n                <td colspan=\"\" class=\"text-size-10 text-right\" style=\"font-size:11px; line-height: 0.6;\">\n                    Total VAT:\n                </td>\n                <td colspan=\"\" class=\"text-size-10 text-right\" style=\"font-size:11px; line-height: 0.6;\">\n                    {{doc.currency}} {{ '{0:,.2f}'.format(doc.total_taxes_and_charges) }}\n                </td>\n            </tr>\n            <tr class=\"text-right\">\n                \n                <td colspan=\"\" class=\"text-size-10 text-right\" style=\"font-size:11px; line-height: 0.6;\">\n                    <b>Total Amount:</b>\n                </td>\n                <td colspan=\"\" class=\"text-size-10 text-right\" style=\"font-size:11px; line-height: 0.6;\">\n                 <b>   {{doc.currency}} {{ '{0:,.2f}'.format(doc.grand_total) }}</b>\n                </td>\n            </tr>\n            <tr colspan='5'></tr>\n        </table>\n    </div>\n</div>\n\n\n<table style=\"margin-top:2px; border-top:1px solid black;\">\n        <tr> \n        <td colspan = \"\"> \n        <p  class = \"text-size-10\" > Created By: {{ doc.owner }} </p> \n        \n        <p  class = \"text-size-10\" > Created ON: {{ doc.get_formatted('creation')}} </p> \n        <p  class = \"text-size-10\" > \n    Authorized By:  {% if doc.docstatus==1 %} {{doc.owner}} {% endif %} \n    </p>\n\n        \n        </td>\n        <td colspan = \"4\" class = \"text-right\" > \n        \n        <table class = \"text-right\" style = '; width:100%; border:none' > \n        <tr>\n           \n        </tr>\n            \n            \n            \n        </table>\n\n\n        </td>\n        </tr>\n        \n        \n</table>\n<div style=\"margin-top:1px; margin-bottom:1px;  border:1px solid black;\">\n     \n</div>\n{% if doc.docstatus==0 %}\n<div class ='watermark'>\n    DRAFT\n</div>\n{% endif %}\n\n\n\n<!--<div  id = \"\" style = 'page-break-after :always;  ' >  </div>-->\n\n<!--<div class = 'text-center' style = \"font-size:12px; font-weight:600\" >General Terms and Conditions </div>-->\n\n\n<div style=\"width:100%;\">\n     <b style=\"text-size: 13px; padding-left: 3px;margin-left:250px;\">Bank Details</b>\n<div style=\"display:flex; width:100%;\">\n    <div style=\"width:50%;\">\n    <div style=\"margin-top:2px; height:auto; border:1px solid black;\">\n        <p style=\"padding: 3px;\">\n            Habib Bank AG Zurich,<br>\n            Nairobi,Kenya<br>\n            Branch code 17-000<br>\n            USD A/C 09-01-01-20311-333-208022<br>\n            SWIFT:HBZUKENA<br>\n            correspondent Bank: citi Bank,New York<br>\n            Nostro Account No.36406125<br>\n            Swift: CITIUS33<br>\n            <br>\n            <br>\n            <br>\n            <br>\n        </p>\n    </div>\n</div>\n<div style=\"width:50%;\">\n    <div style=\"margin-top:2px; height:auto; border:1px solid black;\">\n    <p style=\"padding: 3px;\">\n        PRIME Bank Ltd,<br>\n        Capital Centre,NAIROBI PO BOX 3599-00506 NAIROBI<br>\n        Bank Branch Code: 10-011<br>\n        Swift Code: PRIEKENX<br>\n        for credit of:IMPALA GLASS INDUSTRY LTD<br>\n        <br>\n        <br>\n        USD Account #3001221337<br>\n        USD Correspondent Bank:<br>\n        Citi Bank New York Nostro<br>\n        Account No.36406125<br>\n        Swift Code CITIUS33\n        \n    </p>\n</div>\n</div>\n</div>\n<!-- <b style=\"text-size: 13px; padding-left: 3px;margin-left:250px;\">M-PESA Paybill Details</b>-->\n<!--<div style=\"border:1px solid black;\">-->\n<!--    M-PESA Paybill No.:\t865283<br>-->\n<!--        Account No: {{doc.name}}-{{doc.customer_name}}-->\n<!--</div>-->\n\n</div>\n\n\n\n<div style=\"margin-top:1px; margin-bottom:1px;  border:1px solid black;\"></div>\n<div class = 'text-center' style = \"font-size:12px;\" >Goods sold as per our terms & condition, to view the same visit <a href=\"https://impalaglass.com/tnc/\">impalaglass.com/tnc</a></div>\n\n\n\n\n{% set footer = frappe.db.get_value(\"Letter Head\", doc.letter_head, \"footer\") %}\n\n{% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(), \"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user}) %}\n{{ footer_updated }}\n\n\n    <div id=\"footer-html\" class=\"visible-pdf text-center  \" style = \"font-size:10px\" >\n        <p id=\"demo\"></p>\n        <div class=\"letter-head-footer text-size-10 text-center \"  style=\"font-size: 10px;\"  >\n            {{ footer }}\n        </div>\n        <p class=\"text-center small page-number visible-pdf\" style = \"font-size:10px\" >\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\n        </p>\n    </div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:11:02.100722",
  "module": "AQIQ Print Formats",
  "name": "Lum Sum",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": ".li_high{\r\n    line-height: 1 !important;\r\n}\r\n\r\n@media screen,pdf{\r\n\t\t.print-format {\r\n\t\t}\r\n\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n \r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n \r\n#main_tab *{\r\nline-height:1.4;\r\nmargin:0px !important;\r\npadding:2px !important;\r\nfont-size:9px;\r\n}\r\n margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\nmargin-top-15{\r\n    margin-top:15px;\r\n}\r\n \r\n   .text-size-9{\r\n     font-size:9px;\r\n }\r\n \r\n    }\r\n    \r\n@media print{\r\n\t\t.print-format {\r\n\t\t}\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n \r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n  .text-size-9{\r\n     font-size:9px;\r\n }\r\n \r\n table.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n \r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n@media screen {\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n\r\n  .text-size-9{\r\n     font-size:9px;\r\n }\r\n\r\n.amount-val{\r\n   color:darkgrey;\r\n   bottom:20px;\r\n   position:relative;\r\n}\r\n\r\n/*.watermark {*/\r\n/*    position: fixed;*/\r\n/*    top: 420px;*/\r\n/*    left: 220px;*/\r\n/*    right: 220px;*/\r\n/*    background: url(\"http://192.241.152.17/files/draft-background.png\");*/\r\n/*    background-repeat: no-repeat;*/\r\n    /*background-size: center;*/\r\n/*    height:400px;*/\r\n/*    width:50%;*/\r\n/*    background-position: center;*/\r\n/*    background-size: 100%;*/\r\n/*    color:black !important;*/\r\n/*    opacity: 0.3;*/\r\n/*    position: running(wtrmrk);*/\r\n/*    background-repeat: repeat-x;*/\r\n/*    }*/\r\n\r\n.watermark {\r\n    position: fixed;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%) rotate(-45deg);\r\n    opacity: 0.5;\r\n    font-size: 100px;\r\n    color: rgba(255, 0, 0, 0.3);\r\n}\r\n\r\n\r\n.days_tab {\r\n    position: relative;\r\n}\r\n\r\n.barchart-Wrapper {\r\n      display: table;\r\n      position: relative;\r\n      margin: 20px 0;\r\n      height: 120px;\r\n    }\r\n    .barChart-Container {\r\n      display: table-cell;\r\n      width: 100%;\r\n      height: 100%;\r\n      padding-left: 20px;\r\n      padding-right: 20px;\r\n    }\r\n    .barchart {\r\n     display: table;\r\n     table-layout: fixed;\r\n     height: 100%;\r\n     width: 100%;\r\n     border-bottom: 3px solid darkgrey;\r\n    }\r\n    .barchart-Col {\r\n      position: relative;\r\n      vertical-align: bottom;\r\n      display: table-cell;\r\n      height: 100%;\r\n    }\r\n    .barchart-Col + .barchart-Col {\r\n      border-left: 4px solid transparent;\r\n    }\r\n    .barchart-Bar {\r\n      position: static;\r\n      height: 0;\r\n      transition: height 0.5s 2s;\r\n      width: 10px;\r\n      margin: auto;\r\n    }\r\n    .barchart-Bar:after {\r\n      content: attr(attr-height);\r\n      color: white;\r\n      position: absolute;\r\n      text-align: center;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter {\r\n      position: absolute;\r\n      text-align: center;\r\n      left:40px;\r\n      height: 10%;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter h3 {\r\n      color: darkred;\r\n    }\r\n    .barchart-TimeCol {\r\n      position: absolute;\r\n      top: 0;\r\n      height: 100%;\r\n      width: 100%;\r\n    }\r\n    .barchart-Time {\r\n      height: 25%;\r\n      vertical-align: middle;\r\n      position: relative;\r\n    }\r\n    .barchart-Time:after {\r\n      border-bottom: 3px solid white;\r\n      content: \"\";\r\n      position: absolute;\r\n      width: 100%;\r\n      left: 0;\r\n      top: 0em;\r\n    }\r\n    .barchart-TimeText {\r\n      position: absolute;\r\n      top: -8px;\r\n      z-index: 1;\r\n      background: white;\r\n      padding-right: 5px;\r\n      color: #4d4d4d;\r\n      font-size: 15px;\r\n      font-family: 'Avenir Medium';\r\n    }\r\n    .sq1-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq1-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq2-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq2-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq3-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq3-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq4-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq4-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    \r\n}\r\n\r\n",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Sales Order",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<style>\n</style>\n\n<div id=\"header-html\" class = \"margin-top-15\"   style = \" margin-top:-20px  !important; width:92.2%; margin-left:15px !important\">\n    <div class = \"row\" style = \"\">\n\n        <div class = \"col-xs-10\" style = \"width:100%;   float:left; border:1px solid black \">\n             {% set header = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1}, \"content\") %}\n\n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website',]) %}\n            \n            \n        \n        {% set comapny_address_line1 = '' %}        \n        {% set comapny_city = '' %}        \n        {% set comapny_counrty = '' %}        \n        {% set comapny_state = '' %}        \n        {% set phone = '' %}        \n\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\n\n        {% if company_address_name  %}\n            {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\n                \n\n        {% set comapny_address_line1 = address.address_line1 %}        \n        {% set comapny_city =  address.city  %}        \n        {% set comapny_counrty =  address.country  %}        \n        {% set comapny_state =  address.state  %}        \n\n        {% set phone = address.phone %}        \n\n        {% endif  %}\n\n\n            \n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \n            'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \n            'state' : comapny_state,\n            'phone_no' : phone, 'email' : company_details[0].email, 'pin_no': company_details[0].tax_id ,  'company_logo' : company_details[0].company_logo, 'website' : company_details[0].website,  }) %}\n            {{header_updated}}\n            \n\n            <table  class = \"table table-sm\" style = \"width:28%; font-size:10px  \"> \n                <tr>\n                    {% if doc.workflow_state == \"Quotation\" %}\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:11px\"> SALES QUOTATION </b> </span> </center>  </td>\n                    {% else %}\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:11px\"> SALES ORDER </b> </span> </center>  </td>\n                    {% endif %}\n                </tr>\n\n                <tr>\n                    <td style = 'font-size:10px'> Date </td> <td style = 'font-size:10px'> \n                    {{ doc.get_formatted('transaction_date')}}\n                </tr>\n\n                <tr> \n                    <td style = \"font-size:10px\"> SO# </td> <td style = \"font-size:10px\">  {{ doc.name }}</td>\n                </tr>\n                <tr> \n                    <td style = \"font-size:10px\"> Division </td> <td style = \"font-size:10px\">  {{ doc.cost_center }} </td>\n                </tr>\n                <tr> \n                    <td style = \"font-size:10px\"> Department </td> <td style = \"font-size:10px\">  {{ doc.department }} </td>\n                </tr>\n                <tr> \n                    <td style = \"font-size:10px\"> Warehouse </td> <td style = \"font-size:10px\">  {{ doc.set_warehouse }} </td>\n                </tr>\n\n            </table>\n\n\n        </div>\n</div>\n\n\n</div>\n\n<table class = \"margin-top-15\"  style = \"width:100%; font-size:10px !important; border-bottom:1px solid black !important;\"> \n    <tr> \n        <td style = \"width:35%\">  \n            <div>  <b style=\"font-size:10px\"> Bill To, </b></div>\n            <div> <b style = \"font-size:10px\" > {{ doc.customer }} </b> </div>\n            <div> <b style = \"font-size:10px\" > {{ doc.customer_name }} </b> </div>\n            <div style = \"font-size:10px\" > {{ doc.address_display }} </div>\n            <div class = \"text-size-10\"  style = 'font-size:10px; margin-top:40px;'> Customer Pin: {{ doc.tax_id }} </div>\n        \n        </td>\n        <td style=\"20%\">\n            <img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\" class=\"center\" height=80px>\n        </td>\n        <td style = \"width:45%\">  \n            <table class = \" text-size-10\" style = \"width:100%; margin-top:-1px !important;\" cellspacing = '0' cellpadding = '0'> \n                <tr>\n                    {% set po_order = frappe.db.get_value(\"Purchase Order\", doc.name, \"name\") %}\n                    {% set po_date = frappe.db.get_value(\"Purchase Order\", doc.name, \"transaction_date\") %}\n                    <td class = \"text-size-10\"  style = 'font-size:10px'> PO Date </td> <td class = \"text-size-10\"  style = 'font-size:11px'>  {{ po_date }} </td>\n                </tr>\n                <tr>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'> Customer PO#. </td> <td class = \"text-size-10\"  style = 'font-size:11px'> {{doc.po_no}} </td>\n                </tr>\n                <tr>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'> Sales Person </td>\n                    {% set salesman = [] %}\n                    {% for s in doc.sales_team %}\n                        {% set salesman = salesman.append(s.get(\"sales_person\")) %}\n                        \n                    {% endfor %}\n                    {% set sales_team = salesman|join(', ') %}\n                    \n                    <td class = \"text-size-10\"  style = 'font-size:10px'>{{sales_team}}</td>\n                </tr>\n                <tr>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'> Currency </td>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'>{{ doc.currency }}</td>\n                </tr>\n\n\n                <tr>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'> Customer Code: </td>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'> {{ doc.customer }}</td>\n                    \n                </tr>\n\n            </table>\n        </td>\n    </tr>\n</table>\n<div style=\"margin-top:2px; height:40px; border:1px solid black;\">\n   Additional Notes:\n    <p>\n        {% if doc.posa_notes %}\n        {{doc.posa_notes}} \n        {% endif %}\n    </p>\n</div>\n<div style=\"margin-top:2px; height:; border:1px solid black; margin-top:10px; font-size:10px;\">\n<p><b>Check List for Order</b></p>\n <table  class = \"\" style = \"width:95%; font-size:10px; \"> \n                <tr>\n                    <td colspan = \"\"> <center>  <span style = \"\"> <b style = \"font-size:10px; line-height:0.6\"> Shape Description: </b></span> </center>  </td>\n                    <td colspan = \"\"> <center>  <span style = \"\"> <b style = \"font-size:10px; line-height:0.6\">Packing Description:</b> </span> </center>  </td>\n                    <td colspan = \"\"> <center>  <span style = \"\"> <b style = \"font-size:10px; line-height:0.6\">Wastage Charges: </b></span> </center>  </td>\n                    <td colspan = \"\"> <center>  <span style = \"\"> <b style = \"font-size:10px; line-height:0.6\"> Fittings Information:</b></span> </center>  </td>\n                    \n                </tr>\n                <tr>\n                     <td colspan = \"\"> <center>  <span style = \"font-size:10px; line-height:0.6\">{% for d in doc.shape_check %}{{ d.option }}{% if not loop.last %}, {% endif%} {% endfor %}</span> </center>  </td>\n                    <td colspan = \"\"> <center>  <span style = \"font-size:10px; line-height:0.6\"> {{ doc.packing_description or ''}}</span> </center>  </td>\n                    <td colspan = \"\"> <center>  <span style = \"font-size:10px; line-height:0.6\">{{ doc.wastage_charges or ''}} </span> </center>  </td>\n                    <td colspan = \"\"> <center>  <span style = \"font-size:10px; line-height:0.6\"> {{ doc.fittings_information or ''}}</span> </center>  </td>\n                </tr>\n              \n              \n                <tr> \n                    <td colspan = \"\"> <center>  <span style = \"\"> <b style = \"font-size:10px; line-height:0.6\">Product Description:</b></span> </center>  </td>\n                    <td colspan = \"\"> <center>  <span style = \"\"> <b style = \"font-size:10px; line-height:0.6\">Measurements: </b> </span> </center>  </td>\n                    <td colspan = \"\"> <center>  <span style = \"\"> <b style = \"font-size:10px; line-height:0.6\">Wastage Percentage:</b>   </span> </center> </td>\n                    <td colspan = \"\"> <center>  <span style = \"\"> <b style = \"font-size:10px; line-height:0.6\">Coating Position:</b>   </span> </center> </td>\n                    \n                </tr>\n                <tr>\n                    <td colspan = \"\"> <center>  <span style = \"font-size:10px; line-height:0.6\">{% for d in doc.product_description %} {{ d.option }} {% if not loop.last %}, {% endif%} {% endfor %}</span> </center>  </td>\n                    <td colspan = \"\"> <center>  <span style = \"font-size:10px; line-height:0.6\"> {% for d in doc.measurements_check %} {{ d.option }} {% if not loop.last %}, {% endif%} {% endfor %}</span> </center>  </td>\n                    <td colspan = \"\"> <center>  <span style = \"font-size:10px; line-height:0.6\">{{ doc.wastage_percentage }}</span> </center>  </td>\n                    <td colspan = \"\"> <center>  <span style = \"font-size:10px; line-height:0.6\">{{ doc.coating_position }}</span> </center>  </td>\n                </tr>\n\n            </table>\n    </div>\n<!---new table start  from here for item componet v2-->    \n    \n    <div class = \"\" style = \"width:100%\">\n{% set total_ex_vat = {\"total_ex_vat\": 0.0} %}\n{% set tot_qty = {\"tot_qty\": 0.0} %}\n{% set tot_pcs = {\"tot_pcs\": 0.0} %}\n{% set total_in_vat = {\"total_in_vat\": 0.0} %}\n{% set total_amount = {\"total_amount\": 0} %}\n{% set total_vat = {\"total_vat\": 0} %}\n{% set total_inclusive = {\"total_inclusive\": 0} %}\n\n\n{% set total_qty_sqm = {\"total_qty_sqm\": 0} %}\n{% set total_amount_sqm = {\"amount\": 0} %}\n{% set total_qty_sqm_pcs = {\"qty\": 0} %}\n{% set total_amount_sqm_pcs = {\"amount\": 0} %}\n{% set total_pcs = {\"total_pcs\": 0} %}\n{% set total_pcs_amount = {\"amount\": 0} %}\n{% set total_fittings_qty = {\"qty\" : 0} %}\n{% set total_fittings_amount = {\"amount\": 0} %}\n{% set prev_item = None %}\n\n\n{% for i in doc.items %}\n  {% if i.uom == 'Square Meter' %}\n    {% set total_qty_sqm = total_qty_sqm.update({\"total_qty_sqm\": total_qty_sqm.total_qty_sqm + i.qty}) %}\n    {% set _ = total_amount_sqm.update({\"amount\": total_amount_sqm.amount + i.net_amount }) %}\n    {% set _ = total_qty_sqm_pcs.update({\"qty\": total_qty_sqm_pcs.qty + i.pcs }) %}\n    {% set _ = total_amount_sqm_pcs.update({\"amount\": total_amount_sqm_pcs.amount + i.net_amount }) %}\n    {% set _ = total_pcs.update({\"total_pcs\": total_pcs.total_pcs + frappe.utils.ceil(i.pcs)}) %}\n    {% set _ = total_pcs_amount.update({\"amount\": total_pcs_amount.amount + i.net_amount }) %}\n{% endif %}\n\n{% if i.uom in ('PCS', \"Meter\") %}\n    {% set _ = total_pcs.update({\"total_pcs\": total_pcs.total_pcs + frappe.utils.ceil(i.qty)}) %}\n    {% set _ = total_pcs_amount.update({\"amount\": total_pcs_amount.amount + i.net_amount }) %}\n    {% set _ = total_fittings_qty.update({\"qty\": total_fittings_qty.qty + i.qty}) %}    \n    {% set _ = total_fittings_amount.update({\"amount\": total_fittings_amount.amount + i.net_amount }) %}\n{% endif %}\n{% endfor %}\n\n\n<b>Additional Info:</b>   \n    <div class =\"additional-info\" style=\"display: flex; text-decoration:none !important; margin-top:5px\" >\n    <div style=\"width: 48%; margin; border:1px solid black;\">\n        <table style = \"\">\n            <tr class=\"text-right\">\n                <td colspan=\"\" class=\"text-size-10 text-left\" style=\"font-size:11px; line-height: 0.6;\">\n                    Total Glasses/PCS (A):\n                </td>\n                <td colspan=\"\" class=\"text-size-10 text-left\" style=\"font-size:11px; line-height: 0.6;\">\n                    {{ total_qty_sqm_pcs.qty }}\n                </td>\n                <td colspan=\"\" class=\"text-size-10 text-left\" style=\"font-size:11px; line-height: 0.6;\">\n                </td>\n            </tr>\n            <tr class=\"text-left\">\n                <td colspan=\"\" class=\"text-size-10 text-left\" style=\"font-size:11px;  line-height: 0.6;\">\n                    Total Glasses/SQM:\n                </td>\n                <td colspan=\"\" class=\"text-size-10 text-left\" style=\"font-size:11px; line-height: 0.6;\">\n                    {{ '{0:,.3f}'.format(total_qty_sqm.total_qty_sqm) or ''}}\n                </td>\n                <td colspan=\"3\" class=\"text-size-10 text-left\" style=\"font-size:11px; line-height: 0.6;\">\n                    {{ doc.currency }}  {{ '{0:,.3f}'.format(total_amount_sqm.amount) or ''}}\n                </td>\n            </tr>\n            \n            <tr class=\"text-right\">\n                <td colspan=\"\" class=\"text-size-10 text-left\" style=\"font-size:11px;  line-height: 0.6;\">\n                    Total Fittings (B):\n                </td>\n                <td colspan=\"\" class=\"text-size-10 text-left\" style=\"font-size:11px; line-height: 0.6;\">\n                    {{ total_fittings_qty.qty  }} \n                </td>\n                <td colspan=\"\" class=\"text-size-10 text-left\" style=\"font-size:10px; line-height: 0.6;\">\n                    {{ doc.currency }}  {{ '{0:,.2f}'.format(total_fittings_amount.amount) }} \n                </td>\n            </tr>\n            <tr class=\"text-right\">\n                <td colspan=\"\" class=\"text-size-10 text-left\" style=\"font-size:11px;  line-height: 0.6;\">\n                    Total Pieces (A+B):\n                </td>\n                <td colspan=\"\" class=\"text-size-10 text-left\" style=\"font-size:11px; line-height: 0.6;\">\n                    {{ total_pcs.total_pcs }} \n                </td>\n                <td colspan=\"\" class=\"text-size-10 text-left\" style=\"font-size:11px; line-height: 0.6;\">\n                    {{ doc.currency }}  {{ '{0:,.2f}'.format(total_pcs_amount.amount) }} \n                </td>\n            </tr>\n        </table>\n    </div>\n   <div style=\"width:48%; margin-left: auto; text-align: right; border:1px solid black;\">\n        <table style=\"margin-left:auto; align-items:right; position:relative;\">\n            <tr class=\"text-right\" style=\"border-top:;\">\n                \n                <td colspan=\"\" class=\"text-size-10 text-right\" style=\"font-size:11px; line-height: 0.6;\">\n                    Excl. VAT:\n                </td>\n                <td></td>\n                <td colspan=\"\" class=\"text-size-10 text-right\" style=\"font-size:11px; line-height: 0.6;\">\n                    {{doc.currency}} {{ '{0:,.2f}'.format(doc.net_total) }}\n                </td>\n            </tr>\n            <tr class=\"text-right\">\n                \n                <td colspan=\"\" class=\"text-size-10 text-right\" style=\"font-size:11px; line-height: 0.6;\">\n                    Total VAT:\n                </td>\n               <td style=\"\"></td>\n                <td colspan=\"\" class=\"text-size-10 text-right\" style=\"font-size:11px; line-height: 0.6;\">\n                    {{doc.currency}} {{ '{0:,.2f}'.format(doc.total_taxes_and_charges) }}\n                </td>\n            </tr>\n            <tr class=\"text-right\">\n                \n                <td colspan=\"\" class=\"text-size-10 text-right\" style=\"font-size:11px; line-height: 0.6;\">\n                    <b>Total Amount:</b>\n                </td>\n                <td></td>\n                <td colspan=\"\" class=\"text-size-10 text-right\" style=\"font-size:11px; line-height: 0.6;\">\n                 <b>   {{doc.currency}} {{ '{0:,.2f}'.format(doc.grand_total) }}</b>\n                </td>\n            </tr>\n            <tr colspan='5'></tr>\n        </table>\n    </div>\n</div>\n\n\n\n\n\n<table class = \"custom_print table table-sm table-bordered \" style = \"width:100%\" border = \"1\" id=\"main_tab\"> \n\n\n    <thead> \n        <tr style = \"background-color:#FBFCFC;color:black \" > \n            <th style=\"width:3%;\"> <b>No</b> </th>\n            <th style=\"width:5%;\"> <b>Item Code</b> </th>\n            <th style=\"width:15%;\"> <b>Item Name</b> </th>\n            <th  class=\"text-center\" style=\"width:6%;\"><b> Width </b></th>\n            <th  class=\"text-center\" style=\"width:6%;\"><b> Height </b></th>\n            <th  class=\"text-center\" style=\"width:5%;\"><b> Pcs </b></th>\n            <th  class=\"text-center\" style=\"width:5%;\"><b> Qty/SQM </b></th>\n            <!--<th  class=\"text-center\" style=\"width:10%;\"><b> rate </b></th>-->\n            <!--<th  class=\"text-center\" style=\"width:8%;\"><b> Exc.VAT </b></th>-->\n            <!--<th  class=\"text-center\" style=\"width:8%;\"><b> Chargeable Size</b></th>-->\n            <th style=\"width:16%;\"> <b>Shape</b> </th>\n            <!--<th  class=\"text-center\" style=\"width:5%;\"><b> Wastage</b></th>-->\n            <!--<th  class=\"text-center\" style=\"width:5%;\"><b> Inc Wastage</b></th>-->\n            <th style=\"width:16%;\"> <b>Additional Notes</b> </th>\n            \n        </tr>\n    <!--</thead>-->\n    <!--<thead> -->\n    <!--     <tr> -->\n    <!--                        <th class=\"li_high\"><b>Item Group</b> </th>-->\n    <!--                        <th colspan=\"5\" class=\"li_high\"><b>Item Code </b> </th>-->\n    <!--                        <th colspan=\"5\" class=\"li_high\"> <b>Item Name</b> </th>-->\n    <!--                        <th class=\"li_high\"><b> Qty</b> </th>-->\n    <!--                        <th class=\"li_high\"><b> Price Type</b> </th>-->\n    <!--                    </tr>-->\n    <!--</thead>-->\n    \n    \n    {% set total_qty_sqm = {\"total_qty_sqm\": 0} %}\n    {% set total_amount_sqm = {\"amount\": 0} %}\n    {% set total_qty_sqm_pcs = {\"qty\": 0} %}\n    {% set total_amount_sqm_pcs = {\"amount\": 0} %}\n    {% set total_pcs = {\"total_pcs\": 0} %}\n    {% set total_pcs_amount = {\"amount\": 0} %}\n    {% set total_fittings_qty = {\"qty\" : 0} %}\n    {% set total_fittings_amount = {\"amount\": 0} %}\n    {% set prev_item = None %}\n{% for i in doc.items %}\n        <tr>\n            <td style=\"\"> <b> {{i.idx}} </b>  </td>\n            <td style=\"\"> <b>{{i.item_code}}  </b> </td>\n            <td style=\"\"><b> {{i.item_name}}   </b></td>\n            <td style=\"\"><b> {{i.width }}  </b></td>\n            <td style=\"\"><b> {{i.height }} </b> </td>\n            {% if i.uom=='Square Meter' %}\n            <td style=\"\"><b>{{ i.pcs }}</b> </td>\n            {% else %}\n            <td style=\"\"><b>{{ i.qty }}</b> </td>\n            {% endif %}\n            {% if i.uom == \"Square Meter\" %}\n             <td style=\"\"><b>{{ i.qty }}</b> </td>\n             {% else %}\n             <td>0</td>\n             {% endif %}\n            {% if tot_qty.update({\"tot_qty\": tot_qty[\"tot_qty\"] + i.qty}) %} {% endif %}\n            <!--<td style=\"\"><b> {{i.get_formatted(\"net_rate\") }} </b> </td>-->\n  <!--          {% if i.uom == 'PCS' %}-->\n  <!--          <td style=\"\"><b> {{'{0:,.2f}'.format(i.rate) }} </b> </td>-->\n  <!--          {% elif i.uom == 'Square Meter' %}-->\n  <!--          <td style=\"\"><b> {{'{0:,.2f}'.format(i.net_amount/(i.chargeable_size or 1.0)) }} </b> </td>-->\n  <!--          {% else %}-->\n  <!--          <td>{{'{0:,.2f}'.format(i.rate) }}</td>-->\n  <!--          {% endif %}-->\n  <!--           {% set in_vat = '' %}-->\n\n  <!--      {% set total_tax_percentage = i.total_tax_percentage |replace(\"%\", \"\")  %}   -->\n  <!--      {% set ex_vat  =  ((i.net_amount|float / 100) * total_tax_percentage|int)  %}-->\n        \n        \n  <!--      {% set in_vat  =  i.net_amount  / 100 * total_tax_percentage | int  %}-->\n  <!--      <td style=\"\"><b>-->\n\n  <!--          {% if tax_type == 'Exclusive' %}-->\n            \n\n\n  <!--{{ '{0:,.2f}'.format(i.net_amount | float ) }} -->\n  <!--              {% if total_ex_vat.update({\"total_ex_vat\": total_ex_vat[\"total_ex_vat\"] + i.net_amount}) %} {% endif %}-->\n  <!--          {% else  %}-->\n    \n  <!--{{ '{0:,.2f}'.format(i.net_amount | float ) }} -->\n\n  <!--              {% if total_ex_vat.update({\"total_ex_vat\": total_ex_vat[\"total_ex_vat\"] + i.net_amount}) %} {% endif %}-->\n  <!--          {% endif  %}-->\n  <!--          </b></td>-->\n  <!--           <td style=\"\"><b> {% if i.uom != 'PCS' %} {{i.chargeable_size }} {% else %} 0 {% endif %}</b> </td> -->\n            \n            <td style=\"\"><b> {{i.shape }} </b> </td>   \n            <!--{% set westage = i.wastage_rate * i.qty%}-->\n            \n            <!--   <td style=\"\"> <b>{{'{0:,.2f}'.format(westage)}}</b> </td>-->\n            \n            <!--{% set inc_westage = i.wastage_per /(i.wastage_per+100) %}-->\n            \n            <!--<td style=\"\"> <b>{{'{0:,.2f}'.format(inc_westage)}} </b></td>-->\n            <td style=\"\"><b> {{i.posa_notes}}   </b></td>\n                \n            \n        </tr>\n   {% if i.uom == 'Square Meter' %}\n        {% set total_qty_sqm = total_qty_sqm.update({\"total_qty_sqm\": total_qty_sqm.total_qty_sqm + i.qty}) %}\n        {% if total_amount_sqm.update({\"amount\":total_amount_sqm.amount + i.net_amount }) %} {% endif %}\n        {% if total_qty_sqm_pcs.update({\"qty\": total_qty_sqm_pcs.qty + i.pcs }) %} {% endif %}\n        {% if total_amount_sqm_pcs.update({\"amount\": total_amount_sqm_pcs.amount + i.net_amount }) %} {% endif %}\n        {% if total_pcs.update({\"total_pcs\": total_pcs.total_pcs + frappe.utils.ceil(i.pcs)}) %}{% endif %}\n        {% if total_pcs_amount.update({\"amount\": total_pcs_amount.amount + i.net_amount }) %} {% endif %}\n    {% endif %}\n    \n    \n    {% if i.uom in ('PCS', \"Meter\") %}\n        {% if total_pcs.update({\"total_pcs\": total_pcs.total_pcs + frappe.utils.ceil(i.qty)}) %} {% endif %}\n        {% if total_pcs_amount.update({\"amount\": total_pcs_amount.amount + i.net_amount }) %} {% endif %}\n        {% if total_fittings_qty.update({\"qty\": total_fittings_qty.qty + i.qty}) %} {% endif %}    \n        {% if total_fittings_amount.update({\"amount\": total_fittings_amount.amount + i.net_amount }) %} {% endif %}    \n\n    {% endif %}\n    \n    \n{% set item_components = doc.components %}\n            {% set item_code_quantities = {} %}\n            {% set item_groups = {} %}\n            {% set item_names = {} %}\n            {% set price_types = {} %}\n            \n           \n            {% for item in item_components %}\n             {% if item.item_detail == i.name %}\n                {% set item_code = item.item_code %}\n                {% set qty = item.qty %}\n                {% set item_group = item.item_group %}\n                {% set price_type = item.price_type %}\n                \n            \n                {% if item_code in item_code_quantities %}\n                    {% set item_code_quantities = item_code_quantities.update({item_code: item_code_quantities[item_code] + qty}) %}\n                {% else %}\n                    {% set item_code_quantities = item_code_quantities.update({item_code: qty}) %}\n                {% endif %}\n            \n                {% set item_groups = item_groups.update({item_code: item_group}) %}\n                {% set item_names = item_names.update({item_code: item.item_name}) %}\n                {% set price_types = price_types.update({item_code: price_type}) %}\n               \n             {% endif %}\n            {% endfor %}\n           \n            \n            {% for item_code, total_qty in item_code_quantities.items() %}\n            \n            \n                <tr>\n                    <td class=\"li_high\" style=\"border:none !important;\">{{ item_groups[item_code] }}</td>\n                    <td class=\"li_high\" colspan=\"3\" style=\"border:none !important;\">{{ item_code }}</td>\n                    <td class=\"li_high\" colspan=\"3\" style=\"border:none !important;\">{{ item_names[item_code] }}</td>\n                    <td class=\"li_high\" style=\"border:none !important;\">{{ total_qty }}</td>\n                    <td colspan='2' class=\"li_high\" style=\"border:none !important;\">{{ price_types[item_code] }}</td>\n                </tr>\n            \n            {% endfor %}\n                 \n{% endfor %}\n</table>\n</div>\n\n<table style=\"margin-top:2px; border-top:1px solid black;\">\n        <tr> \n        <td colspan = \"\"> \n        <p  class = \"text-size-10\" > Created By: {{ doc.owner }} </p> \n        \n        <p  class = \"text-size-10\" > Created ON: {{ doc.get_formatted('creation')}} </p> \n        <p  class = \"text-size-10\" > \n    Authorized By:  {% if doc.docstatus==1 %} {{doc.owner}} {% endif %} \n    </p>\n\n        \n        </td>\n        <td colspan = \"4\" class = \"text-right\" > \n        \n        <table class = \"text-right\" style = '; width:100%; border:none' > \n        <tr>\n           \n        </tr>\n            \n            \n            \n        </table>\n\n\n        </td>\n        </tr>\n        \n        \n</table>\n<div style=\"margin-top:1px; margin-bottom:1px;  border:1px solid black;\">\n     \n</div>\n{% if doc.docstatus==0 %}\n<div class ='watermark'>\n    DRAFT\n</div>\n{% endif %}\n\n\n\n\n\n\n    <!--<div  id = \"\" style = 'page-break-after :always;  ' >  </div>-->\n\n    <!--<div class = 'text-center' style = \"font-size:12px; font-weight:600\" >General Terms and Conditions </div>-->\n\n\n\n<div style=\"margin-top:1px; margin-bottom:1px;  border:1px solid black;\"></div>\n<div class = 'text-center' style = \"font-size:12px;\" >Goods sold as per our terms & condition, to view the same visit <a href=\"https://impalaglass.com/tnc/\">impalaglass.com/tnc</a></div>\n\n\n\n\n\n{% set footer = frappe.db.get_value(\"Letter Head\", doc.letter_head, \"footer\") %}\n\n{% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(), \"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user}) %}\n{{ footer_updated }}\n\n\n    <div id=\"footer-html\" class=\"visible-pdf text-center  \" style = \"font-size:10px\" >\n        <p id=\"demo\"></p>\n        <div class=\"letter-head-footer text-size-10 text-center \"  style=\"font-size: 10px;\"  >\n            {{ footer }}\n        </div>\n        <p class=\"text-center small page-number visible-pdf\" style = \"font-size:10px\" >\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\n        </p>\n    </div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:11:02.322368",
  "module": "AQIQ Print Formats",
  "name": "PRODUCTION LAYOUT",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": ".li_high{\r\n    line-height: 1 !important;\r\n}\r\n\r\n@media screen,pdf{\r\n\t\t.print-format {\r\n\t\t}\r\n\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n \r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n \r\n#main_tab *{\r\nline-height:1.4;\r\nmargin:0px !important;\r\npadding:2px !important;\r\nfont-size:9px;\r\n}\r\n margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\nmargin-top-15{\r\n    margin-top:15px;\r\n}\r\n \r\n   .text-size-9{\r\n     font-size:9px;\r\n }\r\n .additional-info{\r\n     text-decoration:none !important;\r\n }\r\n \r\n    }\r\n    \r\n@media print{\r\n\t\t.print-format {\r\n\t\t}\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n \r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n  .text-size-9{\r\n     font-size:9px;\r\n }\r\n \r\n table.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n \r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n@media screen {\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n\r\n  .text-size-9{\r\n     font-size:9px;\r\n }\r\n\r\n.amount-val{\r\n   color:darkgrey;\r\n   bottom:20px;\r\n   position:relative;\r\n}\r\n\r\n/*.watermark {*/\r\n/*    position: fixed;*/\r\n/*    top: 420px;*/\r\n/*    left: 220px;*/\r\n/*    right: 220px;*/\r\n/*    background: url(\"http://192.241.152.17/files/draft-background.png\");*/\r\n/*    background-repeat: no-repeat;*/\r\n    /*background-size: center;*/\r\n/*    height:400px;*/\r\n/*    width:50%;*/\r\n/*    background-position: center;*/\r\n/*    background-size: 100%;*/\r\n/*    color:black !important;*/\r\n/*    opacity: 0.3;*/\r\n/*    position: running(wtrmrk);*/\r\n/*    background-repeat: repeat-x;*/\r\n/*    }*/\r\n\r\n.watermark {\r\n    position: fixed;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%) rotate(-45deg);\r\n    opacity: 0.5;\r\n    font-size: 100px;\r\n    color: rgba(255, 0, 0, 0.3);\r\n}\r\n\r\n\r\n.days_tab {\r\n    position: relative;\r\n}\r\n\r\n.barchart-Wrapper {\r\n      display: table;\r\n      position: relative;\r\n      margin: 20px 0;\r\n      height: 120px;\r\n    }\r\n    .barChart-Container {\r\n      display: table-cell;\r\n      width: 100%;\r\n      height: 100%;\r\n      padding-left: 20px;\r\n      padding-right: 20px;\r\n    }\r\n    .barchart {\r\n     display: table;\r\n     table-layout: fixed;\r\n     height: 100%;\r\n     width: 100%;\r\n     border-bottom: 3px solid darkgrey;\r\n    }\r\n    .barchart-Col {\r\n      position: relative;\r\n      vertical-align: bottom;\r\n      display: table-cell;\r\n      height: 100%;\r\n    }\r\n    .barchart-Col + .barchart-Col {\r\n      border-left: 4px solid transparent;\r\n    }\r\n    .barchart-Bar {\r\n      position: static;\r\n      height: 0;\r\n      transition: height 0.5s 2s;\r\n      width: 10px;\r\n      margin: auto;\r\n    }\r\n    .barchart-Bar:after {\r\n      content: attr(attr-height);\r\n      color: white;\r\n      position: absolute;\r\n      text-align: center;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter {\r\n      position: absolute;\r\n      text-align: center;\r\n      left:40px;\r\n      height: 10%;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter h3 {\r\n      color: darkred;\r\n    }\r\n    .barchart-TimeCol {\r\n      position: absolute;\r\n      top: 0;\r\n      height: 100%;\r\n      width: 100%;\r\n    }\r\n    .barchart-Time {\r\n      height: 25%;\r\n      vertical-align: middle;\r\n      position: relative;\r\n    }\r\n    .barchart-Time:after {\r\n      border-bottom: 3px solid white;\r\n      content: \"\";\r\n      position: absolute;\r\n      width: 100%;\r\n      left: 0;\r\n      top: 0em;\r\n    }\r\n    .barchart-TimeText {\r\n      position: absolute;\r\n      top: -8px;\r\n      z-index: 1;\r\n      background: white;\r\n      padding-right: 5px;\r\n      color: #4d4d4d;\r\n      font-size: 15px;\r\n      font-family: 'Avenir Medium';\r\n    }\r\n    .sq1-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq1-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq2-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq2-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq3-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq3-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq4-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq4-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    \r\n}\r\n\r\n",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Sales Order",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<style>\n</style>\n\n\n<div id=\"header-html\" class = \"margin-top-15\"   style = \" margin-top:-20px  !important; width:92.2%; margin-left:15px !important\">\n    <div class = \"row\" style = \"\">\n\n        <div class = \"col-xs-10\" style = \"width:100%;   float:left; border:1px solid black \">\n             {% set header = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1}, \"content\") %}\n\n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website',]) %}\n            \n            \n        \n        {% set comapny_address_line1 = '' %}        \n        {% set comapny_city = '' %}        \n        {% set comapny_counrty = '' %}        \n        {% set comapny_state = '' %}        \n        {% set phone = '' %}        \n\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\n\n        {% if company_address_name  %}\n            {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\n                \n\n        {% set comapny_address_line1 = address.address_line1 %}        \n        {% set comapny_city =  address.city  %}        \n        {% set comapny_counrty =  address.country  %}        \n        {% set comapny_state =  address.state  %}        \n\n        {% set phone = address.phone %}        \n\n        {% endif  %}\n\n\n            \n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \n            'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \n            'state' : comapny_state,\n            'phone_no' : phone, 'email' : company_details[0].email, 'pin_no': company_details[0].tax_id ,  'company_logo' : company_details[0].company_logo, 'website' : company_details[0].website,  }) %}\n            {{header_updated}}\n            \n\n            <table  class = \"table table-sm\" style = \"width:28%; font-size:10px  \"> \n                <tr>\n                    {% if doc.workflow_state == \"Quotation\" %}\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:11px\"> SALES QUOTATION </b> </span> </center>  </td>\n                    {% else %}\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:11px\"> SALES ORDER </b> </span> </center>  </td>\n                    {% endif %}\n                </tr>\n\n                <tr>\n                    <td style = 'font-size:10px'> Date </td> <td style = 'font-size:10px'> \n                    {{ doc.get_formatted('transaction_date')}}\n                </tr>\n\n                <tr> \n                    <td style = \"font-size:10px\"> SO# </td> <td style = \"font-size:10px\">  {{ doc.name }}</td>\n                </tr>\n                <tr> \n                    <td style = \"font-size:10px\"> Division </td> <td style = \"font-size:10px\">  {{ doc.cost_center }} </td>\n                </tr>\n                <tr> \n                    <td style = \"font-size:10px\"> Department </td> <td style = \"font-size:10px\">  {{ doc.department }} </td>\n                </tr>\n                <tr> \n                    <td style = \"font-size:10px\"> Warehouse </td> <td style = \"font-size:10px\">  {{ doc.set_warehouse }} </td>\n                </tr>\n\n            </table>\n\n\n        </div>\n</div>\n\n\n</div>\n\n<table class = \"margin-top-15\"  style = \"width:100%; font-size:10px !important; border-bottom:1px solid black !important;\"> \n    <tr> \n        <td style = \"width:35%\">  \n            <div>  <b style=\"font-size:10px\"> Bill To, </b></div>\n            <div> <b style = \"font-size:10px\" > {{ doc.customer }} </b> </div>\n            <div> <b style = \"font-size:10px\" > {{ doc.customer_name }} </b> </div>\n            <div style = \"font-size:10px\" > {{ doc.address_display }} </div>\n        </td>\n        <td style=\"20%\">\n            <img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\" class=\"center\" height=80px>\n        </td>\n        <td style = \"width:45%\">  \n            <table class = \" text-size-10\" style = \"width:100%; margin-top:-1px !important;\" cellspacing = '0' cellpadding = '0'> \n                <tr>\n                    {% set po_order = frappe.db.get_value(\"Purchase Order\", doc.name, \"name\") %}\n                    {% set po_date = frappe.db.get_value(\"Purchase Order\", doc.name, \"transaction_date\") %}\n                    <td class = \"text-size-10\"  style = 'font-size:10px'> PO Date </td> <td class = \"text-size-10\"  style = 'font-size:11px'>  {{ po_date }} </td>\n                </tr>\n                <tr>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'> Customer PO#. </td> <td class = \"text-size-10\"  style = 'font-size:11px'> {{doc.po_no}} </td>\n                </tr>\n                <tr>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'> Sales Person </td>\n                    {% set salesman = [] %}\n                    {% for s in doc.sales_team %}\n                        {% set salesman = salesman.append(s.get(\"sales_person\")) %}\n                        \n                    {% endfor %}\n                    {% set sales_team = salesman|join(', ') %}\n                    \n                    <td class = \"text-size-10\"  style = 'font-size:10px'>{{sales_team}}</td>\n                </tr>\n                <tr>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'> Currency </td>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'>{{ doc.currency }}</td>\n                </tr>\n\n\n                <tr>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'> Customer Pin </td>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'>{{ doc.tax_id }}</td>\n                </tr>\n\n            </table>\n        </td>\n    </tr>\n</table>\n<div style=\"margin-top:2px; height:40px; border:1px solid black;\">\n   Additional Notes:\n    <p>\n        {% if doc.posa_notes %}\n        {{doc.posa_notes}} \n        {% endif %}\n    </p>\n</div>\n\n\n    \n<!---new table start  from here for item componet v2-->    \n    \n    <div class = \"\" style = \"width:100%\">\n{% set total_ex_vat = {\"total_ex_vat\": 0.0} %}\n{% set tot_qty = {\"tot_qty\": 0.0} %}\n{% set tot_pcs = {\"tot_pcs\": 0.0} %}\n{% set total_in_vat = {\"total_in_vat\": 0.0} %}\n{% set total_amount = {\"total_amount\": 0} %}\n{% set total_vat = {\"total_vat\": 0} %}\n{% set total_inclusive = {\"total_inclusive\": 0} %}\n\n<table class = \"custom_print table table-sm table-bordered \" style = \"width:100%\" border = \"1\" id=\"main_tab\"> \n\n\n    <thead> \n        <tr style = \"background-color:#FBFCFC;color:black \" > \n            <th style=\"width:3%;\"> <b>No</b> </th>\n            <th style=\"width:5%;\"> <b>Item Code</b> </th>\n            <th style=\"width:15%;\"> <b>Item Name</b> </th>\n            <th  class=\"text-center\" style=\"width:6%;\"><b> Width </b></th>\n            <th  class=\"text-center\" style=\"width:6%;\"><b> Height </b></th>\n            <th  class=\"text-center\" style=\"width:5%;\"><b> Pcs </b></th>\n            <th  class=\"text-center\" style=\"width:5%;\"><b> Qty/SQM </b></th>\n            <th  class=\"text-center\" style=\"width:10%;\"><b> Rate </b></th>\n            <th  class=\"text-center\" style=\"width:8%;\"><b> Exc.VAT </b></th>\n            <th  class=\"text-center\" style=\"width:8%;\"><b> Chargeable Size</b></th>\n            <th style=\"width:16%;\"> <b>Shape</b> </th>\n            <th  class=\"text-center\" style=\"width:5%;\"><b> Wastage</b></th>\n            <th  class=\"text-center\" style=\"width:5%;\"><b> Inc Wastage</b></th>\n            <th style=\"width:16%;\"> <b>Additional Notes</b> </th>\n            \n        </tr>\n    </thead>\n    <thead> \n         <tr> \n                            <th class=\"li_high\"><b>Item Group</b> </th>\n                            <th colspan=\"5\" class=\"li_high\"><b>Item Code </b> </th>\n                            <th colspan=\"5\" class=\"li_high\"> <b>Item Name</b> </th>\n                            <th class=\"li_high\"><b> Qty</b> </th>\n                            <th colspan='2' class=\"li_high\"><b> Price Type</b> </th>\n                        </tr>\n    </thead>\n    \n    \n    {% set total_qty_sqm = {\"total_qty_sqm\": 0} %}\n    {% set total_amount_sqm = {\"amount\": 0} %}\n    {% set total_qty_sqm_pcs = {\"qty\": 0} %}\n    {% set total_amount_sqm_pcs = {\"amount\": 0} %}\n    {% set total_pcs = {\"total_pcs\": 0} %}\n    {% set total_pcs_amount = {\"amount\": 0} %}\n    {% set total_fittings_qty = {\"qty\" : 0} %}\n    {% set total_fittings_amount = {\"amount\": 0} %}\n{% for i in doc.items %}\n        <tr>\n            <td style=\"\"> <b> {{i.idx}} </b>  </td>\n            <td style=\"\"> <b>{{i.item_code}}  </b> </td>\n            <td style=\"\"><b> {{i.item_name}}   </b></td>\n            <td style=\"\"><b> {{i.width }}  </b></td>\n            <td style=\"\"><b> {{i.height }} </b> </td>\n            {% if i.uom=='Square Meter' %}\n            <td style=\"\"><b>{{ i.pcs }}</b> </td>\n            {% else %}\n            <td style=\"\"><b>{{ i.qty }}</b> </td>\n            {% endif %}\n            {% if i.uom == \"Square Meter\" %}\n             <td style=\"\"><b>{{ i.qty }}</b> </td>\n             {% else %}\n             <td>0</td>\n             {% endif %}\n            {% if tot_qty.update({\"tot_qty\": tot_qty[\"tot_qty\"] + i.qty}) %} {% endif %}\n            <td style=\"\"><b> {{'{0:,.2f}'.format(i.net_rate) }} </b> </td>\n            <!--{% if i.uom == 'PCS' %}-->\n            <!--<td style=\"\"><b> {{'{0:,.2f}'.format(i.rate) }} </b> </td>-->\n            <!--{% elif i.uom == 'Square Meter' %}-->\n            <!--<td style=\"\"><b> {{'{0:,.2f}'.format(i.net_amount/(i.chargeable_size or 1.0)) }} </b> </td>-->\n            <!--{% else %}-->\n            <!--<td>{{'{0:,.2f}'.format(i.rate) }}</td>-->\n            <td style=\"\"><b> {{'{0:,.2f}'.format(i.net_amount) }} </b> </td>\n            <!--{% endif %}-->\n             {% set in_vat = '' %}\n\n        {% set total_tax_percentage = i.total_tax_percentage |replace(\"%\", \"\")  %}   \n        {% set ex_vat  =  ((i.net_amount|float / 100) * total_tax_percentage|int)  %}\n        \n        \n        {% set in_vat  =  i.net_amount  / 100 * total_tax_percentage | int  %}\n        <td style=\"\"><b>\n\n            {% if tax_type == 'Exclusive' %}\n            \n\n\n  {{ '{0:,.2f}'.format(i.net_amount | float ) }} \n                {% if total_ex_vat.update({\"total_ex_vat\": total_ex_vat[\"total_ex_vat\"] + i.net_amount}) %} {% endif %}\n            {% else  %}\n    \n  {{ '{0:,.2f}'.format(i.net_amount | float ) }} \n\n                {% if total_ex_vat.update({\"total_ex_vat\": total_ex_vat[\"total_ex_vat\"] + i.net_amount}) %} {% endif %}\n            {% endif  %}\n            </b></td>\n             <td style=\"\"><b> {% if i.uom != 'PCS' %} {{i.chargeable_size }} {% else %} 0 {% endif %}</b> </td> \n            \n            <td style=\"\"><b> {{i.shape }} </b> </td>   \n            {% set westage = i.wastage_rate * i.qty%}\n            \n               <td style=\"\"> <b>{{'{0:,.2f}'.format(westage)}}</b> </td>\n            \n            {% set inc_westage = i.wastage_per /(i.wastage_per+100) %}\n            \n            <td style=\"\"> <b>{{'{0:,.2f}'.format(inc_westage)}} </b></td>\n            <td style=\"\"><b> {{i.posa_notes}}   </b></td>\n                \n            \n        </tr>\n    {% if i.uom == 'Square Meter' %}\n        {% set total_qty_sqm = total_qty_sqm.update({\"total_qty_sqm\": total_qty_sqm.total_qty_sqm + i.qty}) %}\n        {% if total_amount_sqm.update({\"amount\":total_amount_sqm.amount + i.net_amount }) %} {% endif %}\n        {% if total_qty_sqm_pcs.update({\"qty\": total_qty_sqm_pcs.qty + i.pcs }) %} {% endif %}\n        {% if total_amount_sqm_pcs.update({\"amount\": total_amount_sqm_pcs.amount + i.net_amount }) %} {% endif %}\n        {% if total_pcs.update({\"total_pcs\": total_pcs.total_pcs + frappe.utils.ceil(i.pcs)}) %}{% endif %}\n        {% if total_pcs_amount.update({\"amount\": total_pcs_amount.amount + i.net_amount }) %} {% endif %}\n    {% endif %}\n    \n    \n    {% if i.uom in ('PCS', \"Meter\") %}\n        {% if total_pcs.update({\"total_pcs\": total_pcs.total_pcs + frappe.utils.ceil(i.qty)}) %} {% endif %}\n        {% if total_pcs_amount.update({\"amount\": total_pcs_amount.amount + i.net_amount }) %} {% endif %}\n        {% if total_fittings_qty.update({\"qty\": total_fittings_qty.qty + i.qty}) %} {% endif %}    \n        {% if total_fittings_amount.update({\"amount\": total_fittings_amount.amount + i.net_amount }) %} {% endif %}    \n\n    {% endif %}\n    \n            {% set item_components = doc.components %}\n            {% set item_code_quantities = {} %}\n            {% set item_groups = {} %}\n            {% set item_names = {} %}\n            {% set price_types = {} %}\n            \n           \n            {% for item in item_components %}\n             {% if item.item_detail == i.name %}\n                {% set item_code = item.item_code %}\n                {% set qty = item.qty %}\n                {% set item_group = item.item_group %}\n                {% set price_type = item.price_type %}\n                \n            \n                {% if item_code in item_code_quantities %}\n                    {% set item_code_quantities = item_code_quantities.update({item_code: item_code_quantities[item_code] + qty}) %}\n                {% else %}\n                    {% set item_code_quantities = item_code_quantities.update({item_code: qty}) %}\n                {% endif %}\n            \n                {% set item_groups = item_groups.update({item_code: item_group}) %}\n                {% set item_names = item_names.update({item_code: item.item_name}) %}\n                {% set price_types = price_types.update({item_code: price_type}) %}\n               \n             {% endif %}\n            {% endfor %}\n           \n           \n            {% for item_code, total_qty in item_code_quantities.items() %}\n           \n            \n                <tr>\n                    <td class=\"li_high\" style=\"border:none !important;\">{{ item_groups[item_code] }}</td>\n                    <td class=\"li_high\" colspan=\"5\" style=\"border:none !important;\">{{ item_code }}</td>\n                    <td class=\"li_high\" colspan=\"5\" style=\"border:none !important;\">{{ item_names[item_code] }}</td>\n                    <td class=\"li_high\" style=\"border:none !important;\">{{ total_qty }}</td>\n                    <td colspan='2' class=\"li_high\" style=\"border:none !important;\">{{ price_types[item_code] }}</td>\n                </tr>\n            \n            {% endfor %}\n\n    \n\n{% endfor %}\n                </table>\n\n    \n\n</div>\n\n        \n        \n        \n        \n     <b>Additional Info:</b>    \n<div class =\"additional-info\" style=\"display: flex; text-decoration:none !important;\" >\n    <div style=\"width: 48%; margin; border:1px solid black;\">\n        <table style = \"\">\n            <tr class=\"text-right\">\n                <td colspan=\"\" class=\"text-size-10 text-left\" style=\"font-size:11px; line-height: 0.6;\">\n                    Total Glasses/PCS(A):\n                </td>\n                <td colspan=\"\" class=\"text-size-10 text-left\" style=\"font-size:11px; line-height: 0.6;\">\n                    {{ total_qty_sqm_pcs.qty }}\n                </td>\n                <td colspan=\"\" class=\"text-size-10 text-left\" style=\"font-size:11px; line-height: 0.6;\">\n                    <!--{{ doc.currency }}  {{ '{0:,.3f}'.format(total_amount_sqm_pcs.amount) }}-->\n                </td>\n            </tr>\n            <tr class=\"text-left\">\n                <td colspan=\"\" class=\"text-size-10 text-left\" style=\"font-size:11px;  line-height: 0.6;\">\n                    Total Glasses/SQM:\n                </td>\n                <td colspan=\"\" class=\"text-size-10 text-left\" style=\"font-size:11px; line-height: 0.6;\">\n                    {{ '{0:,.3f}'.format(total_qty_sqm.total_qty_sqm) }}\n                </td>\n                <td colspan=\"3\" class=\"text-size-10 text-left\" style=\"font-size:11px; line-height: 0.6;\">\n                    {{ doc.currency }}  {{ '{0:,.3f}'.format(total_amount_sqm.amount) }}\n                </td>\n            </tr>\n            \n            <tr class=\"text-right\">\n                <td colspan=\"\" class=\"text-size-10 text-left\" style=\"font-size:11px;  line-height: 0.6;\">\n                    Total Fittings(B):\n                </td>\n                <td colspan=\"\" class=\"text-size-10 text-left\" style=\"font-size:11px; line-height: 0.6;\">\n                    {{ '{0:,.2f}'.format(total_fittings_qty.qty)  }} \n                </td>\n                <td colspan=\"\" class=\"text-size-10 text-left\" style=\"font-size:10px; line-height: 0.6;\">\n                    {{ doc.currency }}  {{ '{0:,.2f}'.format(total_fittings_amount.amount) }} \n                </td>\n            </tr>\n            <tr class=\"text-right\">\n                <td colspan=\"\" class=\"text-size-10 text-left\" style=\"font-size:11px;  line-height: 0.6;\">\n                    Total Pieces(A+B):\n                </td>\n                <td colspan=\"\" class=\"text-size-10 text-left\" style=\"font-size:11px; line-height: 0.6;\">\n                    {{ total_pcs.total_pcs }} \n                </td>\n                <td colspan=\"\" class=\"text-size-10 text-left\" style=\"font-size:11px; line-height: 0.6;\">\n                    {{ doc.currency }}  {{ '{0:,.2f}'.format(total_pcs_amount.amount) }} \n                </td>\n            </tr>\n        </table>\n    </div>\n   <div style=\"width:48%; margin-left: auto; text-align: right; border:1px solid black;\">\n        <table style=\"margin-left:auto; align-items:right; position:relative;\">\n            <tr class=\"text-right\" style=\"border-top:;\">\n                \n                <td colspan=\"\" class=\"text-size-10 text-right\" style=\"font-size:11px; line-height: 0.6;\">\n                    Excl. VAT:\n                </td>\n                <td></td>\n                <td colspan=\"\" class=\"text-size-10 text-right\" style=\"font-size:11px; line-height: 0.6;\">\n                    {{doc.currency}} {{ '{0:,.2f}'.format(total_ex_vat.total_ex_vat) }}\n                </td>\n            </tr>\n            <tr class=\"text-right\">\n                \n                <td colspan=\"\" class=\"text-size-10 text-right\" style=\"font-size:11px; line-height: 0.6;\">\n                    Total VAT:\n                </td>\n               <td style=\"\"></td>\n                <td colspan=\"\" class=\"text-size-10 text-right\" style=\"font-size:11px; line-height: 0.6;\">\n                    {{doc.currency}} {{ '{0:,.2f}'.format(doc.total_taxes_and_charges) }}\n                </td>\n            </tr>\n            <tr class=\"text-right\">\n                \n                <td colspan=\"\" class=\"text-size-10 text-right\" style=\"font-size:11px; line-height: 0.6;\">\n                    <b>Total Amount:</b>\n                </td>\n                <td></td>\n                <td colspan=\"\" class=\"text-size-10 text-right\" style=\"font-size:11px; line-height: 0.6;\">\n                 <b>   {{doc.currency}} {{ '{0:,.2f}'.format(total_ex_vat.total_ex_vat + doc.total_taxes_and_charges) }}</b>\n                </td>\n            </tr>\n            <tr colspan='5'></tr>\n        </table>\n    </div>\n</div>\n\n\n<table style=\"margin-top:2px; border-top:1px solid black;\">\n        <tr> \n        <td colspan = \"\"> \n        <p  class = \"text-size-10\" > Created By: {{ doc.owner }} </p> \n        \n        <p  class = \"text-size-10\" > Created ON: {{ doc.get_formatted('creation')}} </p> \n        <p  class = \"text-size-10\" > \n    Authorized By:  {% if doc.docstatus==1 %} {{doc.owner}} {% endif %} \n    </p>\n\n        \n        </td>\n        <td colspan = \"4\" class = \"text-right\" > \n        \n        <table class = \"text-right\" style = '; width:100%; border:none' > \n        <tr>\n           \n        </tr>\n            \n            \n            \n        </table>\n\n\n        </td>\n        </tr>\n        \n        \n</table>\n<div style=\"margin-top:1px; margin-bottom:1px;  border:1px solid black;\">\n     \n</div>\n{% if doc.docstatus==0 %}\n<div class ='watermark'>\n    DRAFT\n</div>\n{% endif %}\n\n\n\n\n\n\n    <!--<div  id = \"\" style = 'page-break-after :always;  ' >  </div>-->\n\n    <!--<div class = 'text-center' style = \"font-size:12px; font-weight:600\" >General Terms and Conditions </div>-->\n\n<div style=\"width:100%;\">\n     <b style=\"text-size: 13px; padding-left: 3px;margin-left:250px;\">Bank Details for RTGS</b>\n<div style=\"display:flex; width:100%;\">\n    <div style=\"width:50%;\">\n    <div style=\"margin-top:2px; height:auto; border:1px solid black;\">\n       Account Name: Impala Glass Industries Ltd<br>\n        <p style=\"padding: 3px;\">\n            Bank Name: Habib Bank AG Zurich,Nairobi,Kenya<br>\n            Branch: Koinange Branch<br>\n            Swift Code: HBZUKENA<br>\n            Code: 17-000<br>\n            <br>\n            Kenya Shillings Account Number:09-0101-20311-546-208022<br>\n            USD Account Number:09-0101-20311-333-208022<br>\n            <div style=\"padding-left:25px;\">\n                USD Correspondent Bank:<br>\n                Citi Bank New York Nostro Account No.36406125<br>\n                Swift Code CITIUS33\n            </div>\n        </p>\n    </div>\n</div>\n<!--<div style=\"width:50%;\">-->\n<!--    <div style=\"margin-top:2px; height:auto; border:1px solid black;\">-->\n<!--    Account Name: Impala Glass Industries Ltd<br>-->\n<!--    <p style=\"padding: 3px;\">-->\n<!--        Bank Name: Diamond Trust Bank<br>-->\n<!--        Branch: Capital Centre Branch<br>-->\n<!--        Swift Code: DTKEKENA<br>-->\n<!--        Code: 63-008<br>-->\n<!--        <br>-->\n<!--        Kenya Shillings Account Number: 0184118001<br>-->\n<!--        <br>-->\n<!--        <br>-->\n<!--        <br>-->\n<!--        <br>-->\n<!--    </p>-->\n<!--</div>-->\n</div>\n</div>\n <b style=\"text-size: 13px; padding-left: 3px;margin-left:250px;\">M-PESA Paybill Details</b>\n<div style=\"border:1px solid black;\">\n    M-PESA Paybill No.:\t865283<br>\n        Account No: {{doc.name}}-{{doc.customer_name}}\n</div>\n\n</div>\n\n\n\n<div style=\"margin-top:1px; margin-bottom:1px;  border:1px solid black;\"></div>\n<div class = 'text-center' style = \"font-size:12px;\" >Goods sold as per our terms & condition, to view the same visit <a href=\"https://impalaglass.com/tnc/\">impalaglass.com/tnc</a></div>\n\n\n\n{% set footer = frappe.db.get_value(\"Letter Head\", doc.letter_head, \"footer\") %}\n\n{% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(), \"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user}) %}\n{{ footer_updated }}\n\n\n    <div id=\"footer-html\" class=\"visible-pdf text-center  \" style = \"font-size:10px\" >\n        <p id=\"demo\"></p>\n        <div class=\"letter-head-footer text-size-10 text-center \"  style=\"font-size: 10px;\"  >\n            {{ footer }}\n        </div>\n        <p class=\"text-center small page-number visible-pdf\" style = \"font-size:10px\" >\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\n        </p>\n    </div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:11:02.530142",
  "module": "AQIQ Print Formats",
  "name": "Item Group by Components V3",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "@media screen,pdf {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n \r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\nmargin-top-15{\r\n    margin-top:15px;\r\n}\r\n \r\n   .text-size-9{\r\n     font-size:9px;\r\n }\r\n \r\n    }\r\n    \r\n@media print {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n \r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n  .text-size-9{\r\n     font-size:9px;\r\n }\r\n \r\n table.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n \r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n@media screen {\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n\r\n  .text-size-9{\r\n     font-size:9px;\r\n }\r\n\r\n.amount-val{\r\n   color:darkgrey;\r\n   bottom:20px;\r\n   position:relative;\r\n}\r\n\r\n/*.watermark {*/\r\n/*    position: fixed;*/\r\n/*    top: 420px;*/\r\n/*    left: 220px;*/\r\n/*    right: 220px;*/\r\n/*    background: url(\"http://192.241.152.17/files/draft-background.png\");*/\r\n/*    background-repeat: no-repeat;*/\r\n    /*background-size: center;*/\r\n/*    height:400px;*/\r\n/*    width:50%;*/\r\n/*    background-position: center;*/\r\n/*    background-size: 100%;*/\r\n/*    color:black !important;*/\r\n/*    opacity: 0.3;*/\r\n/*    position: running(wtrmrk);*/\r\n/*    background-repeat: repeat-x;*/\r\n/*    }*/\r\n\r\n.watermark {\r\n    position: fixed;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%) rotate(-45deg);\r\n    opacity: 0.5;\r\n    font-size: 100px;\r\n    color: rgba(255, 0, 0, 0.3);\r\n}\r\n\r\n\r\n.days_tab {\r\n    position: relative;\r\n}\r\n\r\n.barchart-Wrapper {\r\n      display: table;\r\n      position: relative;\r\n      margin: 20px 0;\r\n      height: 120px;\r\n    }\r\n    .barChart-Container {\r\n      display: table-cell;\r\n      width: 100%;\r\n      height: 100%;\r\n      padding-left: 20px;\r\n      padding-right: 20px;\r\n    }\r\n    .barchart {\r\n     display: table;\r\n     table-layout: fixed;\r\n     height: 100%;\r\n     width: 100%;\r\n     border-bottom: 3px solid darkgrey;\r\n    }\r\n    .barchart-Col {\r\n      position: relative;\r\n      vertical-align: bottom;\r\n      display: table-cell;\r\n      height: 100%;\r\n    }\r\n    .barchart-Col + .barchart-Col {\r\n      border-left: 4px solid transparent;\r\n    }\r\n    .barchart-Bar {\r\n      position: static;\r\n      height: 0;\r\n      transition: height 0.5s 2s;\r\n      width: 10px;\r\n      margin: auto;\r\n    }\r\n    .barchart-Bar:after {\r\n      content: attr(attr-height);\r\n      color: white;\r\n      position: absolute;\r\n      text-align: center;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter {\r\n      position: absolute;\r\n      text-align: center;\r\n      left:40px;\r\n      height: 10%;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter h3 {\r\n      color: darkred;\r\n    }\r\n    .barchart-TimeCol {\r\n      position: absolute;\r\n      top: 0;\r\n      height: 100%;\r\n      width: 100%;\r\n    }\r\n    .barchart-Time {\r\n      height: 25%;\r\n      vertical-align: middle;\r\n      position: relative;\r\n    }\r\n    .barchart-Time:after {\r\n      border-bottom: 3px solid white;\r\n      content: \"\";\r\n      position: absolute;\r\n      width: 100%;\r\n      left: 0;\r\n      top: 0em;\r\n    }\r\n    .barchart-TimeText {\r\n      position: absolute;\r\n      top: -8px;\r\n      z-index: 1;\r\n      background: white;\r\n      padding-right: 5px;\r\n      color: #4d4d4d;\r\n      font-size: 15px;\r\n      font-family: 'Avenir Medium';\r\n    }\r\n    .sq1-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq1-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq2-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq2-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq3-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq3-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq4-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq4-bar {\r\n      background-color: #a61a17;\r\n    }",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Sales Order",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<style>\n</style>\n\n<div id=\"header-html\" class = \"margin-top-15\"   style = \" margin-top:-20px  !important; width:92.2%; margin-left:15px !important\">\n    <div class = \"row\" style = \"\">\n\n        <div class = \"col-xs-10\" style = \"width:100%;   float:left; border:1px solid black \">\n            {% set header = frappe.db.get_value(\"Letter Head\", \"Ezzy Letter Head\", \"content\") %}\n            \n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website',]) %}\n            \n            {% set comapny_address_line1 = '' %}        \n            {% set comapny_city = '' %}        \n            {% set comapny_counrty = '' %}        \n            {% set comapny_state = '' %}        \n            {% set phone = '' %}        \n    \n            {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\n    \n            {% if company_address_name  %}\n                {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\n                    \n    \n            {% set comapny_address_line1 = address.address_line1 %}        \n            {% set comapny_city =  address.city  %}        \n            {% set comapny_counrty =  address.country  %}        \n            {% set comapny_state =  address.state  %}        \n    \n            {% set phone = address.phone %}        \n    \n            {% endif  %}\n            {% set email = \" finance@impala.co.ke\" %}\n             {% set new_company_logo = \"https://impala.aqiq.net/files/Ezzy.png\" %}\n            {% if company_details %}\n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \n            'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \n            'state' : comapny_state,\n            'phone_no' : phone, 'email' : email, 'pin_no': company_details[0].tax_id ,  'company_logo' : new_company_logo, 'website' : company_details[0].website,  }) %}\n            {{header_updated}}\n            {% endif %}\n            \n\n            <table  class = \"table table-sm\" style = \"width:28%; font-size:10px  \"> \n                <tr>\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:12px\"> SALES ORDER </b> </span> </center>  </td>\n                </tr>\n\n                <tr>\n                    <td style = 'font-size:10px'> Date </td> <td style = 'font-size:10px'> \n                    {{ doc.get_formatted('transaction_date') }} \n                </tr>\n\n                <tr> \n                    <td style = \"font-size:10px\"> Order No </td> <td style = \"font-size:10px\">  {{ doc.name }}</td>\n                </tr>\n                <tr> \n                    <td style = \"font-size:10px\"> Division </td> <td style = \"font-size:10px\">  {{ doc.cost_center }} </td>\n                </tr>\n                <tr> \n                    <td style = \"font-size:10px\"> Department </td> <td style = \"font-size:10px\">  {{ doc.department }} </td>\n                </tr>\n<tr> \n                    <td style = \"font-size:10px\"> Warehouse </td> <td style = \"font-size:10px\">  {{ doc.set_warehouse }} </td>\n                </tr>\n\n            </table>\n\n\n        </div>\n</div>\n\n\n</div>\n\n<table class = \"margin-top-15\"  style = \"width:100%; font-size:10px !important; border-bottom:1px solid black !important;\"> \n    <tr> \n        <td style = \"width:35%\">  \n            <div>  <b style=\"font-size:10px\"> Bill To, </b></div>\n            <div> <b style = \"font-size:10px\" > {{ doc.customer }} </b> </div>\n            <div> <b style = \"font-size:10px\" > {{ doc.customer_name }} </b> </div>\n            <div style = \"font-size:10px\" > {{ doc.address_display }} </div>\n        </td>\n        <td style=\"20%\">\n            <img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\" class=\"center\" height=80px>\n        </td>\n        <td style = \"width:45%\">  \n            <table class = \" text-size-10\" style = \"width:100%; margin-top:-1px !important;\" cellspacing = '0' cellpadding = '0'> \n                <tr>\n                    {% set po_order = frappe.db.get_value(\"Purchase Order\", doc.name, \"name\") %}\n                    {% set po_date = frappe.db.get_value(\"Purchase Order\", doc.name, \"transaction_date\") %}\n                    <td class = \"text-size-10\"  style = 'font-size:10px'> PO Date </td> <td class = \"text-size-10\"  style = 'font-size:11px'>  {{ po_date }} </td>\n                </tr>\n                <tr>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'> Customer PO#. </td> <td class = \"text-size-10\"  style = 'font-size:11px'>  {{doc.po_no}} </td>\n                </tr>\n                <tr>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'> Sales Person </td>\n                    {% set salesman = [] %}\n                    {% for i in doc.sales_team %}\n                        {% set salesman = salesman.append(i.get(\"sales_person\")) %}\n                        \n                    {% endfor %}\n                    {% set sales_team = salesman|join(', ') %}\n                    \n                    <td class = \"text-size-10\"  style = 'font-size:10px'>{{sales_team}}</td>\n                </tr>\n                <tr>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'> Currency </td>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'>{{ doc.currency }}</td>\n                </tr>\n\n\n                <tr>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'> Customer Pin </td>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'>{{ doc.tax_id }}</td>\n                </tr>\n\n            </table>\n        </td>\n    </tr>\n</table>\n<div style=\"margin-top:2px; height:auto; border:1px solid black;\">\n    Additional Notes:\n    <p>\n        {% if doc.posa_notes %}\n        {{doc.posa_notes}} \n        {% endif %}\n    </p>\n</div>\n<table  class = 'table table-sm' style = \"width:100%; font-size:9px;  margin-top:10px\" border = '1'> \n    <tr> \n        <thead> \n            <th class=\"text-left text-size-9 \" style = \"\"  >  # </th>\n            <th class=\"text-left text-size-9 \">  Item Code </th>\n            <th class=\"text-left text-size-9 \">  Item Name </th>\n            <th class=\"text-right text-size-9 \">  UOM </th>\n            <th class=\"text-right text-size-9 \">  Rate </th>\n            <th class=\"text-right text-size-9 \">  Qty </th>\n            <th class=\"text-right text-size-9 \">  Exc.VAT </th>\n            <th class=\"text-right text-size-9 \">  VAT </th>\n            <th class=\"text-righttext-size-9 \">  Inc.VAT </th>\n\n        </thead>\n    </tr>\n{% set total_ex_vat = {\"total_ex_vat\": 0.0} %}\n{% set total_in_vat = {\"total_in_vat\": 0.0} %}\n{% set total_amount = {\"total_amount\": 0} %}\n{% set total_vat = {\"total_vat\": 0} %}\n{% set gross_total = {\"gross_total\": 0} %}\n{% set total_inclusive = {\"total_inclusive\": 0} %}\n{% set tax_type = doc.tax_type  %}\n\n{% set uoms_object = {} %}\n{% for entry in doc.items %}\n    {% if entry.uom not in uoms_object.keys() %}\n        {% if entry.item_code != \"Installation Charge\" %}\n            {% set uoms_object = uoms_object.update({entry.uom : 0.0}) %}\n        {% endif %}\n    {% endif %}\n{% endfor %}\n\n\n\n\n{% for row in doc.items %}\n    {% if total_amount.update({\"total_amount\": total_amount[\"total_amount\"] + row.qty * row.rate}) %} {% endif %}\n    \n        <tr>\n            <td style=\"\" class=\"text-left text-size-9 \">{{ row.idx }}</td>\n            <td style=\"\" class=\"text-left text-size-9 \">\n                {{ row.item_code }}\n            </td>\n            <td style=\"\" class=\"text-left text-size-9 \">\n                {{ row.item_name }}\n            </td>\n            <td style=\"\" class=\"text-right text-size-9 \">\n                {{ row.uom }}\n            </td>\n            <td style=\"\" class=\"text-right text-size-9 \">\n\n  {{ '{0:,.2f}'.format(row.rate  ) }} \n\n            </td>\n            <td style=\"\" class=\"text-right text-size-9 \">\n                {{ row.qty }}\n            </td>\n        \n        {% set in_vat = '' %}\n\n        {% set total_tax_percentage = row.total_tax_percentage |replace(\"%\", \"\")  %}   \n        {% set ex_vat  =  ((row.net_amount|float / 100) * total_tax_percentage|int)  %}\n        \n        \n        {% set in_vat  =  row.net_amount  / 100 * total_tax_percentage | int  %}\n\n            <td style=\"\" class=\"text-right\">\n\n            {% if tax_type == 'Exclusive' %}\n            \n\n\n  {{ '{0:,.2f}'.format(row.net_amount | float ) }} \n                {% if total_ex_vat.update({\"total_ex_vat\": total_ex_vat[\"total_ex_vat\"] + row.net_amount}) %} {% endif %}\n            {% else  %}\n    \n  {{ '{0:,.2f}'.format(row.net_amount | float ) }} \n\n                {% if total_ex_vat.update({\"total_ex_vat\": total_ex_vat[\"total_ex_vat\"] + row.net_amount}) %} {% endif %}\n            {% endif  %}\n            </td>\n        \n            <td style=\"\" class=\"text-right text-size-9 \">\n\n            {% set tem_vat = 0 %}\n            {% if tax_type == 'Exclusive' %}\n            \n                {% set ex_vat  =  row.net_amount  / 100 * total_tax_percentage | int  %}\n\n  {{ '{0:,.2f}'.format(ex_vat  ) }} \n                \n                \n                {% set tem_vat = ex_vat %}\n\n            {% else  %}\n                {% set in_vat  =  row.net_amount  / 100 * total_tax_percentage | int  %}\n                \n  {{ '{0:,.2f}'.format(in_vat  ) }} \n\n                {% set tem_vat = in_vat %}\n            \n            \n            {% endif  %}\n                \n                \n        {% if total_vat.update({\"total_vat\": total_vat[\"total_vat\"] + tem_vat  }) %} {% endif %}\n\n            </td>\n           \n            <td style=\"\" class=\"text-right text-size-9 \">\n            {% set total_inlusive_temp = ''  %}\n\n            {% if tax_type == 'Exclusive' %}\n\n                {% set total_inlusive_temp = ex_vat + row.net_amount  %}\n            \n                  {{ '{0:,.2f}'.format(total_inlusive_temp  ) }} \n\n                \n                {% if total_inclusive.update({\"total_inclusive\": total_inclusive[\"total_inclusive\"] + total_inlusive_temp}) %} {% endif %}\n                \n\n            {% else  %}\n\n                {% set total_inlusive_temp =  row.net_amount + in_vat   %}\n                {% if total_inclusive.update({\"total_inclusive\": total_inclusive[\"total_inclusive\"] + total_inlusive_temp}) %} {% endif %}\n\n\n                  {{ '{0:,.2f}'.format(total_inlusive_temp  ) }} \n\n            {% endif  %}\n            </td>\n\n        </tr>\n        \n        {% if row.item_code != \"Installation Charge\"%}\n            {% set uoms_object = uoms_object.update({row.uom : uoms_object[row.uom] + row.qty})%}\n        {% endif %}\n        \n        {%- endfor -%}\n        \n        <tr> \n            <td colspan=\"5\" class=\"text-right\"><b>Totals:</b>   </td>\n            <td class=\"text-right\"> <b>\n                {{doc.total_qty}}</b></td>\n            <td class=\"text-right small \">  <b>\n                \n                                  {{ '{0:,.2f}'.format(total_ex_vat.total_ex_vat  ) }} \n\n                \n                </b> </td>\n            <!--<td class=\"text-right small \">  <b>{{ total_amount.total_amount }}</b> </td>-->\n            <td class=\"text-right small\">  <b>\n                \n                                                  {{ '{0:,.2f}'.format( total_vat.total_vat  ) }} \n\n                </b> </td>\n         \n\n            <td class=\"text-right small \">  <b>\n                                 {{ '{0:,.2f}'.format( total_inclusive.total_inclusive  ) }} \n                \n                </b> </td>\n        </tr>\n        \n        <tr> \n            <td colspan = \"9\"> \n            <b class = \"text-size-10\" >Total Amount in words:   {{ frappe.utils.money_in_words(total_inclusive.total_inclusive, doc.currency ) }}  </b>\n\n            </td>\n        </tr>\n        </table>\n            \n        <table style = \"width:100%; font-size:11px;  margin-top:2px\">\n            <tr rowspan = \"1\" style = \"border-top: 1px solid black;  border-bottom: 1px solid black\">\n                        {% for key, val in uoms_object.items() %}\n                        <td colspan = \"1\" style='border: 1px solid black'> <b>Total {{key}} : {{val | round(2)}} </b> </td>\n                        {% endfor %}\n            </tr>\n        </table>\n        <table class = \"table table-sm\" >\n        <tr> \n            <td colspan = \"\"> \n            <p  class = \"text-size-10\" > Created By: {{ doc.owner }} </p> \n            \n            <p  class = \"text-size-10\" > Created ON: {{ doc.get_formatted('creation')}} </p> \n            <p  class = \"text-size-10\" > Authorized By:  {% if doc.workflow_state=='Approve Order'%}\n            {{frappe.db.get_value('Workflow Action', {'reference_doctype' : 'Sales Order', 'reference_name' : doc.name, 'workflow_state': 'Approve Order'}, 'owner')}}\n            {% endif %} </p>\n        </td>\n        <td colspan = \"4\" class = \"text-right\" > \n        \n        <table class = \"text-right\" style = '; width:100%; border:none' > \n            <tr class = \"text-right\" > \n                <td colspan = \"\" class = \"text-size-10 text-right\"  style=\"font-size:10px; font-weight:bold;\"> <b>  Excl. Vat </b> </td>\n                <td colspan = \"\" class = \"text-size-10 text-right\" style=\"font-size:10px; font-weight:bold;\"><b> \n                \n\n                                                 {{ '{0:,.2f}'.format(total_ex_vat.total_ex_vat  ) }} \n                </b> </td>\n\n\n            </tr>\n\n            <tr class = \"text-right\" > \n                <td colspan = \"\" class = \"text-size-10 text-right \" style=\"font-size:10px; font-weight:bold;\">  <b> Total Amount: </b>  </td>\n                <td colspan = \"\" class = \"text-size-10 text-right \" style=\"font-size:10px; font-weight:bold;\"> \n                \n                \n                <b>  \n                                                    {{ '{0:,.2f}'.format(total_inclusive.total_inclusive) }} \n\n                \n\n                \n                </b></td>\n            </tr>\n        </table>\n\n\n        </td>\n        </tr>\n        \n        \n</table>\n<div style=\"margin-top:1px; margin-bottom:1px;  border:1px solid black;\">\n     \n</div>\n{% if doc.docstatus==0 %}\n<div class ='watermark'>\n    DRAFT\n</div>\n{% endif %}\n\n\n\n\n\n\n    <!--<div  id = \"\" style = 'page-break-after :always;  ' >  </div>-->\n\n    <!--<div class = 'text-center' style = \"font-size:12px; font-weight:600\" >General Terms and Conditions </div>-->\n\n<div style=\"margin-top:2px; height:auto; border:1px solid black;\">\n    <b style=\"text-size: 13px; padding-left: 3px;\">Bank Details</b>\n    <p style=\"padding: 3px;\">\n         <b>For credit of: IMPALA GLASS INDUSTRIES LTD</b>\n        <br>\n        Co-operative Bank of Kenya Ltd,<br>\n        Enterprise Road Branch, Bank/Branch code: 11-056, SWIFT code: KCOOKENA<br>KES account # 011 482 1624 5200\n        <br>\n        MPESA PAYBILL: 400200 \taccount # 40010500\n    </p>\n</div>\n\n\n<div style=\"margin-top:1px; margin-bottom:1px;  border:1px solid black;\"></div>\n<div class = 'text-center' style = \"font-size:12px;\" >Goods sold as per our terms & condition, to view the same visit <a href=\"https://impalaglass.com/tnc/\">impalaglass.com/tnc</a></div>\n\n\n\n\n{% set footer = frappe.db.get_value(\"Letter Head\", doc.letter_head, \"footer\") %}\n\n{% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(), \"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user}) %}\n{{ footer_updated }}\n\n\n    <div id=\"footer-html\" class=\"visible-pdf text-center  \" style = \"font-size:10px\" >\n        <p id=\"demo\"></p>\n        <div class=\"letter-head-footer text-size-10 text-center \"  style=\"font-size: 10px;\"  >\n            {{ footer }}\n        </div>\n        <p class=\"text-center small page-number visible-pdf\" style = \"font-size:10px\" >\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\n        </p>\n    </div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:11:02.720867",
  "module": "AQIQ Print Formats",
  "name": "Ezzy-Sales Order",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "@media screen {\r\n@page {\r\nmargin:5px;\r\nsize:a5;\r\n    \r\n}\r\n\r\n}\r\n@media pdf {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\n@page {\r\nmargin:5px;\r\n  size:a5;\r\n\r\n}\r\n}\r\n\r\n\r\n@media screen {\r\n @page {\r\n   margin:0px;\r\n  size:a5;\r\n\r\n}\r\n}\r\n\r\n\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n\r\n\r\n.watermark {\r\n    position: fixed;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%) rotate(-45deg);\r\n    opacity: 0.5;\r\n    font-size: 100px;\r\n    color: rgba(255, 0, 0, 0.3);\r\n}\r\n\r\n\r\n\r\n\r\n.days_tab {\r\n    position: relative;\r\n}\r\n\r\n.barchart-Wrapper {\r\n      display: table;\r\n      position: relative;\r\n      margin: 20px 0;\r\n      height: 120px;\r\n    }\r\n    .barChart-Container {\r\n      display: table-cell;\r\n      width: 100%;\r\n      height: 100%;\r\n      padding-left: 20px;\r\n      padding-right: 20px;\r\n    }\r\n    .barchart {\r\n     display: table;\r\n     table-layout: fixed;\r\n     height: 100%;\r\n     width: 100%;\r\n     border-bottom: 3px solid darkgrey;\r\n    }\r\n    .barchart-Col {\r\n      position: relative;\r\n      vertical-align: bottom;\r\n      display: table-cell;\r\n      height: 100%;\r\n    }\r\n    .barchart-Col + .barchart-Col {\r\n      border-left: 4px solid transparent;\r\n    }\r\n    .barchart-Bar {\r\n      position: static;\r\n      height: 0;\r\n      transition: height 0.5s 2s;\r\n      width: 10px;\r\n      margin: auto;\r\n    }\r\n    .barchart-Bar:after {\r\n      content: attr(attr-height);\r\n      color: white;\r\n      position: absolute;\r\n      text-align: center;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter {\r\n      position: absolute;\r\n      text-align: center;\r\n      left:40px;\r\n      height: 10%;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter h3 {\r\n      color: darkred;\r\n    }\r\n    .barchart-TimeCol {\r\n      position: absolute;\r\n      top: 0;\r\n      height: 100%;\r\n      width: 100%;\r\n    }\r\n    .barchart-Time {\r\n      height: 25%;\r\n      vertical-align: middle;\r\n      position: relative;\r\n    }\r\n    .barchart-Time:after {\r\n      border-bottom: 3px solid white;\r\n      content: \"\";\r\n      position: absolute;\r\n      width: 100%;\r\n      left: 0;\r\n      top: 0em;\r\n    }\r\n    .barchart-TimeText {\r\n      position: absolute;\r\n      top: -8px;\r\n      z-index: 1;\r\n      background: white;\r\n      padding-right: 5px;\r\n      color: #4d4d4d;\r\n      font-size: 15px;\r\n      font-family: 'Avenir Medium';\r\n    }\r\n    .sq1-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq1-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq2-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq2-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq3-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq3-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq4-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq4-bar {\r\n      background-color: #a61a17;\r\n    }",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Sales Order",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "{% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website',]) %}\r\n        {% if doc.company %}\r\n     {% set company_logo = company_details[0].company_logo %}        \r\n        {% set company_address_line1 = '' %}        \r\n        {% set company_city = '' %}        \r\n        {% set company_country = '' %}        \r\n        {% set company_state = '' %}        \r\n        {% set phone = company_details[0].phone_no %}        \r\n        {% set website = company_details[0].website %}        \r\n        {% set email = company_details[0].email %}        \r\n        {% set tax_id = company_details[0].tax_id %}      \r\n\r\n        {% endif%}\r\n\r\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\r\n\r\n        {% if company_address_name  %}\r\n        {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\r\n        {% set company_address_line1 = address.address_line1 %}        \r\n        {% set company_city =  address.city  %}        \r\n        {% set company_country =  address.country  %}        \r\n        {% set company_state =  address.state  %}        \r\n        {% set phone = address.phone %}\r\n        {% endif  %}\r\n\r\n{% set dn_query = frappe.db.get_list('Delivery Note Item',\r\n            filters =  {\r\n            'parent' : doc.delivery_note,\r\n            },\r\n            fields = ['against_sales_order']) %}\r\n            {% set del_note = frappe.db.get_list('Delivery Note', filters = {'name' : doc.delivery_note}, fields=['contact_person', 'shipping_address']) %}\r\n            \r\n\r\n\r\n{% set tot_qty = {\"tot_qty\": 0} %}\r\n{% set tot_weight = {\"tot_weight\": 0} %}\r\n{% set tot_unit_weight = {\"tot_unit_weight\": 0} %}\r\n\r\n\r\n\r\n\r\n<div class = \"mainbox\" style = \"  \"> \r\n\r\n<table class = \"\" style = \"width:100%; \" border = \"1\"  > \r\n    <thead class = \"header-html\" > \r\n    <tr style = \"border:none !important\"> \r\n        <td colspan = \"9\"  style = \"border:none !important\" class = \"text-center\" > 786  </td>\r\n    </tr>\r\n    <tr> \r\n        <td colspan = \"9\">  \r\n        <div class = \"\" style = \"float:left; width:25%\" > \r\n\r\n            <div style=\"width: 100%;\"> \r\n             <img src=\"{{ company_logo }}\" style=\"height: 120px; width: 98%;\">\r\n            </div>\r\n\r\n        </div>\r\n\r\n        <div class = \"\" style = \"float:left; width:40%\" > \r\n\r\n        <div class = \"\"> <b> {{doc.company}} </b> </div>\r\n        <div class = \"\" style = \"font-size:9px\" > {% if company_address_line1 %}{{company_address_line1}} {% endif %} </div>\r\n        <div class = \"\" style = \"font-size:9px\" > {%  if company_city  %} {{ company_city }} {% endif %}  {%  if company_state  %} {{ company_state }} {% endif %} {%  if company_country  %} {{ company_country }} {% endif %} </div>\r\n        <div class = \"\" style = \"font-size:9px\" > P#: {{ phone or \"\" }} </div>\r\n        <div class = \"\" style = \"font-size:9px\" > Email: {{email  or \"\" }} </div>\r\n        <div class = \"\" style = \"font-size:9px\" > PIN NO: {{tax_id or \"\" }} </div>\r\n        <div class = \"\" style = \"font-size:9px\" > Website: {{website or \"\" }}</div>\r\n            \r\n\r\n\r\n        </div>\r\n\r\n\r\n            {% set sales_order = frappe.db.get_list(\"Sales Order\" ,\r\n            filters={\r\n            'name': doc.items[0].against_sales_order\r\n            },\r\n            fields = ['name', 'po_no']) %}\r\n        <div class = \"\" style = \"float:left; width:30%\" > \r\n\r\n            <table class = \"small table table-sm\" style = \"border:none; padding:0px; margin:0px; font-size:9px\"> \r\n                <tr> \r\n                    <td colspan = \"2\" class = \"text-center\" style = \"font-size:12px; font-weight:700\" >  PRODUCTION ORDER </td>\r\n                   \r\n                </tr>\r\n    \r\n                <tr> \r\n                    <td>  Date  </td>\r\n                    <td>  {{ frappe.utils.formatdate(doc.get_formatted('transaction_date'), \"dd-mm-yyyy\") }}  </td>\r\n                </tr>\r\n    \r\n                <tr> \r\n                    <td>Order #  </td>\r\n                    <td>  {{doc.name}}  </td>\r\n                </tr>\r\n                <tr> \r\n                    <td>   Division </td>\r\n                    <td> {{doc.cost_center}}  </td>\r\n                </tr>\r\n                  <tr> \r\n                    <td>   Department </td>\r\n                    <td> {{doc.department}}  </td>\r\n                </tr>\r\n                </tr>\r\n                  <tr> \r\n                    <td>   Warehouse </td>\r\n                    <td> {{doc.set_warehouse}}  </td>\r\n                </tr>\r\n\r\n            </table>\r\n\r\n\r\n        </div>\r\n\r\n        </td>\r\n    </tr>\r\n\r\n\r\n\r\n    </thead>\r\n\r\n    <tr>\r\n        <td colspan = \"9\"> \r\n                <div class = \"\" style = \"float:left; width:40%\" >  \r\n                <div>  <b style=\"font-size:15px\"> Bill To, </b></div>\r\n                <div> <b style = \"font-size:10px\" > {{ doc.customer }} </b> </div>\r\n                <div style=\"font-size:10px\"> <b> {{ doc.customer_name or \"\" }} </b> </div>\r\n            <div style=\"font-size:9px\"> {{ doc.address_display or \"\"}} </div>\r\n            <div style=\"font-size:9px\"> {{ doc.contact_phone or \"\"}} </div>\r\n            <div style=\"font-size:9px\"> {{ doc.contact_email or \"\"}} </div>\r\n                \r\n                \r\n                </div>\r\n                <div class = \"\" style = \"float:left; width:25%\" >              \r\n                \r\n                <img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\" class=\"text-center\" height=\"130px\">\r\n                </div>\r\n                <div class = \"\" style = \"float:left; width:35%\" >  \r\n                \r\n            <table class = \"table table-sm \" style = \"width:100%; border:none; font-size:9px; padding:0px; margin:0px \" cellspacing = '0' cellpadding = '0'> \r\n                {% set po_order = frappe.db.get_value(\"Purchase Order\", doc.name, \"name\") %}\r\n                <tr>\r\n                    <td style = ''> PO Date </td> <td style = ''>  {{ frappe.utils.formatdate(doc.get_formatted('transaction_date'), \"dd-mm-yyyy\") }}  </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = ''> Customer PO#.</td> <td style = ''>  {{doc.po_no}}  </td>\r\n                </tr>\r\n                 {% set salesman = [] %}\r\n                    {% for i in doc.sales_team %}\r\n                        {% set salesman = salesman.append(i.get(\"sales_person\")) %}\r\n                    {% endfor %}\r\n                    {% set sales_team = salesman|join(', ') %}\r\n                <tr>\r\n                    <td style = ''>Sales Person  </td> <td style = ''> {{sales_team}}  </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = ''>Currency </td> <td style = ''> {{ doc.currency }}  </td>\r\n                </tr>\r\n              \r\n\r\n\r\n\r\n            </table>\r\n                \r\n                \r\n                </div>\r\n        </td>\r\n\r\n    </tr>\r\n    <tr> \r\n    <td colspan = \"9\">\r\n   <div style=\"height:30px; \">\r\n    Additional Notes:\r\n    <p>\r\n        {% if doc.posa_notes %}\r\n        {{doc.posa_notes}} \r\n        {% endif %}\r\n    </p>\r\n</div>\r\n\r\n\r\n\r\n    </td>\r\n    </tr>\r\n        <thead style = \"font-size:10px\" > \r\n        <tr> \r\n              <th>  ID </th>\r\n            <th>  Item Code </th>\r\n            <th>  Item Name </th>\r\n            <th class=\"text-right\">  Qty </th>\r\n        </tr>\r\n        </thead>\r\n        \r\n{% set total_amount = {\"total_amount\": 0} %}\r\n{% set total_vat = {\"total_vat\": 0} %}\r\n{% set gross_total = {\"gross_total\": 0} %}\r\n{% set discount_total = {\"discount_total\": 0} %}\r\n{% set tax_type = doc.tax_type  %}\r\n\r\n{% for row in doc.items %}\r\n    {% if total_amount.update({\"total_amount\": total_amount[\"total_amount\"] + row.qty * row.rate}) %} {% endif %}\r\n    \r\n        <tr>\r\n            <td style=\"\">{{ row.idx }}</td>\r\n            <td style=\"\">\r\n                {{ row.item_code }}\r\n            </td>\r\n            <td style=\"\">\r\n                {{ row.item_name }}\r\n            </td>\r\n            <td style=\"\" class=\"text-right\">\r\n                {{ row.qty }}\r\n            </td>\r\n           \r\n        </tr>\r\n        {%- endfor -%}\r\n        <tr> \r\n            <td></td>\r\n            <td colspan=\"2\" class=\"text-right\"><b>Totals: </b>  </td>\r\n            <td class=\"text-right\"> <b>{{doc.total_qty}}</b></td>\r\n        </tr>\r\n \r\n    <tr>\r\n    <td colspan = \"5\" style = \"font-size:9px;\">  \r\n   <div> <b>Created By: {{ doc.owner }}  </b> </div>\r\n     <div>  <b> Created On: {{ doc.get_formatted('creation')}} </b> </div>\r\n     <div> <b>Authorized By:  {% if doc.workflow_state=='Approve Order'%}\r\n            {{frappe.db.get_value('Workflow Action', {'reference_doctype' : 'Sales Order', 'reference_name' : doc.name, 'workflow_state': 'Approve Order'}, 'owner')}}\r\n            {% endif %} </b></div>\r\n    \r\n   \r\n    \r\n    </td>\r\n    </tr>\r\n\r\n   \r\n      \r\n\r\n\r\n</table>\r\n</div>\r\n<div style=\"margin-top:1px; margin-bottom:1px;  border:1px solid black;\"></div>\r\n<div class = 'text-center' style = \"font-size:12px;\" >Goods sold as per our terms & condition, to view the same visit <a href=\"https://impalaglass.com/tnc/\">impalaglass.com/tnc</a></div>\r\n\r\n\r\n{% if doc.docstatus==0 %}\r\n<div class ='watermark'>\r\n    DRAFT\r\n</div>\r\n{% endif %}\r\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:11:02.898333",
  "module": "AQIQ Print Formats",
  "name": "Auto Ezzi-Production Order",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "@media screen {\r\n@page {\r\nmargin:5px;\r\nsize:a5;\r\n    \r\n}\r\n\r\n}\r\n@media pdf {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\n@page {\r\nmargin:5px;\r\n  size:a5;\r\n\r\n}\r\n}\r\n\r\n\r\n@media screen {\r\n @page {\r\n   margin:0px;\r\n  size:a5;\r\n\r\n}\r\n}\r\n\r\n\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n\r\n\r\n.watermark {\r\n    position: fixed;\r\n    top: 420px;\r\n    left: 220px;\r\n    right: 220px;\r\n    background: url(\"http://192.241.152.17/files/draft-background.png\");\r\n    background-repeat: no-repeat;\r\n    /*background-size: center;*/\r\n    height:400px;\r\n    width:50%;\r\n    background-position: center;\r\n    background-size: 100%;\r\n    color:black !important;\r\n    opacity: 0.3;\r\n    position: running(wtrmrk);\r\n    background-repeat: repeat-x;\r\n    }\r\n\r\n\r\n\r\n\r\n.days_tab {\r\n    position: relative;\r\n}\r\n\r\n.barchart-Wrapper {\r\n      display: table;\r\n      position: relative;\r\n      margin: 20px 0;\r\n      height: 120px;\r\n    }\r\n    .barChart-Container {\r\n      display: table-cell;\r\n      width: 100%;\r\n      height: 100%;\r\n      padding-left: 20px;\r\n      padding-right: 20px;\r\n    }\r\n    .barchart {\r\n     display: table;\r\n     table-layout: fixed;\r\n     height: 100%;\r\n     width: 100%;\r\n     border-bottom: 3px solid darkgrey;\r\n    }\r\n    .barchart-Col {\r\n      position: relative;\r\n      vertical-align: bottom;\r\n      display: table-cell;\r\n      height: 100%;\r\n    }\r\n    .barchart-Col + .barchart-Col {\r\n      border-left: 4px solid transparent;\r\n    }\r\n    .barchart-Bar {\r\n      position: static;\r\n      height: 0;\r\n      transition: height 0.5s 2s;\r\n      width: 10px;\r\n      margin: auto;\r\n    }\r\n    .barchart-Bar:after {\r\n      content: attr(attr-height);\r\n      color: white;\r\n      position: absolute;\r\n      text-align: center;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter {\r\n      position: absolute;\r\n      text-align: center;\r\n      left:40px;\r\n      height: 10%;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter h3 {\r\n      color: darkred;\r\n    }\r\n    .barchart-TimeCol {\r\n      position: absolute;\r\n      top: 0;\r\n      height: 100%;\r\n      width: 100%;\r\n    }\r\n    .barchart-Time {\r\n      height: 25%;\r\n      vertical-align: middle;\r\n      position: relative;\r\n    }\r\n    .barchart-Time:after {\r\n      border-bottom: 3px solid white;\r\n      content: \"\";\r\n      position: absolute;\r\n      width: 100%;\r\n      left: 0;\r\n      top: 0em;\r\n    }\r\n    .barchart-TimeText {\r\n      position: absolute;\r\n      top: -8px;\r\n      z-index: 1;\r\n      background: white;\r\n      padding-right: 5px;\r\n      color: #4d4d4d;\r\n      font-size: 15px;\r\n      font-family: 'Avenir Medium';\r\n    }\r\n    .sq1-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq1-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq2-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq2-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq3-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq3-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq4-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq4-bar {\r\n      background-color: #a61a17;\r\n    }",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Sales Order",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "{% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website',]) %}\r\n        {% if doc.company %}\r\n     {% set company_logo = company_details[0].company_logo %}        \r\n        {% set company_address_line1 = '' %}        \r\n        {% set company_city = '' %}        \r\n        {% set company_country = '' %}        \r\n        {% set company_state = '' %}        \r\n        {% set phone = company_details[0].phone_no %}        \r\n        {% set website = company_details[0].website %}        \r\n        {% set email = company_details[0].email %}        \r\n        {% set tax_id = company_details[0].tax_id %}      \r\n\r\n        {% endif%}\r\n\r\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\r\n\r\n        {% if company_address_name  %}\r\n        {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\r\n        {% set company_address_line1 = address.address_line1 %}        \r\n        {% set company_city =  address.city  %}        \r\n        {% set company_country =  address.country  %}        \r\n        {% set company_state =  address.state  %}        \r\n        {% set phone = address.phone %}\r\n        {% endif  %}\r\n\r\n{% set dn_query = frappe.db.get_list('Delivery Note Item',\r\n            filters =  {\r\n            'parent' : doc.delivery_note,\r\n            },\r\n            fields = ['against_sales_order']) %}\r\n            {% set del_note = frappe.db.get_list('Delivery Note', filters = {'name' : doc.delivery_note}, fields=['contact_person', 'shipping_address']) %}\r\n            \r\n\r\n\r\n{% set tot_qty = {\"tot_qty\": 0} %}\r\n{% set tot_weight = {\"tot_weight\": 0} %}\r\n{% set tot_unit_weight = {\"tot_unit_weight\": 0} %}\r\n\r\n\r\n\r\n\r\n<div class = \"mainbox\" style = \"  \"> \r\n\r\n<table class = \"\" style = \"width:100%; \" border = \"1\"  > \r\n    <thead class = \"header-html\" > \r\n    <tr style = \"border:none !important\"> \r\n        <td colspan = \"9\"  style = \"border:none !important\" class = \"text-center\" > 786  </td>\r\n    </tr>\r\n    <tr> \r\n        <td colspan = \"9\">  \r\n        <div class = \"\" style = \"float:left; width:25%\" > \r\n\r\n            <div style=\"width: 100%;\"> \r\n             <img src=\"{{ company_logo }}\" style=\"height: 120px; width: 98%;\">\r\n            </div>\r\n\r\n        </div>\r\n\r\n        <div class = \"\" style = \"float:left; width:40%\" > \r\n\r\n        <div class = \"\"> <b> {{doc.company}} </b> </div>\r\n        <div class = \"\" style = \"font-size:9px\" > {% if company_address_line1 %}{{company_address_line1}} {% endif %} </div>\r\n        <div class = \"\" style = \"font-size:9px\" > {%  if company_city  %} {{ company_city }} {% endif %}  {%  if company_state  %} {{ company_state }} {% endif %} {%  if company_country  %} {{ company_country }} {% endif %} </div>\r\n        <div class = \"\" style = \"font-size:9px\" > P#: {{ phone or \"\" }} </div>\r\n        <div class = \"\" style = \"font-size:9px\" > Email: {{email  or \"\" }} </div>\r\n        <div class = \"\" style = \"font-size:9px\" > PIN NO: {{tax_id or \"\" }} </div>\r\n        <div class = \"\" style = \"font-size:9px\" > Website: {{website or \"\" }}</div>\r\n            \r\n\r\n\r\n        </div>\r\n\r\n\r\n            {% set sales_order = frappe.db.get_list(\"Sales Order\" ,\r\n            filters={\r\n            'name': doc.items[0].against_sales_order\r\n            },\r\n            fields = ['name', 'po_no']) %}\r\n        <div class = \"\" style = \"float:left; width:30%\" > \r\n\r\n            <table class = \"small table table-sm\" style = \"border:none; padding:0px; margin:0px; font-size:9px\"> \r\n                <tr> \r\n                    <td colspan = \"2\" class = \"text-center\" style = \"font-size:12px; font-weight:700\" >  SALES ORDER </td>\r\n                   \r\n                </tr>\r\n    \r\n                <tr> \r\n                    <td>  Date  </td>\r\n                    <td>  {{ frappe.utils.formatdate(doc.get_formatted('transaction_date'), \"dd-mm-yyyy\") }}  </td>\r\n                </tr>\r\n    \r\n                <tr> \r\n                    <td>Order #  </td>\r\n                    <td>  {{doc.name}}  </td>\r\n                </tr>\r\n                <tr> \r\n                    <td>   Division </td>\r\n                    <td> {{doc.cost_center}}  </td>\r\n                </tr>\r\n                  <tr> \r\n                    <td>   Department </td>\r\n                    <td> {{doc.department}}  </td>\r\n                </tr>\r\n\r\n            </table>\r\n\r\n\r\n        </div>\r\n\r\n        </td>\r\n    </tr>\r\n\r\n\r\n\r\n    </thead>\r\n\r\n    <tr>\r\n        <td colspan = \"9\"> \r\n                <div class = \"\" style = \"float:left; width:40%\" >  \r\n                <div>  <b style=\"font-size:15px\"> Bill To, </b></div>\r\n                <div style=\"font-size:10px\"> <b> {{ doc.customer_name or \"\" }} </b> </div>\r\n            <div style=\"font-size:9px\"> {{ doc.address_display or \"\"}} </div>\r\n            <div style=\"font-size:9px\"> {{ doc.contact_phone or \"\"}} </div>\r\n            <div style=\"font-size:9px\"> {{ doc.contact_email or \"\"}} </div>\r\n                \r\n                \r\n                </div>\r\n                <div class = \"\" style = \"float:left; width:25%\" >              \r\n                \r\n                <img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\" class=\"text-center\" height=\"130px\">\r\n                </div>\r\n                <div class = \"\" style = \"float:left; width:35%\" >  \r\n                \r\n            <table class = \"table table-sm \" style = \"width:100%; border:none; font-size:9px; padding:0px; margin:0px \" cellspacing = '0' cellpadding = '0'> \r\n                {% set po_order = frappe.db.get_value(\"Purchase Order\", doc.name, \"name\") %}\r\n                <tr>\r\n                    <td style = ''> PO Date </td> <td style = ''>  {{ frappe.utils.formatdate(doc.get_formatted('transaction_date'), \"dd-mm-yyyy\") }}  </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = ''> Customer PO#.</td> <td style = ''>  {{doc.po_no}}  </td>\r\n                </tr>\r\n                 {% set salesman = [] %}\r\n                    {% for i in doc.sales_team %}\r\n                        {% set salesman = salesman.append(i.get(\"sales_person\")) %}\r\n                    {% endfor %}\r\n                    {% set sales_team = salesman|join(', ') %}\r\n                <tr>\r\n                    <td style = ''>Sales Person  </td> <td style = ''> {{sales_team}}  </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = ''>Currency </td> <td style = ''> {{ doc.currency }}  </td>\r\n                </tr>\r\n              \r\n\r\n\r\n\r\n            </table>\r\n                \r\n                \r\n                </div>\r\n        </td>\r\n\r\n    </tr>\r\n    <tr> \r\n    <td colspan = \"9\">\r\n   <div style=\"height:30px; \">\r\n    Additional Notes:\r\n    <p>\r\n        {% if doc.posa_notes %}\r\n        {{doc.posa_notes}} \r\n        {% endif %}\r\n    </p>\r\n</div>\r\n\r\n\r\n\r\n    </td>\r\n    </tr>\r\n        <thead style = \"font-size:10px\" > \r\n        <tr> \r\n              <th>  ID </th>\r\n            <th>  Item Code </th>\r\n            <th>  Item Name </th>\r\n            <th class=\"text-right\">  Qty </th>\r\n        </tr>\r\n        </thead>\r\n        \r\n{% set total_amount = {\"total_amount\": 0} %}\r\n{% set total_vat = {\"total_vat\": 0} %}\r\n{% set gross_total = {\"gross_total\": 0} %}\r\n{% set discount_total = {\"discount_total\": 0} %}\r\n{% set tax_type = doc.tax_type  %}\r\n\r\n{% for row in doc.items %}\r\n    {% if total_amount.update({\"total_amount\": total_amount[\"total_amount\"] + row.qty * row.rate}) %} {% endif %}\r\n    \r\n        <tr>\r\n            <td style=\"\">{{ row.idx }}</td>\r\n            <td style=\"\">\r\n                {{ row.item_code }}\r\n            </td>\r\n            <td style=\"\">\r\n                {{ row.item_name }}\r\n            </td>\r\n            <td style=\"\" class=\"text-right\">\r\n                {{ row.qty }}\r\n            </td>\r\n           \r\n        </tr>\r\n        {%- endfor -%}\r\n        <tr> \r\n            <td></td>\r\n            <td colspan=\"2\" class=\"text-right\"><b>Totals: </b>  </td>\r\n            <td class=\"text-right\"> <b>{{doc.total_qty}}</b></td>\r\n        </tr>\r\n \r\n    <tr>\r\n    <td colspan = \"5\" style = \"font-size:9px;\">  \r\n   <div> <b>Created By: {{ doc.owner }}  </b> </div>\r\n     <div>  <b> Created On: {{ doc.get_formatted('creation')}} </b> </div>\r\n     <div> <b>Created By: {{ doc.owner }} </b></div>\r\n    \r\n   \r\n    \r\n    </td>\r\n    </tr>\r\n\r\n   \r\n      \r\n{% if doc.docstatus==0 %}\r\n<div class ='watermark'>\r\n</div>\r\n{% endif %}\r\n\r\n</table>\r\n</div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:11:03.021457",
  "module": "AQIQ Print Formats",
  "name": "Sales order Without Amount A5",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "@media print {\r\n\r\n}\r\n\r\n/*.watermark {*/\r\n/*    position: fixed;*/\r\n/*    top: 420px;*/\r\n/*    left: 220px;*/\r\n    \r\n    \r\n/*    right: 220px;*/\r\n/*    background: url(\"http://192.241.152.17/files/draft-background.png\");*/\r\n/*    background-repeat: no-repeat;*/\r\n    /*background-size: center;*/\r\n/*    height:400px;*/\r\n/*    width:50%;*/\r\n/*    background-position: center;*/\r\n/*    background-size: 100%;*/\r\n/*    color:black !important;*/\r\n/*    opacity: 0.3;*/\r\n/*    position: running(wtrmrk);*/\r\n/*    background-repeat: repeat-x;*/\r\n/*    }*/\r\n\r\n\r\n\r\n.watermark {\r\n    position: fixed;\r\n    top:70px;\r\n    left:11%;\r\n    right:10%;\r\n    background: url(\"http://192.241.152.17/files/draft-background.png\");\r\n    background-repeat: no-repeat;\r\n    height:700px;\r\n    width:80%;\r\n    /*background-position: center;*/\r\n    background-size: 100%;\r\n    opacity: 0.5;\r\n    }\r\n",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Sales Order",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "\r\n\r\n\r\n<table class = \"\"  id=\"header-html\"  class = \"visible-pdf\" > \r\n<tr> \r\n    <td style = \"width:65%\">      \r\n         {% set header = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1}, \"content\") %}\r\n        {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website',]) %}\r\n        {% set comapny_address_line1 = '' %}        \r\n        {% set comapny_city = '' %}        \r\n        {% set comapny_counrty = '' %}        \r\n        {% set comapny_state = '' %}        \r\n        {% set phone = '' %}        \r\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\r\n        {% if company_address_name  %}\r\n            {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\r\n        {% set comapny_address_line1 = address.address_line1 %}        \r\n        {% set comapny_city =  address.city  %}        \r\n        {% set comapny_counrty =  address.country  %}        \r\n        {% set comapny_state =  address.state  %}\r\n        {% set phone = address.phone %}        \r\n        {% endif  %}\r\n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \r\n            'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \r\n            'state' : comapny_state,\r\n            'phone_no' : phone, 'email' : company_details[0].email, 'pin_no': company_details[0].tax_id ,  'company_logo' : company_details[0].company_logo, 'website' : company_details[0].website,  }) %}\r\n            {{header_updated}}\r\n            \r\n    \r\n    \r\n    \r\n    </td>\r\n    <td style = \"width:30%\"> \r\n           <table  class = \"table table-sm\" style = \"width:28%; \"> \r\n                <tr>\r\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:12px\"> SALES ORDER </b> </span> </center>  </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Date </td> <td style = 'font-size:11px'>\r\n                     {{ frappe.utils.formatdate(doc.get_formatted('transaction_date'), \"dd-mm-yyyy\") }} </td>\r\n                </tr>\r\n\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Order # </td> <td style = \"font-size:11px\">  {{ doc.name }}</td>\r\n                </tr>\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Division </td> <td style = \"font-size:11px\">  {{ doc.cost_center }} </td>\r\n                </tr>\r\n\r\n\r\n            </table>\r\n    \r\n    \r\n    </td>\r\n\r\n</tr>\r\n\r\n\r\n</table>\r\n\r\n\r\n\r\n\r\n\r\n\r\n<table class = \"\"  style = \"width:100%; font-size:11px !important; border-bottom:1px solid black !important;\"> \r\n    <tr> \r\n        <td style = \"width:40%\">  \r\n            <div>  <b style=\"font-size:13px\"> Bill To, </b></div>\r\n            <div> <b> {{ doc.customer_name }} </b> </div>\r\n            <div> {{ doc.address_display }} </div>\r\n            <div> {{ doc.contact_phone }} </div>\r\n            <div> {{ doc.contact_email }} </div>\r\n        </td>\r\n        <td style=\"20%\">\r\n            <img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\" class=\"center\" height=100px>\r\n        </td>\r\n        <td style = \"width:35%\">  \r\n            <table class = \"table table-sm; \" style = \"width:100%; margin-top:-1px !important;\" cellspacing = '0' cellpadding = '0'> \r\n                <tr>\r\n                    <td style = 'font-size:11px'> PO Date </td> <td style = 'font-size:11px'>  {{ frappe.utils.formatdate(doc.get_formatted('transaction_date'), \"dd-mm-yyyy\") }}  </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Customer PO#. </td> <td style = 'font-size:11px'>  {{doc.po_no}} </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Sales Person </td>\r\n                    {% set salesman = [] %}\r\n                    {% for i in doc.sales_team %}\r\n                        {% set salesman = salesman.append(i.get(\"sales_person\")) %}\r\n                    {% endfor %}\r\n                    {% set sales_team = salesman|join(', ') %}\r\n                    <td style = 'font-size:11px'>{{sales_team}}</td>\r\n                </tr>\r\n\r\n\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Currency </td>\r\n                    <td style = 'font-size:11px'>{{ doc.currency }}</td>\r\n                </tr>\r\n\r\n            </table>\r\n        </td>\r\n\r\n    </tr>\r\n</table>\r\n\r\n\r\n\r\n\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:10px\" border = '1'> \r\n    <tr> \r\n        <thead> \r\n            <th>  ID </th>\r\n            <th>  Item Code </th>\r\n            <th>  Item Name </th>\r\n            <th class=\"text-right\">  Rate </th>\r\n            <th class=\"text-right\">  Qty </th>\r\n            <th class=\"text-right\">  Total </th>\r\n            <th class=\"text-right\">  VAT </th>\r\n            <th class=\"text-right\">  Discount </th>\r\n            <th class=\"text-right\">  Gross </th>\r\n\r\n        </thead>\r\n    </tr>\r\n{% set total_amount = {\"total_amount\": 0} %}\r\n{% set total_vat = {\"total_vat\": 0} %}\r\n{% set gross_total = {\"gross_total\": 0} %}\r\n{% set discount_total = {\"discount_total\": 0} %}\r\n{% set tax_type = doc.tax_type  %}\r\n\r\n{% for row in doc.items %}\r\n    {% if total_amount.update({\"total_amount\": total_amount[\"total_amount\"] + row.qty * row.rate}) %} {% endif %}\r\n    \r\n        <tr>\r\n            <td style=\"\">{{ row.idx }}</td>\r\n            <td style=\"\">\r\n                {{ row.item_code }}\r\n            </td>\r\n            <td style=\"\">\r\n                {{ row.item_name }}\r\n            </td>\r\n            <td style=\"\" class=\"text-right\">\r\n                {{ '{0:,.2f}'.format(row.rate  ) }} \r\n            </td>\r\n\r\n\r\n            <td style=\"\" class=\"text-right\">\r\n                {{ row.qty }}\r\n            </td>\r\n            {% set amount= row.qty * row.rate %}\r\n            \r\n            <td style=\"\" class=\"text-right\">\r\n                \r\n                <!--{{ frappe.utils.fmt_money(amount, currency=\"KES\") }} -->\r\n                {{ '{0:,.2f}'.format(amount  ) }} \r\n            </td>\r\n        \r\n            <td style=\"\" class=\"text-right\">\r\n                {% set vat = (row.amount/100)*row.total_tax_percentage %}\r\n                {{ '{0:,.2f}'.format(vat  ) }} \r\n                {% if total_vat.update({\"total_vat\": total_vat[\"total_vat\"] + vat}) %} {% endif %}\r\n\r\n            </td>\r\n          <td style=\"\" class=\"text-right\">\r\n                 {{ '{0:,.2f}'.format(row.discount_amount) }} \r\n\r\n                 {% if discount_total.update({\"discount_total\": discount_total[\"discount_total\"] + row.discount_amount}) %} {% endif %}\r\n\r\n\r\n\r\n          </td>\r\n\r\n            \r\n            <td style=\"\" class=\"text-right\">\r\n            \r\n                {% if tax_type == 'Exclusive' %}\r\n                \r\n                 {{ '{0:,.2f}'.format(row.qty * row.rate + vat ) }}\r\n                 {% if gross_total.update({\"gross_total\": gross_total[\"gross_total\"] + row.qty * row.rate + vat}) %} {% endif %}\r\n                \r\n                {% else  %}\r\n                \r\n                {{ '{0:,.2f}'.format(row.qty * row.rate  ) }}\r\n                {% if gross_total.update({\"gross_total\": gross_total[\"gross_total\"] + row.qty * row.rate}) %} {% endif %}\r\n                 \r\n                {% endif %}\r\n            </td>\r\n\r\n        </tr>\r\n        {%- endfor -%}\r\n        <tr> \r\n            <td></td>\r\n            <td colspan=\"3\" class=\"text-right\"><b>Totals: </b>  </td>\r\n            <td class=\"text-right\"> <b>{{doc.total_qty}}</b></td>\r\n               <td class=\"text-right small \">  <b>\r\n                                 {{ '{0:,.2f}'.format( total_amount[\"total_amount\"]  ) }} \r\n                \r\n                </b> </td>\r\n               <td class=\"text-right small \">  <b>\r\n                                 {{ '{0:,.2f}'.format( total_vat[\"total_vat\"]  ) }} \r\n                \r\n                </b> </td>\r\n               <td class=\"text-right small \">  <b>\r\n                                 {{ '{0:,.2f}'.format( discount_total[\"discount_total\"]  ) }} \r\n                \r\n                </b> </td>\r\n               <td class=\"text-right small \">  <b>\r\n                                 {{ '{0:,.2f}'.format( gross_total[\"gross_total\"]  ) }} \r\n                \r\n                </b> </td>\r\n        </tr>\r\n \r\n</table>\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\" border = '1'>\r\n    <tr rowspan = \"4\">\r\n     <tr>\r\n    <td colspan = \"9\" class=\"text-left\">  <b>Total Amount in words: {{ frappe.utils.money_in_words(gross_total[\"gross_total\"], doc.currency) }} </b></td>\r\n</tr>\r\n    <td  colspan = \"6\" width=60%> Terms Conditions  </td>\r\n    <td colspan = \"2\" width=40%>\r\n        <table class=\"table table-sm\" style=\"margin-top:0px\">\r\n            <tr>\r\n                <td colspan = \"2\"> <b> VAT  </b> </td>\r\n                <td colspan = \"2\"><b> {{ '{0:,.2f}'.format( total_vat[\"total_vat\"] ) }}\r\n                </b> </td>\r\n            </tr>\r\n            <tr>\r\n                <td colspan = \"2\"> <b> Discount </b> </td>\r\n                <td colspan = \"2\"> <b> {{ '{0:,.2f}'.format(discount_total[\"discount_total\"]) }} </b> </td>\r\n            </tr>\r\n            <tr>\r\n                 <td colspan = \"2\">  <b> Total Amount </b>  </td>\r\n                <td colspan = \"2\"> <b>  {{ '{0:,.2f}'.format(gross_total[\"gross_total\"] ) }}   </b></td>\r\n            </tr>\r\n            <tr></tr>\r\n        </table>\r\n    </td>\r\n</tr>\r\n</table>\r\n\r\n{% if doc.docstatus==0 %}\r\n<div class ='watermark'>\r\n</div>\r\n{% endif %}\r\n\r\n<table width=100%>\r\n    <tr width=100% style=\"border:1px solid black;\">\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created By: {{ doc.owner }} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b>  </b></td>\r\n        \r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created ON: {{ doc.get_formatted('creation')}} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b> Authorized By:    </b> </td>\r\n    </tr>\r\n</table>\r\n\r\n{% set footer = frappe.db.get_value(\"Letter Head\", doc.letter_head, \"footer\") %}\r\n\r\n{% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(), \"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user}) %}\r\n{{ footer_updated }}\r\n\r\n\r\n    <div id=\"footer-html\" class=\"visible-pdf\">\r\n        <div class=\"letter-head-footer\">\r\n            {{ footer }}\r\n        </div>\r\n        <p class=\"text-center small page-number visible-pdf\">\r\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\r\n        </p>\r\n    </div>\r\n\r\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:11:03.159622",
  "module": "AQIQ Print Formats",
  "name": "Test Print Header",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "@media screen {\r\n@page {\r\nmargin:5px;\r\nsize:a5;\r\n    \r\n}\r\n\r\n}\r\n@media pdf {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\n@page {\r\nmargin:5px;\r\n  size:a5;\r\n\r\n}\r\n}\r\n\r\n\r\n@media screen {\r\n @page {\r\n   margin:0px;\r\n  size:a5;\r\n\r\n}\r\n}\r\n\r\n\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n\r\n\r\n.watermark {\r\n    position: fixed;\r\n    top: 420px;\r\n    left: 220px;\r\n    right: 220px;\r\n    background: url(\"http://192.241.152.17/files/draft-background.png\");\r\n    background-repeat: no-repeat;\r\n    /*background-size: center;*/\r\n    height:400px;\r\n    width:50%;\r\n    background-position: center;\r\n    background-size: 100%;\r\n    color:black !important;\r\n    opacity: 0.3;\r\n    position: running(wtrmrk);\r\n    background-repeat: repeat-x;\r\n    }\r\n\r\n\r\n\r\n\r\n.days_tab {\r\n    position: relative;\r\n}\r\n\r\n.barchart-Wrapper {\r\n      display: table;\r\n      position: relative;\r\n      margin: 20px 0;\r\n      height: 120px;\r\n    }\r\n    .barChart-Container {\r\n      display: table-cell;\r\n      width: 100%;\r\n      height: 100%;\r\n      padding-left: 20px;\r\n      padding-right: 20px;\r\n    }\r\n    .barchart {\r\n     display: table;\r\n     table-layout: fixed;\r\n     height: 100%;\r\n     width: 100%;\r\n     border-bottom: 3px solid darkgrey;\r\n    }\r\n    .barchart-Col {\r\n      position: relative;\r\n      vertical-align: bottom;\r\n      display: table-cell;\r\n      height: 100%;\r\n    }\r\n    .barchart-Col + .barchart-Col {\r\n      border-left: 4px solid transparent;\r\n    }\r\n    .barchart-Bar {\r\n      position: static;\r\n      height: 0;\r\n      transition: height 0.5s 2s;\r\n      width: 10px;\r\n      margin: auto;\r\n    }\r\n    .barchart-Bar:after {\r\n      content: attr(attr-height);\r\n      color: white;\r\n      position: absolute;\r\n      text-align: center;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter {\r\n      position: absolute;\r\n      text-align: center;\r\n      left:40px;\r\n      height: 10%;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter h3 {\r\n      color: darkred;\r\n    }\r\n    .barchart-TimeCol {\r\n      position: absolute;\r\n      top: 0;\r\n      height: 100%;\r\n      width: 100%;\r\n    }\r\n    .barchart-Time {\r\n      height: 25%;\r\n      vertical-align: middle;\r\n      position: relative;\r\n    }\r\n    .barchart-Time:after {\r\n      border-bottom: 3px solid white;\r\n      content: \"\";\r\n      position: absolute;\r\n      width: 100%;\r\n      left: 0;\r\n      top: 0em;\r\n    }\r\n    .barchart-TimeText {\r\n      position: absolute;\r\n      top: -8px;\r\n      z-index: 1;\r\n      background: white;\r\n      padding-right: 5px;\r\n      color: #4d4d4d;\r\n      font-size: 15px;\r\n      font-family: 'Avenir Medium';\r\n    }\r\n    .sq1-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq1-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq2-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq2-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq3-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq3-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq4-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq4-bar {\r\n      background-color: #a61a17;\r\n    }",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Quotation",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "{% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website',]) %}\r\n        {% if doc.company %}\r\n     {% set company_logo = company_details[0].company_logo %}        \r\n        {% set company_address_line1 = '' %}        \r\n        {% set company_city = '' %}        \r\n        {% set company_country = '' %}        \r\n        {% set company_state = '' %}        \r\n        {% set phone = company_details[0].phone_no %}        \r\n        {% set website = company_details[0].website %}        \r\n        {% set email = company_details[0].email %}        \r\n        {% set tax_id = company_details[0].tax_id %}      \r\n\r\n        {% endif%}\r\n\r\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\r\n\r\n        {% if company_address_name  %}\r\n        {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\r\n        {% set company_address_line1 = address.address_line1 %}        \r\n        {% set company_city =  address.city  %}        \r\n        {% set company_country =  address.country  %}        \r\n        {% set company_state =  address.state  %}        \r\n        {% set phone = address.phone %}\r\n        {% endif  %}\r\n\r\n{% set dn_query = frappe.db.get_list('Delivery Note Item',\r\n            filters =  {\r\n            'parent' : doc.delivery_note,\r\n            },\r\n            fields = ['against_sales_order']) %}\r\n            {% set del_note = frappe.db.get_list('Delivery Note', filters = {'name' : doc.delivery_note}, fields=['contact_person', 'shipping_address']) %}\r\n            \r\n\r\n\r\n{% set tot_qty = {\"tot_qty\": 0} %}\r\n{% set tot_weight = {\"tot_weight\": 0} %}\r\n{% set tot_unit_weight = {\"tot_unit_weight\": 0} %}\r\n\r\n\r\n\r\n\r\n<div class = \"mainbox\" style = \"  \"> \r\n\r\n<table class = \"\" style = \"width:100%; \" border = \"1\"  > \r\n    <thead class = \"header-html\" > \r\n    <tr style = \"border:none !important\"> \r\n        <td colspan = \"9\"  style = \"border:none !important\" class = \"text-center\" > 786  </td>\r\n    </tr>\r\n    <tr> \r\n        <td colspan = \"9\">  \r\n        <div class = \"\" style = \"float:left; width:25%\" > \r\n\r\n            <div style=\"width: 100%;\"> \r\n             <img src=\"{{ company_logo }}\" style=\"height: 120px; width: 98%;\">\r\n            </div>\r\n\r\n        </div>\r\n\r\n        <div class = \"\" style = \"float:left; width:40%\" > \r\n\r\n        <div class = \"\"> <b> {{doc.company}} </b> </div>\r\n        <div class = \"\" style = \"font-size:9px\" > {% if company_address_line1 %}{{company_address_line1}} {% endif %} </div>\r\n        <div class = \"\" style = \"font-size:9px\" > {%  if company_city  %} {{ company_city }} {% endif %}  {%  if company_state  %} {{ company_state }} {% endif %} {%  if company_country  %} {{ company_country }} {% endif %} </div>\r\n        <div class = \"\" style = \"font-size:9px\" > P#: {{ phone or \"\" }} </div>\r\n        <div class = \"\" style = \"font-size:9px\" > Email: {{email  or \"\" }} </div>\r\n        <div class = \"\" style = \"font-size:9px\" > PIN NO: {{tax_id or \"\" }} </div>\r\n        <div class = \"\" style = \"font-size:9px\" > Website: {{website or \"\" }}</div>\r\n            \r\n\r\n\r\n        </div>\r\n\r\n\r\n            {% set sales_order = frappe.db.get_list(\"Sales Order\" ,\r\n            filters={\r\n            'name': doc.items[0].against_sales_order\r\n            },\r\n            fields = ['name', 'po_no']) %}\r\n        <div class = \"\" style = \"float:left; width:30%\" > \r\n\r\n            <table class = \"small table table-sm\" style = \"border:none; padding:0px; margin:0px; font-size:9px\"> \r\n                <tr> \r\n                    <td colspan = \"2\" class = \"text-center\" style = \"font-size:12px; font-weight:700\" >  QUOTATION </td>\r\n                   \r\n                </tr>\r\n    \r\n                <tr> \r\n                    <td>  Date  </td>\r\n                    <td>  {{ frappe.utils.formatdate(doc.get_formatted('transaction_date'), \"dd-mm-yyyy\") }}  </td>\r\n                </tr>\r\n    \r\n                <tr> \r\n                    <td>Order #  </td>\r\n                    <td>  {{doc.name}}  </td>\r\n                </tr>\r\n                <tr> \r\n                    <td>   Division </td>\r\n                    <td> {{doc.cost_center}}  </td>\r\n                </tr>\r\n                <tr> \r\n                    <td>   Department </td>\r\n                    <td> {{doc.department}}  </td>\r\n                </tr>\r\n\r\n            </table>\r\n\r\n\r\n        </div>\r\n\r\n        </td>\r\n    </tr>\r\n\r\n\r\n\r\n    </thead>\r\n\r\n    <tr>\r\n        <td colspan = \"9\"> \r\n                <div class = \"\" style = \"float:left; width:40%\" >  \r\n                <div>  <b style=\"font-size:15px\"> Bill To, </b></div>\r\n                <div style=\"font-size:10px\"> <b> {{ doc.customer_name or \"\" }} </b> </div>\r\n            <div style=\"font-size:9px\"> {{ doc.address_display or \"\"}} </div>\r\n            <div style=\"font-size:9px\"> {{ doc.contact_phone or \"\"}} </div>\r\n            <div style=\"font-size:9px\"> {{ doc.contact_email or \"\"}} </div>\r\n                \r\n                \r\n                </div>\r\n                <div class = \"\" style = \"float:left; width:25%\" >              \r\n                \r\n                <img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\" class=\"text-center\" height=\"130px\">\r\n                </div>\r\n                <div class = \"\" style = \"float:left; width:35%\" >  \r\n                \r\n            <table class = \"table table-sm \" style = \"width:100%; border:none; font-size:9px; padding:0px; margin:0px \" cellspacing = '0' cellpadding = '0'> \r\n                {% set po_order = frappe.db.get_value(\"Purchase Order\", doc.name, \"name\") %}\r\n                <tr>\r\n                    <td style = ''> PO Date </td> <td style = ''>  {{ frappe.utils.formatdate(doc.get_formatted('transaction_date'), \"dd-mm-yyyy\") }}  </td>\r\n                </tr>\r\n               \r\n                 {% set salesman = [] %}\r\n                    {% for i in doc.sales_team %}\r\n                        {% set salesman = salesman.append(i.get(\"sales_person\")) %}\r\n                    {% endfor %}\r\n                    {% set sales_team = salesman|join(', ') %}\r\n                <tr>\r\n                    <td style = ''>Sales Person  </td> <td style = ''> {{sales_team}}  </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = ''>Currency </td> <td style = ''> {{ doc.currency }}  </td>\r\n                </tr>\r\n              \r\n\r\n\r\n\r\n            </table>\r\n                \r\n                \r\n                </div>\r\n        </td>\r\n\r\n    </tr>\r\n    <tr> \r\n    <td colspan = \"9\">\r\n   <div style=\"height:30px; \">\r\n   Additional Notes:\r\n    <p>\r\n        {% if doc.posa_notes %}\r\n        {{doc.posa_notes}} \r\n        {% endif %}\r\n    </p>\r\n</div>\r\n\r\n\r\n\r\n    </td>\r\n    </tr>\r\n        <thead style = \"font-size:10px\" > \r\n        <tr> \r\n              <th>  ID </th>\r\n            <th>  Item Code </th>\r\n            <th>  Item Name </th>\r\n            <th class=\"text-right\">  Rate </th>\r\n            <th class=\"text-right\">  Qty </th>\r\n            <th class=\"text-right\">  Total </th>\r\n            <th class=\"text-right\">  VAT </th>\r\n            <th class=\"text-right\">  Discount </th>\r\n            <th class=\"text-right\">  Gross </th>\r\n        </tr>\r\n        </thead>\r\n        \r\n{% set total_amount = {\"total_amount\": 0} %}\r\n{% set total_vat = {\"total_vat\": 0} %}\r\n{% set gross_total = {\"gross_total\": 0} %}\r\n{% set discount_total = {\"discount_total\": 0} %}\r\n{% set tax_type = doc.tax_type  %}\r\n\r\n{% for row in doc.items %}\r\n    {% if total_amount.update({\"total_amount\": total_amount[\"total_amount\"] + row.qty * row.rate}) %} {% endif %}\r\n    \r\n        <tr>\r\n            <td style=\"\">{{ row.idx }}</td>\r\n            <td style=\"\">\r\n                {{ row.item_code }}\r\n            </td>\r\n            <td style=\"\">\r\n                {{ row.item_name }}\r\n            </td>\r\n            <td style=\"\" class=\"text-right\">\r\n                {{ '{0:,.2f}'.format(row.rate  ) }} \r\n            </td>\r\n\r\n\r\n            <td style=\"\" class=\"text-right\">\r\n                {{ row.qty }}\r\n            </td>\r\n            {% set amount= row.qty * row.rate %}\r\n            \r\n            <td style=\"\" class=\"text-right\">\r\n                \r\n                <!--{{ frappe.utils.fmt_money(amount, currency=\"KES\") }} -->\r\n                {{ '{0:,.2f}'.format(amount  ) }} \r\n            </td>\r\n        \r\n            <td style=\"\" class=\"text-right\">\r\n                {% set vat = (row.amount/100)*row.total_tax_percentage %}\r\n                {{ '{0:,.2f}'.format(vat  ) }} \r\n                {% if total_vat.update({\"total_vat\": total_vat[\"total_vat\"] + vat}) %} {% endif %}\r\n\r\n            </td>\r\n          <td style=\"\" class=\"text-right\">\r\n                 {{ '{0:,.2f}'.format(row.discount_amount) }} \r\n\r\n                 {% if discount_total.update({\"discount_total\": discount_total[\"discount_total\"] + row.discount_amount}) %} {% endif %}\r\n\r\n\r\n\r\n          </td>\r\n\r\n            \r\n            <td style=\"\" class=\"text-right\">\r\n            \r\n                {% if tax_type == 'Exclusive' %}\r\n                \r\n                 {{ '{0:,.2f}'.format(row.qty * row.rate + vat ) }}\r\n                 {% if gross_total.update({\"gross_total\": gross_total[\"gross_total\"] + row.qty * row.rate + vat}) %} {% endif %}\r\n                \r\n                {% else  %}\r\n                \r\n                {{ '{0:,.2f}'.format(row.qty * row.rate  ) }}\r\n                {% if gross_total.update({\"gross_total\": gross_total[\"gross_total\"] + row.qty * row.rate}) %} {% endif %}\r\n                 \r\n                {% endif %}\r\n            </td>\r\n\r\n        </tr>\r\n        {%- endfor -%}\r\n        <tr> \r\n            <td></td>\r\n            <td colspan=\"3\" class=\"text-right\"><b>Totals: </b>  </td>\r\n            <td class=\"text-right\"> <b>{{doc.total_qty}}</b></td>\r\n               <td class=\"text-right small \">  <b>\r\n                                 {{ '{0:,.2f}'.format( total_amount[\"total_amount\"]  ) }} \r\n                \r\n                </b> </td>\r\n               <td class=\"text-right small \">  <b>\r\n                                 {{ '{0:,.2f}'.format( total_vat[\"total_vat\"]  ) }} \r\n                \r\n                </b> </td>\r\n               <td class=\"text-right small \">  <b>\r\n                                 {{ '{0:,.2f}'.format( discount_total[\"discount_total\"]  ) }} \r\n                \r\n                </b> </td>\r\n               <td class=\"text-right small \">  <b>\r\n                                 {{ '{0:,.2f}'.format( gross_total[\"gross_total\"]  ) }} \r\n                \r\n                </b> </td>\r\n        </tr>\r\n \r\n    <tr rowspan = \"4\">\r\n     <tr>\r\n    <td colspan = \"9\" class=\"text-left\">  <b>Total Amount in words: {{ frappe.utils.money_in_words(gross_total[\"gross_total\"], doc.currency) }} </b></td>\r\n<tr> \r\n    <td colspan = \"5\" style = \"font-size:9px;\">  \r\n   <div> <b>Created By: {{ doc.owner }}  </b> </div>\r\n     <div>  <b> Created On: {{ doc.get_formatted('creation')}} </b> </div>\r\n     <div> <b>Created By: {{ doc.owner }} </b></div>\r\n    \r\n   \r\n    \r\n    </td>\r\n    <td colspan = \"4\" class = \"text-center\" style = \"font-size:9px ;font-weight:bold;\"> \r\n    <table class=\"table table-sm\" style=\"margin-top:0px\">\r\n            <tr>\r\n                <td colspan = \"2\"> <b> VAT  </b> </td>\r\n                <td colspan = \"2\"><b> {{ '{0:,.2f}'.format( total_vat[\"total_vat\"] ) }}\r\n                </b> </td>\r\n            </tr>\r\n            <tr>\r\n                <td colspan = \"2\"> <b> Discount </b> </td>\r\n                <td colspan = \"2\"> <b> {{ '{0:,.2f}'.format(discount_total[\"discount_total\"]) }} </b> </td>\r\n            </tr>\r\n            <tr>\r\n                 <td colspan = \"2\">  <b> Total Amount </b>  </td>\r\n                <td colspan = \"2\"> <b>  {{ '{0:,.2f}'.format(gross_total[\"gross_total\"] ) }}   </b></td>\r\n            </tr>\r\n            <tr></tr>\r\n        </table>\r\n    </td>\r\n\r\n</tr>\r\n\r\n<tr> \r\n    <td colspan = \"9\" style = \"font-size:9px;\">  \r\n   <div class = \"\" style = \"font-size:9px; width:33%; float:left; font-weight:bold; \"> Recieved By </div>\r\n    <div class = \"\" style = \"font-size:9px; width:33%; float:left; font-weight:bold;\"> ID  </div>\r\n    <div class = \"\" style = \"font-size:9px; width:33%; float:left;font-weight:bold; \"> Signature  </div>\r\n    </td>\r\n\r\n\r\n</tr>\r\n{% if doc.docstatus==0 %}\r\n<div class ='watermark'>\r\n</div>\r\n{% endif %}\r\n\r\n</table>\r\n</div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:11:03.331825",
  "module": "AQIQ Print Formats",
  "name": "Sales Quotation A5",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "@media print {\r\n\r\n}\r\n\r\n/*.watermark {*/\r\n/*    position: fixed;*/\r\n/*    top: 420px;*/\r\n/*    left: 220px;*/\r\n    \r\n    \r\n/*    right: 220px;*/\r\n/*    background: url(\"http://192.241.152.17/files/draft-background.png\");*/\r\n/*    background-repeat: no-repeat;*/\r\n    /*background-size: center;*/\r\n/*    height:400px;*/\r\n/*    width:50%;*/\r\n/*    background-position: center;*/\r\n/*    background-size: 100%;*/\r\n/*    color:black !important;*/\r\n/*    opacity: 0.3;*/\r\n/*    position: running(wtrmrk);*/\r\n/*    background-repeat: repeat-x;*/\r\n/*    }*/\r\n\r\n\r\n\r\n.watermark {\r\n    position: fixed;\r\n    top:70px;\r\n    left:11%;\r\n    right:10%;\r\n    background: url(\"http://192.241.152.17/files/draft-background.png\");\r\n    background-repeat: no-repeat;\r\n    height:700px;\r\n    width:80%;\r\n    /*background-position: center;*/\r\n    background-size: 100%;\r\n    opacity: 0.5;\r\n    }",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Quotation",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<div id=\"header-html\"   style = \"margin-top:-15px !important; width:95.2%; margin-left:15px !important\">\r\n    <div class = \"row\" style = \"\">\r\n        <div class = \"col-xs-10\" style = \"width:100%; float:left; border:1px solid black \">\r\n         {% set header = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1}, \"content\") %}\r\n            \r\n            <!--{% if doc.company == 'Impala Glass Industries Ltd' %}-->\r\n            <!--    {% set logo = \"/files/Impala.png\" %} {% elif doc.company == \"Impala Africa Ltd\" %} {% set logo = \"/files/impala-africa-logo.jpg\" %}-->\r\n            <!--{% endif %}-->\r\n            \r\n            \r\n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website',]) %}\r\n            \r\n            \r\n        \r\n        {% set comapny_address_line1 = '' %}        \r\n        {% set comapny_city = '' %}        \r\n        {% set comapny_counrty = '' %}        \r\n        {% set comapny_state = '' %}        \r\n        {% set phone = '' %}        \r\n\r\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\r\n\r\n        {% if company_address_name  %}\r\n            {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\r\n                \r\n\r\n        {% set comapny_address_line1 = address.address_line1 %}        \r\n        {% set comapny_city =  address.city  %}        \r\n        {% set comapny_counrty =  address.country  %}        \r\n        {% set comapny_state =  address.state  %}        \r\n\r\n        {% set phone = address.phone %}        \r\n\r\n        {% endif  %}\r\n\r\n\r\n            \r\n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \r\n            'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \r\n            'state' : comapny_state,\r\n            'phone_no' : phone, 'email' : company_details[0].email, 'pin_no': company_details[0].tax_id ,  'company_logo' : company_details[0].company_logo, 'website' : company_details[0].website,  }) %}\r\n            {{header_updated}}\r\n            \r\n           \r\n           <table  class = \"table table-sm\" style = \"width:28%; \"> \r\n                <tr>\r\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:12px\"> QUOTATION </b> </span> </center>  </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Date </td> <td style = 'font-size:11px'>\r\n                     {{ frappe.utils.formatdate(doc.get_formatted('transaction_date'), \"dd-mm-yyyy\") }} </td>\r\n                </tr>\r\n\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Order # </td> <td style = \"font-size:11px\">  {{ doc.name }}</td>\r\n                </tr>\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Division </td> <td style = \"font-size:11px\">  {{ doc.cost_center }} </td>\r\n                </tr>\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Department </td> <td style = \"font-size:11px\">  {{ doc.department }} </td>\r\n                </tr>\r\n\r\n\r\n            </table>\r\n\r\n\r\n        </div>\r\n\r\n        <div class = \"col-xs-8\" style = 'float:left'>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n<table class = \"\"  style = \"width:100%; font-size:11px !important; border-bottom:1px solid black !important;\"> \r\n    <tr> \r\n        <td style = \"width:40%\">  \r\n            <div>  <b style=\"font-size:13px\"> Bill To, </b></div>\r\n            <div> <b> {{ doc.customer_name }} </b> </div>\r\n            <div> {{ doc.address_display }} </div>\r\n\r\n            <div> {{ doc.contact_email }} </div>\r\n        </td>\r\n        <td style=\"20%\">\r\n            <img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\" class=\"center\" height=100px>\r\n        </td>\r\n        <td style = \"width:35%\">  \r\n            <table class = \"table table-sm; \" style = \"width:100%; margin-top:-1px !important;\" cellspacing = '0' cellpadding = '0'> \r\n                <tr>\r\n                    <td style = 'font-size:11px'> PO Date </td> <td style = 'font-size:11px'>  {{ frappe.utils.formatdate(doc.get_formatted('transaction_date'), \"dd-mm-yyyy\") }}  </td>\r\n                </tr>\r\n             \r\n                <tr>\r\n                    <td style = 'font-size:11px'> Sales Person </td>\r\n                    {% set salesman = [] %}\r\n                    {% for i in doc.sales_team %}\r\n                        {% set salesman = salesman.append(i.get(\"sales_person\")) %}\r\n                    {% endfor %}\r\n                    {% set sales_team = salesman|join(', ') %}\r\n                    <td style = 'font-size:11px'>{{sales_team}}</td>\r\n                </tr>\r\n\r\n\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Currency </td>\r\n                    <td style = 'font-size:11px'>{{ doc.currency }}</td>\r\n                </tr>\r\n\r\n            </table>\r\n        </td>\r\n\r\n    </tr>\r\n</table>\r\n\r\n\r\n<div style=\"margin-top:2px; height:40px; border:1px solid black;\">\r\n   Additional Notes:\r\n    <p>\r\n        {% if doc.posa_notes %}\r\n        {{doc.posa_notes}} \r\n        {% endif %}\r\n    </p>\r\n</div>\r\n\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:10px\" border = '1'> \r\n    <tr> \r\n        <thead> \r\n            <th>  ID </th>\r\n            <th>  Item Code </th>\r\n            <th>  Item Name </th>\r\n            <th class=\"text-right\">  Rate </th>\r\n            <th class=\"text-right\">  Qty </th>\r\n            <th class=\"text-right\">  Total </th>\r\n            <th class=\"text-right\">  VAT </th>\r\n            <th class=\"text-right\">  Discount </th>\r\n            <th class=\"text-right\">  Gross </th>\r\n\r\n        </thead>\r\n    </tr>\r\n{% set total_amount = {\"total_amount\": 0} %}\r\n{% set total_vat = {\"total_vat\": 0} %}\r\n{% set gross_total = {\"gross_total\": 0} %}\r\n{% set discount_total = {\"discount_total\": 0} %}\r\n{% set tax_type = doc.tax_type  %}\r\n\r\n{% for row in doc.items %}\r\n    {% if total_amount.update({\"total_amount\": total_amount[\"total_amount\"] + row.qty * row.rate}) %} {% endif %}\r\n    \r\n        <tr>\r\n            <td style=\"\">{{ row.idx }}</td>\r\n            <td style=\"\">\r\n                {{ row.item_code }}\r\n            </td>\r\n            <td style=\"\">\r\n                {{ row.item_name }}\r\n            </td>\r\n            <td style=\"\" class=\"text-right\">\r\n                {{ '{0:,.2f}'.format(row.rate  ) }} \r\n            </td>\r\n\r\n\r\n            <td style=\"\" class=\"text-right\">\r\n                {{ row.qty }}\r\n            </td>\r\n            {% set amount= row.qty * row.rate %}\r\n            \r\n            <td style=\"\" class=\"text-right\">\r\n                \r\n                <!--{{ frappe.utils.fmt_money(amount, currency=\"KES\") }} -->\r\n                {{ '{0:,.2f}'.format(amount  ) }} \r\n            </td>\r\n        \r\n            <td style=\"\" class=\"text-right\">\r\n                {% set vat = (row.amount/100)*row.total_tax_percentage %}\r\n                {{ '{0:,.2f}'.format(vat  ) }} \r\n                {% if total_vat.update({\"total_vat\": total_vat[\"total_vat\"] + vat}) %} {% endif %}\r\n\r\n            </td>\r\n          <td style=\"\" class=\"text-right\">\r\n                 {{ '{0:,.2f}'.format(row.discount_amount) }} \r\n\r\n                 {% if discount_total.update({\"discount_total\": discount_total[\"discount_total\"] + row.discount_amount}) %} {% endif %}\r\n\r\n\r\n\r\n          </td>\r\n\r\n            \r\n            <td style=\"\" class=\"text-right\">\r\n            \r\n                {% if tax_type == 'Exclusive' %}\r\n                \r\n                 {{ '{0:,.2f}'.format(row.qty * row.rate + vat ) }}\r\n                 {% if gross_total.update({\"gross_total\": gross_total[\"gross_total\"] + row.qty * row.rate + vat}) %} {% endif %}\r\n                \r\n                {% else  %}\r\n                \r\n                {{ '{0:,.2f}'.format(row.qty * row.rate  ) }}\r\n                {% if gross_total.update({\"gross_total\": gross_total[\"gross_total\"] + row.qty * row.rate}) %} {% endif %}\r\n                 \r\n                {% endif %}\r\n            </td>\r\n\r\n        </tr>\r\n        {%- endfor -%}\r\n        <tr> \r\n            <td></td>\r\n            <td colspan=\"3\" class=\"text-right\"><b>Totals: </b>  </td>\r\n            <td class=\"text-right\"> <b>{{doc.total_qty}}</b></td>\r\n               <td class=\"text-right small \">  <b>\r\n                                 {{ '{0:,.2f}'.format( total_amount[\"total_amount\"]  ) }} \r\n                \r\n                </b> </td>\r\n               <td class=\"text-right small \">  <b>\r\n                                 {{ '{0:,.2f}'.format( total_vat[\"total_vat\"]  ) }} \r\n                \r\n                </b> </td>\r\n               <td class=\"text-right small \">  <b>\r\n                                 {{ '{0:,.2f}'.format( discount_total[\"discount_total\"]  ) }} \r\n                \r\n                </b> </td>\r\n               <td class=\"text-right small \">  <b>\r\n                                 {{ '{0:,.2f}'.format( gross_total[\"gross_total\"]  ) }} \r\n                \r\n                </b> </td>\r\n        </tr>\r\n \r\n</table>\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\" border = '1'>\r\n    <tr rowspan = \"4\">\r\n     <tr>\r\n    <td colspan = \"9\" class=\"text-left\">  <b>Total Amount in words: {{ frappe.utils.money_in_words(gross_total[\"gross_total\"], doc.currency) }} </b></td>\r\n</tr>\r\n    <td  colspan = \"6\" width=60% style=\"font-size:8px;\"><b> Terms & Conditions : </b>{{ doc.terms or ''   }} </td>\r\n    <td colspan = \"2\" width=40%>\r\n        <table class=\"table table-sm\" style=\"margin-top:0px\">\r\n            <tr>\r\n                <td colspan = \"2\"> <b> VAT  </b> </td>\r\n                <td colspan = \"2\"><b> {{ '{0:,.2f}'.format( total_vat[\"total_vat\"] ) }}\r\n                </b> </td>\r\n            </tr>\r\n            <tr>\r\n                <td colspan = \"2\"> <b> Discount </b> </td>\r\n                <td colspan = \"2\"> <b> {{ '{0:,.2f}'.format(discount_total[\"discount_total\"]) }} </b> </td>\r\n            </tr>\r\n            <tr>\r\n                 <td colspan = \"2\">  <b> Total Amount </b>  </td>\r\n                <td colspan = \"2\"> <b>  {{ '{0:,.2f}'.format(gross_total[\"gross_total\"] ) }}   </b></td>\r\n            </tr>\r\n            <tr></tr>\r\n        </table>\r\n    </td>\r\n</tr>\r\n</table>\r\n\r\n{% if doc.docstatus==0 %}\r\n<div class ='watermark'>\r\n</div>\r\n{% endif %}\r\n\r\n<table width=100%>\r\n    <tr width=100% style=\"border:1px solid black;\">\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created By: {{ doc.owner }} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b>  </b></td>\r\n        \r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created ON: {{ doc.get_formatted('creation')}} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b> Authorized By:    </b> </td>\r\n    </tr>\r\n</table>\r\n\r\n{% set footer = frappe.db.get_value(\"Letter Head\", doc.letter_head, \"footer\") %}\r\n\r\n{% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(), \"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user}) %}\r\n{{ footer_updated }}\r\n\r\n\r\n    <div id=\"footer-html\" class=\"visible-pdf\">\r\n        <div class=\"letter-head-footer\">\r\n            {{ footer }}\r\n        </div>\r\n        <p class=\"text-center small page-number visible-pdf\">\r\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\r\n        </p>\r\n    </div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:11:03.503407",
  "module": "AQIQ Print Formats",
  "name": "Sales Quotation",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "POS Invoice",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<style>\n\t.print-format table, .print-format tr, \n\t.print-format td, .print-format div, .print-format p {\n\t\tline-height: 150%;\n\t\tvertical-align: middle;\n\t}\n\t@media screen {\n\t\t.print-format {\n\t\t\twidth: 4in;\n\t\t\tpadding: 0.25in;\n\t\t\tmin-height: 8in;\n\t\t}\n\t}\n</style>\n\n{% if letter_head %}\n    {{ letter_head }}\n{% endif %}\n<p class=\"text-center\">\n\t{{ doc.company }}<br>\n\t{% if doc.company_address_display %}\n\t\t{% set company_address = doc.company_address_display.replace(\"\\n\", \" \").replace(\"<br>\", \" \") %}\n\t\t{% if \"GSTIN\" not in company_address %}\n\t\t\t{{ company_address }}\n\t\t\t<b>{{ _(\"GSTIN\") }}:</b>{{ doc.company_gstin }}\n\t\t{% else %}\n\t\t\t{{ company_address.replace(\"GSTIN\", \"<br>GSTIN\") }}\n\t\t{% endif %}\n\t{% endif %}\n\t<br>\n\t{% if doc.docstatus == 0 %}\n\t\t<b>{{ doc.status + \" \"+ (doc.select_print_heading or _(\"Invoice\")) }}</b><br>\n\t{% else %}\n\t\t<b>{{ doc.select_print_heading or _(\"Invoice\") }}</b><br>\n\t{% endif %}\n</p>\n\n<p>\n\t<b>{{ _(\"Receipt No\") }}:</b> {{ doc.name }}<br>\n\t<b>{{ _(\"Cashier\") }}:</b> {{ doc.owner }}<br>\n\t<b>{{ _(\"Date\") }}:</b> {{ doc.get_formatted(\"posting_date\") }}<br>\n\t<b>{{ _(\"Time\") }}:</b> {{  doc.get_formatted(\"posting_time\") }}<br>\n\t{% if doc.grand_total > 50000 %}\n\t\t{% set customer_address = doc.address_display.replace(\"\\n\", \" \").replace(\"<br>\", \" \") %}\n\t\t<b>{{ _(\"Customer\") }}:</b><br>\n\t\t{{ doc.customer_name }}<br>\n\t\t{{ customer_address }}\n\t{% endif %}\n</p>\n\n<hr>\n<table class=\"table table-condensed cart no-border\">\n\t<thead>\n\t\t<tr>\n\t\t\t<th width=\"50%\">{{ _(\"Item\") }}</b></th>\n\t\t\t<th width=\"25%\" class=\"text-right\">{{ _(\"Qty\") }}</th>\n\t\t\t<th width=\"25%\" class=\"text-right\">{{ _(\"Amount\") }}</th>\n\t\t</tr>\n\t</thead>\n\t<tbody>\n\t\t{%- for item in doc.items -%}\n\t\t<tr>\n\t\t\t<td>\n\t\t\t\t{{ item.item_code }}\n\t\t\t\t{%- if item.item_name != item.item_code -%}\n\t\t\t\t\t<br>{{ item.item_name }}\n\t\t\t\t{%- endif -%}\n\t\t\t\t{%- if item.gst_hsn_code -%}\n\t\t\t\t\t<br><b>{{ _(\"HSN/SAC\") }}:</b> {{ item.gst_hsn_code }}\n\t\t\t\t{%- endif -%}\n\t\t\t\t{%- if item.serial_no -%}\n\t\t\t\t\t<br><b>{{ _(\"SR.No\") }}:</b><br>\n\t\t\t\t\t{{ item.serial_no | replace(\"\\n\", \", \") }}\n\t\t\t\t{%- endif -%}\n\t\t\t</td>\n\t\t\t<td class=\"text-right\">{{ item.qty }}<br>@ {{ item.rate }}</td>\n\t\t\t<td class=\"text-right\">{{ item.get_formatted(\"amount\") }}</td>\n\t\t</tr>\n\t\t{%- endfor -%}\n\t</tbody>\n</table>\n<table class=\"table table-condensed no-border\">\n\t<tbody>\n\t\t<tr>\n\t\t\t{% if doc.flags.show_inclusive_tax_in_print %}\n\t\t\t\t<td class=\"text-right\" style=\"width: 70%\">\n\t\t\t\t\t{{ _(\"Total Excl. Tax\") }}\n\t\t\t\t</td>\n\t\t\t\t<td class=\"text-right\">\n\t\t\t\t\t{{ doc.get_formatted(\"net_total\", doc) }}\n\t\t\t\t</td>\n\t\t\t{% else %}\n\t\t\t\t<td class=\"text-right\" style=\"width: 70%\">\n\t\t\t\t\t{{ _(\"Total\") }}\n\t\t\t\t</td>\n\t\t\t\t<td class=\"text-right\">\n\t\t\t\t\t{{ doc.get_formatted(\"total\", doc) }}\n\t\t\t\t</td>\n\t\t\t{% endif %}\n\t\t</tr>\n\t\t{%- for row in doc.taxes -%}\n\t\t  {%- if (not row.included_in_print_rate or doc.flags.show_inclusive_tax_in_print) and row.tax_amount != 0 -%}\n\t\t\t<tr>\n\t\t\t\t<td class=\"text-right\" style=\"width: 70%\">\n\t\t\t\t\t{% if '%' in row.description %}\n\t\t\t\t\t    {{ row.description }}\n\t\t\t\t\t{% else %}\n\t\t\t\t\t    {{ row.description }}@{{ row.rate }}%\n\t\t\t\t\t{% endif %}\n\t\t\t\t</td>\n\t\t\t\t<td class=\"text-right\">\n\t\t\t\t\t{{ row.get_formatted(\"tax_amount\", doc) }}\n\t\t\t\t</td>\n\t\t\t<tr>\n\t\t  {%- endif -%}\n\t\t{%- endfor -%}\n\t\t{%- if doc.discount_amount -%}\n\t\t<tr>\n\t\t\t<td class=\"text-right\" style=\"width: 75%\">\n\t\t\t\t{{ _(\"Discount\") }}\n\t\t\t</td>\n\t\t\t<td class=\"text-right\">\n\t\t\t\t{{ doc.get_formatted(\"discount_amount\") }}\n\t\t\t</td>\n\t\t</tr>\n\t\t{%- endif -%}\n\t\t<tr>\n\t\t\t<td class=\"text-right\" style=\"width: 75%\">\n\t\t\t\t<b>{{ _(\"Grand Total\") }}</b>\n\t\t\t</td>\n\t\t\t<td class=\"text-right\">\n\t\t\t\t{{ doc.get_formatted(\"grand_total\") }}\n\t\t\t</td>\n\t\t</tr>\n\t\t{%- if doc.rounded_total -%}\n\t\t<tr>\n\t\t\t<td class=\"text-right\" style=\"width: 75%\">\n\t\t\t\t<b>{{ _(\"Rounded Total\") }}</b>\n\t\t\t</td>\n\t\t\t<td class=\"text-right\">\n\t\t\t\t{{ doc.get_formatted(\"rounded_total\") }}\n\t\t\t</td>\n\t\t</tr>\n\t\t{%- endif -%}\n\t\t{%- for row in doc.payments -%}\n\t\t\t<tr>\n\t\t\t\t<td class=\"text-right\" style=\"width: 70%\">\n\t\t\t\t    {{ row.mode_of_payment }}\n\t\t\t\t</td>\n\t\t\t\t<td class=\"text-right\">\n\t\t\t\t\t{{ row.get_formatted(\"amount\", doc) }}\n\t\t\t\t</td>\n\t\t\t<tr>\n\t\t{%- endfor -%}\n\t\t<tr>\n\t\t\t<td class=\"text-right\" style=\"width: 75%\">\n\t\t\t\t<b>{{ _(\"Paid Amount\") }}</b>\n\t\t\t</td>\n\t\t\t<td class=\"text-right\">\n\t\t\t\t{{ doc.get_formatted(\"paid_amount\") }}\n\t\t\t</td>\n\t\t</tr>\n\t{%- if doc.change_amount -%}\n\t\t<tr>\n\t\t\t<td class=\"text-right\" style=\"width: 75%\">\n\t\t\t\t<b>{{ _(\"Change Amount\") }}</b>\n\t\t\t</td>\n\t\t\t<td class=\"text-right\">\n\t\t\t\t{{ doc.get_formatted(\"change_amount\") }}\n\t\t\t</td>\n\t\t</tr>\n\t{%- endif -%}\n\t</tbody>\n</table>\n<p>{{ doc.terms or \"\" }}</p>\n<p class=\"text-center\">{{ _(\"Thank you, please visit again.\") }}</p>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:11:03.669493",
  "module": "AQIQ Print Formats",
  "name": "GST POS Invoice",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "@media screen {\r\n@page {\r\nmargin:5px;\r\nsize:a5;\r\n    \r\n}\r\n\r\n}\r\n@media pdf {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\n@page {\r\nmargin:5px;\r\n  size:a5;\r\n\r\n}\r\n}\r\n\r\n\r\n@media screen {\r\n @page {\r\n   margin:0px;\r\n  size:a5;\r\n\r\n}\r\n}\r\n\r\n\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n\r\n\r\n.watermark {\r\n    position: fixed;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%) rotate(-45deg);\r\n    opacity: 0.5;\r\n    font-size: 100px;\r\n    color: rgba(255, 0, 0, 0.3);\r\n}\r\n\r\n\r\n\r\n\r\n\r\n.days_tab {\r\n    position: relative;\r\n}\r\n\r\n.barchart-Wrapper {\r\n      display: table;\r\n      position: relative;\r\n      margin: 20px 0;\r\n      height: 120px;\r\n    }\r\n    .barChart-Container {\r\n      display: table-cell;\r\n      width: 100%;\r\n      height: 100%;\r\n      padding-left: 20px;\r\n      padding-right: 20px;\r\n    }\r\n    .barchart {\r\n     display: table;\r\n     table-layout: fixed;\r\n     height: 100%;\r\n     width: 100%;\r\n     border-bottom: 3px solid darkgrey;\r\n    }\r\n    .barchart-Col {\r\n      position: relative;\r\n      vertical-align: bottom;\r\n      display: table-cell;\r\n      height: 100%;\r\n    }\r\n    .barchart-Col + .barchart-Col {\r\n      border-left: 4px solid transparent;\r\n    }\r\n    .barchart-Bar {\r\n      position: static;\r\n      height: 0;\r\n      transition: height 0.5s 2s;\r\n      width: 10px;\r\n      margin: auto;\r\n    }\r\n    .barchart-Bar:after {\r\n      content: attr(attr-height);\r\n      color: white;\r\n      position: absolute;\r\n      text-align: center;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter {\r\n      position: absolute;\r\n      text-align: center;\r\n      left:40px;\r\n      height: 10%;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter h3 {\r\n      color: darkred;\r\n    }\r\n    .barchart-TimeCol {\r\n      position: absolute;\r\n      top: 0;\r\n      height: 100%;\r\n      width: 100%;\r\n    }\r\n    .barchart-Time {\r\n      height: 25%;\r\n      vertical-align: middle;\r\n      position: relative;\r\n    }\r\n    .barchart-Time:after {\r\n      border-bottom: 3px solid white;\r\n      content: \"\";\r\n      position: absolute;\r\n      width: 100%;\r\n      left: 0;\r\n      top: 0em;\r\n    }\r\n    .barchart-TimeText {\r\n      position: absolute;\r\n      top: -8px;\r\n      z-index: 1;\r\n      background: white;\r\n      padding-right: 5px;\r\n      color: #4d4d4d;\r\n      font-size: 15px;\r\n      font-family: 'Avenir Medium';\r\n    }\r\n    .sq1-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq1-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq2-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq2-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq3-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq3-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq4-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq4-bar {\r\n      background-color: #a61a17;\r\n    }",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Purchase Order",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "{% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website',]) %}\r\n        {% if doc.company %}\r\n     {% set company_logo = company_details[0].company_logo %}        \r\n        {% set company_address_line1 = '' %}        \r\n        {% set company_city = '' %}        \r\n        {% set company_country = '' %}        \r\n        {% set company_state = '' %}        \r\n        {% set phone = company_details[0].phone_no %}        \r\n        {% set website = company_details[0].website %}        \r\n        {% set email = company_details[0].email %}        \r\n        {% set tax_id = company_details[0].tax_id %}      \r\n\r\n        {% endif%}\r\n\r\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\r\n\r\n        {% if company_address_name  %}\r\n        {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\r\n        {% set company_address_line1 = address.address_line1 %}        \r\n        {% set company_city =  address.city  %}        \r\n        {% set company_country =  address.country  %}        \r\n        {% set company_state =  address.state  %}        \r\n        {% set phone = address.phone %}\r\n        {% endif  %}\r\n\r\n\r\n{% set dn_query = frappe.db.get_list('Delivery Note Item',\r\n            filters =  {\r\n            'parent' : doc.delivery_note,\r\n            },\r\n            fields = ['against_sales_order']) %}\r\n            {% set del_note = frappe.db.get_list('Delivery Note', filters = {'name' : doc.delivery_note}, fields=['contact_person', 'shipping_address']) %}\r\n            \r\n\r\n\r\n{% set tot_qty = {\"tot_qty\": 0} %}\r\n{% set tot_weight = {\"tot_weight\": 0} %}\r\n{% set tot_unit_weight = {\"tot_unit_weight\": 0} %}\r\n\r\n\r\n\r\n\r\n<div class = \"mainbox\" style = \"  \"> \r\n\r\n<table class = \"\" style = \"width:100%; \" border = \"1\"  > \r\n    <thead class = \"header-html\" > \r\n    <tr style = \"border:none !important\"> \r\n        <td colspan = \"9\"  style = \"border:none !important\" class = \"text-center\" > 786  </td>\r\n    </tr>\r\n    <tr> \r\n        <td colspan = \"9\">  \r\n        <div class = \"\" style = \"float:left; width:25%\" > \r\n\r\n            <div style=\"width: 100%;\"> \r\n             <img src=\"{{ company_logo }}\" style=\"height: 120px; width: 98%;\">\r\n            </div>\r\n\r\n        </div>\r\n\r\n        <div class = \"\" style = \"float:left; width:40%\" > \r\n\r\n        <div class = \"\"> <b> {{doc.company}} </b> </div>\r\n        <div class = \"\" style = \"font-size:9px\" > {% if company_address_line1 %}{{company_address_line1}} {% endif %} </div>\r\n        <div class = \"\" style = \"font-size:9px\" > {%  if company_city  %} {{ company_city }} {% endif %}  {%  if company_state  %} {{ company_state }} {% endif %} {%  if company_country  %} {{ company_country }} {% endif %} </div>\r\n        <div class = \"\" style = \"font-size:9px\" > P#: {{ phone or \"\" }} </div>\r\n        <div class = \"\" style = \"font-size:9px\" > Email: {{email  or \"\" }} </div>\r\n        <div class = \"\" style = \"font-size:9px\" > PIN NO: {{tax_id or \"\" }} </div>\r\n        <div class = \"\" style = \"font-size:9px\" > Website: {{website or \"\" }}</div>\r\n            \r\n\r\n\r\n        </div>\r\n\r\n\r\n            {% set sales_order = frappe.db.get_list(\"Sales Order\" ,\r\n            filters={\r\n            'name': doc.items[0].against_sales_order\r\n            },\r\n            fields = ['name', 'po_no']) %}\r\n        <div class = \"\" style = \"float:left; width:30%\" > \r\n\r\n            <table class = \"small table table-sm\" style = \"border:none; padding:0px; margin:0px; font-size:9px\"> \r\n                <tr>\r\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:14px\"> PURCHASE ORDER </b> </span> </center>  </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Date </td> <td style = 'font-size:11px'>  \r\n                    \r\n                    {{ frappe.utils.formatdate(doc.get_formatted('transaction_date'), \"dd-mm-yyyy\") }} \r\n                    \r\n                    \r\n                    </td>\r\n                </tr>\r\n\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Order # </td> <td style = \"font-size:11px\">  {{ doc.name }}</td>\r\n                </tr>\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Req. by </td> <td style = \"font-size:11px\">\r\n                    {{ frappe.utils.formatdate(doc.get_formatted('schedule_date'), \"dd-mm-yyyy\") }} </td>\r\n                </tr>\r\n            </table>\r\n\r\n\r\n        </div>\r\n\r\n        </td>\r\n    </tr>\r\n\r\n\r\n\r\n    </thead>\r\n\r\n    <tr>\r\n        <td colspan = \"9\"> \r\n                <div class = \"\" style = \"float:left; width:60%\" >  \r\n                <div>  <b style=\"font-size:15px\"> Supplier Details, </b></div>\r\n                <div style=\"font-size:10px\"> <b>{{ doc.supplier_name or \"\"}} </b> </div>\r\n            <div style=\"font-size:9px\"> {{ doc.supplier_address or \"\" }} </div>\r\n            <div style=\"font-size:9px\"> {{ doc.contact_person or \"\"}} </div>\r\n            <div style=\"font-size:9px\"> {{ doc.contact_mobile or \"\"}} </div>\r\n                \r\n                \r\n                </div>\r\n                <div class = \"\" style = \"float:left; width:25%\" >              \r\n                \r\n                </div>\r\n                <div class = \"\" style = \"float:left; width:35%\" >  \r\n                \r\n            <table class = \"table table-sm \" style = \"width:100%; border:none; font-size:9px; padding:0px; margin:0px \" cellspacing = '0' cellpadding = '0'> \r\n                {% set po_order = frappe.db.get_value(\"Purchase Order\", doc.name, \"name\") %}\r\n                <tr>\r\n                    <td style = ''>Supp Quotation Date: </td> <td style = ''>   {{frappe.db.get_value('Supplier Quotation', doc.name, 'transaction_date')}} </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = ''> Supp Quotation #.</td> <td style = ''>  {{frappe.db.get_value('Supplier Quotation', doc.name, 'name')}}  </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = ''>Requested By:  </td> <td style = ''> {{frappe.db.get_value('Request For Quotation', doc.name, 'customer_name')}}  </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = ''>Currency </td> <td style = ''> {{ doc.currency }}  </td>\r\n                </tr>\r\n              \r\n\r\n\r\n\r\n            </table>\r\n                \r\n                \r\n                </div>\r\n        </td>\r\n\r\n    </tr>\r\n    <tr> \r\n    <td colspan = \"9\">\r\n   <div style=\"height:30px; \">\r\n    Remarks:\r\n</div>\r\n\r\n\r\n\r\n    </td>\r\n    </tr>\r\n        <thead style = \"font-size:10px\" > \r\n        <tr> \r\n                <th>  # </th>\r\n            <th>  Item Code </th>\r\n            <th>  Item Name </th>\r\n            <th class=\"text-right\">  Rate </th>\r\n            <th class=\"text-right\">  Qty </th>\r\n            <th class=\"text-right\">  Total </th>\r\n            <th class=\"text-right\">  VAT </th>\r\n            <!--<th class=\"text-right\">  Discount </th>-->\r\n            <th class=\"text-right\">  Gross </th>\r\n        </tr>\r\n        </thead>\r\n        \r\n{% set total_amount = {\"total_amount\": 0} %}\r\n{% set total_vat = {\"total_vat\": 0} %}\r\n{% set gross_total = {\"gross_total\": 0} %}\r\n{% set discount_total = {\"discount_total\": 0} %}\r\n\r\n{% set tax_type = doc.tax_type  %}\r\n{% for row in doc.items %}\r\n    {% if total_amount.update({\"total_amount\": total_amount[\"total_amount\"] + row.qty * row.rate}) %} {% endif %}\r\n    \r\n    {% set in_vat = '' %}\r\n    {% set total_tax_percentage = row.total_tax_percentage |replace(\"%\", \"\")  %}   \r\n    {% set ex_vat  =  ((row.net_rate|float / 100) * total_tax_percentage|int)  %}\r\n\r\n    \r\n        <tr>\r\n            <td style=\"\">{{ row.idx }}</td>\r\n            <td style=\"\">\r\n                {{ row.item_code }}\r\n            </td>\r\n            <td style=\"\">\r\n                {{ row.item_name }}\r\n            </td>\r\n            <td style=\"\" class=\"text-right\">\r\n\r\n              {{ '{0:,.2f}'.format(row.rate  ) }} \r\n\r\n            </td>\r\n\r\n\r\n            <td style=\"\" class=\"text-right\">\r\n                {{ row.qty }}\r\n            </td>\r\n            {% set amount= row.qty * row.rate %}\r\n            \r\n            <td style=\"\" class=\"text-right\">\r\n                \r\n\r\n            {{ '{0:,.2f}'.format(amount  ) }} \r\n\r\n            </td>\r\n        \r\n            <td style=\"\" class=\"text-right\">\r\n\r\n\r\n            {% set tem_vat = 0 %}\r\n            {% if tax_type == 'Exclusive' %}\r\n                {% set ex_vat  =  amount  / 100 * total_tax_percentage | int  %}\r\n                  {{ '{0:,.2f}'.format(ex_vat  ) }} \r\n                {% set tem_vat = ex_vat %}\r\n\r\n            {% else  %}\r\n                {% set in_vat  =  amount  / 100 * total_tax_percentage | int  %}\r\n                {{ '{0:,.2f}'.format(in_vat  ) }} \r\n                {% set tem_vat = in_vat %}\r\n            {% endif  %}\r\n                \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                <!--{% set vat = (row.amount/100)*16 %}-->\r\n                {% if total_vat.update({\"total_vat\": total_vat[\"total_vat\"] + tem_vat}) %} {% endif %}\r\n                <!--              {{ '{0:,.2f}'.format(vat  ) }} -->\r\n\r\n\r\n\r\n            </td>\r\n\r\n            \r\n          <!--  <td style=\"\" class=\"text-right\">-->\r\n          <!--       {{ '{0:,.2f}'.format(row.discount_amount) }} -->\r\n\r\n          <!--       {% if discount_total.update({\"discount_total\": discount_total[\"discount_total\"] + row.discount_amount}) %} {% endif %}-->\r\n\r\n\r\n\r\n          <!--</td>-->\r\n          \r\n            <td style=\"\" class=\"text-right\">\r\n\r\n\r\n            {% set gross_temp = 0 %}\r\n            {% if tax_type == 'Exclusive' %}\r\n                {% set acutal_value_qty  =  tem_vat + amount    %}\r\n                  {{ '{0:,.2f}'.format(acutal_value_qty  ) }} \r\n                {% set gross_temp = acutal_value_qty %}\r\n\r\n            {% else  %}\r\n                {% set acutal_value_qty = amount   %}\r\n                  {{ '{0:,.2f}'.format(acutal_value_qty  ) }} \r\n                {% set gross_temp = acutal_value_qty %}\r\n\r\n            {% endif  %}\r\n\r\n\r\n                {% if gross_total.update({\"gross_total\": gross_total[\"gross_total\"] + gross_temp }) %} {% endif %}\r\n\r\n\r\n            </td>\r\n\r\n        </tr>\r\n        {%- endfor -%}\r\n        <tr> \r\n            <td></td>\r\n            <td colspan=\"3\" class=\"text-right\"><b>Totals: </b>  </td>\r\n            <td class=\"text-right\"> <b>{{doc.total_qty}}</b></td>\r\n            <td class=\"text-right\">  <b>\r\n              {{ '{0:,.2f}'.format(total_amount[\"total_amount\"]) }} \r\n\r\n                </b> </td>\r\n            <td class=\"text-right\"> <b> \r\n              {{ '{0:,.2f}'.format( total_vat[\"total_vat\"] ) }} \r\n\r\n            </b> </td>\r\n            <!--<td class=\"text-right\"><b>  -->\r\n            <!-- {{ '{0:,.2f}'.format(discount_total[\"discount_total\"]) }}  -->\r\n            \r\n            <!--</b> </td>-->\r\n            <td class=\"text-right\"><b>  \r\n              {{ '{0:,.2f}'.format(gross_total[\"gross_total\"] ) }} \r\n            \r\n            </b> </td>\r\n        </tr>\r\n        <tr> \r\n            <td colspan = \"9\"> \r\n            <b>Total Amount in words: {{ frappe.utils.money_in_words(gross_total[\"gross_total\"], doc.currency) }}</b>\r\n            </td>\r\n \r\n       </tr>\r\n<tr rowspan = \"4\">\r\n    <td  colspan = \"6\" width=60%><b> Payment Terms:  </b>\r\n\r\n{% if doc.payment_terms_template  %}\r\n\r\n    <table style = \"font-size:10px; border: 1px solid #EBEEF0 \" cellspacing = '0' rowspacing = '0' width = \"95%\" border = \"1\"   > \r\n        <tr> \r\n            <th> P-Term </th> \r\n            <th> Due Date</th> \r\n            <th> Invoice Portion </th> \r\n        </tr>\r\n\r\n\r\n\r\n{%- for row in doc.payment_schedule -%}\r\n\t\t<tr>\r\n\t\t    <td> {{ row.payment_term}} </td>\r\n\t\t    <td> {{ row.due_date }} </td>\r\n\t\t    <td> {{ row.invoice_portion }} -  {{ row.discount_type }}  </td>\r\n\r\n\t\t</tr>\r\n\t\t{%- endfor -%}\r\n\r\n\r\n\r\n\r\n    </table>\r\n\t\t{%- endif -%}\r\n\r\n\r\n\r\n\r\n    \r\n    \r\n    </td>\r\n    <td colspan = \"3\" width=40%>\r\n        <table class=\"table table-sm\" style=\"margin-top:0px\">\r\n\r\n            <tr>\r\n                <td colspan = \"2\"> <b> VAT </b> </td>\r\n                <td colspan = \"2\"><b> \r\n              {{ '{0:,.2f}'.format(total_vat[\"total_vat\"] ) }} \r\n\r\n                \r\n                </b> </td>\r\n            </tr>\r\n\r\n\r\n\r\n            <tr>\r\n                <td colspan = \"2\">  <b> Total Amount </b>  </td>\r\n                <td colspan = \"2\"> <b> \r\n              {{ '{0:,.2f}'.format(gross_total[\"gross_total\"] ) }} \r\n                </b></td>\r\n            </tr>\r\n            <tr></tr>\r\n        </table>\r\n    </td>\r\n</tr>\r\n\r\n <tr width=100% height=60px style = \"border-bottom: 1px solid black;\">\r\n        <td colspan = \"9\" width=100%><b>Shippment Address:</b></td>\r\n        \r\n    </tr>\r\n\r\n<tr> \r\n    <td colspan = \"9\" style = \"font-size:9px;\">  \r\n   <div> <b>Created By: {{ doc.owner }}  </b> </div>\r\n     <div>  <b> Created On: {{ doc.get_formatted('creation')}} </b> </div>\r\n     <div> <b>Created By: {{ doc.owner }} </b></div>\r\n \r\n    </td>\r\n    \r\n</tr>\r\n\r\n<tr> \r\n    <td colspan = \"9\" style = \"font-size:9px;\">  \r\n   <div class = \"\" style = \"font-size:9px; width:33%; float:left; font-weight:bold; \"> Recieved By </div>\r\n    <div class = \"\" style = \"font-size:9px; width:33%; float:left; font-weight:bold;\"> ID  </div>\r\n    <div class = \"\" style = \"font-size:9px; width:33%; float:left;font-weight:bold; \"> Signature  </div>\r\n{% if doc.docstatus==0 %}\r\n<div class ='watermark'>\r\n    DRAFT\r\n</div>\r\n{% endif %}\r\n    </td>\r\n\r\n\r\n</tr>\r\n\r\n</table>\r\n</div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:11:00.724708",
  "module": "AQIQ Print Formats",
  "name": "Purchase Order New A5",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "@media screen,pdf {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\n\r\n@page {\r\n  size: a5;\r\n  margin: 5px;\r\n}\r\n\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n \r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\nmargin-top-15{\r\n    margin-top:15px;\r\n}\r\n \r\n   .text-size-9{\r\n     font-size:9px;\r\n }\r\n \r\n    }\r\n    \r\n@media print {\r\n\t\t.print-format {\r\n\t\t}\r\n@page {\r\n  size: a5;\r\n  margin: 5px;\r\n}\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n \r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n  .text-size-9{\r\n     font-size:9px;\r\n }\r\n \r\n table.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n \r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n@media screen {\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n @page {\r\n  size: a5;\r\n  margin: 5px;\r\n}\r\n \r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n\r\n  .text-size-9{\r\n     font-size:9px;\r\n }\r\n\r\n.amount-val{\r\n   color:darkgrey;\r\n   bottom:20px;\r\n   position:relative;\r\n}\r\n.watermark {\r\n    position: fixed;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%) rotate(-45deg);\r\n    opacity: 0.5;\r\n    font-size: 100px;\r\n    color: rgba(255, 0, 0, 0.3);\r\n}\r\n\r\n\r\n\r\n\r\n.days_tab {\r\n    position: relative;\r\n}\r\n\r\n.barchart-Wrapper {\r\n      display: table;\r\n      position: relative;\r\n      margin: 20px 0;\r\n      height: 120px;\r\n    }\r\n    .barChart-Container {\r\n      display: table-cell;\r\n      width: 100%;\r\n      height: 100%;\r\n      padding-left: 20px;\r\n      padding-right: 20px;\r\n    }\r\n    .barchart {\r\n     display: table;\r\n     table-layout: fixed;\r\n     height: 100%;\r\n     width: 100%;\r\n     border-bottom: 3px solid darkgrey;\r\n    }\r\n    .barchart-Col {\r\n      position: relative;\r\n      vertical-align: bottom;\r\n      display: table-cell;\r\n      height: 100%;\r\n    }\r\n    .barchart-Col + .barchart-Col {\r\n      border-left: 4px solid transparent;\r\n    }\r\n    .barchart-Bar {\r\n      position: static;\r\n      height: 0;\r\n      transition: height 0.5s 2s;\r\n      width: 10px;\r\n      margin: auto;\r\n    }\r\n    .barchart-Bar:after {\r\n      content: attr(attr-height);\r\n      color: white;\r\n      position: absolute;\r\n      text-align: center;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter {\r\n      position: absolute;\r\n      text-align: center;\r\n      left:40px;\r\n      height: 10%;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter h3 {\r\n      color: darkred;\r\n    }\r\n    .barchart-TimeCol {\r\n      position: absolute;\r\n      top: 0;\r\n      height: 100%;\r\n      width: 100%;\r\n    }\r\n    .barchart-Time {\r\n      height: 25%;\r\n      vertical-align: middle;\r\n      position: relative;\r\n    }\r\n    .barchart-Time:after {\r\n      border-bottom: 3px solid white;\r\n      content: \"\";\r\n      position: absolute;\r\n      width: 100%;\r\n      left: 0;\r\n      top: 0em;\r\n    }\r\n    .barchart-TimeText {\r\n      position: absolute;\r\n      top: -8px;\r\n      z-index: 1;\r\n      background: white;\r\n      padding-right: 5px;\r\n      color: #4d4d4d;\r\n      font-size: 15px;\r\n      font-family: 'Avenir Medium';\r\n    }\r\n    .sq1-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq1-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq2-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq2-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq3-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq3-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq4-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq4-bar {\r\n      background-color: #a61a17;\r\n    }",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Purchase Order",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "{% if doc.docstatus==0 %}\r\n<div class ='watermark'>\r\n    DRAFT\r\n</div>\r\n{% endif %}\r\n\r\n<div id=\"header-html\"   style = \"margin-top:-15px !important; width:95.2%; margin-left:15px !important\">\r\n    <div class = \"row\" style = \"\">\r\n        <div class = \"col-xs-10\" style = \"width:100%; float:left; border:1px solid black \">\r\n\r\n             {% set header = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1}, \"content\") %}\r\n            \r\n            <!--{% if doc.company == 'Impala Glass Industries Ltd' %}-->\r\n            <!--    {% set logo = \"/files/Impala.png\" %} {% elif doc.company == \"Impala Africa Ltd\" %} {% set logo = \"/files/impala-africa-logo.jpg\" %}-->\r\n            <!--{% endif %}-->\r\n            \r\n            \r\n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website',]) %}\r\n            \r\n            \r\n        \r\n        {% set comapny_address_line1 = '' %}        \r\n        {% set comapny_city = '' %}        \r\n        {% set comapny_counrty = '' %}        \r\n        {% set comapny_state = '' %}        \r\n        {% set phone = '' %}        \r\n\r\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\r\n\r\n        {% if company_address_name  %}\r\n            {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\r\n                \r\n\r\n        {% set comapny_address_line1 = address.address_line1 %}        \r\n        {% set comapny_city =  address.city  %}        \r\n        {% set comapny_counrty =  address.country  %}        \r\n        {% set comapny_state =  address.state  %}        \r\n\r\n        {% set phone = address.phone %}        \r\n\r\n        {% endif  %}\r\n\r\n\r\n            \r\n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \r\n            'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \r\n            'state' : comapny_state,\r\n            'phone_no' : phone, 'email' : company_details[0].email, 'pin_no': company_details[0].tax_id ,  'company_logo' : company_details[0].company_logo, 'website' : company_details[0].website,  }) %}\r\n            {{header_updated}}\r\n            \r\n\r\n            <table  class = \"table table-sm\" style = \"width:28%; \"> \r\n                <tr>\r\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:14px\"> PURCHASE ORDER </b> </span> </center>  </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Date </td> <td style = 'font-size:11px'>  \r\n                    \r\n                    {{ frappe.utils.formatdate(doc.get_formatted('transaction_date'), \"dd-mm-yyyy\") }} \r\n                    \r\n                    \r\n                    </td>\r\n                </tr>\r\n\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Order # </td> <td style = \"font-size:11px\">  {{ doc.name }}</td>\r\n                </tr>\r\n                 <tr> \r\n                    <td style = \"font-size:11px\"> Req. by </td> <td style = \"font-size:11px\">\r\n                    {{ frappe.utils.formatdate(doc.get_formatted('schedule_date'), \"dd-mm-yyyy\") }} </td>\r\n                </tr>\r\n                <!--{% set cost_center = {'cost_center': '' } %}-->\r\n                <!--{% for i in doc.items %}-->\r\n                <!--    {% if cost_center.update({'cost_center': i.cost_center}) %} {% endif %}-->\r\n                <!--{% endfor %}-->\r\n                <!-- <tr> -->\r\n                <!--    <td style = \"font-size:11px\"> Division </td> <td style = \"font-size:11px\">  {{ cost_center.get('cost_center') }}</td>-->\r\n                <!--</tr>-->\r\n\r\n            </table>\r\n\r\n\r\n        </div>\r\n\r\n        <div class = \"col-xs-8\" style = 'float:left'>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n<table width = 100% class = \"\"  style = \"font-size:11px !important; border-bottom:1px solid black !important;\"> \r\n    <tr> \r\n        <td style = \"width:40%\">  \r\n            <div>  <b style=\"font-size:13px\"> Supplier Details: </b></div>\r\n            <div> <b> {{ doc.supplier_name }} </b> </div>\r\n            <div> {{ doc.supplier_address }} </div>\r\n            <!--<div> Pin No: ?? </div>-->\r\n            <div> {{ doc.contact_person }} </div>\r\n            <div> {{ doc.contact_mobile }} </div>\r\n        </td>\r\n        <td style=\"20%\">\r\n            <!--<img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\" class=\"center\" height=100px>-->\r\n        </td>\r\n        <td style = \"width:35%\">\r\n            <div><p>Supp Quotation Date: \r\n            {{frappe.db.get_value('Supplier Quotation', doc.name, 'transaction_date')}}\r\n\r\n            </p></div>\r\n            <div><p>Supp Quotation #. {{frappe.db.get_value('Supplier Quotation', doc.name, 'name')}}</p></div>\r\n            <div><p>Requested By: {{frappe.db.get_value('Request For Quotation', doc.name, 'customer_name')}}</p></div>\r\n            <div><p>Currency: {{doc.currency}}</p></div>\r\n            <!--<div><p></p></div>-->\r\n            <!--<table class = \"table table-sm; \" style = \"width:100%; margin-top:-1px !important;\" cellspacing = '0' cellpadding = '0'> -->\r\n            <!--    <tr>-->\r\n            <!--        <td style = 'font-size:11px'> Supp Quotation Date: </td> <td style = 'font-size:11px'> {{frappe.db.get_value('Supplier Quotation', doc.name, 'transaction_date')}}  </td>-->\r\n            <!--    </tr>-->\r\n            <!--    <tr>-->\r\n            <!--        <td style = 'font-size:11px'> Supp Quotation #. </td> <td style = 'font-size:11px'> {{frappe.db.get_value('Supplier Quotation', doc.name, 'name')}}  </td>-->\r\n            <!--    </tr>-->\r\n            <!--    <tr>-->\r\n            <!--        <td style = 'font-size:11px'> Requested By: </td> <td style = 'font-size:11px'>  {{frappe.db.get_value('Request For Quotation', doc.name, 'customer_name')}} </td>-->\r\n            <!--    </tr>-->\r\n            <!--    <tr>-->\r\n            <!--        <td style = 'font-size:11px'> Currency: </td> <td style = 'font-size:11px'>  {{doc.currency}} </td>-->\r\n            <!--    </tr>-->\r\n            <!--</table>-->\r\n        </td>\r\n    </tr>\r\n</table>\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr width=100% height=40px style = \"border: 1px solid black;\">\r\n        <td width=50%>Remarks:</td>\r\n        \r\n    </tr>\r\n</table>\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:10px\" border = '1'> \r\n    <tr> \r\n        <thead> \r\n            <th>  # </th>\r\n            <th>  Item Code </th>\r\n            <th>  Item Name </th>\r\n            <th class=\"text-right\">  Rate </th>\r\n            <th class=\"text-right\">  Qty </th>\r\n            <th class=\"text-right\">  Total </th>\r\n            <th class=\"text-right\">  VAT </th>\r\n            <!--<th class=\"text-right\">  Discount </th>-->\r\n            <th class=\"text-right\">  Gross </th>\r\n        </thead>\r\n    </tr>\r\n{% set total_amount = {\"total_amount\": 0} %}\r\n{% set total_vat = {\"total_vat\": 0} %}\r\n{% set gross_total = {\"gross_total\": 0} %}\r\n{% set discount_total = {\"discount_total\": 0} %}\r\n\r\n{% set tax_type = doc.tax_type  %}\r\n\r\n\r\n\r\n{% for row in doc.items %}\r\n    {% if total_amount.update({\"total_amount\": total_amount[\"total_amount\"] + row.qty * row.rate}) %} {% endif %}\r\n    \r\n    {% set in_vat = '' %}\r\n    {% set total_tax_percentage = row.total_tax_percentage |replace(\"%\", \"\")  %}   \r\n    {% set ex_vat  =  ((row.net_rate|float / 100) * total_tax_percentage|int)  %}\r\n\r\n    \r\n        <tr>\r\n            <td style=\"\">{{ row.idx }}</td>\r\n            <td style=\"\">\r\n                {{ row.item_code }}\r\n            </td>\r\n            <td style=\"\">\r\n                {{ row.item_name }}\r\n            </td>\r\n            <td style=\"\" class=\"text-right\">\r\n\r\n              {{ '{0:,.2f}'.format(row.rate  ) }} \r\n\r\n            </td>\r\n\r\n\r\n            <td style=\"\" class=\"text-right\">\r\n                {{ row.qty }}\r\n            </td>\r\n            {% set amount= row.qty * row.rate %}\r\n            \r\n            <td style=\"\" class=\"text-right\">\r\n                \r\n\r\n            {{ '{0:,.2f}'.format(amount  ) }} \r\n\r\n            </td>\r\n        \r\n            <td style=\"\" class=\"text-right\">\r\n\r\n\r\n            {% set tem_vat = 0 %}\r\n            {% if tax_type == 'Exclusive' %}\r\n                {% set ex_vat  =  amount  / 100 * total_tax_percentage | int  %}\r\n                  {{ '{0:,.2f}'.format(ex_vat  ) }} \r\n                {% set tem_vat = ex_vat %}\r\n\r\n            {% else  %}\r\n                {% set in_vat  =  amount  / 100 * total_tax_percentage | int  %}\r\n                {{ '{0:,.2f}'.format(in_vat  ) }} \r\n                {% set tem_vat = in_vat %}\r\n            {% endif  %}\r\n                \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                <!--{% set vat = (row.amount/100)*16 %}-->\r\n                {% if total_vat.update({\"total_vat\": total_vat[\"total_vat\"] + tem_vat}) %} {% endif %}\r\n                <!--              {{ '{0:,.2f}'.format(vat  ) }} -->\r\n\r\n\r\n\r\n            </td>\r\n\r\n            \r\n          <!--  <td style=\"\" class=\"text-right\">-->\r\n          <!--       {{ '{0:,.2f}'.format(row.discount_amount) }} -->\r\n\r\n          <!--       {% if discount_total.update({\"discount_total\": discount_total[\"discount_total\"] + row.discount_amount}) %} {% endif %}-->\r\n\r\n\r\n\r\n          <!--</td>-->\r\n          \r\n            <td style=\"\" class=\"text-right\">\r\n\r\n\r\n             {% set gross_temp = 0 %}\r\n            {% if tax_type == 'Exclusive' %}\r\n                {% set acutal_value_qty  =  tem_vat + amount    %}\r\n                  {{ '{0:,.2f}'.format(acutal_value_qty  ) }} \r\n                {% set gross_temp = acutal_value_qty %}\r\n\r\n            {% else  %}\r\n                {% set acutal_value_qty = amount   %}\r\n                  {{ '{0:,.2f}'.format(acutal_value_qty  ) }} \r\n                {% set gross_temp = acutal_value_qty %}\r\n\r\n            {% endif  %}\r\n\r\n\r\n\r\n                {% if gross_total.update({\"gross_total\": gross_total[\"gross_total\"] + gross_temp }) %} {% endif %}\r\n\r\n\r\n            </td>\r\n\r\n        </tr>\r\n        {%- endfor -%}\r\n        <tr> \r\n            <td></td>\r\n            <td colspan=\"3\" class=\"text-right\"><b>Totals: </b>  </td>\r\n            <td class=\"text-right\"> <b>{{doc.total_qty}}</b></td>\r\n            <td class=\"text-right\">  <b>\r\n              {{ '{0:,.2f}'.format(total_amount[\"total_amount\"]) }} \r\n\r\n                </b> </td>\r\n            <td class=\"text-right\"> <b> \r\n              {{ '{0:,.2f}'.format( total_vat[\"total_vat\"] ) }} \r\n\r\n            </b> </td>\r\n            <!--<td class=\"text-right\"><b>  -->\r\n            <!-- {{ '{0:,.2f}'.format(discount_total[\"discount_total\"]) }}  -->\r\n            \r\n            <!--</b> </td>-->\r\n            <td class=\"text-right\"><b>  \r\n              {{ '{0:,.2f}'.format(gross_total[\"gross_total\"] ) }} \r\n            \r\n            </b> </td>\r\n        </tr>\r\n        <tr> \r\n            <td colspan = \"9\"> \r\n            <b>Total Amount in words: {{ frappe.utils.money_in_words(gross_total[\"gross_total\"], doc.currency) }}</b>\r\n            </td>\r\n        </tr>\r\n</table>\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:10px; border-top:1px solid black; border-bottom:1px solid black;\">\r\n    <tr rowspan = \"4\">\r\n    <td  colspan = \"6\" width=60%><b> Payment Terms:  </b>\r\n\r\n{% if doc.payment_terms_template  %}\r\n\r\n    <table style = \"font-size:10px; border: 1px solid #EBEEF0 \" cellspacing = '0' rowspacing = '0' width = \"95%\" border = \"1\"   > \r\n        <tr> \r\n            <th> P-Term </th> \r\n            <th> Due Date</th> \r\n            <th> Invoice Portion </th> \r\n        </tr>\r\n\r\n\r\n\r\n{%- for row in doc.payment_schedule -%}\r\n\t\t<tr>\r\n\t\t    <td> {{ row.payment_term}} </td>\r\n\t\t    <td> {{ row.due_date }} </td>\r\n\t\t    <td> {{ row.invoice_portion }} -  {{ row.discount_type }}  </td>\r\n\r\n\t\t</tr>\r\n\t\t{%- endfor -%}\r\n\r\n\r\n\r\n\r\n    </table>\r\n\t\t{%- endif -%}\r\n\r\n\r\n\r\n\r\n    \r\n    \r\n    </td>\r\n    <td colspan = \"2\" width=40%>\r\n        <table class=\"table table-sm\" style=\"margin-top:0px\">\r\n\r\n            <tr>\r\n                <td colspan = \"2\"> <b> VAT </b> </td>\r\n                <td colspan = \"2\"><b> \r\n              {{ '{0:,.2f}'.format(total_vat[\"total_vat\"] ) }} \r\n\r\n                \r\n                </b> </td>\r\n            </tr>\r\n\r\n            <!--<tr>-->\r\n            <!--    <td colspan = \"2\"> <b> Discount </b> </td>-->\r\n            <!--    <td colspan = \"2\"> <b> -->\r\n                \r\n            <!--                  {{ '{0:,.2f}'.format(discount_total[\"discount_total\"]) }}  -->\r\n\r\n            <!--    </b> </td>-->\r\n            <!--</tr>-->\r\n\r\n\r\n\r\n            <tr>\r\n                <td colspan = \"2\">  <b> Total Amount </b>  </td>\r\n                <td colspan = \"2\"> <b> \r\n              {{ '{0:,.2f}'.format(gross_total[\"gross_total\"] ) }} \r\n                </b></td>\r\n            </tr>\r\n            <tr></tr>\r\n        </table>\r\n    </td>\r\n</tr>\r\n</table>\r\n\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr width=100% height=60px style = \"border-bottom: 1px solid black;\">\r\n        <td width=100%><b>Shippment Address:</b></td>\r\n        \r\n    </tr>\r\n</table>\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:10px\">\r\n    <tr width=100% style=\"border:1px solid black;\">\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created By: {{ doc.owner }} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b>  </b></td>\r\n        \r\n        \r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created ON: {{ doc.get_formatted('creation')}} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b> Authorized By: {% if doc.docstatus==1 %}{% endif %}   </b> </td>\r\n    </tr>\r\n</table>\r\n\r\n{% set footer = frappe.db.get_value(\"Letter Head\",  {\"is_default\" : 1} , \"footer\") %}\r\n\r\n{% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(), \"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user}) %}\r\n{{ footer_updated }}\r\n\r\n\r\n    <div id=\"footer-html\" class=\"visible-pdf\">\r\n        <div class=\"letter-head-footer\">\r\n            {{ footer }}\r\n        </div>\r\n        <p class=\"text-center small page-number visible-pdf\">\r\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\r\n        </p>\r\n    </div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:11:00.599561",
  "module": "AQIQ Print Formats",
  "name": "Purchase Order A5",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": ".watermark {\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%) rotate(-45deg);\n    opacity: 0.5;\n    font-size: 100px;\n    color: rgba(255, 0, 0, 0.3);\n}\n",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Purchase Order",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<div id=\"header-html\"   style = \"margin-top:-15px !important; width:95.2%; margin-left:15px !important\">\r\n    <div class = \"row\" style = \"\">\r\n        <div class = \"col-xs-10\" style = \"width:100%; float:left; border:1px solid black \">\r\n\r\n             {% set header = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1}, \"content\") %}\r\n            \r\n            <!--{% if doc.company == 'Impala Glass Industries Ltd' %}-->\r\n            <!--    {% set logo = \"/files/Impala.png\" %} {% elif doc.company == \"Impala Africa Ltd\" %} {% set logo = \"/files/impala-africa-logo.jpg\" %}-->\r\n            <!--{% endif %}-->\r\n            \r\n            \r\n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website',]) %}\r\n            \r\n            \r\n        \r\n        {% set comapny_address_line1 = '' %}        \r\n        {% set comapny_city = '' %}        \r\n        {% set comapny_counrty = '' %}        \r\n        {% set comapny_state = '' %}        \r\n        {% set phone = '' %}        \r\n\r\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\r\n\r\n        {% if company_address_name  %}\r\n            {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\r\n                \r\n\r\n        {% set comapny_address_line1 = address.address_line1 %}        \r\n        {% set comapny_city =  address.city  %}        \r\n        {% set comapny_counrty =  address.country  %}        \r\n        {% set comapny_state =  address.state  %}        \r\n\r\n        {% set phone = address.phone %}        \r\n\r\n        {% endif  %}\r\n\r\n\r\n            \r\n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \r\n            'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \r\n            'state' : comapny_state,\r\n            'phone_no' : phone, 'email' : company_details[0].email, 'pin_no': company_details[0].tax_id ,  'company_logo' : company_details[0].company_logo, 'website' : company_details[0].website,  }) %}\r\n            {{header_updated}}\r\n            \r\n\r\n            <table  class = \"table table-sm\" style = \"width:30%; \"> \r\n                <tr>\r\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:14px\"> PURCHASE ORDER </b> </span> </center>  </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Date </td> <td style = 'font-size:11px'>  \r\n                    \r\n                    {{ doc.get_formatted('transaction_date') }} \r\n                    \r\n                    \r\n                    </td>\r\n                </tr>\r\n\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Order # </td> <td style = \"font-size:11px\">  {{ doc.name }}</td>\r\n                </tr>\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Req. by </td> <td style = \"font-size:11px\">\r\n                    {{ frappe.utils.formatdate(doc.get_formatted('schedule_date'), \"dd-mm-yyyy\") }} </td>\r\n                </tr>\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Division </td> <td style = \"font-size:11px\">  {{ doc.cost_center }} </td>\r\n                </tr>\r\n                {% if doc.project %}\r\n                <tr> \r\n                    <td style=\"font-size:11px\">Project No</td>\r\n                    <td style=\"font-size:11px\">{{ doc.project }}</td>\r\n                </tr>\r\n                <tr> \r\n                    <td style=\"font-size:11px\">Project Name</td>\r\n                    <td style=\"font-size:11px\">{{frappe.db.get_value('Project', doc.project, 'project_name') }}</td>\r\n                </tr>\r\n                {% endif %}\r\n            </table>\r\n\r\n\r\n        </div>\r\n\r\n        <div class = \"col-xs-8\" style = 'float:left'>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n<table width = 100% class = \"\"  style = \"font-size:11px !important; border-bottom:1px solid black !important;\"> \r\n    <tr> \r\n        <td style = \"width:40%\">  \r\n            <div>  <b style=\"font-size:13px\"> Supplier Details: </b></div>\r\n            <div> <b> {{ doc.supplier_name }} </b> </div>\r\n            <div> {{ doc.address_display }} </div>\r\n            <!--<div> Pin No: ?? </div>-->\r\n            <div> {{ doc.contact_person }} </div>\r\n            <div> {{ doc.contact_mobile }} </div>\r\n        </td>\r\n        <td style=\"20%\">\r\n            <!--<img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\" class=\"center\" height=100px>-->\r\n        </td>\r\n        <td style = \"width:35%\">\r\n            <div><p>Supp Quotation Date: \r\n            {{frappe.db.get_value('Supplier Quotation', doc.name, 'transaction_date')}}\r\n\r\n            </p></div>\r\n            <div><p>Supp Quotation #. {{frappe.db.get_value('Supplier Quotation', doc.name, 'name')}}</p></div>\r\n            <div><p>Requested By: {{frappe.db.get_value('Request For Quotation', doc.name, 'customer_name')}}</p></div>\r\n            <div><p>Currency: {{doc.currency}}</p></div>\r\n            <!--<div><p></p></div>-->\r\n            <!--<table class = \"table table-sm; \" style = \"width:100%; margin-top:-1px !important;\" cellspacing = '0' cellpadding = '0'> -->\r\n            <!--    <tr>-->\r\n            <!--        <td style = 'font-size:11px'> Supp Quotation Date: </td> <td style = 'font-size:11px'> {{frappe.db.get_value('Supplier Quotation', doc.name, 'transaction_date')}}  </td>-->\r\n            <!--    </tr>-->\r\n            <!--    <tr>-->\r\n            <!--        <td style = 'font-size:11px'> Supp Quotation #. </td> <td style = 'font-size:11px'> {{frappe.db.get_value('Supplier Quotation', doc.name, 'name')}}  </td>-->\r\n            <!--    </tr>-->\r\n            <!--    <tr>-->\r\n            <!--        <td style = 'font-size:11px'> Requested By: </td> <td style = 'font-size:11px'>  {{frappe.db.get_value('Request For Quotation', doc.name, 'customer_name')}} </td>-->\r\n            <!--    </tr>-->\r\n            <!--    <tr>-->\r\n            <!--        <td style = 'font-size:11px'> Currency: </td> <td style = 'font-size:11px'>  {{doc.currency}} </td>-->\r\n            <!--    </tr>-->\r\n            <!--</table>-->\r\n        </td>\r\n    </tr>\r\n</table>\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr width=100% height=40px style = \"border: 1px solid black;\">\r\n        <td width=50%>Remarks:</td>\r\n        \r\n    </tr>\r\n</table>\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:10px\" border = '1'> \r\n    <tr> \r\n        <thead> \r\n            <th>  # </th>\r\n            <th>  Item Code </th>\r\n            <th>  Item Name </th>\r\n            <th>  Description </th>\r\n            <th class=\"text-right\">  Rate </th>\r\n            <th class=\"text-right\">  Qty </th>\r\n            <th class=\"text-right\">  Exc.VAT </th>\r\n            <th class=\"text-right\">  VAT </th>\r\n            <th class=\"text-right\">  Inc.VAT </th>\r\n        </thead>\r\n    </tr>\r\n{% set total_amount = {\"total_amount\": 0} %}\r\n{% set total_vat = {\"total_vat\": 0} %}\r\n{% set gross_total = {\"gross_total\": 0} %}\r\n\r\n{% set tax_type = doc.tax_type  %}\r\n\r\n\r\n\r\n{% for row in doc.items %}\r\n    {% set in_vat = '' %}\r\n    {% set total_tax_percentage = row.total_tax_percentage |replace(\"%\", \"\")  %}   \r\n    {% set ex_vat  = '' %}\r\n\r\n    \r\n        <tr>\r\n            <td style=\"\">{{ row.idx }}</td>\r\n            <td style=\"\">\r\n                {{ row.item_code }}\r\n            </td>\r\n            <td style=\"\">\r\n                {{ row.item_name }}\r\n            </td>\r\n            <td style=\"\">\r\n                {{ row.description }}\r\n            </td>\r\n            <td style=\"\" class=\"text-right\">\r\n\r\n              {{ '{0:,.2f}'.format(row.rate  ) }} \r\n\r\n            </td>\r\n\r\n\r\n            <td style=\"\" class=\"text-right\">\r\n                {{ row.qty }}\r\n            </td>\r\n            \r\n            <td style=\"\" class=\"text-right\">\r\n                \r\n\r\n            {{ '{0:,.2f}'.format(row.net_amount) }} \r\n            {% if total_amount.update({\"total_amount\": total_amount[\"total_amount\"] + row.net_amount}) %} {% endif %}\r\n\r\n            </td>\r\n        \r\n            <td style=\"\" class=\"text-right\">\r\n\r\n\r\n            {% set tem_vat = 0 %}\r\n            {% if tax_type == 'Exclusive' %}\r\n                {% set ex_vat  =  row.net_amount  / 100 * total_tax_percentage | int  %}\r\n                  {{ '{0:,.2f}'.format(ex_vat  ) }} \r\n                {% set tem_vat = ex_vat %}\r\n\r\n            {% else  %}\r\n                {% set in_vat  =  row.amount  / 100 * total_tax_percentage | int  %}\r\n                {{ '{0:,.2f}'.format(in_vat  ) }} \r\n                {% set tem_vat = in_vat %}\r\n            {% endif  %}\r\n                \r\n\r\n                <!--{% set vat = (row.amount/100)*16 %}-->\r\n                {% if total_vat.update({\"total_vat\": total_vat[\"total_vat\"] + tem_vat}) %} {% endif %}\r\n                <!--              {{ '{0:,.2f}'.format(vat  ) }} -->\r\n\r\n\r\n\r\n            </td>\r\n\r\n          \r\n            <td style=\"\" class=\"text-right\">\r\n\r\n        {{ '{0:,.2f}'.format(row.amount) }} \r\n\r\n\r\n\r\n                {% if gross_total.update({\"gross_total\": gross_total[\"gross_total\"] + row.amount }) %} {% endif %}\r\n\r\n\r\n            </td>\r\n\r\n        </tr>\r\n        {%- endfor -%}\r\n        <tr> \r\n            <td></td>\r\n            <td colspan=\"4\" class=\"text-right\"><b>Totals: </b>  </td>\r\n            <td class=\"text-right\"> <b>{{doc.total_qty}}</b></td>\r\n            <td class=\"text-right\">  <b>\r\n              {{ '{0:,.2f}'.format(total_amount[\"total_amount\"]) }} \r\n\r\n                </b> </td>\r\n            <td class=\"text-right\"> <b> \r\n              {{ '{0:,.2f}'.format( total_vat[\"total_vat\"] ) }} \r\n\r\n            </b> </td>\r\n            <td class=\"text-right\"><b>  \r\n              {{ '{0:,.2f}'.format(gross_total[\"gross_total\"] ) }} \r\n            \r\n            </b> </td>\r\n        </tr>\r\n        <tr> \r\n            <td colspan = \"9\"> \r\n            <b>Total Amount in words: {{ frappe.utils.money_in_words(gross_total[\"gross_total\"], doc.currency) }}</b>\r\n            </td>\r\n        </tr>\r\n</table>\r\n{% if doc.docstatus==0 %}\r\n<div class ='watermark'>\r\n    DRAFT\r\n</div>\r\n{% endif %}\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:10px; border-top:1px solid black; border-bottom:1px solid black;\">\r\n    <tr rowspan = \"4\">\r\n    <td  colspan = \"6\" width=60%><b> Payment Terms:  </b>\r\n\r\n{% if doc.payment_terms_template  %}\r\n\r\n    <table style = \"font-size:10px; border: 1px solid #EBEEF0 \" cellspacing = '0' rowspacing = '0' width = \"95%\" border = \"1\"   > \r\n        <tr> \r\n            <th> P-Term </th> \r\n            <th> Due Date</th> \r\n            <th> Invoice Portion </th> \r\n        </tr>\r\n\r\n\r\n\r\n{%- for row in doc.payment_schedule -%}\r\n\t\t<tr>\r\n\t\t    <td> {{ row.payment_term}} </td>\r\n\t\t    <td> {{ row.due_date }} </td>\r\n\t\t    <td> {{ row.invoice_portion }} -  {{ row.discount_type }}  </td>\r\n\r\n\t\t</tr>\r\n\t\t{%- endfor -%}\r\n\r\n\r\n\r\n\r\n    </table>\r\n\t\t{%- endif -%}\r\n\r\n\r\n\r\n\r\n    \r\n    \r\n    </td>\r\n    <td colspan = \"2\" width=40%>\r\n        <table class=\"table table-sm\" style=\"margin-top:0px\">\r\n\r\n            <tr>\r\n                <td colspan = \"2\"> <b> Excl. Vat  </b> </td>\r\n                <td colspan = \"2\"><b> \r\n              {{ '{0:,.2f}'.format(doc.net_total ) }} \r\n\r\n                \r\n                </b> </td>\r\n            </tr>\r\n\r\n\r\n\r\n            <tr>\r\n                <td colspan = \"2\">  <b> Total Amount </b>  </td>\r\n                <td colspan = \"2\"> <b> \r\n              {{ '{0:,.2f}'.format(doc.grand_total ) }} \r\n                </b></td>\r\n            </tr>\r\n            <tr></tr>\r\n        </table>\r\n    </td>\r\n</tr>\r\n</table>\r\n\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr width=100% height=60px style = \"border-bottom: 1px solid black;\">\r\n        <td width=100%><b>Shippment Address:</b></td>\r\n        \r\n    </tr>\r\n</table>\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:10px\">\r\n    <tr width=100% style=\"border:1px solid black;\">\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created By: {{ doc.owner }} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b>  </b></td>\r\n        \r\n        \r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created ON: {{ doc.get_formatted('creation')}} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b> Authorized By: {% if doc.docstatus==1 %}{% endif %}   </b> </td>\r\n    </tr>\r\n</table>\r\n\r\n\r\n\r\n\r\n\r\n\r\n{% set footer = frappe.db.get_value(\"Letter Head\",  {\"is_default\" : 1} , \"footer\") %}\r\n\r\n{% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(), \"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user}) %}\r\n{{ footer_updated }}\r\n\r\n\r\n    <div id=\"footer-html\" class=\"visible-pdf\">\r\n        <div class=\"letter-head-footer\">\r\n            {{ footer }}\r\n        </div>\r\n        <p class=\"text-center small page-number visible-pdf\">\r\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\r\n        </p>\r\n    </div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:11:00.474930",
  "module": "AQIQ Print Formats",
  "name": "Purchase Order A4",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Request for Quotation",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "\r\n<div id=\"header-html\"   style = \"margin-top:-15px !important; width:95.2%; margin-left:15px !important\">\r\n    <div class = \"row\" style = \"\">\r\n        <div class = \"col-xs-10\" style = \"width:100%; float:left; border:1px solid black \">\r\n                {% set header = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1}, \"content\") %}\r\n            \r\n            <!--{% if doc.company == 'Impala Glass Industries Ltd' %}-->\r\n            <!--    {% set logo = \"/files/Impala.png\" %} {% elif doc.company == \"Impala Africa Ltd\" %} {% set logo = \"/files/impala-africa-logo.jpg\" %}-->\r\n            <!--{% endif %}-->\r\n            \r\n            \r\n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website',]) %}\r\n            \r\n            \r\n        \r\n        {% set comapny_address_line1 = '' %}        \r\n        {% set comapny_city = '' %}        \r\n        {% set comapny_counrty = '' %}        \r\n        {% set comapny_state = '' %}        \r\n        {% set phone = '' %}        \r\n\r\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\r\n\r\n        {% if company_address_name  %}\r\n            {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\r\n                \r\n\r\n        {% set comapny_address_line1 = address.address_line1 %}        \r\n        {% set comapny_city =  address.city  %}        \r\n        {% set comapny_counrty =  address.country  %}        \r\n        {% set comapny_state =  address.state  %}        \r\n\r\n        {% set phone = address.phone %}        \r\n\r\n        {% endif  %}\r\n\r\n\r\n            \r\n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \r\n            'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \r\n            'state' : comapny_state,\r\n            'phone_no' : phone, 'email' : company_details[0].email, 'pin_no': company_details[0].tax_id ,  'company_logo' : company_details[0].company_logo, 'website' : company_details[0].website,  }) %}\r\n            {{header_updated}}\r\n            \r\n\r\n            <table  class = \"table table-sm\" style = \"width:28%; \"> \r\n                <tr>\r\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:14px\"> REQUEST FOR QUOTATION </b> </span> </center>  </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Date </td> <td style = 'font-size:11px'>   {{ frappe.utils.formatdate(doc.get_formatted('transaction_date'), \"dd-mm-yyyy\") }} </td>\r\n                </tr>\r\n\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> RFQ # </td> <td style = \"font-size:11px\">  {{doc.name}} </td>\r\n                </tr>\r\n            </table>\r\n\r\n\r\n        </div>\r\n\r\n        <div class = \"col-xs-8\" style = 'float:left'>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n<table class = \"\"  style = \"width:100%; font-size:11px !important; border-bottom:1px solid black !important;\"> \r\n    <tr> \r\n        <td style = \"width:40%\">  \r\n        <div><h6> <u>Request From: </u></h6></div>\r\n        {% set supplier = {\"supplier\": ''} %}\r\n        {% for i in doc.suppliers %}\r\n            {% if supplier.update({\"supplier\": supplier[\"supplier\"] + ' ' + i.supplier_name}) %} {% endif %}\r\n        {% endfor %}\r\n        \r\n            <div>Supplier Name: {{supplier[\"supplier\"]}} </div> \r\n            <div> Address: {{ frappe.db.get_value('Supplier', doc.name, 'supplier_primary_address') }} </div>\r\n            \r\n        </td>\r\n        <td style=\"20%\">\r\n            <!--<img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\" class=\"center\" height=100px>-->\r\n        </td>\r\n        <td style = \"width:35%\">  \r\n            <table style = \"width:100%; margin-top:-1px !important;\" cellspacing = '0' cellpadding = '0'> \r\n                <!--<tr>-->\r\n                <!--    <td style = 'font-size:11px'></td>-->\r\n                <!--</tr>-->\r\n                <!--<tr>-->\r\n                <!--    <td style = 'font-size:11px'></td>-->\r\n                <!--</tr>-->\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Requested By: </td> <td style = 'font-size:11px'>   </td>\r\n                </tr>\r\n            </table>\r\n        </td>\r\n\r\n    </tr>\r\n</table>\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:5px\" border = '1'> \r\n    <tr> \r\n        <thead> \r\n            <th> # </th>\r\n            <th>  Item Code </th>\r\n            <th>  Item Name </th>\r\n            <th>  UOM </th>\r\n            <th class=\"text-center\">  Required By </th>\r\n            <th class=\"text-right\">  Qty </th>\r\n        </thead>\r\n    </tr>\r\n{% set tot_qty = {\"tot_qty\": 0} %}\r\n{% for row in doc.items %}\r\n    {% if tot_qty.update({\"tot_qty\": tot_qty[\"tot_qty\"] + row.qty}) %} {% endif %}\r\n       \r\n        <tr>\r\n            <td style=\"\">{{ row.idx }}</td>\r\n            <td style=\"\">\r\n                {{ row.item_code }}\r\n            </td>\r\n            <td style=\"\">\r\n                {{ row.item_name }}\r\n            </td>\r\n            <td style=\"\">\r\n                {{row.uom}}\r\n            </td>\r\n            <td style=\"\" class=\"text-center\">\r\n                {{ row.schedule_date }}\r\n            </td>\r\n            <td style=\"\" class=\"text-right\">\r\n                {{ row.qty }}\r\n            </td>\r\n        </tr>\r\n        {%- endfor -%}\r\n        <tr> \r\n            <td colspan=\"5\" class=\"text-right\"><b>Totals: </b>  </td>\r\n            \r\n            <td class=\"text-right\"> <b>{{tot_qty[\"tot_qty\"]}}</b></td>\r\n        </tr>\r\n \r\n</table>\r\n\r\n<table style = \"width:100%; height:100px; font-size:11px;  margin-top:10px; border-top:1px solid black; border-bottom:1px solid black;\">\r\n    <tr rowspan = \"4\">\r\n    <td  colspan = \"6\" width=60%><b> Terms and Conditions:  </b></td>\r\n    <td colspan = \"2\" width=20%>\r\n       Total Quantity : {{tot_qty[\"tot_qty\"]}}\r\n    </td>\r\n</tr>\r\n</table>\r\n\r\n<table width=100% style=\"width:100%; font-size:11px;  margin-top:8px\">\r\n    <tr width=100% style=\"border:1px solid black\">\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created By: {{ doc.owner }} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b>  </b></td>\r\n        \r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created ON: {{ doc.get_formatted('creation')}} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b> Authorized By: {% if doc.docstatus==1 %} {{doc.owner}} {% elif doc.docstatus==0 %} Draft {% endif %}   </b> </td>\r\n    </tr>\r\n</table><br><br>\r\n<div style=\"border-bottom: 1px solid black;\"></div>\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr width=100% height=40px style = \"border: 1px solid black;\">\r\n        <td width=50%>Remarks:</td>\r\n        \r\n    </tr>\r\n</table>\r\n\r\n{% set footer = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1} , \"footer\") %}\r\n\r\n{% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(), \"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user}) %}\r\n{{ footer_updated }}\r\n\r\n\r\n    <div id=\"footer-html\" class=\"visible-pdf\">\r\n        <div class=\"letter-head-footer\">\r\n            {{ footer }}\r\n        </div>\r\n        <p class=\"text-center small page-number visible-pdf\">\r\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\r\n        </p>\r\n    </div>\r\n\r\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:11:00.371018",
  "module": "AQIQ Print Formats",
  "name": "Request For Quotation V1-A5",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": ".watermark {\r\n    position: fixed;\r\n    top: 420px;\r\n    left: 220px;\r\n    right: 220px;\r\n    background: url(\"http://192.241.152.17/files/draft-background.png\");\r\n    background-repeat: no-repeat;\r\n    /*background-size: center;*/\r\n    height:400px;\r\n    width:50%;\r\n    background-position: center;\r\n    background-size: 100%;\r\n    color:black !important;\r\n    opacity: 0.3;\r\n    position: running(wtrmrk);\r\n    background-repeat: repeat-x;\r\n    }",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Supplier Quotation",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<div id=\"header-html\"   style = \"margin-top:-15px !important; width:95.2%; margin-left:15px !important\">\r\n    <div class = \"row\" style = \"\">\r\n        <div class = \"col-xs-10\" style = \"width:100%; float:left; border:1px solid black \">\r\n             {% set header = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1}, \"content\") %}\r\n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo']) %}\r\n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, 'company_address' : ' Address: House No.101 Test Street 11 Impala Town 2113 Africa', 'phone_no' : company_details[0].phone_no, 'email' : company_details[0].email, 'pin_no': company_details[0].tax_id ,  'company_logo' : company_details[0].company_logo  }) %}\r\n            {{header_updated}}\r\n\r\n\r\n            <table  class = \"table table-sm\" style = \"width:28%; \"> \r\n                <tr>\r\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:14px\"> SUPPLIER QUOTATION </b> </span> </center>  </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Date </td> <td style = 'font-size:11px'>  {{ doc.transaction_date }} </td>\r\n                </tr>\r\n\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Quotation # </td> <td style = \"font-size:11px\">  {{ doc.name }}</td>\r\n                </tr>\r\n\r\n\r\n            </table>\r\n\r\n\r\n        </div>\r\n\r\n        <div class = \"col-xs-8\" style = 'float:left'>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n<table width = 100% class = \"\"  style = \"font-size:11px !important; border-bottom:1px solid black !important;\"> \r\n    <tr> \r\n        <td style = \"width:40%\">  \r\n            <div>  <b style=\"font-size:13px\"> Supplier Details: </b></div>\r\n            <div> <b> {{ doc.supplier }} </b> </div>\r\n            <div> {{ doc.supplier_address }} </div>\r\n            <div> {{ doc.contact_person }} </div>\r\n            <div> {{ doc.contact_mobile }} </div>\r\n        </td>\r\n        <td style=\"20%\">\r\n            <!--<img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\" class=\"center\" height=100px>-->\r\n        </td>\r\n        <td style = \"width:35%\">  \r\n            <table class = \"table table-sm; \" style = \"width:100%; margin-top:-1px !important;\" cellspacing = '0' cellpadding = '0'> \r\n                <tr>\r\n                    <td style = 'font-size:11px'> RFQ Date: </td> <td style = 'font-size:11px'> {{frappe.db.get_value('Request For Quotation', doc.name, 'transaction_date') }}  </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> RFQ #. </td> <td style = 'font-size:11px'> {{ frappe.db.get_value('Request For Quotation', doc.name, 'name') }}   </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Requested By: </td> <td style = 'font-size:11px'>  {{ frappe.db.get_value('Request For Quotation', doc.name, 'customer_name') }} </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Currency: </td> <td style = 'font-size:11px'>  {{doc.currency}} </td>\r\n                </tr>\r\n                <!--<tr>-->\r\n                <!--    <td style = 'font-size:11px'> Project: </td> <td style = 'font-size:11px'>  ?? </td>-->\r\n                <!--</tr>-->\r\n            </table>\r\n        </td>\r\n    </tr>\r\n</table>\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr width=100% height=40px style = \"border: 1px solid black;\">\r\n        <td width=50%>Remarks:</td>\r\n        \r\n    </tr>\r\n</table>\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:10px\" border = '1'> \r\n    <tr> \r\n        <thead> \r\n            <th>  # </th>\r\n            <th>  Item Code </th>\r\n            <th>  Item Name </th>\r\n            <th class=\"text-right\">  Rate </th>\r\n            <th class=\"text-right\">  Qty </th>\r\n            <th class=\"text-right\">  Total </th>\r\n            <th class=\"text-right\">  VAT </th>\r\n            <th class=\"text-right\">  Gross </th>\r\n        </thead>\r\n    </tr>\r\n{% set total_amount = {\"total_amount\": 0} %}\r\n{% set total_vat = {\"total_vat\": 0} %}\r\n{% set gross_total = {\"gross_total\": 0} %}\r\n{% for row in doc.items %}\r\n    {% if total_amount.update({\"total_amount\": total_amount[\"total_amount\"] + row.qty * row.rate}) %} {% endif %}\r\n    \r\n        <tr>\r\n            <td style=\"\">{{ row.idx }}</td>\r\n            <td style=\"\">\r\n                {{ row.item_code }}\r\n            </td>\r\n            <td style=\"\">\r\n                {{ row.item_name }}\r\n            </td>\r\n            <td style=\"\" class=\"text-right\">\r\n                {{    row.get_formatted(\"rate\") }}\r\n            </td>\r\n\r\n\r\n            <td style=\"\" class=\"text-right\">\r\n                {{ row.qty }}\r\n            </td>\r\n            {% set amount= row.qty * row.rate %}\r\n            \r\n            <td style=\"\" class=\"text-right\">\r\n                \r\n                {{ frappe.utils.fmt_money(amount, currency=\"KES\") }} \r\n            </td>\r\n        \r\n            <td style=\"\" class=\"text-right\">\r\n                {% set vat = (row.amount/100)*16 %}\r\n                {% if total_vat.update({\"total_vat\": total_vat[\"total_vat\"] + vat}) %} {% endif %}\r\n                {{frappe.utils.fmt_money(vat,currency=\"KES\")    }}\r\n\r\n            </td>\r\n\r\n            \r\n            <td style=\"\" class=\"text-right\">\r\n                {% if gross_total.update({\"gross_total\": gross_total[\"gross_total\"] + row.qty * row.rate + vat}) %} {% endif %}\r\n                {{ frappe.utils.fmt_money(row.qty * row.rate + vat,currency=\"KES\") }}\r\n\r\n            </td>\r\n\r\n        </tr>\r\n        {%- endfor -%}\r\n        <tr> \r\n            <td></td>\r\n            <td colspan=\"3\" class=\"text-right\"><b>Totals: </b>  </td>\r\n            <td class=\"text-right\"> <b>{{doc.total_qty}}</b></td>\r\n            <td class=\"text-right\">  <b>{{ frappe.utils.fmt_money(total_amount[\"total_amount\"], currency=doc.currency) }}</b> </td>\r\n            <td class=\"text-right\"> <b> {{ frappe.utils.fmt_money(total_vat[\"total_vat\"], currency=doc.currency) }}</b> </td>\r\n            <td class=\"text-right\"><b>  {{ frappe.utils.fmt_money(gross_total[\"gross_total\"], currency = doc.currency) }}</b> </td>\r\n        </tr>\r\n</table>\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr width=100% height=40px style = \"border: 1px solid black;\">\r\n        <td width=100%><b>Total Amount in words: {{ frappe.utils.money_in_words(doc.grand_total, doc.currency) }}</b></td>\r\n        \r\n    </tr>\r\n</table>\r\n<table style = \"width:100%; font-size:11px;  margin-top:10px; border-top:1px solid black; border-bottom:1px solid black;\">\r\n    <tr rowspan = \"4\">\r\n    <td  colspan = \"6\" width=60%><b> Payment Terms:  </b></td>\r\n    <td colspan = \"2\" width=40%>\r\n        <table class=\"table table-sm\" style=\"margin-top:0px\">\r\n            <tr>\r\n                <td colspan = \"2\">  <b> Total Amount </b>  </td>\r\n                <td colspan = \"2\"> <b> {{ frappe.utils.fmt_money(gross_total[\"gross_total\"],currency=\"KES\") }}  </b></td>\r\n            </tr>\r\n            <tr>\r\n                <td colspan = \"2\"> <b> Discount </b> </td>\r\n                <td colspan = \"2\"> <b> {{ frappe.utils.fmt_money(doc.discount_amount,currency=\"KES\") }} </b> </td>\r\n            </tr>\r\n            <tr>\r\n                <td colspan = \"2\"> <b> VAT 16% </b> </td>\r\n                <td colspan = \"2\"><b> {{ frappe.utils.fmt_money(total_vat[\"total_vat\"],currency=\"KES\") }}</b> </td>\r\n            </tr>\r\n            <tr></tr>\r\n        </table>\r\n    </td>\r\n</tr>\r\n</table>\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr width=100% height=100px style = \"border-top:1px solid black; border-bottom:1px solid black;\">\r\n        <td width=100%><b>Terms and Conditions:</b></td>\r\n        \r\n    </tr>\r\n</table>\r\n{% if doc.docstatus==0 %}\r\n<div class ='watermark'>\r\n</div>\r\n{% endif %}\r\n<table style = \"width:100%; font-size:11px;  margin-top:10px\">\r\n    <tr width=100% style=\"border:1px solid black;\">\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created By: {{ doc.owner }} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b>  </b></td>\r\n        \r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created ON: {{ doc.get_formatted('creation')}} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b> Authorized By:  {% if doc.docstatus==1 %} ?? {% else %} empty {% endif %}  </b> </td>\r\n    </tr>\r\n</table>\r\n\r\n{% set footer = frappe.db.get_value(\"Letter Head\",  {\"is_default\" : 1 }, \"footer\") %}\r\n\r\n{% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(), \"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user}) %}\r\n{{ footer_updated }}\r\n\r\n\r\n    <div id=\"footer-html\" class=\"visible-pdf\">\r\n        <div class=\"letter-head-footer\">\r\n            {{ footer }}\r\n        </div>\r\n        <p class=\"text-center small page-number visible-pdf\">\r\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\r\n        </p>\r\n    </div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:11:00.265513",
  "module": "AQIQ Print Formats",
  "name": "Supplier Quotation V1",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "#header-html{\n    font-size: 11px;\n\n}",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Request for Quotation",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "\r\n<div id=\"header-html\"   style = \"margin-top:-15px !important; width:95.2%; margin-left:15px !important\">\r\n    <div class = \"row\" style = \"\">\r\n        <div class = \"col-xs-10\" style = \"width:100%; float:left; border:1px solid black \">\r\n                {% set header = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1}, \"content\") %}\r\n            \r\n            <!--{% if doc.company == 'Impala Glass Industries Ltd' %}-->\r\n            <!--    {% set logo = \"/files/Impala.png\" %} {% elif doc.company == \"Impala Africa Ltd\" %} {% set logo = \"/files/impala-africa-logo.jpg\" %}-->\r\n            <!--{% endif %}-->\r\n            \r\n            \r\n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website',]) %}\r\n            \r\n            \r\n        \r\n        {% set comapny_address_line1 = '' %}        \r\n        {% set comapny_city = '' %}        \r\n        {% set comapny_counrty = '' %}        \r\n        {% set comapny_state = '' %}        \r\n        {% set phone = '' %}        \r\n\r\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\r\n\r\n        {% if company_address_name  %}\r\n            {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\r\n                \r\n\r\n        {% set comapny_address_line1 = address.address_line1 %}        \r\n        {% set comapny_city =  address.city  %}        \r\n        {% set comapny_counrty =  address.country  %}        \r\n        {% set comapny_state =  address.state  %}        \r\n\r\n        {% set phone = address.phone %}        \r\n\r\n        {% endif  %}\r\n\r\n\r\n            \r\n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \r\n            'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \r\n            'state' : comapny_state,\r\n            'phone_no' : phone, 'email' : company_details[0].email, 'pin_no': company_details[0].tax_id ,  'company_logo' : company_details[0].company_logo, 'website' : company_details[0].website,  }) %}\r\n            {{header_updated}}\r\n            \r\n\r\n            <table  class = \"table table-sm\" style = \"width:28%; \"> \r\n                <tr>\r\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:14px\"> REQUEST FOR QUOTATION </b> </span> </center>  </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Date </td> <td style = 'font-size:11px'>   {{ frappe.utils.formatdate(doc.get_formatted('transaction_date'), \"dd-mm-yyyy\") }} </td>\r\n                </tr>\r\n\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> RFQ # </td> <td style = \"font-size:11px\">  {{doc.name}} </td>\r\n                </tr>\r\n            </table>\r\n\r\n\r\n        </div>\r\n\r\n        <div class = \"col-xs-8\" style = 'float:left'>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n<table class = \"\"  style = \"width:100%; font-size:11px !important; border-bottom:1px solid black !important;\"> \r\n    <tr> \r\n        <td style = \"width:40%\">  \r\n        <div><h6> <u>Request From: </u></h6></div>\r\n        {% set supplier = {\"supplier\": ''} %}\r\n        {% for i in doc.suppliers %}\r\n            {% if supplier.update({\"supplier\": supplier[\"supplier\"] + ' ' + i.supplier_name}) %} {% endif %}\r\n        {% endfor %}\r\n        \r\n            <div>Supplier Name: {{supplier[\"supplier\"]}} </div> \r\n            <div> Address: {{ frappe.db.get_value('Supplier', doc.name, 'supplier_primary_address') }} </div>\r\n            \r\n        </td>\r\n        <td style=\"20%\">\r\n            <!--<img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\" class=\"center\" height=100px>-->\r\n        </td>\r\n        <td style = \"width:35%\">  \r\n            <table style = \"width:100%; margin-top:-1px !important;\" cellspacing = '0' cellpadding = '0'> \r\n                <!--<tr>-->\r\n                <!--    <td style = 'font-size:11px'></td>-->\r\n                <!--</tr>-->\r\n                <!--<tr>-->\r\n                <!--    <td style = 'font-size:11px'></td>-->\r\n                <!--</tr>-->\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Requested By: </td> <td style = 'font-size:11px'>   </td>\r\n                </tr>\r\n            </table>\r\n        </td>\r\n\r\n    </tr>\r\n</table>\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:5px\" border = '1'> \r\n    <tr> \r\n        <thead> \r\n            <!--<th> # </th>-->\r\n            <th>  Item Code </th>\r\n            <th>  Item Name </th>\r\n            <th>  UOM </th>\r\n            <th class=\"text-center\">  Required By </th>\r\n            <th class=\"text-right\">  Qty </th>\r\n        </thead>\r\n    </tr>\r\n{% set tot_qty = {\"tot_qty\": 0} %}\r\n{% for row in doc.items %}\r\n    {% if tot_qty.update({\"tot_qty\": tot_qty[\"tot_qty\"] + row.qty}) %} {% endif %}\r\n       \r\n        <tr>\r\n            <td style=\"\">{{ row.idx }}</td>\r\n            <td style=\"\">\r\n                {{ row.item_code }}\r\n            </td>\r\n            <td style=\"\">\r\n                {{ row.item_name }}\r\n            </td>\r\n            <td style=\"\">\r\n                {{row.uom}}\r\n            </td>\r\n            <td style=\"\" class=\"text-center\">\r\n                {{ row.schedule_date }}\r\n            </td>\r\n            <td style=\"\" class=\"text-right\">\r\n                {{ row.qty }}\r\n            </td>\r\n        </tr>\r\n        {%- endfor -%}\r\n        <tr> \r\n            <td colspan=\"5\" class=\"text-right\"><b>Totals: </b>  </td>\r\n            \r\n            <td class=\"text-right\"> <b>{{tot_qty[\"tot_qty\"]}}</b></td>\r\n        </tr>\r\n \r\n</table>\r\n\r\n<table style = \"width:100%; height:100px; font-size:11px;  margin-top:10px; border-top:1px solid black; border-bottom:1px solid black;\">\r\n    <tr rowspan = \"4\">\r\n    <td  colspan = \"6\" width=60%><b> Terms and Conditions:  </b></td>\r\n    <td colspan = \"2\" width=20%>\r\n       Total Quantity : {{tot_qty[\"tot_qty\"]}}\r\n    </td>\r\n</tr>\r\n</table>\r\n\r\n<table width=100% style=\"width:100%; font-size:11px;  margin-top:8px\">\r\n    <tr width=100% style=\"border:1px solid black\">\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created By: {{ doc.owner }} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b>  </b></td>\r\n        \r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created ON: {{ doc.get_formatted('creation')}} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b> Authorized By: {% if doc.docstatus==1 %} {{doc.owner}} {% elif doc.docstatus==0 %} Draft {% endif %}   </b> </td>\r\n    </tr>\r\n</table><br><br>\r\n\r\n<div style=\"border-bottom: 1px solid black;\"></div>\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr width=100% height=40px style = \"border: 1px solid black;\">\r\n        <td width=50%>Remarks:</td>\r\n        \r\n    </tr>\r\n</table>\r\n\r\n{% set footer = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1} , \"footer\") %}\r\n\r\n{% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(), \"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user}) %}\r\n{{ footer_updated }}\r\n\r\n\r\n    <div id=\"footer-html\" class=\"visible-pdf\">\r\n        <div class=\"letter-head-footer\">\r\n            {{ footer }}\r\n        </div>\r\n        <p class=\"text-center small page-number visible-pdf\">\r\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\r\n        </p>\r\n    </div>\r\n\r\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:11:00.166046",
  "module": "AQIQ Print Formats",
  "name": "Request For Quotation V1",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "@media screen {\r\n@page {\r\nmargin:5px;\r\nsize:a5;\r\n    \r\n}\r\n\r\n}\r\n@media pdf {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\n@page {\r\nmargin:5px;\r\n  size:a5;\r\n\r\n}\r\n}\r\n\r\n\r\n@media screen {\r\n @page {\r\n   margin:0px;\r\n  size:a5;\r\n\r\n}\r\n}\r\n\r\n\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n\r\n\r\n.watermark {\r\n    position: fixed;\r\n    top: 420px;\r\n    left: 220px;\r\n    right: 220px;\r\n    background: url(\"http://192.241.152.17/files/draft-background.png\");\r\n    background-repeat: no-repeat;\r\n    /*background-size: center;*/\r\n    height:400px;\r\n    width:50%;\r\n    background-position: center;\r\n    background-size: 100%;\r\n    color:black !important;\r\n    opacity: 0.3;\r\n    position: running(wtrmrk);\r\n    background-repeat: repeat-x;\r\n    }\r\n\r\n\r\n\r\n\r\n.days_tab {\r\n    position: relative;\r\n}\r\n\r\n.barchart-Wrapper {\r\n      display: table;\r\n      position: relative;\r\n      margin: 20px 0;\r\n      height: 120px;\r\n    }\r\n    .barChart-Container {\r\n      display: table-cell;\r\n      width: 100%;\r\n      height: 100%;\r\n      padding-left: 20px;\r\n      padding-right: 20px;\r\n    }\r\n    .barchart {\r\n     display: table;\r\n     table-layout: fixed;\r\n     height: 100%;\r\n     width: 100%;\r\n     border-bottom: 3px solid darkgrey;\r\n    }\r\n    .barchart-Col {\r\n      position: relative;\r\n      vertical-align: bottom;\r\n      display: table-cell;\r\n      height: 100%;\r\n    }\r\n    .barchart-Col + .barchart-Col {\r\n      border-left: 4px solid transparent;\r\n    }\r\n    .barchart-Bar {\r\n      position: static;\r\n      height: 0;\r\n      transition: height 0.5s 2s;\r\n      width: 10px;\r\n      margin: auto;\r\n    }\r\n    .barchart-Bar:after {\r\n      content: attr(attr-height);\r\n      color: white;\r\n      position: absolute;\r\n      text-align: center;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter {\r\n      position: absolute;\r\n      text-align: center;\r\n      left:40px;\r\n      height: 10%;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter h3 {\r\n      color: darkred;\r\n    }\r\n    .barchart-TimeCol {\r\n      position: absolute;\r\n      top: 0;\r\n      height: 100%;\r\n      width: 100%;\r\n    }\r\n    .barchart-Time {\r\n      height: 25%;\r\n      vertical-align: middle;\r\n      position: relative;\r\n    }\r\n    .barchart-Time:after {\r\n      border-bottom: 3px solid white;\r\n      content: \"\";\r\n      position: absolute;\r\n      width: 100%;\r\n      left: 0;\r\n      top: 0em;\r\n    }\r\n    .barchart-TimeText {\r\n      position: absolute;\r\n      top: -8px;\r\n      z-index: 1;\r\n      background: white;\r\n      padding-right: 5px;\r\n      color: #4d4d4d;\r\n      font-size: 15px;\r\n      font-family: 'Avenir Medium';\r\n    }\r\n    .sq1-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq1-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq2-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq2-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq3-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq3-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq4-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq4-bar {\r\n      background-color: #a61a17;\r\n    }",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Work Order",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "{% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website',]) %}\r\n        {% if doc.company %}\r\n            \r\n        {% set company_logo = company_details[0].company_logo %}        \r\n        {% set company_address_line1 = '' %}        \r\n        {% set company_city = '' %}        \r\n        {% set company_country = '' %}        \r\n        {% set company_state = '' %}        \r\n        {% set phone = company_details[0].phone_no %}        \r\n        {% set website = company_details[0].website %}        \r\n\r\n        {% endif%}\r\n\r\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\r\n\r\n        {% if company_address_name  %}\r\n        {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\r\n        {% set company_address_line1 = address.address_line1 %}        \r\n        {% set company_city =  address.city  %}        \r\n        {% set company_country =  address.country  %}        \r\n        {% set company_state =  address.state  %}        \r\n        {% set phone = address.phone %}\r\n        {% set tax_id = address.tax_id %}\r\n        {% set email = company_details[0].email %}\r\n        {% endif  %}\r\n\r\n{% set dn_query = frappe.db.get_list('Delivery Note Item',\r\n            filters =  {\r\n            'parent' : doc.delivery_note,\r\n            },\r\n            fields = ['against_sales_order']) %}\r\n            {% set del_note = frappe.db.get_list('Delivery Note', filters = {'name' : doc.delivery_note}, fields=['contact_person', 'shipping_address']) %}\r\n            \r\n\r\n\r\n{% set tot_qty = {\"tot_qty\": 0} %}\r\n{% set tot_weight = {\"tot_weight\": 0} %}\r\n{% set tot_unit_weight = {\"tot_unit_weight\": 0} %}\r\n\r\n\r\n\r\n\r\n<div class = \"mainbox\" style = \"  \"> \r\n\r\n<table class = \"\" style = \"width:100%; \" border = \"1\"  > \r\n    <thead class = \"header-html\" > \r\n    <tr style = \"border:none !important\"> \r\n        <td colspan = \"9\"  style = \"border:none !important\" class = \"text-center\" > 786  </td>\r\n    </tr>\r\n    <tr> \r\n        <td colspan = \"9\">  \r\n        <div class = \"\" style = \"float:left; width:25%\" > \r\n\r\n            <div style=\"width: 100%;\"> \r\n             <img src=\"{{ company_logo }}\" style=\"height: 120px; width: 98%;\">\r\n            </div>\r\n\r\n        </div>\r\n\r\n        <div class = \"\" style = \"float:left; width:40%\" > \r\n\r\n        <div class = \"\"> <b> {{doc.company}} </b> </div>\r\n        <div class = \"\" style = \"font-size:9px\" > {% if company_address_line1 %}{{company_address_line1}} {% endif %} </div>\r\n        <div class = \"\" style = \"font-size:9px\" > {%  if company_city  %} {{ company_city }} {% endif %}  {%  if company_state  %} {{ company_state }} {% endif %} {%  if company_country  %} {{ company_country }} {% endif %} </div>\r\n        <div class = \"\" style = \"font-size:9px\" > P#: {{ phone or \"\" }} </div>\r\n        <div class = \"\" style = \"font-size:9px\" > Email: {{email  or \"\" }} </div>\r\n        <div class = \"\" style = \"font-size:9px\" > PIN NO: {{tax_id or \"\" }} </div>\r\n        <div class = \"\" style = \"font-size:9px\" > Website: {{website or \"\" }}</div>\r\n            \r\n\r\n\r\n        </div>\r\n\r\n        <div class = \"\" style = \"float:left; width:30%\" > \r\n\r\n            <table class = \"small table table-sm\" style = \"border:none; padding:0px; margin:0px; font-size:9px\"> \r\n                <tr> \r\n                    <td colspan = \"2\" class = \"text-center\" style = \"font-size:12px; font-weight:700\" >  WORK ORDER </td>\r\n                   \r\n                </tr>\r\n    \r\n               <tr>\r\n                    <td style = ''> Date </td> <td style = ''>  {{ frappe.utils.formatdate(doc.get_formatted('creation'), \"dd-mm-yyyy\") }}  </td>\r\n                </tr>\r\n    \r\n                <tr> \r\n                    <td>Order #  </td>\r\n                    <td>  {{doc.name}}  </td>\r\n                </tr>\r\n              \r\n\r\n            </table>\r\n\r\n\r\n        </div>\r\n\r\n        </td>\r\n    </tr>\r\n\r\n\r\n\r\n    </thead>\r\n\r\n    <tr>\r\n        <td colspan = \"9\"> \r\n                <div class = \"\" style = \"float:left; width:60%\" >  \r\n                <div>  <b style=\"font-size:15px\"> Bill To, </b></div>\r\n                <div style=\"font-size:10px\"> <b> {{ doc.customer_name or \"\" }} </b> </div>\r\n            <div style=\"font-size:9px\"> {{ doc.address_display or \"\"}} </div>\r\n            <div style=\"font-size:9px\"> {{ doc.contact_phone or \"\"}} </div>\r\n            <div style=\"font-size:9px\"> {{ doc.contact_email or \"\"}} </div>\r\n                \r\n                \r\n                </div>\r\n                <!--<div class = \"\" style = \"float:left; width:25%\" >              -->\r\n                \r\n                <!--<img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\" class=\"text-center\" height=\"130px\">-->\r\n                <!--</div>-->\r\n                <div class = \"\" style = \"float:left; width:35%\" >  \r\n                \r\n            <table class = \"table table-sm \" style = \"width:100%; border:none; font-size:9px; padding:0px; margin:0px \" cellspacing = '0' cellpadding = '0'> \r\n               \r\n                <tr>\r\n                    <td style = ''> Sales Order.</td> <td style = ''>  {{doc.sales_order}}  </td>\r\n                </tr>\r\n                \r\n                <tr>\r\n                    <td style = ''>Material Request </td> <td style = ''> {{ doc.material_request}}  </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = ''>Production Plan</td> <td style = ''> {{ doc.production_plan }}  </td>\r\n                </tr>\r\n              \r\n\r\n\r\n\r\n            </table>\r\n                \r\n                \r\n                </div>\r\n        </td>\r\n\r\n    </tr>\r\n    <tr> \r\n    <td colspan = \"9\">\r\n   <div style=\"height:30px; \">\r\n    Remarks:\r\n</div>\r\n    </td>\r\n    </tr>\r\n    \r\n    \r\n       <tr>\r\n    <td colspan = \"9\" style=\"font-weight:bold; font-size:14px;\">\r\nSales Order Details\r\n </td>\r\n    </tr>\r\n     <thead style = \"font-size:10px\" > \r\n     \r\n        <tr> \r\n            <th>  ID </th>\r\n            <th>  Item Code </th>\r\n            <th colspan = \"2\">  Warehouse </th>\r\n            <th class=\"text-right\">  Reserved Qty </th>\r\n            <th class=\"text-right\">  Planned Qty </th>\r\n        </tr>\r\n        </thead>\r\n        \r\n{% set qty_total_res = {\"qty_total_res\": 0} %}\r\n{% set qty_total_pln = {\"qty_total_pln\": 0} %}\r\n\r\n{% for row in doc.so_items %}\r\n    \r\n        <tr>\r\n            <td style=\"\">\r\n\t\t{{ row.idx }}</td>\r\n            <td style=\"\">\r\n                {{ row.item_code }}\r\n            </td>\r\n            <td style=\"\" colspan = \"2\">\r\n                {{ row.warehouse }}\r\n            </td>\r\n           \r\n\r\n\r\n            <td style=\"\" class=\"text-right\">\r\n                {{ '{0:,.2f}'.format(row.reserved_qty ) }} \r\n                 {% if qty_total_res.update({\"qty_total_res\": qty_total_res[\"qty_total_res\"] + row.reserved_qty}) %} {% endif %}\r\n            </td>\r\n            \r\n          \r\n        \r\n           \r\n          <td style=\"\" class=\"text-right\">\r\n                {{ '{0:,.2f}'.format(row.planned_qty ) }} \r\n                 {% if qty_total_pln.update({\"qty_total_pln\": qty_total_pln[\"qty_total_pln\"] + row.planned_qty}) %} {% endif %}\r\n                \r\n          </td>\r\n\r\n\r\n        </tr>\r\n        {%- endfor -%}\r\n        <tr> \r\n            <td colspan=\"4\" class=\"text-right\"><b>Totals: </b>  </td>\r\n            <td class=\"text-right\"> <b> {{ '{0:,.2f}'.format( qty_total_res[\"qty_total_res\"]  ) }}</b></td>\r\n               <td class=\"text-right small \">  <b>\r\n                                 {{ '{0:,.2f}'.format( qty_total_pln[\"qty_total_pln\"]  ) }} \r\n                \r\n                </b> </td>\r\n              \r\n             \r\n        </tr>\r\n     <tr>\r\n    <td colspan = \"9\" style=\"font-weight:bold; font-size:14px; \">\r\n Required Items Details\r\n </td>\r\n    </tr>\r\n    \r\n           <thead style = \"font-size:10px\" > \r\n        <tr> \r\n              <th>  ID </th>\r\n            <th>  Item Code </th>\r\n            <th>  Item Name </th>\r\n            <th class=\"text-right\">  Rate </th>\r\n            <th class=\"text-right\">  Qty </th>\r\n            <th class=\"text-right\">  Amount </th>\r\n        </tr>\r\n        </thead>\r\n        \r\n{% set total_amount = {\"total_amount\": 0} %}\r\n{% set qty_total_req = {\"qty_total_req\": 0} %}\r\n\r\n{% for row in doc.required_items %}\r\n\r\n    \r\n        <tr>\r\n            <td style=\"\">{{ row.idx }}</td>\r\n            <td style=\"\">\r\n                {{ row.item_code }}\r\n            </td>\r\n            <td style=\"\">\r\n                {{ row.item_name }}\r\n            </td>\r\n            <td style=\"\" class=\"text-right\">\r\n                {{ '{0:,.2f}'.format(row.rate  ) }} \r\n            </td>\r\n\r\n\r\n            <td style=\"\" class=\"text-right\">\r\n                {{ '{0:,.2f}'.format(row.required_qty ) }} \r\n                 {% if qty_total_req.update({\"qty_total_req\": qty_total_req[\"qty_total_req\"] + row.required_qty}) %} {% endif %}\r\n            </td>\r\n            \r\n            <td style=\"\" class=\"text-right\">\r\n                \r\n               {{ '{0:,.2f}'.format(row.amount  ) }} \r\n               {% if total_amount.update({\"total_amount\": total_amount[\"total_amount\"] + row.amount}) %} {% endif %}\r\n            </td>\r\n        \r\n          \r\n\r\n        </tr>\r\n        {%- endfor -%}\r\n        <tr> \r\n            <td></td>\r\n            <td colspan=\"3\" class=\"text-right\"><b>Totals: </b>  </td>\r\n            <td class=\"text-right\"> <b> {{ '{0:,.2f}'.format( qty_total_req[\"qty_total_req\"]  ) }}</b></td>\r\n               <td class=\"text-right small \">  <b>\r\n                                 {{ '{0:,.2f}'.format( total_amount[\"total_amount\"]  ) }} \r\n                \r\n                </b> </td>\r\n              \r\n              \r\n        </tr>\r\n \r\n     <tr>\r\n    <td colspan = \"9\" style=\"font-weight:bold; font-size:14px;\">\r\n Operation Details\r\n </td>\r\n    </tr>\r\n    \r\n           <thead style = \"font-size:10px\" > \r\n        <tr> \r\n              <th>  ID </th>\r\n            <th>  Operation</th>\r\n            <th>  B O M </th>\r\n            <th class=\"\">  Workstation </th>\r\n            <th class=\"\">  Planned Start Time </th>\r\n            <th class=\"\">  Planned End Time </th>\r\n        </tr>\r\n        </thead>\r\n\r\n{% for row in doc.operations %}\r\n\r\n    \r\n        <tr>\r\n            <td style=\"\">{{ row.idx }}</td>\r\n            <td style=\"\">\r\n                {{ row.operation }}\r\n            </td>\r\n            <td style=\"\">\r\n                {{ row.bom }}\r\n            </td>\r\n            <td style=\"\" class=\"\">\r\n                {{ row.workstation }} \r\n            </td>\r\n\r\n\r\n            <td style=\"\" class=\"\">\r\n                 \r\n                 {{ row.get_formatted('planned_start_time') }}\r\n                 \r\n            </td>\r\n            \r\n            <td style=\"\" class=\"\">\r\n                   {{ row.get_formatted('planned_end_time') }}\r\n            </td>\r\n        \r\n          \r\n\r\n        </tr>\r\n        {%- endfor -%}\r\n       \r\n \r\n    <tr rowspan = \"4\">\r\n    \r\n<tr> \r\n    <td colspan = \"9\" style = \"font-size:9px;\">  \r\n   <div> <b>Created By: {{ doc.owner }}  </b> </div>\r\n     <div>  <b> Created On: {{ doc.get_formatted('creation')}} </b> </div>\r\n     <div> <b>Created By: {{ doc.owner }} </b></div>\r\n    \r\n   \r\n    \r\n    </td>\r\n\r\n</tr>\r\n\r\n<tr> \r\n    <td colspan = \"9\" style = \"font-size:9px;\">  \r\n   <div class = \"\" style = \"font-size:9px; width:33%; float:left; font-weight:bold; \"> Recieved By </div>\r\n    <div class = \"\" style = \"font-size:9px; width:33%; float:left; font-weight:bold;\"> ID  </div>\r\n    <div class = \"\" style = \"font-size:9px; width:33%; float:left;font-weight:bold; \"> Signature  </div>\r\n    </td>\r\n\r\n\r\n</tr>\r\n{% if doc.docstatus==0 %}\r\n<div class ='watermark'>\r\n</div>\r\n{% endif %}\r\n\r\n</table>\r\n</div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:11:00.040112",
  "module": "AQIQ Print Formats",
  "name": "Work Order New A5",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Work Order",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<div class  = \"row border\" style = \"margin-top:0px; margin-bottom:0px; margin-left:10px; width:58mm;\" >\n<div class = \"col-md-12  my-5 border \">\n    <center>\n    <div class = \"border\" style = \"   \"> \n<div class=\"card text-center   \" style=\"padding:10px;\">\n  <!--<img class=\"card-img-top\" src=\"/files/ss3e61c5.jpeg\" alt=\"Card image cap\">-->\n  <div class=\"card-body\">\n    <p class=\"card-text text-center\"> \n    <b>{{doc.production_item}}</b><br>\n    <b><u>{{doc.item_name}} - {{doc.get_formatted(\"qty\")}}</u></b><br>\n    </p>\n        <div style=\"text-align:center\">\n            <img alt='Barcode Generator TEC-IT'\n       src='https://barcode.tec-it.com/barcode.ashx?data={{doc.name}}&code=Code128&multiplebarcodes=false&translate-esc=true&unit=Fit&dpi=96&imagetype=Gif&rotation=0&color=%23000000&bgcolor=%23ffffff&codepage=Default&qunit=Mm&quiet=0' style=\"height:100px; padding:1px;\"?draggable=\"false\"/>\n         </div>\n         \n         <p class=\"card-text text-center\"> \n            <b>{% for d in doc.operations %}\n                    {{ d.operation }}, \n            \n                {% endfor %}</b><br>\n            </p>\n</div>    \n    </center>\n\n    </div>\n</div>\n</div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:59.926309",
  "module": "AQIQ Print Formats",
  "name": "Work Order Barcode",
  "page_number": "Hide",
  "print_format_builder": 1,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Operation",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<div class  = \"row border\" style = \"margin-top:0px; margin-bottom:0px; margin-left:10px; width:58mm;\" >\n<div class = \"col-md-12  my-5 border \">\n    <center>\n    <div class = \"border\" style = \"   \"> \n<div class=\"card text-center   \" style=\"padding:10px;\">\n  <!--<img class=\"card-img-top\" src=\"/files/ss3e61c5.jpeg\" alt=\"Card image cap\">-->\n  <div class=\"card-body\">\n    <p class=\"card-text text-center\"> \n    <b><u>{{doc.name}}</u></b><br>\n    </p>\n        <div style=\"text-align:center\">\n            <img alt='Barcode Generator TEC-IT'\n       src='https://barcode.tec-it.com/barcode.ashx?data={{doc.operation_no}}&code=Code128&multiplebarcodes=false&translate-esc=true&unit=Fit&dpi=96&imagetype=Gif&rotation=0&color=%23000000&bgcolor=%23ffffff&codepage=Default&qunit=Mm&quiet=0' style=\"height:100px; padding:1px;\"?draggable=\"false\"/>\n         </div>\n</div>    \n    </center>\n\n    </div>\n</div>\n</div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:59.840304",
  "module": "AQIQ Print Formats",
  "name": "Operation",
  "page_number": "Hide",
  "print_format_builder": 1,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 0,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Job Card",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": "[{\"fieldname\": \"print_heading_template\", \"fieldtype\": \"Custom HTML\", \"options\": \"<div class=\\\"print-heading\\\">\\t\\t\\t\\t<h2><div>Job Card</div><br><small class=\\\"sub-heading\\\">{{ doc.name }}</small>\\t\\t\\t\\t</h2></div>\\n<img src=\\\"/files/QRCode{{doc.name}}.svg\\\" alt=\\\"QR Code here\\\">\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"naming_series\", \"print_hide\": 0, \"label\": \"Naming Series\"}, {\"fieldname\": \"work_order\", \"print_hide\": 0, \"label\": \"Work Order\"}, {\"fieldname\": \"bom_no\", \"print_hide\": 0, \"label\": \"BOM No\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"posting_date\", \"print_hide\": 0, \"label\": \"Posting Date\"}, {\"fieldname\": \"company\", \"print_hide\": 0, \"label\": \"Company\"}, {\"fieldname\": \"company_number\", \"print_hide\": 0, \"label\": \"Company Number\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Production\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"production_item\", \"print_hide\": 0, \"label\": \"Production Item\"}, {\"fieldname\": \"item_name\", \"print_hide\": 0, \"label\": \"Item Name\"}, {\"fieldname\": \"for_quantity\", \"print_hide\": 0, \"label\": \"Qty To Manufacture\"}, {\"fieldname\": \"serial_no\", \"print_hide\": 0, \"label\": \"Serial No\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"wip_warehouse\", \"print_hide\": 0, \"label\": \"WIP Warehouse\"}, {\"fieldname\": \"quality_inspection\", \"print_hide\": 0, \"label\": \"Quality Inspection\"}, {\"fieldname\": \"project\", \"print_hide\": 0, \"label\": \"Project\"}, {\"fieldname\": \"batch_no\", \"print_hide\": 0, \"label\": \"Batch No\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Operation Section\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"operation\", \"print_hide\": 0, \"label\": \"Operation\"}, {\"fieldname\": \"operation_row_number\", \"print_hide\": 0, \"label\": \"Operation Row Number\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"workstation\", \"print_hide\": 0, \"label\": \"Workstation\"}, {\"fieldname\": \"employee\", \"print_hide\": 0, \"label\": \"Employee\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"sub_operations\", \"print_hide\": 0, \"label\": \"Sub Operations\", \"visible_columns\": [{\"fieldname\": \"sub_operation\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"completed_time\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"status\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"completed_qty\", \"print_width\": \"\", \"print_hide\": 0}]}, {\"fieldtype\": \"Section Break\", \"label\": \"Timing Detail\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"time_logs\", \"print_hide\": 0, \"label\": \"Time Logs\", \"visible_columns\": [{\"fieldname\": \"employee\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"from_time\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"to_time\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"time_in_mins\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"completed_qty\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"operation\", \"print_width\": \"\", \"print_hide\": 0}]}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"total_completed_qty\", \"print_hide\": 0, \"label\": \"Total Completed Qty\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"total_time_in_mins\", \"print_hide\": 0, \"label\": \"Total Time in Mins\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Raw Materials\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"items\", \"print_hide\": 0, \"label\": \"Items\", \"visible_columns\": [{\"fieldname\": \"item_code\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"source_warehouse\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"uom\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"item_group\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"stock_uom\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"item_name\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"description\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"required_qty\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"allow_alternative_item\", \"print_width\": \"\", \"print_hide\": 0}]}, {\"fieldtype\": \"Section Break\", \"label\": \"Corrective Operation\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"for_job_card\", \"print_hide\": 0, \"label\": \"For Job Card\"}, {\"fieldname\": \"is_corrective_job_card\", \"print_hide\": 0, \"label\": \"Is Corrective Job Card\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"hour_rate\", \"print_hide\": 0, \"label\": \"Hour Rate\"}, {\"fieldname\": \"for_operation\", \"print_hide\": 0, \"label\": \"For Operation\"}, {\"fieldtype\": \"Section Break\", \"label\": \"More Information\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"operation_id\", \"print_hide\": 0, \"label\": \"Operation ID\"}, {\"fieldname\": \"transferred_qty\", \"print_hide\": 0, \"label\": \"FG Qty from Transferred Raw Materials\"}, {\"fieldname\": \"requested_qty\", \"print_hide\": 0, \"label\": \"Requested Qty\"}, {\"fieldname\": \"status\", \"print_hide\": 0, \"label\": \"Status\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"remarks\", \"print_hide\": 0, \"label\": \"Remarks\"}, {\"fieldname\": \"barcode\", \"print_hide\": 0, \"label\": \"Barcode\"}]",
  "html": "",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:59.759963",
  "module": "AQIQ Print Formats",
  "name": "Job Card",
  "page_number": "Hide",
  "print_format_builder": 1,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 0,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Work Order",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": "[{\"fieldname\": \"print_heading_template\", \"fieldtype\": \"Custom HTML\", \"options\": \"<div class=\\\"print-heading\\\">\\t\\t\\t\\t<h2><div>Work Order</div><br><small class=\\\"sub-heading\\\">{{ doc.name }}</small>\\t\\t\\t\\t</h2></div>\\n<img src=\\\"/files/QRCode{{doc.name}}.svg\\\" alt=\\\"QR Code here\\\">\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"status\", \"print_hide\": 0, \"label\": \"Status\"}, {\"fieldname\": \"production_item\", \"print_hide\": 0, \"label\": \"Item To Manufacture\"}, {\"fieldname\": \"item_name\", \"print_hide\": 0, \"label\": \"Item Name\"}, {\"fieldname\": \"bom_no\", \"print_hide\": 0, \"label\": \"BOM No\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"company\", \"print_hide\": 0, \"label\": \"Company\"}, {\"fieldname\": \"company_number\", \"print_hide\": 0, \"label\": \"Company Number\"}, {\"fieldname\": \"qty\", \"print_hide\": 0, \"label\": \"Qty To Manufacture\"}, {\"fieldname\": \"material_transferred_for_manufacturing\", \"print_hide\": 0, \"label\": \"Material Transferred for Manufacturing\"}, {\"fieldname\": \"produced_qty\", \"print_hide\": 0, \"label\": \"Manufactured Qty\"}, {\"fieldname\": \"process_loss_qty\", \"print_hide\": 0, \"label\": \"Process Loss Qty\"}, {\"fieldname\": \"sales_order\", \"print_hide\": 0, \"label\": \"Sales Order\"}, {\"fieldname\": \"project\", \"print_hide\": 0, \"label\": \"Project\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Serial No and Batch for Finished Good\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"has_serial_no\", \"print_hide\": 0, \"label\": \"Has Serial No\"}, {\"fieldname\": \"has_batch_no\", \"print_hide\": 0, \"label\": \"Has Batch No\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"serial_no\", \"print_hide\": 0, \"label\": \"Serial Nos\"}, {\"fieldname\": \"batch_size\", \"print_hide\": 0, \"label\": \"Batch Size\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Settings\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"allow_alternative_item\", \"print_hide\": 0, \"label\": \"Allow Alternative Item\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"skip_transfer\", \"print_hide\": 0, \"label\": \"Skip Material Transfer to WIP Warehouse\"}, {\"fieldname\": \"from_wip_warehouse\", \"print_hide\": 0, \"label\": \"Backflush Raw Materials From Work-in-Progress Warehouse\"}, {\"fieldname\": \"update_consumed_material_cost_in_project\", \"print_hide\": 0, \"label\": \"Update Consumed Material Cost In Project\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Warehouses\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"source_warehouse\", \"print_hide\": 0, \"label\": \"Source Warehouse\"}, {\"fieldname\": \"wip_warehouse\", \"print_hide\": 0, \"label\": \"Work-in-Progress Warehouse\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"fg_warehouse\", \"print_hide\": 0, \"label\": \"Target Warehouse\"}, {\"fieldname\": \"scrap_warehouse\", \"print_hide\": 0, \"label\": \"Scrap Warehouse\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Time\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"planned_start_date\", \"print_hide\": 0, \"label\": \"Planned Start Date\"}, {\"fieldname\": \"planned_end_date\", \"print_hide\": 0, \"label\": \"Planned End Date\"}, {\"fieldname\": \"expected_delivery_date\", \"print_hide\": 0, \"label\": \"Expected Delivery Date\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"actual_start_date\", \"print_hide\": 0, \"label\": \"Actual Start Date\"}, {\"fieldname\": \"actual_end_date\", \"print_hide\": 0, \"label\": \"Actual End Date\"}, {\"fieldname\": \"lead_time\", \"print_hide\": 0, \"label\": \"Lead Time\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Operations\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"transfer_material_against\", \"print_hide\": 0, \"label\": \"Transfer Material Against\"}, {\"fieldname\": \"operations\", \"print_hide\": 0, \"label\": \"Operations\", \"visible_columns\": [{\"fieldname\": \"operation\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"description\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"completed_qty\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"status\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"workstation\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"planned_start_time\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"planned_end_time\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"time_in_mins\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"hour_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"batch_size\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"planned_operating_cost\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"actual_start_time\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"actual_end_time\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"actual_operation_time\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"actual_operating_cost\", \"print_width\": \"\", \"print_hide\": 0}]}, {\"fieldtype\": \"Section Break\", \"label\": \"Operation Cost\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"planned_operating_cost\", \"print_hide\": 0, \"label\": \"Planned Operating Cost\"}, {\"fieldname\": \"actual_operating_cost\", \"print_hide\": 0, \"label\": \"Actual Operating Cost\"}, {\"fieldname\": \"additional_operating_cost\", \"print_hide\": 0, \"label\": \"Additional Operating Cost\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"total_operating_cost\", \"print_hide\": 0, \"label\": \"Total Operating Cost\"}, {\"fieldtype\": \"Section Break\", \"label\": \"More Information\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"description\", \"print_hide\": 0, \"label\": \"Item Description\"}, {\"fieldname\": \"stock_uom\", \"print_hide\": 0, \"label\": \"Stock UOM\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"material_request\", \"print_hide\": 0, \"label\": \"Material Request\"}, {\"fieldname\": \"material_request_item\", \"print_hide\": 0, \"label\": \"Material Request Item\"}, {\"fieldname\": \"sales_order_item\", \"print_hide\": 0, \"label\": \"Sales Order Item\"}, {\"fieldname\": \"amended_from\", \"print_hide\": 0, \"label\": \"Amended From\"}]",
  "html": null,
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:59.686868",
  "module": "AQIQ Print Formats",
  "name": "Work Order",
  "page_number": "Hide",
  "print_format_builder": 1,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Blanket Order",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<style>\n\t.print-format table, .print-format tr, \n\t.print-format td, .print-format div, .print-format p {\n\t\tline-height: 150%;\n\t\tvertical-align: middle;\n\t}\n\t@media screen {\n\t\t.print-format {\n\t\t\twidth: 4in;\n\t\t\tpadding: 0.25in;\n\t\t\tmin-height: 8in;\n\t\t}\n\t}\n</style>\n\n{% if letter_head %}\n    {{ letter_head }}\n{% endif %}\n\n<p class=\"text-center\" style=\"margin-bottom: 1rem\">\n\t{{ doc.company }}<br>\n\t<b>{{ doc.select_print_heading or _(\"Invoice\") }}</b><br>\n</p>\n<p>\n\t<b>{{ _(\"Receipt No\") }}:</b> {{ doc.name }}<br>\n\t<b>{{ _(\"Cashier\") }}:</b> {{ doc.owner }}<br>\n\t<b>{{ _(\"Customer\") }}:</b> {{ doc.customer_name }}<br>\n\t<b>{{ _(\"Date\") }}:</b> {{ doc.get_formatted(\"posting_date\") }}<br>\n\t<b>{{ _(\"Time\") }}:</b> {{  doc.get_formatted(\"posting_time\") }}<br>\n</p>\n\n<hr>\n<table class=\"table table-condensed\">\n\t<thead>\n\t\t<tr>\n\t\t\t<th width=\"50%\">{{ _(\"Item\") }}</th>\n\t\t\t<th width=\"25%\" class=\"text-right\">{{ _(\"Qty\") }}</th>\n\t\t\t<th width=\"25%\" class=\"text-right\">{{ _(\"Amount\") }}</th>\n\t\t</tr>\n\t</thead>\n\t<tbody>\n\t\t{%- for item in doc.items -%}\n\t\t<tr>\n\t\t\t<td>\n\t\t\t\t{{ item.item_code }}\n\t\t\t\t{%- if item.item_name != item.item_code -%}\n\t\t\t\t\t<br>{{ item.item_name }}\n\t\t\t\t{%- endif -%}\n\t\t\t\t{%- if item.serial_no -%}\n\t\t\t\t\t<br><b>{{ _(\"SR.No\") }}:</b><br>\n\t\t\t\t\t{{ item.serial_no | replace(\"\\n\", \", \") }}\n\t\t\t\t{%- endif -%}\n\t\t\t</td>\n\t\t\t<td class=\"text-right\">{{ item.qty }}<br>@ {{ item.get_formatted(\"rate\") }}</td>\n\t\t\t<td class=\"text-right\">{{ item.get_formatted(\"amount\") }}</td>\n\t\t</tr>\n\t\t{%- endfor -%}\n\t</tbody>\n</table>\n<table class=\"table table-condensed no-border\">\n\t<tbody>\n\t\t<tr>\n\t\t\t{% if doc.flags.show_inclusive_tax_in_print %}\n\t\t\t\t<td class=\"text-right\" style=\"width: 70%\">\n\t\t\t\t\t{{ _(\"Total Excl. Tax\") }}\n\t\t\t\t</td>\n\t\t\t\t<td class=\"text-right\">\n\t\t\t\t\t{{ doc.get_formatted(\"net_total\", doc) }}\n\t\t\t\t</td>\n\t\t\t{% else %}\n\t\t\t\t<td class=\"text-right\" style=\"width: 70%\">\n\t\t\t\t\t{{ _(\"Total\") }}\n\t\t\t\t</td>\n\t\t\t\t<td class=\"text-right\">\n\t\t\t\t\t{{ doc.get_formatted(\"total\", doc) }}\n\t\t\t\t</td>\n\t\t\t{% endif %}\n\t\t</tr>\n\t\t{%- for row in doc.taxes -%}\n\t\t  {%- if not row.included_in_print_rate or doc.flags.show_inclusive_tax_in_print -%}\n\t\t\t<tr>\n\t\t\t\t<td class=\"text-right\" style=\"width: 70%\">\n\t\t\t\t    {% if '%' in row.description %}\n\t\t\t\t\t    {{ row.description }}\n\t\t\t\t\t{% else %}\n\t\t\t\t\t    {{ row.description }}@{{ row.rate }}%\n\t\t\t\t\t{% endif %}\n\t\t\t\t</td>\n\t\t\t\t<td class=\"text-right\">\n\t\t\t\t\t{{ row.get_formatted(\"tax_amount\", doc) }}\n\t\t\t\t</td>\n\t\t\t<tr>\n\t\t  {%- endif -%}\n\t\t{%- endfor -%}\n\n\t\t{%- if doc.discount_amount -%}\n\t\t<tr>\n\t\t\t<td class=\"text-right\" style=\"width: 75%\">\n\t\t\t\t{{ _(\"Discount\") }}\n\t\t\t</td>\n\t\t\t<td class=\"text-right\">\n\t\t\t\t{{ doc.get_formatted(\"discount_amount\") }}\n\t\t\t</td>\n\t\t</tr>\n\t\t{%- endif -%}\n\t\t<tr>\n\t\t\t<td class=\"text-right\" style=\"width: 75%\">\n\t\t\t\t<b>{{ _(\"Grand Total\") }}</b>\n\t\t\t</td>\n\t\t\t<td class=\"text-right\">\n\t\t\t\t{{ doc.get_formatted(\"grand_total\") }}\n\t\t\t</td>\n\t\t</tr>\n\t\t{%- if doc.rounded_total -%}\n\t\t<tr>\n\t\t\t<td class=\"text-right\" style=\"width: 75%\">\n\t\t\t\t<b>{{ _(\"Rounded Total\") }}</b>\n\t\t\t</td>\n\t\t\t<td class=\"text-right\">\n\t\t\t\t{{ doc.get_formatted(\"rounded_total\") }}\n\t\t\t</td>\n\t\t</tr>\n\t\t{%- endif -%}\n\t\t{%- for row in doc.payments -%}\n\t\t\t<tr>\n\t\t\t\t<td class=\"text-right\" style=\"width: 70%\">\n\t\t\t\t    {{ row.mode_of_payment }}\n\t\t\t\t</td>\n\t\t\t\t<td class=\"text-right\">\n\t\t\t\t\t{{ row.get_formatted(\"amount\", doc) }}\n\t\t\t\t</td>\n\t\t\t<tr>\n\t\t{%- endfor -%}\n\t</tbody>\n</table>\n<hr>\n<p>{{ doc.terms or \"\" }}</p>\n<p class=\"text-center\">{{ _(\"Thank you, please visit again.\") }}</p>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:59.604026",
  "module": "AQIQ Print Formats",
  "name": "Blanket Order POS Format",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "body {\r\n    font-family: Arial, sans-serif;\r\n}\r\n\r\n.red-text {\r\n    color: black;\r\n}\r\n\r\n.letter-container {\r\n    max-width: 800px;\r\n    margin: 20px auto;\r\n    padding: 20px;\r\n    border: 1px solid #ccc;\r\n    font-size:14px;\r\n}\r\n\r\n.header {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: flex-start; /* Align items at the top */\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.top-left {\r\n    display: flex;\r\n    align-items: flex-start; /* Align items at the top */\r\n}\r\n\r\n.logo {\r\n    width: 100px;\r\n    margin-right: 10px;\r\n}\r\n\r\n.company-info {\r\n    font-size: 14px;\r\n}\r\n\r\n.top-right {\r\n    text-align: right;\r\n}\r\n\r\n.info {\r\n    text-align: left;\r\n}\r\n\r\n.warning-section {\r\n    margin-top: 20px;\r\n}\r\n\r\n.warning-details {\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.occurrence-details,\r\n.action-details,\r\n.improvement-details,\r\n.dismissal-details {\r\n    margin-bottom: 15px;\r\n}\r\n\r\n.long-lines {\r\n    height: 1px;\r\n    background-color: #000;\r\n    margin-bottom: 15px;\r\n    margin-top:30px;\r\n}\r\n\r\n.occurrence-details h2,\r\n.action-details h2,\r\n.improvement-details h2,\r\n.dismissal-details h2 {\r\n    font-size: 1.0em;\r\n    margin-bottom: 10px;\r\n}\r\n\r\n.signature-section {\r\n    margin-top: 20px;\r\n}\r\n\r\n.signatures {\r\n    display: flex;\r\n    justify-content: space-between;\r\n}\r\n\r\n.employee-signature,\r\n.hr-manager {\r\n    width: 45%;\r\n    border-top: 1px solid #000;\r\n    padding-top: 5px;\r\n    margin-top: 50px;\r\n}\r\n\r\n.authorized-by {\r\n    margin-top: 10px; /* Add margin top */\r\n}\r\n.footer{\r\n    margin-top:15px;\r\n    font-size:10px;\r\n}\r\n",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Warning Letter",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <link rel=\"stylesheet\" href=\"styles.css\">\r\n    <title>Warning Letter</title>\r\n</head>\r\n<body>\r\n    <div class=\"letter-container\">\r\n                <div class=\"text-center\">786</div>\r\n        <div class=\"header\">\r\n            <div class=\"top-left\">\r\n                <div class=\"logo\">\r\n                    <img src=\"https://impala.aqiq.net/files/Impala.png\" alt=\"Company Logo\">\r\n                </div>\r\n                <div class=\"company-info\">\r\n                    <p><b>Impala Glass Industries Ltd</b></p>\r\n                    <p>\r\n                        <br> PO Box: 133-20105\r\n                        <br> Phone: +254 722 206981, 0733606052\r\n                        <br> Email: customercare@impala.co.ke\r\n                        <br> PIN NO: P000595387M\r\n                        <br> Website: www.impalaglass.com\r\n                    </p>\r\n                </div>\r\n            </div>\r\n            <div class=\"top-right\">\r\n                <h2>Warning Letter</h2>\r\n                <div class=\"info\">\r\n                    No: <span>{{ \"{:02d}\".format(frappe.db.count('Warning Letter', {'employee': doc.employee})) }}/{{ frappe.utils.now_datetime().year }}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"warning-section\">\r\n            <div class=\"warning-details\">\r\n                <p><strong>Date:</strong> {{ doc.warning_date }}</p>\r\n                <p><strong>Payroll:</strong> {{ doc.employee }}</p>\r\n                <p><strong>Employee:</strong> {{ frappe.db.get_value('Employee', doc.employee, 'employee_name') }}</p>\r\n                <p><strong>Designation:</strong> {{ frappe.db.get_value('Employee', doc.employee, 'designation') }}</p>\r\n                <p><strong>Department:</strong> {{ doc.department }}</p><br>\r\n                <p><strong>A written warning has been issued to you on the above date. The reason for the warning is:</strong></p>\r\n                <p class=\"red-text\">{{ doc.warning_type }}</p>\r\n            </div>\r\n            <div class=\"occurrence-details\">\r\n                <h2>DETAILS OF OCCURRENCE</h2>\r\n                <p class=\"red-text\">{{ doc.warning_reasons }}</p>\r\n            </div>\r\n            <div class=\"action-details\">\r\n                <h2>CORRECTIVE ACTION TO BE TAKEN</h2>\r\n                <p class=\"red-text\">{{ doc.recommendation_ or '' }}</p>\r\n            </div>\r\n            <div class=\"dismissal-details\">\r\n                <h2>SUMMARY DISMISSAL</h2>\r\n                <p>This is to be written by employer (if Applicable)</p> <br>\r\n            </div>\r\n            <div class=\"signature-section\">\r\n                <p>By signing this notice, I am acknowledging that I have been counseled about my inappropriate conduct and informed of consequences if improvements are not made.</p>\r\n                \r\n            </div>\r\n            <br>\r\n                    <div class=\"authorized-by\">\r\n                        Authorized by :{{ frappe.db.get_value('Employee', doc.authorized_by, 'employee_name') }}\r\n                    </div>\r\n                    <div class=\"footer\">This is computer generated warning letter no signature required</div>\r\n        </div>\r\n    </div>\r\n</body>\r\n</html>\r\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:59.535138",
  "module": "AQIQ Print Formats",
  "name": "Auto Email Warning Letter",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "body {\r\n    font-family: Arial, sans-serif;\r\n}\r\n\r\n.red-text {\r\n    color: black;\r\n}\r\n\r\n.letter-container {\r\n    max-width: 800px;\r\n    margin: 20px auto;\r\n    padding: 20px;\r\n    border: 1px solid #ccc;\r\n    font-size:14px;\r\n}\r\n\r\n.header {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: flex-start; /* Align items at the top */\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.top-left {\r\n    display: flex;\r\n    align-items: flex-start; /* Align items at the top */\r\n}\r\n\r\n.logo {\r\n    width: 100px;\r\n    margin-right: 10px;\r\n}\r\n\r\n.company-info {\r\n    font-size: 14px;\r\n}\r\n\r\n.top-right {\r\n    text-align: right;\r\n}\r\n\r\n.info {\r\n    text-align: left;\r\n}\r\n\r\n.warning-section {\r\n    margin-top: 20px;\r\n}\r\n\r\n.warning-details {\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.occurrence-details,\r\n.action-details,\r\n.improvement-details,\r\n.dismissal-details {\r\n    margin-bottom: 15px;\r\n}\r\n\r\n.long-lines {\r\n    height: 1px;\r\n    background-color: #000;\r\n    margin-bottom: 15px;\r\n    margin-top:30px;\r\n}\r\n\r\n.occurrence-details h2,\r\n.action-details h2,\r\n.improvement-details h2,\r\n.dismissal-details h2 {\r\n    font-size: 1.0em;\r\n    margin-bottom: 10px;\r\n}\r\n\r\n.signature-section {\r\n    margin-top: 20px;\r\n}\r\n\r\n.signatures {\r\n    display: flex;\r\n    justify-content: space-between;\r\n}\r\n\r\n.employee-signature,\r\n.hr-manager {\r\n    width: 45%;\r\n    border-top: 1px solid #000;\r\n    padding-top: 5px;\r\n    margin-top: 50px;\r\n}\r\n\r\n.authorized-by {\r\n    margin-top: 10px; /* Add margin top */\r\n}\r\n",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Warning Letter",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <link rel=\"stylesheet\" href=\"styles.css\">\r\n    <title>Warning Letter</title>\r\n</head>\r\n<body>\r\n    <div class=\"letter-container\">\r\n                <div class=\"text-center\">786</div>\r\n        <div class=\"header\">\r\n            <div class=\"top-left\">\r\n                <div class=\"logo\">\r\n                    <img src=\"https://impala.aqiq.net/files/Impala.png\" alt=\"Company Logo\">\r\n                </div>\r\n                <div class=\"company-info\">\r\n                    <p><b>Impala Glass Industries Ltd</b></p>\r\n                    <p>\r\n                        <br> PO Box: 133-20105\r\n                        <br> Phone: +254 722 206981, 0733606052\r\n                        <br> Email: customercare@impala.co.ke\r\n                        <br> PIN NO: P000595387M\r\n                        <br> Website: www.impalaglass.com\r\n                    </p>\r\n                </div>\r\n            </div>\r\n            <div class=\"top-right\">\r\n                <h2>Warning Letter</h2>\r\n                <div class=\"info\">\r\n                    No: <span>{{ \"{:02d}\".format(frappe.db.count('Warning Letter', {'employee': doc.employee})) }}/{{ frappe.utils.now_datetime().year }}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"warning-section\">\r\n            <div class=\"warning-details\">\r\n                <p><strong>Date:</strong> {{ doc.warning_date }}</p>\r\n                <p><strong>Payroll:</strong> {{ doc.employee }}</p>\r\n                <p><strong>Employee:</strong> {{ frappe.db.get_value('Employee', doc.employee, 'employee_name') }}</p>\r\n                <p><strong>Designation:</strong> {{ frappe.db.get_value('Employee', doc.employee, 'designation') }}</p>\r\n                <p><strong>Department:</strong> {{ doc.department }}</p><br>\r\n                <p><strong>A written warning has been issued to you on the above date. The reason for the warning is:</strong></p>\r\n                <p class=\"red-text\">{{ doc.warning_type }}</p>\r\n            </div>\r\n            <div class=\"occurrence-details\">\r\n                <h2>DETAILS OF OCCURRENCE</h2>\r\n                <p class=\"red-text\">{{ doc.warning_reasons }}</p>\r\n            </div>\r\n            <div class=\"action-details\">\r\n                <h2>CORRECTIVE ACTION TO BE TAKEN</h2>\r\n                <p class=\"red-text\">{{ doc.recommendation_ or '' }}</p>\r\n            </div>\r\n            <div class=\"improvement-details\">\r\n                <h2>EXPECTED IMPROVEMENT</h2><p>(Include a clear statement of the consequences of failure to improve.)</p>\r\n                <br>\r\n                <div class=\"long-lines\"></div>\r\n                <div class=\"long-lines\"></div>\r\n                <div class=\"long-lines\"></div>\r\n            </div>\r\n            <div class=\"dismissal-details\">\r\n                <h2>SUMMARY DISMISSAL</h2>\r\n                <p>This is to be written by is (if Applicable)</p> <br>\r\n            </div>\r\n            <div class=\"signature-section\">\r\n                <p>By signing this notice, I am acknowledging that I have been counseled about my inappropriate conduct and informed of consequences if improvements are not made.</p>\r\n                <div class=\"signatures\">\r\n                    <!--<div class=\"employee-signature\">-->\r\n                    <!--    EMPLOYEE SIGNATURE-->\r\n                    <!--</div>-->\r\n                    \r\n                    <div class=\"hr-manager\">\r\n                        HR MANAGER\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <br>\r\n                    <div class=\"authorized-by\">\r\n                        Authorized by : {{ doc.authorized_by }}\r\n                    </div>\r\n        </div>\r\n    </div>\r\n</body>\r\n</html>\r\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:59.456926",
  "module": "AQIQ Print Formats",
  "name": "Warning Letter",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "@media print {\r\n\t.mytab {\r\n        font-size: 9px !important;\r\n\t}\r\n}\r\n\r\n.perfo-chart {\r\n    position: relative;\r\n    width: 100%;\r\n}\r\n\r\n.barchart-Wrapper {\r\n      display: table;\r\n      position: relative;\r\n      margin: 20px 0;\r\n      height: 180px;\r\n    }\r\n    .barChart-Container {\r\n      display: table-cell;\r\n      width: 100%;\r\n      height: 100%;\r\n      padding-left: 20px;\r\n      padding-right: 20px;\r\n    }\r\n    .barchart {\r\n     display: table;\r\n     table-layout: fixed;\r\n     height: 100%;\r\n     width: 100%;\r\n     border-bottom: 3px solid darkgrey;\r\n    }\r\n    .barchart-Col {\r\n      position: relative;\r\n      vertical-align: bottom;\r\n      display: table-cell;\r\n      height: 100%;\r\n      left:35px;\r\n    }\r\n    .barchart-Col + .barchart-Col {\r\n      border-left: 4px solid transparent;\r\n      border: 0.5px solid lightgrey;\r\n    }\r\n    .barchart-Bar {\r\n      position: static;\r\n      height: 0;\r\n      transition: height 0.5s 2s;\r\n      width: 10px;\r\n      margin: auto;\r\n    }\r\n    .barchart-Bar:after {\r\n      content: attr(attr-height);\r\n      color: white;\r\n      position: absolute;\r\n      text-align: center;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter {\r\n      position: absolute;\r\n      text-align: center;\r\n      height: 10%;\r\n    }\r\n    .barchart-BarFooter h3 {\r\n        font-size: 13px;\r\n      color: #2F4F4F;\r\n      padding-top: 4px;\r\n      margin-top: 4px;\r\n    }\r\n    .barchart-TimeCol {\r\n      position: absolute;\r\n      top: 0;\r\n      height: 100%;\r\n      width: 100%;\r\n    }\r\n    .barchart-Time {\r\n      height: 25%;\r\n      vertical-align: middle;\r\n      position: relative;\r\n      \r\n    }\r\n    .barchart-Time:after {\r\n      border-bottom: 3px solid white;\r\n      content: \"\";\r\n      position: absolute;\r\n      width: 100%;\r\n      left: 0;\r\n      top: 0em;\r\n    }\r\n    .barchart-TimeText {\r\n      position: absolute;\r\n      top: -16px;\r\n      z-index: 1;\r\n      background: white;\r\n      padding-right: 3px;\r\n      color: #4d4d4d;\r\n      font-size: 13px;\r\n      font-family: 'Avenir Medium';\r\n      background-color:transparent;\r\n    }\r\n    .sales-jan {\r\n      background-color: #2F4F4F;\r\n      display: inline-block;\r\n    }\r\n    .return-jan {\r\n      background-color: #FF6347;\r\n      display: inline-block;\r\n    }\r\n    .pay-jan {\r\n      background-color: #9932CC;\r\n      display: inline-block;\r\n    }\r\n    .sales-feb {\r\n      background-color: #2F4F4F;\r\n      display: inline-block;\r\n    }\r\n    .return-feb {\r\n      background-color: #FF6347;\r\n      display: inline-block;\r\n    }\r\n    .pay-feb {\r\n      background-color: #9932CC;\r\n      display: inline-block;\r\n    }\r\n    .sales-march {\r\n      background-color: #2F4F4F;\r\n      display: inline-block;\r\n    }\r\n    .return-march {\r\n      background-color: #FF6347;\r\n      display: inline-block;\r\n    }\r\n    .pay-march {\r\n      background-color: #9932CC;\r\n      display: inline-block;\r\n    }\r\n    .sales-april {\r\n      background-color: #2F4F4F;\r\n      display: inline-block;\r\n    }\r\n    .return-april {\r\n      background-color: #FF6347;\r\n      display: inline-block;\r\n    }\r\n    .pay-april {\r\n      background-color: #9932CC;\r\n      display: inline-block;\r\n    }\r\n    .sales-may {\r\n      background-color: #2F4F4F;\r\n      display: inline-block;\r\n    }\r\n    .return-may {\r\n      background-color: #FF6347;\r\n      display: inline-block;\r\n    }\r\n    .pay-may {\r\n      background-color: #9932CC;\r\n      display: inline-block;\r\n    }\r\n    .sales-june {\r\n      background-color: #2F4F4F;\r\n      display: inline-block;\r\n    }\r\n    .return-kune {\r\n      background-color: #FF6347;\r\n      display: inline-block;\r\n    }\r\n    .pay-june {\r\n      background-color: #9932CC;\r\n      display: inline-block;\r\n    }\r\n    .sales-july {\r\n      background-color: #2F4F4F;\r\n      display: inline-block;\r\n    }\r\n    .return-july {\r\n      background-color: #FF6347;\r\n      display: inline-block;\r\n    }\r\n    .pay-july {\r\n      background-color: #9932CC;\r\n      display: inline-block;\r\n    }\r\n    .sales-aug {\r\n      background-color: #2F4F4F;\r\n      display: inline-block;\r\n    }\r\n    .return-aug {\r\n      background-color: #FF6347;\r\n      display: inline-block;\r\n    }\r\n    .pay-aug {\r\n      background-color: #9932CC;\r\n      display: inline-block;\r\n    }\r\n    .sales-sept {\r\n      background-color: #2F4F4F;\r\n      display: inline-block;\r\n    }\r\n    .return-sept {\r\n      background-color: #FF6347;\r\n      display: inline-block;\r\n    }\r\n    .pay-sept {\r\n      background-color: #9932CC;\r\n      display: inline-block;\r\n    }\r\n    .sales-oct {\r\n      background-color: #2F4F4F;\r\n      display: inline-block;\r\n    }\r\n    .return-oct {\r\n      background-color: #FF6347;\r\n      display: inline-block;\r\n    }\r\n    .pay-oct {\r\n      background-color: #9932CC;\r\n      display: inline-block;\r\n    }\r\n    .sales-nov {\r\n      background-color: #2F4F4F;\r\n      display: inline-block;\r\n    }\r\n    .return-nov {\r\n      background-color: #FF6347;\r\n      display: inline-block;\r\n    }\r\n    .pay-nov {\r\n      background-color: #9932CC;\r\n      display: inline-block;\r\n    }\r\n    .sales-dec {\r\n      background-color: #2F4F4F;\r\n      display: inline-block;\r\n    }\r\n    .return-dec {\r\n      background-color: #FF6347;\r\n      display: inline-block;\r\n    }\r\n    .pay-dec {\r\n      background-color: #9932CC;\r\n      display: inline-block;\r\n    }",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Customer Scheduler Report",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "\n    <meta name=\"pdfkit-orientation\" content=\"Portrait\"/>\n    {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website',]) %}\n    {% if doc.company %}\n    {% set company_logo = company_details[0].company_logo %}\n    {% set company_address_line1 = '' %}\n    {% set company_city = '' %}\n    {% set company_country = '' %}\n    {% set company_state = '' %}\n    {% set phone = company_details[0].phone_no %}\n    {% set website = company_details[0].website %}\n    {% set email = company_details[0].email %}\n    {% set tax_id = company_details[0].tax_id %}\n\n    {% endif%}\n\n    {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" , \"link_name\":\n    doc.company }, \"parent\") %}\n\n    {% if company_address_name %}\n    {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" ,\n    \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\n    {% set company_address_line1 = address.address_line1 %}\n    {% set company_city = address.city %}\n    {% set company_country = address.country %}\n    {% set company_state = address.state %}\n    {% set phone = address.phone %}\n    {% endif %}\n\n<div class=\"out-div\" style=\"width: 99%; padding-top: 10px; margin-top: 10px !important;\">\n<table class=\"mytab\" style=\"width: 100%;margin-top: 10px !important;\" border=\"1\">\n    <tr>\n        <td colspan='1' style=\"width:37%;\">\n            <div style=\"width:37%;\">\n                <img src=\"{{ company_logo }}\" height = \"80px\" width=\"100%\">\n            </div>\n            \n        </td>\n        <td colspan='1' style=\"width:63%;\">\n            <p><b>{{doc.company}} </b> </p>\n            <p> {% if company_address_line1 %}{{company_address_line1}} {%\n                endif %}\n            </p>\n            <p class=\"\" style=\"font-size:10px\"> {% if company_city %} {{ company_city }} {% endif %} {% if\n                company_state\n                %} {{ company_state }} {% endif %} {% if company_country %} {{ company_country }} {% endif %}\n            </p>\n            <p class=\"\" style=\"font-size:10px\"> P#: {{ phone or \"\" }} </p>\n            <p class=\"\" style=\"font-size:10px\"> Email: {{email or \"\" }} </p>\n            <p class=\"\" style=\"font-size:10px\"> PIN NO: {{tax_id or \"\" }} </p>\n            <p class=\"\" style=\"font-size:10px\"> Website: {{website or \"\" }}</p>\n\n        </td>\n    </tr>\n\n    <tr>\n        <th colspan='2' style=\"width: 100%;\" class=\"bg-light fw-bold\">\n            <p class=\"text-center bg-light fw-bold\"> {{doc.party_type}} Statement</p>\n        </th>\n    </tr>\n\n    <tr>\n        <td style=\"width: 50%; border-right:none;\">\n            <p>\n                {{doc.party_type}}: {{ doc.customer_name }}\n            </p>\n            <p style='text-indent: 53px;'>\n               {{doc.customer}}\n            </p>\n            <p style=''>\n                Email: {{doc.email}}\n            </p>\n            <p style=''>\n                PIN#: {{doc.pin}}\n            </p>\n            <p>\n                {% if doc.customer_address %}\n                Address:\n                {{ doc.customer_address or \"\" }}\n                {% endif %}\n            </p>\n        </td>\n        <td class=\"width: 50%; text-left; text-indent: 110px;\" style=\"border-left:none;\">\n            {% set date = doc.get_formatted('creation').split(' ')[0] %}\n            <p class=\"text-right\"> Currency: {{ frappe.db.get_value(\"Customer\" , {\"name\" : doc.customer} ,\n                \"default_currency\") or frappe.db.get_value(\"Company\", doc.company, \"default_currency\")}}</p> \n            <p class=\"text-right\" style=\"font-weight:bold\"> Amount Due: {{ doc.get_formatted(\"amount_due\") }} </p>\n            <p class=\"text-right\"> Printed On: {{date}}</p>\n            <p class=\"text-right\">\n                Report Date Range: {{frappe.format(doc.start_date, {'fieldtype':'Date'}) }} - {{frappe.format(doc.end_date, {'fieldtype': 'Date'})}} \n            </p>\n        </td>\n\n    </tr>\n</table>\n<table class=\"mytab table table-sm small\" width=\"100%\" style=\"padding: 0px !important; margin:0px !important\" cellpadding=\"0\" cellspacing=\"0\">\n        <thead style=\"width: 100%;\">\n            <tr>\n                <td colspan='4' styel='width: 50%'>{{doc.party_type}} Code: {{doc.customer}}</td>\n                <td colspan='5' styel='width: 50%; text-indent: 50px;' class=\"text-right\">{{doc.party_type}} Name: {{doc.customer_name}}</td>\n            </tr>\n            <tr style=\"width: 100%;\">\n                <th style=\"width: 12%;\"> Date </th>\n                <th style=\"width: 12%;\"> No </th>\n                <th style=\"width: 12%;\"> Description </th>\n                <th style=\"width 16%;\"> Allocation </th>\n                <th style=\"width: 8%;\"> Ref No </th>\n                <th style=\"width: 10%;\"> Cheque / Reference No </th>\n                <th style=\"width: 10%;\" class=\"text-right\"> Debit </th>\n                <th style=\"width: 10%;\" class=\"text-right\"> Credit </th>\n                <th style=\"width: 10%;\" class=\"text-right\"> Balance </th>\n            </tr>\n        </thead>\n\n    {% if doc.details %}\n    \n    {% if doc.details[0].get(\"voucher_no\") or doc.details[0].get(\"description\") %}\n    <tr style=\"width: 100%;\">\n        <td colspan='1' class=\"\"> {{doc.details[0].get_formatted('date')}} </td>\n        <td colspan='2'> {{ doc.details[0].description }} </td>\n        <td colspan='1' class=\"\"> {{ doc.details[0].allocation or \"\" }} </td>\n        <td colspan='1' class=\"\"> {{ doc.details[0].ref_no or \"\" }} </td>\n        <td colspan='1' class=''>{{doc.details[0].cheque_no or \"\"}}</td>\n        <td colspan='1' class=\"text-right\">  </td>\n        <td colspan='1' class=\"text-right\">  </td>\n        <td colspan='1' class=\"text-right\"> {{ '{0:,.2f}'.format( doc.details[0].balance ) }} </td>\n    </tr>\n    {% endif %}\n\n    \n    {% for i in doc.details[1:] %}\n    {% if i.get(\"voucher_no\") or i.get(\"description\") %}\n    <tr style=\"width: 100%;\">\n        <td  class=\"\"> {{i.get_formatted('date')}} </td>\n        <td class=\"\"> {{ i.voucher_no or \"\"}} </td>\n        <td class=\"\"> {{ i.description }} </td>\n        <td class=\"\"> {{ i.allocation or \"\" }} </td>\n        <td class=\"\"> {{ i.ref_no or \"\" }} </td>\n        <td class=''>{{i.cheque_no or \"\"}}</td>\n        <td class=\"text-right\"> {{ '{0:,.2f}'.format( i.debit ) }} </td>\n        <td class=\"text-right\"> {{ '{0:,.2f}'.format( i.credit ) }} </td>\n        <td class=\"text-right\"> {{ '{0:,.2f}'.format( i.balance ) }} </td>\n    </tr>\n    {% endif %}\n\n    {% endfor %}\n    {% endif %}\n\n</table>\n\n<table style=\"width:100%\">\n    <tr style=\"width:100% !important; padding:0px;\">\n        <td class=\"text-center\" style=\"width: 60% !important; border:none; padding:0px;\">\n            <table width=\"100%\">\n                <tr colspan='5' style=\"width:100%\">\n                    <th colspan='5' style=\"width:100%\" class=\"text-center\"> Ageing Summary</th>\n                </tr>\n\n                <tr style=\"width:100%\">\n                    <td style=\"width:20%\"> 30 </td>\n                    <td style=\"width:20%\"> 60 </td>\n                    <td style=\"width:20%\"> 90 </td>\n                    <td style=\"width:20%\"> 120 </td>\n                    <td style=\"width:20%\"> Above </td>\n                </tr>\n\n\n                <tr style=\"width: 100%\">\n                    <td style=\"width:20%\"> {{ '{0:,.2f}'.format(doc.age_30|flt) }}</td>\n                    <td style=\"width:20%\"> {{ '{0:,.2f}'.format(doc.age_60|flt) }}</td>\n                    <td style=\"width:20%\"> {{ '{0:,.2f}'.format(doc.age_90|flt) }}</td>\n                    <td style=\"width:20%\"> {{ '{0:,.2f}'.format(doc.age_120|flt) }}</td>\n                    <td style=\"width:20%\"> {{ '{0:,.2f}'.format(doc.aage_above|flt) }}</td>\n                </tr>\n\n            </table>\n        </td>\n        <td style=\" width:40%; border:none; padding:0px;\">\n            <table style=\" width: 100%; \">\n                <tr style=\" width: 100%; \">\n                    <th style=\" width: 50%;\"> Opening Balance </th>\n                    <td style=\" width: 50%;\" class=\"text-right\">\n                        {{ '{0:,.2f}'.format( doc.details[0].balance ) }}\n                    </td>\n                </tr>\n                \n                <tr style=\" width: 100%; \">\n                    <th style=\" width: 50%;\"> Debit </th>\n                    <td style=\" width: 50%;\" class=\"text-right\">\n\n                        {{ '{0:,.2f}'.format(doc.total_sales|flt) }}\n                    </td>\n                </tr>\n                <!--<tr style=\" width: 100%;\">-->\n                <!--    <th style=\" width: 50%;\"> Sales Return </th>-->\n                <!--    <td style=\" width: 50%;\" class=\"text-right\">-->\n                <!--        {{ '{0:,.2f}'.format(doc.total_sales_return|flt) }}-->\n\n                <!--    </td>-->\n                <!--</tr>-->\n                <tr style=\" width: 100%;\">\n                    <th style=\" width: 50%;\"> Credit </th>\n                    <td style=\" width: 50%;\" class=\"text-right\">\n                        {{ '{0:,.2f}'.format(doc.total_payment|flt) }}\n                    </td>\n                </tr>\n                <tr style=\" width: 100%;\">\n                    <th style=\" width: 50%;\"> Balance </th>\n                    <td style=\" width: 50%;\" class=\"text-right\">\n                        {{ '{0:,.2f}'.format(doc.amount_due|flt) }}\n                    </td>\n                </tr>\n            </table>\n\n        </td>\n    </tr>\n</table>\n\n<table class=\"mytab table table-sm small\" width=\"100%\" style=\"padding: 0px !important; margin:0px !important; page-break-before: always !important;\" cellpadding=\"0\" cellspacing=\"0\">\n<tr style=\"width:100% !important; padding:0px;\">\n        <td colspan='1' class=\"text-center\" style=\"width: 50% !important; border:none; padding:0px;\">\n            <table width=\"100%\">\n                <tr>\n                    <td colspan='2' styel='width: 50% text-align: left;' class=\"text-left\">{{doc.party_type}} Code: {{doc.customer}}</td>\n                    <td colspan='3' styel='width: 50%; text-indent: 50px;' class=\"text-right\">{{doc.party_type}} Name: {{doc.customer_name}}</td>\n                </tr>\n                <tr colspan='5' style=\"width:100%\">\n                    <th colspan='5' style=\"width:100%\" class=\"text-center\"> PD Cheques Summary</th>\n                </tr>\n\n                <tr style=\"width:100%\">\n                    <td style=\"width:20%; text-align: left;\"> Posting Date </td>\n                    <td style=\"width:20%\"> Voucher No </td>\n                    <td style=\"width:20%\"> Cheque Date </td>\n                    <td style=\"width:20%; text-align: right;\"> Cheque No </td>\n                    <td style=\"width:20%; text-align: right\"> Cheque Amount </td>\n                </tr>\n\n                {% for pdc in doc.pdc_details %}\n                {% if pdc.get(\"cheque_no\") %}\n                <tr style=\"width: 100%\">\n                    <td style=\"width:20%; text-align: left;\"> {{ pdc.posting_date}}</td>\n                    <td style=\"width:20%\"> {{ pdc.cheque_no }}</td>\n                    <td style=\"width:20%\"> {{ pdc.reference_date }}</td>\n                    <td style=\"width:20%; text-align: right;\"> {{ pdc.reference_no }}</td>\n                    <td style=\"width:20%; text-align: right;\"> {{ \"{:,.2f}\".format(pdc.paid_amount|flt) }}</td>\n                </tr>\n                {% endif%}\n                {% endfor %}\n                \n                <tr style=\"width: 100%\">\n                    <td colspan='4' style=\"width: 20%\" class=\"text-right\"> Total PDC Amount: </td>\n                    <td style=\"width:20%; text-align: right\"> {{ doc.pdc_total_amount or 0.0 }}</td>\n                </tr>\n                \n                <tr style=\"width: 100%\">\n                    <td colspan='4' style=\"width: 20%\" class=\"text-right\"> Total Net Amount: </td>\n                    <td style=\"width:20%; text-align: right\"> {{ '{0:,.2f}'.format(doc.amount_due|flt - doc.pdc_total_amount|flt) }}</td>\n                </tr>\n\n            </table>\n        </td>\n    </tr>\n    </table>\n</div>\n<div id=\"footer-html\" class=\"visible-pdf\">\n\t{% if not no_letterhead and footer %}\n\t<div class=\"letter-head-footer\">\n\t\t{{ footer }}\n\t</div>\n\t{% endif %}\n\t<p class=\"text-center small page-number visible-pdf\">\n\t\t{{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\n\t</p>\n</div>\n\n<!--text for Graph-->\n<!--{% set sales_values = doc.month_sales_values.split(',')%}-->\n<!--{% set svjan = (sales_values[0]|replace(\"[\", \"\")|flt)/1000000 %}-->\n<!--{% set svfeb = (sales_values[1]|flt)/1000000 %}-->\n<!--{% set svmar = (sales_values[2]|flt)/1000000 %}-->\n<!--{% set svapr = (sales_values[3]|flt)/1000000 %}-->\n<!--{% set svmay = (sales_values[4]|flt)/1000000 %}-->\n<!--{% set svjun = (sales_values[5]|flt)/1000000 %}-->\n<!--{% set svjul = (sales_values[6]|flt)/1000000 %}-->\n<!--{% set svaug = (sales_values[7]|flt)/1000000 %}-->\n<!--{% set svsep = (sales_values[8]|flt)/1000000 %}-->\n<!--{% set svoct = (sales_values[9]|flt)/1000000 %}-->\n<!--{% set svnov = (sales_values[10]|flt)/1000000 %}-->\n<!--{% set svdec = (sales_values[11]|replace(\"]\", \"\")|flt)/1000000 %}-->\n\n<!--{% set cleaned_sales_vals = [svjan, svfeb, svmar, svapr, svmay, svjun, svjul, svaug,svsep, svoct, svnov,svdec] %}-->\n<!--{% set max_sales = cleaned_sales_vals | max %}-->\n<!--<br>-->\n<!--{% set rtn_values = doc.month_sales_return_values.split(',')%}-->\n<!--{% set rtjan = (rtn_values[0]|replace(\"[\", \"\")|flt)/1000000 %}-->\n<!--{% set rtfeb = (rtn_values[1]|flt)/1000000 %}-->\n<!--{% set rtmar = (rtn_values[2]|flt)/1000000 %}-->\n<!--{% set rtapr = (rtn_values[3]|flt)/1000000 %}-->\n<!--{% set rtmay = (rtn_values[4]|flt)/1000000 %}-->\n<!--{% set rtjun = (rtn_values[5]|flt)/1000000 %}-->\n<!--{% set rtjul = (rtn_values[6]|flt)/1000000 %}-->\n<!--{% set rtaug = (rtn_values[7]|flt)/1000000 %}-->\n<!--{% set rtsep = (rtn_values[8]|flt)/1000000 %}-->\n<!--{% set rtoct = (rtn_values[9]|flt)/1000000 %}-->\n<!--{% set rtnov = (rtn_values[10]|flt)/1000000 %}-->\n<!--{% set rtdec = (rtn_values[11]|replace(\"]\", \"\")|flt)/1000000 %}-->\n\n<!--{% set cleaned_rtn_vals = [rtjan, rtfeb, rtmar, rtapr, rtmay, rtjun, rtjul, rtaug, rtsep, rtoct, rtnov,rtdec]%}-->\n<!--{% set max_return = cleaned_rtn_vals | max %}-->\n\n<!--<br>-->\n<!--{% set payment_values = doc.month_payment_values.split(',')%}-->\n<!--{% set pjan = (payment_values[0]|replace(\"[\", \"\")|flt)/1000000 %}-->\n<!--{% set pfeb = (payment_values[1]|flt)/1000000 %}-->\n<!--{% set pmar = (payment_values[2]|flt)/1000000 %}-->\n<!--{% set papr = (payment_values[3]|flt)/1000000 %}-->\n<!--{% set pmay = (payment_values[4]|flt)/1000000 %}-->\n<!--{% set pjun = (payment_values[5]|flt)/1000000 %}-->\n<!--{% set pjul = (payment_values[6]|flt)/1000000 %}-->\n<!--{% set paug = (payment_values[7]|flt)/1000000 %}-->\n<!--{% set psep = (payment_values[8]|flt)/1000000 %}-->\n<!--{% set poct = (payment_values[9]|flt)/1000000 %}-->\n<!--{% set pnov = (payment_values[10]|flt)/1000000 %}-->\n<!--{% set pdec = (payment_values[11]|replace(\"]\", \"\")|flt)/1000000 %}-->\n\n<!--{% set pay_vals = [pjan, pfeb, pmar, papr, pmay, pjun, pjul, paug, psep, poct, pnov,pdec]%}-->\n\n<!--{% set max_pay = pay_vals | max %}-->\n<!--{%  set max_vals = [max_sales, max_return, max_pay ] %}-->\n<!--{% set top_max = max_vals | max %}-->\n<!--{% if top_max == 0%} {% set top_max=1 %}{% endif %}-->\n\n<!--<div class=\"perfo-chart\" style=\"width: 100%\">-->\n<!--    <div class=\"barchart-Wrapper\">-->\n<!--        <div class=\"barchart-TimeCol\" style=\"border:none\">-->\n<!--            <div class=\"barchart-Time\" style=\"border-bottom: 0.5px solid lightgrey; border-top: 0.5px solid lightgrey;\">-->\n            \n<!--                <span class=\"barchart-TimeText\">{{ '{0:,.2f}'.format(top_max) }} M</span>-->\n<!--            </div>-->\n<!--            <div class=\"barchart-Time\" style=\"border-bottom: 0.5px solid lightgrey;\">-->\n<!--                <span class=\"barchart-TimeText\">{{'{0:,.2f}'.format(top_max*0.75) }} M</span>-->\n<!--            </div>-->\n<!--            <div class=\"barchart-Time\" style=\"border-bottom: 0.5px solid lightgrey;\">-->\n<!--                <span class=\"barchart-TimeText\">{{ '{0:,.2f}'.format(top_max*0.50) }} M</span>-->\n<!--            </div>-->\n<!--            <div class=\"barchart-Time\" style=\"border-bottom: 0.5px solid lightgrey;\">-->\n<!--                <span class=\"barchart-TimeText\">{{ '{0:,.2f}'.format(top_max*0.25) }} M</span>-->\n<!--            </div>-->\n<!--            <div class=\"barchart-Time\">-->\n<!--                <span class=\"barchart-TimeText\">0.0 M</span>-->\n<!--            </div>-->\n<!--        </div>-->\n        \n         <!--barchart-TimeCol div closed here-->\n<!--        <div class=\"barChart-Container\">-->\n<!--            <div class=\"barchart\">-->\n                \n<!--                <div class=\"barchart-Col\">-->\n<!--                    <div class=\"barchart-Bar sales-jan\" style=\"height:{{(svjan/top_max)*100}}%;\"></div>-->\n<!--                    <div class=\"barchart-Bar return-jan\" style=\"height:{{(rtjan/top_max)*100}}%;\"></div>-->\n<!--                     <div class=\"barchart-Bar pay-jan\" style=\"height:{{(pjan/top_max)*100}}%;\"></div>-->\n<!--                    <div class=\"barchart-BarFooter\">-->\n<!--                        <h3>Jan</h3>-->\n<!--                    </div>-->\n<!--                </div>-->\n<!--                <div class=\"barchart-Col\">-->\n<!--                    <div class=\"barchart-Bar sales-feb\" style=\"height:{{(svfeb/top_max)*100}}%;\"></div>-->\n<!--                    <div class=\"barchart-Bar return-feb\" style=\"height:{{(rtfeb/top_max)*100}}%;\"></div>-->\n<!--                     <div class=\"barchart-Bar pay-feb\" style=\"height:{{(pfeb/top_max)*100}}%;\"></div>-->\n<!--                    <div class=\"barchart-BarFooter\">-->\n<!--                        <h3>Feb</h3>-->\n<!--                    </div>-->\n<!--                </div>-->\n<!--                <div class=\"barchart-Col\">-->\n<!--                    <div class=\"barchart-Bar sales-march\" style=\"height:{{(svmar/top_max)*100}}%;\"></div>-->\n<!--                    <div class=\"barchart-Bar return-march\" style=\"height:{{(rtmar/top_max)*100}}%;\"></div>-->\n<!--                     <div class=\"barchart-Bar pay-march\" style=\"height:{{(pmar/top_max)*100}}%;\"></div>-->\n<!--                    <div class=\"barchart-BarFooter\">-->\n<!--                        <h3>Mar</h3>-->\n<!--                    </div>-->\n<!--                </div>-->\n<!--                <div class=\"barchart-Col\">-->\n<!--                    <div class=\"barchart-Bar sales-april\" style=\"height:{{(svapr/top_max)*100}}%;\"></div>-->\n<!--                    <div class=\"barchart-Bar return-april\" style=\"height:{{(rtapr/top_max)*100}}%;\"></div>-->\n<!--                     <div class=\"barchart-Bar pay-april\" style=\"height:{{(papr/top_max)*100}}%;\"></div>-->\n<!--                    <div class=\"barchart-BarFooter\">-->\n<!--                        <h3>Apr</h3>-->\n<!--                    </div>-->\n<!--                </div>-->\n<!--                <div class=\"barchart-Col\">-->\n<!--                    <div class=\"barchart-Bar sales-may\" style=\"height:{{(svmay/top_max)*100}}%;\"></div>-->\n<!--                    <div class=\"barchart-Bar return-may\" style=\"height:{{(rtmay/top_max)*100}}%;\"></div>-->\n<!--                     <div class=\"barchart-Bar pay-may\" style=\"height:{{(pmay/top_max)*100}}%;\"></div>-->\n<!--                    <div class=\"barchart-BarFooter\">-->\n<!--                        <h3>May</h3>-->\n<!--                    </div>-->\n<!--                </div>-->\n\n<!--                <div class=\"barchart-Col\">-->\n<!--                    <div class=\"barchart-Bar sales-june\" style=\"height:{{(svjun/top_max)*100}}%;\"></div>-->\n<!--                    <div class=\"barchart-Bar return-june\" style=\"height:{{(rtjun/top_max)*100}}%;\"></div>-->\n<!--                     <div class=\"barchart-Bar pay-june\" style=\"height:{{(pjun/top_max)*100}}%;\"></div>-->\n<!--                    <div class=\"barchart-BarFooter\">-->\n<!--                        <h3>June</h3>-->\n<!--                    </div>-->\n<!--                </div>-->\n\n<!--                <div class=\"barchart-Col\">-->\n<!--                    <div class=\"barchart-Bar sales-july\" style=\"height:{{(svjul/top_max)*100}}%;\"></div>-->\n<!--                    <div class=\"barchart-Bar return-july\" style=\"height:{{(rtjul/top_max)*100}}%;\"></div>-->\n<!--                     <div class=\"barchart-Bar pay-july\" style=\"height:{{(pjul/top_max)*100}}%;\"></div>-->\n<!--                    <div class=\"barchart-BarFooter\">-->\n<!--                        <h3>July</h3>-->\n<!--                    </div>-->\n<!--                </div>-->\n\n<!--                <div class=\"barchart-Col\">-->\n<!--                    <div class=\"barchart-Bar sales-aug\" style=\"height:{{(svaug/top_max)*100}}%;\"></div>-->\n<!--                    <div class=\"barchart-Bar return-aug\" style=\"height:{{(rtaug/top_max)*100}}%;\"></div>-->\n<!--                     <div class=\"barchart-Bar pay-aug\" style=\"height:{{(paug/top_max)*100}}%;\"></div>-->\n<!--                    <div class=\"barchart-BarFooter\">-->\n<!--                        <h3>Aug</h3>-->\n<!--                    </div>-->\n<!--                </div>-->\n\n<!--                <div class=\"barchart-Col\">-->\n<!--                    <div class=\"barchart-Bar sales-sept\" style=\"height:{{(svsep/top_max)*100}}%;\"></div>-->\n<!--                    <div class=\"barchart-Bar return-sept\" style=\"height:{{(rtsep/top_max)*100}}%;\"></div>-->\n<!--                    <div class=\"barchart-Bar pay-sept\" style=\"height:{{(psep/top_max)*100}}%;\"></div>-->\n<!--                    <div class=\"barchart-BarFooter\">-->\n<!--                        <h3>Sept</h3>-->\n<!--                    </div>-->\n<!--                </div>-->\n\n<!--                <div class=\"barchart-Col\">-->\n<!--                    <div class=\"barchart-Bar sales-oct\" style=\"height:{{(svoct/top_max)*100}}%;\"></div>-->\n<!--                    <div class=\"barchart-Bar return-oct\" style=\"height:{{(rtoct/top_max)*100}}%;\"></div>-->\n<!--                     <div class=\"barchart-Bar pay-oct\" style=\"height:{{(poct/top_max)*100}}%;\"></div>-->\n<!--                    <div class=\"barchart-BarFooter\">-->\n<!--                        <h3>Oct</h3>-->\n<!--                    </div>-->\n<!--                </div>-->\n<!--                <div class=\"barchart-Col\">-->\n<!--                    <div class=\"barchart-Bar sales-nov\" style=\"height:{{(svnov/top_max)*100}}%;\"></div>-->\n<!--                    <div class=\"barchart-Bar return-nov\" style=\"height:{{(rtnov/top_max)*100}}%;\"></div>-->\n<!--                     <div class=\"barchart-Bar pay-nov\" style=\"height:{{(pnov/top_max)*100}}%;\"></div>-->\n<!--                    <div class=\"barchart-BarFooter\">-->\n<!--                        <h3>Nov</h3>-->\n<!--                    </div>-->\n<!--                </div>-->\n\n<!--                <div class=\"barchart-Col\">-->\n<!--                    <div class=\"barchart-Bar sales-dec\" style=\"height:{{(svdec/top_max)*100}}%;\"></div>-->\n<!--                    <div class=\"barchart-Bar return-dec\" style=\"height:{{(rtdec/top_max)*100}}%;\"></div>-->\n<!--                    <div class=\"barchart-Bar pay-dec\" style=\"height:{{(pdec/top_max)*100}}%;\"></div>-->\n<!--                    <div class=\"barchart-BarFooter\">-->\n<!--                        <h3>Dec</h3>-->\n<!--                    </div>-->\n<!--                </div>-->\n<!--            </div>-->\n            <!--barchart div closed here-->\n<!--        </div>-->\n        <!--barchart-Container div closed here-->\n\n<!--    </div>-->\n    <!--barchart-Wrapepr div closed here-->\n\n<!--    <div style=\"width: 40%;\">-->\n<!--        <table style=\"width: 100%\">-->\n<!--            <tr style=\"width: 100%\">-->\n<!--                <td style=\"width: 30%\">-->\n<!--                    <h4 style=\"margin-left: 30px\"><span-->\n<!--                            style=\"border-radius:6px;color:#2F4F4F; background-color: #2F4F4F;margin-right: 10px\">&#9724;</span>Sales-->\n<!--                    </h4>-->\n<!--                </td>-->\n<!--                <td style=\"width: 30%\">-->\n<!--                    <h4 style=\"margin-left: 30px\"><span-->\n<!--                            style=\"border-radius:6px; color:#FF6347; background-color:  #FF6347;margin-right: 10px\">&#9724;</span>Return-->\n<!--                    </h4>-->\n<!--                </td>-->\n<!--                <td style=\"width: 30%\">-->\n<!--                    <h4 style=\"margin-left: 30px\"><span-->\n<!--                            style=\"border-radius:6px; color:#9932CC; background-color:  #9932CC;margin-right: 10px\">&#9724;</span>Payment-->\n<!--                    </h4>-->\n<!--                </td>-->\n<!--            </tr>-->\n<!--        </table>-->\n<!--    </div>-->\n<!--</div>-->\n<!--perfo-chart div closed here-->",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:59.310097",
  "module": "AQIQ Print Formats",
  "name": "Customer Scheduler Report V-1",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "table {\r\n  font-family: arial, sans-serif;\r\n  border-collapse: collapse;\r\n  width: 100%;\r\n}\r\n\r\ntd, th {\r\n  border: 1px solid black;\r\n  text-align: left;\r\n  padding: 8px;\r\n}\r\n.td1{\r\n    width: 30%;\r\n}\r\n.td2{\r\n    width: 70%;\r\n}\r\n.inner_body table td{\r\n    font-weight:Bold; \r\n    font-size:18px;\r\n}",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Purchase Order Item",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "\r\n{%- for row in doc.items -%}\r\n\r\n<div class=\"inner_body\">\r\n<table>\r\n  <tr>\r\n    <td class=\"td1\">Project</td>\r\n    <td class=\"td2\">{{ frappe.db.get_value(\"Purchase Receipt\", doc.purchase_invoice, \"project\") }}</td>\r\n  </tr>\r\n  <tr>\r\n    <td class=\"td1\">Item Code</td>\r\n    <td class=\"td2\">{{ row.item_code }} </td>\r\n  </tr>\r\n  <tr>\r\n    <td class=\"td1\">Supplier</td>\r\n    <td class=\"td2\">{{ frappe.db.get_value(\"Supplier\", doc.supplier, \"supplier_name\") }}</td>\r\n  </tr>\r\n  <tr>\r\n    <td class=\"td1\">Ref #</td>\r\n    <td class=\"td2\">{{ frappe.db.get_value(\"Purchase Receipt\", doc.purchase_invoice, \"shipment_no\") }}</td>\r\n  </tr>\r\n  <tr>\r\n    <td class=\"td1\">Desc</td>\r\n    <td class=\"td2\">{{ row.description }}</td>\r\n  </tr>\r\n    <tr>\r\n    <td class=\"td1\">Size</td>\r\n    <td class=\"td2\">{{ frappe.db.get_value(\"Item\", row.item_code, \"width\") or 0 }} x {{ frappe.db.get_value(\"Item\", row.item_code, \"height\") or 0 }}</td>\r\n  </tr>\r\n    <tr>\r\n    <td class=\"td1\">Sheet</td>\r\n    <td class=\"td2\">{{ row.sheets_in_box }} </td>\r\n  </tr>\r\n    <tr>\r\n    <td class=\"td1\">Case No</td>\r\n    <td class=\"td2\">{{ row.case_no }}</td>\r\n  </tr>\r\n    <tr>\r\n    <td class=\"td1\">SQM</td>\r\n    <td class=\"td2\"> {{ '{0:,.3f}'.format(row.sheets_in_box *  (frappe.db.get_value(\"Item\", row.item_code, \"area_m2\") or 0)  ) }}</td>\r\n  </tr>  \r\n    <tr>\r\n    <td class=\"td1\">Condition</td>\r\n    <td class=\"td2\"></td>\r\n  </tr>\r\n    <tr>\r\n    <td class=\"td1\">Arrival Date</td>\r\n    <td class=\"td2\">{{ doc.get_formatted(\"posting_date\") }}</td>\r\n  </tr>\r\n    <tr>\r\n    <td class=\"td1\">Usage Date</td>\r\n    <td class=\"td2\"></td>\r\n  </tr>\r\n    <tr>\r\n    <td class=\"td1\">Stocked Check Date</td>\r\n    <td class=\"td2\"></td>\r\n  </tr>\r\n    <tr>\r\n    <td class=\"td1\">User</td>\r\n    <td class=\"td2\"> {{  frappe.session.user }}</td>\r\n  </tr>\r\n    <tr>\r\n    <td class=\"td1\" style=\"\">Creation</td>\r\n    <td class=\"td2\" style=\"\">{{ frappe.format( frappe.utils.now() , {'fieldtype': 'Datetime'}) }}</td>\r\n  </tr>\r\n  \r\n</table>\r\n</div>\r\n<br>\r\n<br>\r\n<br>\r\n<div  id = \"mmedia\" style = 'page-break-after :always' > </div>\r\n<br>\r\n<br>\r\n\r\n\r\n\t\t{%- endfor -%}\r\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:59.226064",
  "module": "AQIQ Print Formats",
  "name": "Purchase Stock Lable V1",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "table {\r\n  font-family: arial, sans-serif;\r\n  border-collapse: collapse;\r\n  width: 100%;\r\n}\r\n\r\ntd, th {\r\n  border: 1px solid black;\r\n  text-align: left;\r\n  padding: 8px;\r\n}\r\n.td1{\r\n    width: 30%;\r\n}\r\n.td2{\r\n    width: 70%;\r\n}",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Purchase Order Item",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "\r\n{%- for row in doc.items -%}\r\n\r\n<table>\r\n  <tr>\r\n    <td class=\"td1\">Project</td>\r\n    <td class=\"td2\">{{ frappe.db.get_value(\"Purchase Receipt\", doc.purchase_invoice, \"project\") }}</td>\r\n  </tr>\r\n  <tr>\r\n    <td class=\"td1\">Item Code</td>\r\n    <td class=\"td2\">{{ row.item_code }} </td>\r\n  </tr>\r\n  <tr>\r\n    <td class=\"td1\">Supplier</td>\r\n    <td class=\"td2\">{{ frappe.db.get_value(\"Supplier\", doc.supplier, \"supplier_name\") }}</td>\r\n  </tr>\r\n  <tr>\r\n    <td class=\"td1\">Ref #</td>\r\n    <td class=\"td2\">{{ frappe.db.get_value(\"Purchase Receipt\", doc.purchase_invoice, \"shipment_no\") }}</td>\r\n  </tr>\r\n  <tr>\r\n    <td class=\"td1\">Desc</td>\r\n    <td class=\"td2\">{{ row.description }}</td>\r\n  </tr>\r\n    <tr>\r\n    <td class=\"td1\">Size</td>\r\n    <td class=\"td2\">{{ frappe.db.get_value(\"Item\", row.item_code, \"width\") or 0 }} x {{ frappe.db.get_value(\"Item\", row.item_code, \"height\") or 0 }}</td>\r\n  </tr>\r\n    <tr>\r\n    <td class=\"td1\">Sheet</td>\r\n    <td class=\"td2\">{{ row.sheets_in_box }} </td>\r\n  </tr>\r\n    <tr>\r\n    <td class=\"td1\">Case No</td>\r\n    <td class=\"td2\">{{ row.case_no }}</td>\r\n  </tr>\r\n    <tr>\r\n    <td class=\"td1\">SQM</td>\r\n    <td class=\"td2\">{{row.qty}}</td>\r\n  </tr>\r\n    <tr>\r\n    <td class=\"td1\">Condition</td>\r\n    <td class=\"td2\"></td>\r\n  </tr>\r\n    <tr>\r\n    <td class=\"td1\">Arrival Date</td>\r\n    <td class=\"td2\">{{ doc.get_formatted(\"posting_date\") }}</td>\r\n  </tr>\r\n    <tr>\r\n    <td class=\"td1\">Usage Date</td>\r\n    <td class=\"td2\"></td>\r\n  </tr>\r\n    <tr>\r\n    <td class=\"td1\">Stocked Check Date</td>\r\n    <td class=\"td2\"></td>\r\n  </tr>\r\n    <tr>\r\n    <td class=\"td1\">User</td>\r\n    <td class=\"td2\"> {{  frappe.session.user }}</td>\r\n  </tr>\r\n    <tr>\r\n    <td class=\"td1\">Creation</td>\r\n    <td class=\"td2\">{{  frappe.utils.now()  }}</td>\r\n  </tr>\r\n  \r\n</table>\r\n<br>\r\n<br>\r\n<br>\r\n<div  id = \"mmedia\" style = 'page-break-after :always' > </div>\r\n<br>\r\n<br>\r\n\r\n\r\n\t\t{%- endfor -%}\r\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:59.132736",
  "module": "AQIQ Print Formats",
  "name": "Purchase Stock Lable V2",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "@media screen,pdf {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n \r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\nmargin-top-15{\r\n    margin-top:15px;\r\n}\r\n \r\n   .text-size-9{\r\n     font-size:9px;\r\n }\r\n \r\n    }\r\n    \r\n@media print {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n \r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n  .text-size-9{\r\n     font-size:9px;\r\n }\r\n \r\n table.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n \r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n@media screen {\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n\r\n  .text-size-9{\r\n     font-size:9px;\r\n }\r\n\r\n.amount-val{\r\n   color:darkgrey;\r\n   bottom:20px;\r\n   position:relative;\r\n}\r\n\r\n/*.watermark {*/\r\n/*    position: fixed;*/\r\n/*    top: 420px;*/\r\n/*    left: 220px;*/\r\n/*    right: 220px;*/\r\n/*    background: url(\"http://192.241.152.17/files/draft-background.png\");*/\r\n/*    background-repeat: no-repeat;*/\r\n    /*background-size: center;*/\r\n/*    height:400px;*/\r\n/*    width:50%;*/\r\n/*    background-position: center;*/\r\n/*    background-size: 100%;*/\r\n/*    color:black !important;*/\r\n/*    opacity: 0.3;*/\r\n/*    position: running(wtrmrk);*/\r\n/*    background-repeat: repeat-x;*/\r\n/*    }*/\r\n\r\n.watermark {\r\n    position: fixed;\r\n    top:70px;\r\n    left:11%;\r\n    right:10%;\r\n    background: url(\"http://192.241.152.17/files/draft-background.png\");\r\n    background-repeat: no-repeat;\r\n    height:700px;\r\n    width:80%;\r\n    /*background-position: center;*/\r\n    background-size: 100%;\r\n    opacity: 0.5;\r\n    }\r\n\r\n\r\n.days_tab {\r\n    position: relative;\r\n}\r\n\r\n.barchart-Wrapper {\r\n      display: table;\r\n      position: relative;\r\n      margin: 20px 0;\r\n      height: 120px;\r\n    }\r\n    .barChart-Container {\r\n      display: table-cell;\r\n      width: 100%;\r\n      height: 100%;\r\n      padding-left: 20px;\r\n      padding-right: 20px;\r\n    }\r\n    .barchart {\r\n     display: table;\r\n     table-layout: fixed;\r\n     height: 100%;\r\n     width: 100%;\r\n     border-bottom: 3px solid darkgrey;\r\n    }\r\n    .barchart-Col {\r\n      position: relative;\r\n      vertical-align: bottom;\r\n      display: table-cell;\r\n      height: 100%;\r\n    }\r\n    .barchart-Col + .barchart-Col {\r\n      border-left: 4px solid transparent;\r\n    }\r\n    .barchart-Bar {\r\n      position: static;\r\n      height: 0;\r\n      transition: height 0.5s 2s;\r\n      width: 10px;\r\n      margin: auto;\r\n    }\r\n    .barchart-Bar:after {\r\n      content: attr(attr-height);\r\n      color: white;\r\n      position: absolute;\r\n      text-align: center;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter {\r\n      position: absolute;\r\n      text-align: center;\r\n      left:40px;\r\n      height: 10%;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter h3 {\r\n      color: darkred;\r\n    }\r\n    .barchart-TimeCol {\r\n      position: absolute;\r\n      top: 0;\r\n      height: 100%;\r\n      width: 100%;\r\n    }\r\n    .barchart-Time {\r\n      height: 25%;\r\n      vertical-align: middle;\r\n      position: relative;\r\n    }\r\n    .barchart-Time:after {\r\n      border-bottom: 3px solid white;\r\n      content: \"\";\r\n      position: absolute;\r\n      width: 100%;\r\n      left: 0;\r\n      top: 0em;\r\n    }\r\n    .barchart-TimeText {\r\n      position: absolute;\r\n      top: -8px;\r\n      z-index: 1;\r\n      background: white;\r\n      padding-right: 5px;\r\n      color: #4d4d4d;\r\n      font-size: 15px;\r\n      font-family: 'Avenir Medium';\r\n    }\r\n    .sq1-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq1-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq2-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq2-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq3-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq3-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq4-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq4-bar {\r\n      background-color: #a61a17;\r\n    }",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Expense Entry",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<style>\r\n</style>\r\n\r\n<div id=\"header-html\" class = \"margin-top-15\"   style = \" margin-top:-20px  !important; width:95.5%; margin-left:15px !important\">\r\n    <div class = \"row\" style = \"\">\r\n\r\n        <div class = \"col-xs-10\" style = \"width:100%;   float:left; border:1px solid black \">\r\n             {% set header = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1}, \"content\") %}\r\n            \r\n            <!--{% if doc.company == 'Impala Glass Industries Ltd' %}-->\r\n            <!--    {% set logo = \"/files/Impala.png\" %} {% elif doc.company == \"Impala Africa Ltd\" %} {% set logo = \"/files/impala-africa-logo.jpg\" %}-->\r\n            <!--{% endif %}-->\r\n            \r\n            \r\n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website',]) %}\r\n            \r\n            \r\n        \r\n        {% set comapny_address_line1 = '' %}        \r\n        {% set comapny_city = '' %}        \r\n        {% set comapny_counrty = '' %}        \r\n        {% set comapny_state = '' %}        \r\n        {% set phone = '' %}        \r\n\r\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\r\n\r\n        {% if company_address_name  %}\r\n            {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\r\n                \r\n\r\n        {% set comapny_address_line1 = address.address_line1 %}        \r\n        {% set comapny_city =  address.city  %}        \r\n        {% set comapny_counrty =  address.country  %}        \r\n        {% set comapny_state =  address.state  %}        \r\n\r\n        {% set phone = address.phone %}        \r\n\r\n        {% endif  %}\r\n\r\n\r\n            \r\n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \r\n            'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \r\n            'state' : comapny_state,\r\n            'phone_no' : phone, 'email' : company_details[0].email, 'pin_no': company_details[0].tax_id ,  'company_logo' : company_details[0].company_logo, 'website' : company_details[0].website,  }) %}\r\n            {{header_updated}}\r\n            \r\n\r\n            <table  class = \"table table-sm\" style = \"width:28%; font-size:10px  \"> \r\n                <tr>\r\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:11px\"> EXPENSE ENTRY </b> </span> </center>  </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <td style = 'font-size:10px'> Date </td> <td style = 'font-size:10px'> \r\n                    {{ doc.get_formatted('posting_date') }} \r\n                </tr>\r\n\r\n                <tr> \r\n                    <td style = \"font-size:10px\"> INV# </td> <td style = \"font-size:10px\">  {{ doc.name }}</td>\r\n                </tr>\r\n                <tr> \r\n                    <td style = \"font-size:10px\"> Cash or Bank Account:</td> <td style = \"font-size:10px\">  {{ doc.cash_account }}</td>\r\n                </tr>\r\n\r\n            </table>\r\n\r\n\r\n        </div>\r\n</div>\r\n\r\n\r\n</div>\r\n\r\n<table  class = 'table table-sm' style = \"width:100%; font-size:9px;  margin-top:10px\" border = '1'> \r\n        <thead> \r\n    <tr> \r\n            <th class=\"text-left text-size-9 \" style = \"\"  > Sr </th>\r\n            <th class=\"text-left text-size-9 \">  Account </th>\r\n            <th class=\"text-left text-size-9 \">  Remark </th>\r\n            <th class=\"text-left text-size-9 \">  Division </th>\r\n            <th class=\"text-left text-size-9 \"> Department </th>\r\n            <th class=\"text-left text-size-9 \">  Project </th>\r\n            <th class=\"text-right text-size-9 \">  Amount </th>\r\n\r\n    </tr>\r\n        </thead>\r\n{% set total_amount = {\"total_amount\": 0} %}\r\n{% set tax_type = doc.tax_type  %}\r\n\r\n{% for row in doc.accounts %}\r\n    \r\n        <tr>\r\n            <td style=\"\" class=\"text-left text-size-9 \">{{ row.idx }}</td>\r\n            <td style=\"\" class=\"text-left text-size-9 \">\r\n                {{ row.account }}\r\n            </td>\r\n            <td style=\"\" class=\"text-left text-size-9 \">\r\n                {{ row.remark }}\r\n            </td>\r\n            <td style=\"\" class=\"text-left text-size-9 \">\r\n                {{ row.cost_center }}\r\n            </td>\r\n    \r\n\r\n            <td style=\"\" class=\"text-left text-size-9 \">\r\n\r\n               {{ row.department }} \r\n\r\n            </td>\r\n      \r\n        \r\n            <td style=\"\" class=\"text-left text-size-9 \">   \r\n                 {{ row.project }}\r\n            </td>\r\n           \r\n            <td style=\"\" class=\"text-right text-size-9 \">\r\n                    {{ '{0:,.2f}'.format(row.amount) }}\r\n                  {% if total_amount.update({\"total_amount\": total_amount[\"total_amount\"] + row.amount}) %} {% endif %}\r\n            </td>\r\n\r\n        </tr>\r\n        {%- endfor -%}\r\n        <tr> \r\n            <td colspan=\"6\" class=\"text-right\"><b>Totals:</b>   </td>\r\n            <td class=\"text-right\"> <b>\r\n                {{ '{0:,.2f}'.format(total_amount[\"total_amount\"]) }} </b></td>\r\n        </tr>\r\n        \r\n        <tr> \r\n            <td colspan = \"9\"> \r\n            <b class = \"text-size-10\" >Total Amount in words:   {{ frappe.utils.money_in_words(total_amount[\"total_amount\"] ) }}  </b>\r\n\r\n            </td>\r\n        </tr>\r\n        </table  >\r\n        <table class = \"table table-sm\" >\r\n        \r\n        <tr> \r\n        <td colspan = \"\"> \r\n        <p  class = \"text-size-10\" > Created By: {{ doc.owner }} </p> \r\n        \r\n        <p  class = \"text-size-10\" > Created ON: {{ doc.get_formatted('creation')}} </p> \r\n        <p  class = \"text-size-10\" > \r\n    Authorized By:  {% if doc.docstatus==1 %} {{doc.owner}} {% endif %} \r\n    </p>\r\n\r\n        \r\n        </td>\r\n        <td colspan = \"4\" class = \"text-right\" > \r\n        \r\n        <table class = \"text-right\" style = '; width:100%; border:none' > \r\n\r\n            <tr class = \"text-right\" > \r\n                <td colspan = \"\" class = \"text-size-10 text-right \" style=\"font-size:10px; font-weight:bold;\">  <b> Total Amount: </b>  </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right \" style=\"font-size:10px; font-weight:bold;\"> \r\n                \r\n                \r\n                <b>  \r\n                                                    {{ '{0:,.2f}'.format(total_amount[\"total_amount\"]) }} \r\n\r\n                \r\n\r\n                \r\n                </b></td>\r\n            </tr>\r\n        </table>\r\n\r\n\r\n        </td>\r\n        </tr>\r\n        \r\n        \r\n</table>\r\n<div style=\"margin-top:1px; margin-bottom:1px;  border:1px solid black;\">\r\n     \r\n</div>\r\n{% if doc.docstatus==0 %}\r\n<div class ='watermark'>\r\n</div>\r\n{% endif %}\r\n\r\n\r\n\r\n\r\n\r\n\r\n    <div  id = \"\" style = 'page-break-after :always;  ' >  </div>\r\n\r\n    <!--<div class = 'text-center' style = \"font-size:12px; font-weight:600\" >General Terms and Conditions </div>-->\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n{% set footer = frappe.db.get_value(\"Letter Head\", doc.letter_head, \"footer\") %}\r\n\r\n{% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(), \"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user}) %}\r\n{{ footer_updated }}\r\n\r\n\r\n    <div id=\"footer-html\" class=\"visible-pdf text-center  \" style = \"font-size:10px\" >\r\n        <p id=\"demo\"></p>\r\n        <div class=\"letter-head-footer text-size-10 text-center \"  style=\"font-size: 10px;\"  >\r\n            {{ footer }}\r\n        </div>\r\n        <p class=\"text-center small page-number visible-pdf\" style = \"font-size:10px\" >\r\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\r\n        </p>\r\n    </div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:59.037363",
  "module": "AQIQ Print Formats",
  "name": "Expense Entry A4",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Customer Scheduler Report",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<div class=\"row px-5 \" style=\"border:1px solid gray\" >\n  <div class=\"col-md-12\">\n\n    {% set company_logo = \"\" %} \n    {% set company  =  \"\" %} \n    {% set company_address =  \"\" %} \n    {% set city =  \"\" %} \n    {% set state  = \"\" %} \n    {% set country  = \"\" %} \n    {% set phone  = \"\" %} \n    {% set tax_id  = \"\" %} \n    {% set email  = \"\" %} \n    {% set website  = \"\" %} \n\n\n  {% if  mheading %}\n\n    {% set company_logo = mheading.company_logo %} \n    {% set company = mheading.company %} \n    {% set company_address  = mheading.company_address %} \n    {% set city = mheading.city %} \n    {% set stete  = mheading.state %} \n    {% set country  = mheading.country %} \n    {% set phone  = mheading.phone_no %} \n    {% set tax_id  = mheading.pin_no %} \n    {% set email  = mheading.email %} \n    {% set website  = mheading.website %} \n\n\n\n  {% endif %}\n\n\n\n<table class = \"\" style = \"width:100%; \" border = \"1\"  > \n    <thead class = \"\" > \n    <tr style = \"border:none !important\"> \n        <td colspan = \"6\"  style = \"border:none !important\" class = \"text-center\" > 786  </td>\n    </tr>\n    <tr> \n        <td colspan = \"4\">  \n        <div class = \"\" style = \"float:left; width:25%\" > \n\n            <div style=\"width: 100%;\"> \n             <img src=\"{{ company_logo }}\" style=\"height: 120px; width: 98%;\">\n            </div>\n\n\n\n        </div>\n\n        <div class = \"\" style = \"float:left; width:40%\" > \n\n        <div class = \"\"> <b> {{ company }} </b> </div>\n        <div class = \"\" style = \"font-size:8px\" > \n        {{ company_address }}\n        </div>\n        <div class = \"\" style = \"font-size:8px\" > \n\n        {{ city }} \n        {{ state }} \n        {{ country }} \n\n\n    </div>\n        <div class = \"\" style = \"font-size:8px\" > \n        Phone: {{ phone  }} </div>\n        <div class = \"\" style = \"font-size:8px\" > \n        Email: {{ email  }} </div>\n        <div class = \"\" style = \"font-size:8px\" > \n        PIN NO: {{ tax_id }} </div>\n        <div class = \"\" style = \"font-size:8px\" > \n        Website: {{ website }}</div>\n            \n\n\n        </div>\n\n        </td>\n    </tr>\n\n\n\n    </thead>\n  </table>\n\n\n\n\n\n\n\n\n\n    <table class=\"table table-sm small table-light m-0 p-0 \" border=\"1\" >\n      <tr>\n        <td colspan=\"2\" class=\"bg-light\">\n          <div class=\"text-center bg-light \"> Statement Of Account</div>\n        </td>\n      </tr>\n      {% if customer_detail %}\n      <tr>\n        <td style=\"width: 50%\">\n          Customer Name {{ customer_detail.customer }}\n         <div>\n          {{ customer_detail.address }}\n        </div>\n        </td>\n        <td> \n\n          <div> Currency:  </div>\n          <div> Amount Due:  </div>\n          <div>  Printed On  </div>\n\n            \n\n\n          \n          </div>\n         </td>\n\n      </tr>\n\n      {% endif %}\n\n    </table>\n\n    <table class=\"table table-sm table-light small m-0 p-0 \" style=\"border:1px solid gray\" >\n      <thead>\n        <tr>\n          <th> Date </th>\n          <th> No </th>\n          <th> Description </th>\n          <th> Allocation </th>\n          <th class=\"text-right\"> Debit </th>\n          <th class=\"text-right\"> Credit </th>\n          <th class=\"text-right\"> Balance </th>\n        </tr>\n      </thead>\n\n      <tbody>\n        {% if customer_data %}\n        {% for i in customer_data %}\n        <tr>\n          <td class=\"\"> {{ i.date }} </td>\n          <td class=\"\"> {{ i.customer }} </td>\n          <td class=\"\"> {{ i.docno }} </td>\n          <td class=\"\"> {{ i.doctype }} </td>\n          <td class=\"text-right\"> {{ i.debit }} </td>\n          <td class=\"text-right\"> {{ i.balance }} </td>\n          <td class=\"text-right\"> {{ i.date }} </td>\n        </tr>\n\n        {% endfor %}\n\n        <tr>\n          <td colspan=\"4\"> \n            <table  class=\"table table-sm p-0 m-0\"  border  = \"1\" style=\"width: 100%; border: 1px solid gray important; padding:0px \">\n              <tr>\n                <td colspan=\"5\" class=\"text-center\" > Ageing Summary </td>\n              </tr>\n\n              {%  set aging_30 =  0 %}\n              {%  set aging_60 =  0 %}\n              {%  set aging_90 =  0 %}\n              {%  set aging_120 =  0 %}\n              {%  set aging_above =  0 %}\n \n\n\n\n              {% if customer_aging %}\n\n  \n              {%  set aging_30 =  customer_aging.30 %}\n              {%  set aging_60 =  customer_aging.60 %}\n              {%  set aging_90 =  customer_aging.90 %}\n              {%  set aging_120 =  customer_aging.120 %}\n              {%  set aging_above =  customer_aging.Above %}\n \n\n\n\n              <tr>\n                <td> 30 </td>\n                <td> 60 </td>\n                <td> 90 </td>\n                <td> 120 </td>\n                <td> Above </td>\n              </tr>\n\n   \n                <tr>\n                  <td> {{ aging_30 }}</td>\n                  <td> {{ aging_60 }}</td>\n                  <td> {{ aging_90 }}</td>\n                  <td> {{ aging_120 }}</td>\n                  <td> {{ aging_above }}</td>\n                </tr>\n              {% endif  %}\n\n            </table>\n          </td>\n          <td colspan=\"3\">\n\n          {% set total_sales =  0  %}\n          {% set total_payment =  0  %}\n          {% set total_return =  0  %}\n\n          {% if customer_summary %}  \n\n\n                {% if customer_summary.sales %}  \n                  {% set total_sales =  customer_summary.sales  %} \n                {% endif %} \n\n                {% if customer_summary.payment %}  \n                  {% set total_payment =  customer_summary.payment  %} \n\n                {% endif %} \n                {% if customer_summary.total_return %}  \n                  {% set total_return =  customer_summary.sales_return  %} \n                {% endif %} \n\n\n          {% endif %}  \n\n\n\n\n            <table  class=\"table table-sm p-0 m-0\"  style=\"width: 100% ; border:1px solid gray !important; margin:0px padding:0px; \"> \n              <tr>\n                <td> Sales </td> \n                <td class = \"text-right\" >  \n\n                  {{ total_sales }}\n              </td>\n              </tr>\n              <tr>\n                <td> Sales Return </td> \n                <td class = \"text-right\" >  \n                  {{ total_return }}\n\n              </td>\n\n              </tr>\n              <tr>\n                <td> Payment </td> \n\n                <td class = \"text-right\" >  \n                  {{ total_payment }}\n\n              </td>\n\n              </tr>\n\n            </table>\n           </td>\n        </tr>\n        {% endif %}\n\n      </tbody>\n\n    </table>\n\n\n\n\n\n\n  </div>\n\n</div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:58.942647",
  "module": "AQIQ Print Formats",
  "name": "Scheduler Report",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "table, tr, td, th {\r\n    border-top:1px solid black;\r\n    border-bottom:1px solid black;\r\n    border-left:0px solid black;\r\n    border-right:0px solid black;\r\n    \r\n}\r\n\r\n\r\n.tab1 {\r\n    border: 0px solid black !important;\r\n}\r\n\r\n.cheque {\r\n    border: 0px solid white;\r\n}\r\n\r\n.watermark {\r\n    position: fixed;\r\n    top: 420px;\r\n    left: 220px;\r\n    right: 220px;\r\n    background: url(\"http://192.241.152.17/files/draft-background.png\");\r\n    background-repeat: no-repeat;\r\n    /*background-size: center;*/\r\n    height:400px;\r\n    width:50%;\r\n    background-position: center;\r\n    background-size: 100%;\r\n    color:black !important;\r\n    opacity: 0.3;\r\n    position: running(wtrmrk);\r\n    background-repeat: repeat-x;\r\n    }",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Payment Entry",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<div id=\"header-html\"   style = \"margin-top:-15px !important; width:95.2%; margin-left:15px !important\">\n    <div class = \"row\" style = \"\">\n        <div class = \"col-xs-10\" style = \"width:100%; float:left; border:1px solid black \">\n                 {% set header = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1}, \"content\") %}\n        \n        <!--{% if doc.company == 'Impala Glass Industries Ltd' %}-->\n        <!--    {% set logo = \"/files/Impala.png\" %} {% elif doc.company == \"Impala Africa Ltd\" %} {% set logo = \"/files/impala-africa-logo.jpg\" %}-->\n        <!--{% endif %}-->\n        \n        \n        {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website',]) %}\n        \n        {% set comapny_address_line1 = '' %}        \n        {% set comapny_city = '' %}        \n        {% set comapny_counrty = '' %}        \n        {% set comapny_state = '' %}        \n        {% set phone = '' %}        \n\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\n\n        {% if company_address_name  %}\n        {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\n                \n\n        {% set comapny_address_line1 = address.address_line1 %}        \n        {% set comapny_city =  address.city  %}        \n        {% set comapny_counrty =  address.country  %}        \n        {% set comapny_state =  address.state  %}        \n\n        {% set phone = address.phone %}        \n\n        {% endif  %}\n\n\n            \n        {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \n        'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \n        'state' : comapny_state,\n        'phone_no' : phone, 'email' : company_details[0].email, 'pin_no': company_details[0].tax_id ,  'company_logo' : company_details[0].company_logo, 'website' : company_details[0].website,  }) %}\n        {{header_updated}}\n\n\n            <table  class = \"table table-sm\" style = \"width:28%; \"> \n                <tr>\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:14px\"> PD Cheques </b> </span> </center>  </td>\n                </tr>\n\n                <tr>\n                    <td style = 'font-size:11px'> Date </td> <td style = 'font-size:11px'>  {{ doc.get_formatted('posting_date')  }} </td>\n                </tr>\n\n                <tr> \n                    <td style = \"font-size:11px\"> Voucher # </td> <td style = \"font-size:11px\">  {{ doc.name }}</td>\n                </tr>\n                <tr>\n                    <td style = \"font-size:11px\"> Type: </td> <td style = \"font-size:11px\">  {{ doc.payment_type }}</td>\n                </tr>\n            </table>\n        </div>\n\n        <div class = \"col-xs-8\" style = 'float:left'>\n        </div>\n    </div>\n</div>\n\n\n<!--<table class = \"\"  style = \"width:100%; font-size:11px; margin-top:10px;\"> -->\n<!--    <tr> -->\n<!--        <td style = \"width:40%\">  -->\n<!--        </td>-->\n<!--        <td style=\"20%\">-->\n            <!--<img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\" class=\"center\" height=100px>-->\n<!--        </td>-->\n<!--        <td style = \"width:35%\">  -->\n<!--        </td>-->\n<!--    </tr>-->\n<!--</table>-->\n\n<table class = \"tab1\"  style = \"width:100%; font-size:11px; margin-top:10px; border: 0px solid black !important;\"> \n    <tr  class = \"tab1\" style=\"border: 0px solid black !important;\"> \n        <td  class = \"tab1\" style = \"width:33%\"> \n            <p><b>Division: {{doc.cost_center}}</b></p>\n        </td>\n        \n        <td  class = \"tab1\" style = \"width:30%; text-align:center;\"> \n            <p><b>Department: {{doc.department}}</b></p>\n        </td>\n        \n        <td  class = \"tab1\" style=\"33%; text-align:right;\">\n            <p><b>Project: {{doc.project}}</b></p>\n        </td>\n       \n    </tr>\n</table>\n\n\n<table id=\"tab1\"  style = \"width:100%; font-size:11px; margin-top:10px;\">\n    <tr style = \"width:100%; border:0px solid red;\"> \n        <td id=\"cell1\" style = \"width:100%; border:0px solid black;\">  \n            <div style=\"width:100%;\">\n                <div>\n                    \n                    <p style=\"padding: 5px 5px 5px 5px;\">{% if doc.payment_type=='Pay' %} Paid To: {% elif doc.payment_type=='Receive' %} Received from: {% endif %}  \n                    <span style=\"margin-left: 30px; font-weight:bold;\">{% if doc.party_type=='Customer' %}{{frappe.db.get_value(doc.party_type, doc.party, 'customer_name')}}\n                        {% else %} {{frappe.db.get_value(doc.party_type, doc.party, 'supplier_name')}} {% endif %}\n                    </span>   </p>\n                    <!--<p style=\"padding: 5px 5px 5px 5px;\">Paid To:   <span style=\"margin-left: 30px;\">{{doc.party_name }}</span>   </p>-->\n                </div>\n                <div width=100%>\n                    <div style=\"float:left; padding: 5px 5px 5px 5px;\">Currency:</div>\n                    <div style=\"float:left; margin-left:60px; height: 30px; width: 15%; border-radius: 5px; padding: 5px 5px 5px 5px; border: 1px solid black;\">  KES  </div>\n                    <div style=\"float:left; margin-left:260px;padding: 5px 5px 5px 5px; \"> Amount :</div>\n                    <div style=\"float:left; margin-left:10px; height: 30px; width: 15%; border-radius: 5px; padding: 5px 5px 5px 5px; border: 1px solid black;\"> {{'{0:,.2f}'.format(doc.amount) }}  </div>\n                </div>\n                <div style=\"width:100%; margin-top:10px\">\n                    <div style=\"float:left; margin-top:10px; padding: 5px 5px 5px 5px;\">Amount in words:</div>\n                    <div style=\"float:left; margin-top:10px; margin-left:20px; height: 40px; width: 80%; border-radius: 5px; padding: 5px 5px 5px 5px; border: 1px solid black; text-align:right;\">\n                        {{frappe.utils.money_in_words(doc.amount)}}\n                        </div>\n                </div>\n                <div style=\"width:100%; margin-top:20px\">\n                    <div style=\"float:left; margin-top:10px; padding: 5px 5px 5px 5px;\">Against:</div>\n                    <div style=\"float:left; margin-top:10px; padding: 5px 5px 5px 65px;\">---</div> \n                </div>\n            </div>\n        </td>\n    </tr>\n</table>\n<table style = \"width:100%; height:40px; font-size:11px;  margin-top:10px\">\n    <tr width=100% style = \"border: 1px solid black;\">\n        <td width=50%>Remarks:\n            <p> --- </p>\n        </td>\n    </tr>\n</table>\n<table style = \"width:100%; font-size:11px;  margin-top:10px; border: 1px solid black;\">\n    <tr width=100% style = \"border-bottom:0px solid white;\">\n        <td class=\"cheque\" colspan=\"2\" width=50% style=\"\"><b>Payment Type: {{doc.mode_of_payment}}</b></td>\n    </tr>\n    <tr width=100% style = \"border-top: 0px solid green; border-bottom:0px;\">\n        <td  class=\"cheque\" width=50%>Cheque No:  {{ doc.reference_no  }}  </td>\n        <td  class=\"cheque\" width=50%>Cheque Maturity Date: {{ doc.reference_date }}  </td>\n    </tr>\n    <tr width=100% style = \"border-top: 0px solid black;\">\n        <td class = \"cheque\" colspan=\"2\" width=50%>Bank Name: -- </td>\n        \n    </tr>\n</table>\n\n\n<!--<table style = \"width:100%; font-size:11px;  margin-top:20px\">-->\n<!--    <tr width=100% style=\"border:1px solid black;\">-->\n<!--        <th colspan=\"7\" style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> Payment Details:</th>-->\n<!--    </tr>-->\n<!--    <tr width=100%>-->\n<!--        <th class=\"cheque\" style=\"font-size:11px; font-weight:bold;\"> # </th>-->\n<!--        <th class=\"cheque\" style=\"font-size:11px; font-weight:bold;\">Inv No.</th>-->\n<!--        <th class=\"cheque\" style=\"font-size:11px; font-weight:bold;\">Inv Amount</th>-->\n<!--        <th class=\"cheque\" style=\"font-size:11px; font-weight:bold;\">Amount Paid</th>-->\n<!--        <th class=\"cheque\" style=\"font-size:11px; font-weight:bold;\">WTH Vat</th>-->\n<!--        <th class=\"cheque\" style=\"font-size:11px; font-weight:bold;\">WTH Tax</th>-->\n<!--        <th class=\"cheque\" style=\"font-size:11px; font-weight:bold;\">Chq Amount</th>-->\n<!--    </tr>-->\n<!--    {% set total_amount = {\"total_amount\":0} %}-->\n<!--    {% for row in doc.references %}-->\n<!--    {% if total_amount.update({\"total_amount\": total_amount[\"total_amount\"] + row.total_amount}) %} {% endif %}-->\n    \n<!--    {% endfor %}-->\n    \n<!--</table>-->\n{% if doc.docstatus==0 %}\n<div class ='watermark'>\n</div>\n{% endif %}\n\n<table style = \"width:100%; font-size:11px;  margin-top:30px\">\n    <tr width=100% style=\"border:1px solid black;\">\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Paid By: </b> </td>\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b>  </b></td>\n    </tr>\n    <tr width=100%>\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Paid On: {{doc.get_formatted('posting_date')}} </b> </td>\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b> Authorized By: {% if doc.docstatus==1 %} {{doc.owner}} {% endif %}</b> </td>\n    </tr>\n    <tr width=100%>\n        <td colspan=\"2\" width=50% style=\"border:1px solid black; font-size:11px;\"> <i>To be filled by customer.</i> </td>\n    </tr>\n    <tr width=100%>\n        <td colspan=\"2\" width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Cheque/Cash Received By: -- </b> </td>\n    </tr>\n    <tr width=100%>\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Name: -- </b> </td>\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b> ID No: -- </b> </td>\n    </tr>\n    <tr width=100%>\n        <td colspan=\"2\" width=50% height=60px style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Signature:  </b> </td>\n    </tr>\n</table>\n\n\n    <div id=\"footer-html\" class=\"visible-pdf\">\n        <div class=\"letter-head-footer\">\n            {{ footer }}\n        </div>\n        <p class=\"text-center small page-number visible-pdf\">\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\n        </p>\n    </div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:58.845376",
  "module": "AQIQ Print Formats",
  "name": "PD Cheques V1",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": ".watermark {\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%) rotate(-45deg);\n    opacity: 0.5;\n    font-size: 100px;\n    color: rgba(255, 0, 0, 0.3);\n}\n@media print {\n    .watermark {\n        position: fixed;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%) rotate(-45deg);\n        opacity: 0.5;\n        font-size: 100px;\n        color: rgba(255, 0, 0, 0.3);\n    }\n}\n",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Packing Slip",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<style>\n</style>\n\n<div id=\"header-html\" class = \"margin-top-15\"   style = \" margin-rightt:15px  !important; width:92.2%; margin-left:15px !important\">\n    <div class = \"row\" style = \"\">\n\n        <div class = \"col-xs-10\" style = \"width:100%;   float:left; border:1px solid black \">\n            {% set header = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1}, \"content\") %}\n            \n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website',]) %}\n            \n            {% set comapny_address_line1 = '' %}        \n            {% set comapny_city = '' %}        \n            {% set comapny_counrty = '' %}        \n            {% set comapny_state = '' %}        \n            {% set phone = '' %}        \n    \n            {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\n    \n            {% if company_address_name  %}\n                {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\n                    \n    \n            {% set comapny_address_line1 = address.address_line1 %}        \n            {% set comapny_city =  address.city  %}        \n            {% set comapny_counrty =  address.country  %}        \n            {% set comapny_state =  address.state  %}        \n    \n            {% set phone = address.phone %}        \n    \n            {% endif  %}\n            \n            {% if company_details %}\n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \n            'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \n            'state' : comapny_state,\n            'phone_no' : phone, 'email' : company_details[0].email, 'pin_no': company_details[0].tax_id ,  'company_logo' : company_details[0].company_logo, 'website' : company_details[0].website,  }) %}\n            {{header_updated}}\n            {% endif %}\n            \n\n            <table  class = \"table table-sm\" style = \"width:28%; font-size:18px; \"> \n                <tr>\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:11px\"><strong>{{ doc.name }}</strong> </b> </span> </center>  </td>\n                </tr>\n\n               <!--<tr>-->\n                   \n               <!--     <td style='font-size:18px; text-decoration:bold;'><strong>{{ doc.status }}</strong></td>-->\n                  \n                \n            </table>\n\n        </div>\n</div>\n</div>\n<div style=\"width: 100%; margin-top: 5px;\">\n  <table style=\"border-collapse: collapse; width: 100%;\">\n    <tr>\n      <td style=\"width: 50%;\">\n        <table style=\"border-collapse: collapse; width: 100%; line-height: 0.5;\">\n          <thead>\n            <tr>\n              <th style=\"text-align: left; font-size: 10px; background-color: #f2f2f2;\"><strong>Employee:</strong></th>\n              <td style=\"font-size: 10px; text-align: left;\">{{ doc.employee }}</td>\n            </tr>\n            <tr>\n              <th style=\"text-align: left; font-size: 10px; background-color: #f2f2f2;\"><strong>Company:</strong></th>\n              <td style=\"font-size: 10px; text-align: left;\">{{ doc.company }}</td>\n            </tr>\n            <tr>\n              <th style=\"text-align: left; font-size: 10px; background-color: #f2f2f2;\"><strong>Employee Name:</strong></th>\n              <td style=\"font-size: 10px; text-align: left;\">{{ doc.employee_name }}</td>\n            </tr>\n            <tr>\n              <th style=\"text-align: left; font-size: 10px; background-color: #f2f2f2;\"><strong>Employee Pin:</strong></th>\n              <!--{% set nssf_no = frappe.get_doc(\"Employee\", doc.employee.nssf_number) %}-->\n              {% set employee_doc = frappe.get_doc(\"Employee\", doc.employee) %}\n              {% if employee_doc %}\n              <td style=\"font-size: 10px; text-align: left;\">{{ employee_doc.employee_pin }}</td>\n              {% endif %}\n            </tr>\n            <tr>\n              <th style=\"text-align: left; font-size: 10px; background-color: #f2f2f2;\"><strong>Branch:</strong></th>\n              <td style=\"font-size: 10px; text-align: left;\">{{ doc.branch }}</td>\n            </tr>\n            <tr>\n              <th style=\"text-align: left; font-size: 10px; background-color: #f2f2f2;\"><strong>Department:</strong></th>\n              <td style=\"font-size: 10px; text-align: left;\">{{ doc.department }}</td>\n            </tr>\n            <tr>\n              <th style=\"text-align: left; font-size: 10px; background-color: #f2f2f2;\"><strong>ID Number:</strong></th>\n              {% set employee_doc = frappe.get_doc(\"Employee\", doc.employee) %}\n              {% if employee_doc %}\n              <td style=\"font-size: 10px; text-align: left;\">{{employee_doc.national_id}}</td>\n              {% endif %}\n            </tr>\n            <tr>\n              <th style=\"text-align: left; font-size: 10px; background-color: #f2f2f2;\"><strong>NSSF Number:</strong></th>\n              <!--{% set nssf_no = frappe.get_doc(\"Employee\", doc.employee.nssf_number) %}-->\n              {% set employee_doc = frappe.get_doc(\"Employee\", doc.employee) %}\n              {% if employee_doc %}\n              <td style=\"font-size: 10px; text-align: left;\">{{ employee_doc.nssf_number }}</td>\n              {% endif %}\n            </tr>\n            <tr>\n              <th style=\"text-align: left; font-size: 10px; background-color: #f2f2f2;\"><strong>NHIF Number:</strong></th>\n              <!--{% set nssf_no = frappe.get_doc(\"Employee\", doc.employee.nssf_number) %}-->\n              {% set employee_doc = frappe.get_doc(\"Employee\", doc.employee) %}\n              {% if employee_doc %}\n              <td style=\"font-size: 10px; text-align: left;\">{{ employee_doc.nhif_number }}</td>\n              {% endif %}\n            </tr>\n            \n            <tr>\n              <th style=\"text-align: left; font-size: 10px; background-color: #f2f2f2;\"><strong>DOJ:</strong></th>\n              <!--{% set nssf_no = frappe.get_doc(\"Employee\", doc.employee.nssf_number) %}-->\n              {% set employee_doc = frappe.get_doc(\"Employee\", doc.employee) %}\n              {% if employee_doc %}\n              <td style=\"font-size: 10px; text-align: left;\">{{ employee_doc.date_of_joining }}</td>\n              {% endif %}\n            </tr>\n            \n          </thead>\n        </table>\n      </td>\n      <td style=\"width: 50%;\">\n        <table style=\"border-collapse: collapse; width: 100%; line-height: 0.7;\">\n          <thead>\n              <tr>\n              <th style=\"text-align: left; font-size: 10px; background-color: #f2f2f2;\"><strong>Bank name:</strong></th>\n              <td style=\"font-size: 10px; text-align: right;\">{{ doc.bank_name }}</td>\n            </tr>\n            <tr>\n              <th style=\"text-align: left; font-size: 10px; background-color: #f2f2f2;\"><strong>Bank A/C No:</strong></th>\n              <td style=\"font-size: 10px; text-align: right;\">{{ doc.bank_account_no }}</td>\n            </tr>\n            <tr>\n              <th style=\"text-align: left; font-size: 10px; background-color: #f2f2f2;\"><strong>Payment Mode:</strong></th>\n              <td style=\"font-size: 10px; text-align: right;\">{{ doc.mode_of_payment}}</td>\n            </tr>\n            <tr>\n              <th style=\"text-align: left; font-size: 10px; background-color: #f2f2f2;\"><strong>Start Date:</strong></th>\n              <td style=\"font-size: 10px; text-align: right;\">{{ doc.start_date }}</td>\n            </tr>\n            <tr>\n              <th style=\"text-align: left; font-size: 10px; background-color: #f2f2f2;\"><strong>End Date:</strong></th>\n              <td style=\"font-size: 10px; text-align: right;\">{{ doc.end_date }}</td>\n            </tr>\n            <tr>\n              <th style=\"text-align: left; font-size: 10px; background-color: #f2f2f2;\"><strong>Working Days:</strong></th>\n              <td style=\"font-size: 10px; text-align: right;\">{{ doc.total_working_days }}</td>\n            </tr>\n            <tr>\n              <th style=\"text-align: left; font-size: 10px; background-color: #f2f2f2;\"><strong>Leave Without Pay:</strong></th>\n              <td style=\"font-size: 10px; text-align: right;\">{{ doc.leave_without_pay }}</td>\n            </tr>\n            <tr>\n              <th style=\"text-align: left; font-size: 10px; background-color: #f2f2f2;\"><strong>Payment Days:</strong></th>\n              <td style=\"font-size: 10px; text-align: right;\">{{ doc.payment_days }}</td>\n            </tr>\n          </thead>\n        </table>\n      </td>\n    </tr>\n  </table>\n</div>\n\n<div style=\"width: 100%; padding-right:10px;\">\n      <table style=\"border-collapse: collapse; border: 1px solid black; width:100%; line-height: 0.5;\">\n        <thead>\n          <tr>\n            <th colspan=\"6\" style=\"text-align: left; font-size: 10px; background-color: #f2f2f2; border: 1px solid black;\">Employee Loans</th>\n          </tr>\n          <tr>\n           <th style=\"text-align: left; font-size: 10px; background-color: #f2f2f2; border: 1px solid black; width: 10%;\">No.</th>\n            <th style=\"text-align: left; font-size: 10px; background-color: #f2f2f2; border: 1px solid black; width:;\">Loan</th>\n            <th style=\"text-align: right; font-size: 10px; background-color: #f2f2f2; border: 1px solid black; width: ;\">Loan Type</th>\n            <th style=\"text-align: left; font-size: 10px; background-color: #f2f2f2; border: 1px solid black; width:;\">Principal Amount</th>\n            <!--<th style=\"text-align: left; font-size: 10px; background-color: #f2f2f2; border: 1px solid black; width:;\">Balace cfwd</th>-->\n            <!--<th style=\"text-align: right; font-size: 10px; background-color: #f2f2f2; border: 1px solid black; width: ;\">Total Amount</th>-->\n            <th style=\"text-align: right; font-size: 10px; background-color: #f2f2f2; border: 1px solid black; width: ;\">Loan Amount</th>\n          </tr>\n        </thead>\n        <tbody>\n          {% set balance_bfwd = 0 %}\n          {% for loan  in doc.loans %}\n                  <tr>\n                    <td style=\"text-align: left; font-size: 10px; border: 1px solid black;\">{{ loop.index }}</td>\n                    <td style=\"text-align: left; font-size: 10px; border: 1px solid black;\">{{ loan.loan }}</td>\n                    <td style=\"text-align: left; font-size: 10px; border: 1px solid black;\">{{ loan.loan_type or '' }}</td>\n                    <!--<td style=\"text-align: left; font-size: 10px; border: 1px solid black;\">{{ loan.interest_income_account }}</td>-->\n                    <td style=\"text-align: left; font-size: 10px; border: 1px solid black;\">{{doc.currency }} {{frappe.utils.fmt_money('{:.2f}'.format(loan.principal_amount)) }}</td>\n                    <!--{% set balance_cfwd = balance_bfwd + loan.principal_amount %}-->\n                    <td style=\"text-align: left; font-size: 10px; border: 1px solid black;\">{{doc.currency }} {{ frappe.utils.fmt_money('{:.2f}'.format(balance_cfwd)) }}</td>\n                    <!--<td style=\"text-align: left; font-size: 10px; border: 1px solid black;\">{{ doc.currency }} {{ frappe.utils.fmt_money('{:.2f}'.format(loan.total_payment)) }}</td>-->\n                    <td style=\"text-align: left; font-size: 10px; border: 1px solid black;\">{{ doc.currency }} {{ frappe.utils.fmt_money('{:.2f}'.format(loan.total_payment)) }}</td>\n                  </tr>\n          {% set balance_cfwd = balance_cfwd + loan.principal_amount %}\n          {% endfor %}\n        </tbody>\n      </table>\n    </div>\n<div style=\"width: 100%; margin-top: 0px;\">\n  <table style=\"border-collapse: collapse; width: 100%; line-height: 0.5;\">\n    <tr>\n      <td style=\"width: 50%; padding-right: 10px;\">\n        <table style=\"border-collapse: collapse; border: 1px solid black; width: 100%;\">\n          <thead>\n            <tr>\n              <th colspan=\"3\" style=\"text-align: left; font-size: 10px; background-color: #f2f2f2; border: 1px solid black;\">Earnings</th>\n            </tr>\n            <tr>\n              <th style=\"text-align: left; font-size: 10px; background-color: #f2f2f2; border: 1px solid black; width: 10%;\">Sr</th>\n              <th style=\"text-align: left; font-size: 10px; background-color: #f2f2f2; border: 1px solid black; width: 30%;\">Component</th>\n              <th style=\"text-align: right; font-size: 10px; background-color: #f2f2f2; border: 1px solid black; width: 30%;\">Amount</th>\n            </tr>\n          </thead>\n          <tbody>\n            {% set counter = {'count': 1} %}\n            {% for earning in doc.earnings %}\n              {% if earning.amount != 0 %}\n                {% set salary_comp_vals = frappe.db.get_value('Salary Component', earning.salary_component, ['do_not_include_in_total', 'disable_accounting_effect']) %}\n                {% if not(salary_comp_vals[0] and salary_comp_vals[1]) %}\n                  <tr>\n                    <td style=\"text-align: left; font-size: 10px; border: 1px solid black;\">{{ counter.count }}</td>\n                    <td style=\"text-align: left; font-size: 10px; border: 1px solid black;\">{{ earning.salary_component }}</td>\n                    <td style=\"text-align: right; font-size: 10px; border: 1px solid black;\">{{ doc.currency }} {{ frappe.utils.fmt_money('{:.2f}'.format(earning.amount)) }}</td>\n                  </tr>\n                  <tr>\n                      {% set absent = doc.deductions.salary_component['Absent'] %}\n                      \n                      <td style=\"text-align: left; font-size: 10px; border: 1px solid black;\">\n                          {{ absent }}\n                      </td>\n                      \n                  </tr>\n                  {% set counter = counter.update({'count': counter.count + 1}) or counter %}\n                {% endif %}\n              {% endif %}\n            {% endfor %}\n          </tbody>\n        </table>\n      </td>\n      <td style=\"width: 50%; padding-left: 10px;\">\n        <table style=\"border-collapse: collapse; border: 1px solid black; width: 100%; line-height: 0.5;\">\n          <thead>\n            <tr>\n              <th colspan=\"3\" style=\"text-align: left; font-size: 10px; background-color: #f2f2f2; border: 1px solid black;\">Deductions</th>\n            </tr>\n            <tr>\n              <th style=\"text-align: left; font-size: 10px; background-color: #f2f2f2; border: 1px solid black; width: 10%;\">Sr</th>\n              <th style=\"text-align: left; font-size: 10px; background-color: #f2f2f2; border: 1px solid black; width: 35%;\">Component</th>\n              <th style=\"text-align: right; font-size: 10px; background-color: #f2f2f2; border: 1px solid black; width: 35%;\">Amount</th>\n            </tr>\n          </thead>\n          <tbody>\n            {% set counter = {'count': 1} %}\n            {% for deduction in doc.deductions %}\n              {% if deduction.amount != 0 %}\n                {% set salary_comp_vals = frappe.db.get_value('Salary Component', deduction.salary_component, ['do_not_include_in_total', 'disable_accounting_effect']) %}\n                {% if not(salary_comp_vals[0] and salary_comp_vals[1]) %}\n                  <tr>\n                    <td style=\"text-align: left; font-size: 10px; border: 1px solid black;\">{{ counter.count }}</td>\n                    <td style=\"text-align: left; font-size: 10px; border: 1px solid black;\">{{ deduction.salary_component }}</td>\n                    <td style=\"text-align: right; font-size: 10px; border: 1px solid black;\">{{ doc.currency }} {{frappe.utils.fmt_money('{:.2f}'.format(deduction.amount)) }}</td>\n                  </tr>\n                  {% set counter = counter.update({'count': counter.count + 1}) or counter %}\n                {% endif %}\n              {% endif %}\n            {% endfor %}\n          </tbody>\n        </table>\n      </td>\n    </tr>\n  </table>\n</div>\n\n\n<div style=\"width:; align-text: right; margin-top: 10px; margin-left: auto; margin-right: auto; text-align: center;margin-left: 50%;\">\n    <table style=\"border-collapse: collapse; background-color: #f2f2f2; line-height: 1;\">\n      <thead>\n        <tr>\n          <th style=\"text-align: left; font-size: 10px; background-color: white;\"><strong>Gross Pay:</strong></th>\n          <td style=\"font-size: 10px; text-align: right;\">{{ doc.currency }} {{ frappe.utils.fmt_money('{:.2f}'.format(doc.gross_pay)) }}</td>\n        </tr>\n        <tr>\n          <th style=\"text-align: left; font-size: 10px; background-color: white;\"><strong>Total Deduction:</strong></th>\n          <td style=\"font-size: 10px; text-align: right; \">{{ doc.currency }} {{ frappe.utils.fmt_money('{:.2f}'.format(doc.total_deduction)) }}</td>\n        </tr>\n        <tr>\n          <th style=\"text-align: left; font-size: 10px; background-color: white;\"><strong>Net Pay:</strong></th>\n          <td style=\"font-size: 10px; text-align: right; \">{{ doc.currency }} {{ frappe.utils.fmt_money('{:.2f}'.format(doc.net_pay)) }}</td>\n        </tr>\n        <tr>\n          <th style=\"text-align: left; font-size: 10px; background-color: white;\"><strong>Rounded Total:</strong></th>\n          <td style=\"font-size: 10px; text-align: right;\"><strong>{{ doc.currency }} {{frappe.utils.fmt_money('{:.2f}'.format(doc.rounded_total)) }}</strong></td>\n        </tr>\n        <tr>\n          <th style=\"text-align: left; font-size: 10px; background-color: white;\"><strong>Total in Words:</strong></th>\n          <td style=\"font-size: 10px; text-align: right;\">{{ doc.total_in_words }}</td>\n        </tr>\n      </thead>\n    </table>\n  </div>\n\n\n\n{% if doc.status == 'Draft' %}\n<div class = 'watermark'> DRAFT</div>\n{% endif %}\n\n\n\n\n\n\n\n\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:58.735691",
  "module": "AQIQ Print Formats",
  "name": "Salary Slip Layout V2",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": ".watermark {\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%) rotate(-45deg);\n    opacity: 0.5;\n    font-size: 100px;\n    color: rgba(255, 0, 0, 0.3);\n}\n@media print {\n    .watermark {\n        position: fixed;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%) rotate(-45deg);\n        opacity: 0.5;\n        font-size: 100px;\n        color: rgba(255, 0, 0, 0.3);\n    }\n}\n",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Packing Slip",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<style>\n</style>\n\n<div id=\"header-html\" class = \"margin-top-15\"   style = \" margin-rightt:15px  !important; width:92.2%; margin-left:15px !important\">\n    <div class = \"row\" style = \"\">\n\n        <div class = \"col-xs-10\" style = \"width:100%;   float:left; border:1px solid black \">\n            {% set header = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1}, \"content\") %}\n            \n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website',]) %}\n            \n            {% set comapny_address_line1 = '' %}        \n            {% set comapny_city = '' %}        \n            {% set comapny_counrty = '' %}        \n            {% set comapny_state = '' %}        \n            {% set phone = '' %}        \n    \n            {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\n    \n            {% if company_address_name  %}\n                {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\n                    \n    \n            {% set comapny_address_line1 = address.address_line1 %}        \n            {% set comapny_city =  address.city  %}        \n            {% set comapny_counrty =  address.country  %}        \n            {% set comapny_state =  address.state  %}        \n    \n            {% set phone = address.phone %}        \n    \n            {% endif  %}\n            \n            {% if company_details %}\n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \n            'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \n            'state' : comapny_state,\n            'phone_no' : phone, 'email' : company_details[0].email, 'pin_no': company_details[0].tax_id ,  'company_logo' : company_details[0].company_logo, 'website' : company_details[0].website,  }) %}\n            {{header_updated}}\n            {% endif %}\n            \n\n            <table  class = \"table table-sm\" style = \"width:28%; font-size:18px; \"> \n                <tr>\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:11px\"><strong>{{ doc.name }}</strong> </b> </span> </center>  </td>\n                </tr>\n\n               <!--<tr>-->\n                   \n               <!--     <td style='font-size:18px; text-decoration:bold;'><strong>{{ doc.status }}</strong></td>-->\n                  \n                \n            </table>\n\n        </div>\n</div>\n</div>\n<div style=\"width: 100%; margin-top: 5px;\">\n  <table style=\"border-collapse: collapse; width: 100%;\">\n    <tr>\n      <td style=\"width: 50%;\">\n        <table style=\"border-collapse: collapse; width: 100%; line-height: 0.5;\">\n          <thead>\n            <tr>\n              <th style=\"text-align: left; font-size: 10px; background-color: #f2f2f2;\"><strong>Employee:</strong></th>\n              <td style=\"font-size: 10px; text-align: left;\">{{ doc.employee }}</td>\n            </tr>\n            <tr>\n              <th style=\"text-align: left; font-size: 10px; background-color: #f2f2f2;\"><strong>Company:</strong></th>\n              <td style=\"font-size: 10px; text-align: left;\">{{ doc.company }}</td>\n            </tr>\n            <tr>\n              <th style=\"text-align: left; font-size: 10px; background-color: #f2f2f2;\"><strong>Employee Name:</strong></th>\n              <td style=\"font-size: 10px; text-align: left;\">{{ doc.employee_name }}</td>\n            </tr>\n            <tr>\n              <th style=\"text-align: left; font-size: 10px; background-color: #f2f2f2;\"><strong>Employee Pin:</strong></th>\n              <!--{% set nssf_no = frappe.get_doc(\"Employee\", doc.employee.nssf_number) %}-->\n              {% set employee_doc = frappe.get_doc(\"Employee\", doc.employee) %}\n              {% if employee_doc %}\n              <td style=\"font-size: 10px; text-align: left;\">{{ employee_doc.employee_pin }}</td>\n              {% endif %}\n            </tr>\n            <tr>\n              <th style=\"text-align: left; font-size: 10px; background-color: #f2f2f2;\"><strong>Branch:</strong></th>\n              <td style=\"font-size: 10px; text-align: left;\">{{ doc.branch }}</td>\n            </tr>\n            <tr>\n              <th style=\"text-align: left; font-size: 10px; background-color: #f2f2f2;\"><strong>Department:</strong></th>\n              <td style=\"font-size: 10px; text-align: left;\">{{ doc.department }}</td>\n            </tr>\n            <tr>\n              <th style=\"text-align: left; font-size: 10px; background-color: #f2f2f2;\"><strong>ID Number:</strong></th>\n              {% set employee_doc = frappe.get_doc(\"Employee\", doc.employee) %}\n              {% if employee_doc %}\n              <td style=\"font-size: 10px; text-align: left;\">{{employee_doc.national_id}}</td>\n              {% endif %}\n            </tr>\n            <tr>\n              <th style=\"text-align: left; font-size: 10px; background-color: #f2f2f2;\"><strong>NSSF Number:</strong></th>\n              <!--{% set nssf_no = frappe.get_doc(\"Employee\", doc.employee.nssf_number) %}-->\n              {% set employee_doc = frappe.get_doc(\"Employee\", doc.employee) %}\n              {% if employee_doc %}\n              <td style=\"font-size: 10px; text-align: left;\">{{ employee_doc.nssf_number }}</td>\n              {% endif %}\n            </tr>\n            <tr>\n              <th style=\"text-align: left; font-size: 10px; background-color: #f2f2f2;\"><strong>NHIF Number:</strong></th>\n              <!--{% set nssf_no = frappe.get_doc(\"Employee\", doc.employee.nssf_number) %}-->\n              {% set employee_doc = frappe.get_doc(\"Employee\", doc.employee) %}\n              {% if employee_doc %}\n              <td style=\"font-size: 10px; text-align: left;\">{{ employee_doc.nhif_number }}</td>\n              {% endif %}\n            </tr>\n            \n            <tr>\n              <th style=\"text-align: left; font-size: 10px; background-color: #f2f2f2;\"><strong>DOJ:</strong></th>\n              <!--{% set nssf_no = frappe.get_doc(\"Employee\", doc.employee.nssf_number) %}-->\n              {% set employee_doc = frappe.get_doc(\"Employee\", doc.employee) %}\n              {% if employee_doc %}\n              <td style=\"font-size: 10px; text-align: left;\">{{ employee_doc.date_of_joining }}</td>\n              {% endif %}\n            </tr>\n            \n          </thead>\n        </table>\n      </td>\n      <td style=\"width: 50%;\">\n        <table style=\"border-collapse: collapse; width: 100%; line-height: 0.7;\">\n          <thead>\n              <tr>\n              <th style=\"text-align: left; font-size: 10px; background-color: #f2f2f2;\"><strong>Bank name:</strong></th>\n              <td style=\"font-size: 10px; text-align: right;\">{{ doc.bank_name }}</td>\n            </tr>\n            <tr>\n              <th style=\"text-align: left; font-size: 10px; background-color: #f2f2f2;\"><strong>Bank A/C No:</strong></th>\n              <td style=\"font-size: 10px; text-align: right;\">{{ doc.bank_account_no }}</td>\n            </tr>\n            <tr>\n              <th style=\"text-align: left; font-size: 10px; background-color: #f2f2f2;\"><strong>Payment Mode:</strong></th>\n              <td style=\"font-size: 10px; text-align: right;\">{{ doc.mode_of_payment}}</td>\n            </tr>\n            <tr>\n              <th style=\"text-align: left; font-size: 10px; background-color: #f2f2f2;\"><strong>Start Date:</strong></th>\n              <td style=\"font-size: 10px; text-align: right;\">{{ doc.start_date }}</td>\n            </tr>\n            <tr>\n              <th style=\"text-align: left; font-size: 10px; background-color: #f2f2f2;\"><strong>End Date:</strong></th>\n              <td style=\"font-size: 10px; text-align: right;\">{{ doc.end_date }}</td>\n            </tr>\n            <tr>\n              <th style=\"text-align: left; font-size: 10px; background-color: #f2f2f2;\"><strong>Working Days:</strong></th>\n              <td style=\"font-size: 10px; text-align: right;\">{{ doc.total_working_days }}</td>\n            </tr>\n            <tr>\n              <th style=\"text-align: left; font-size: 10px; background-color: #f2f2f2;\"><strong>Leave Without Pay:</strong></th>\n              <td style=\"font-size: 10px; text-align: right;\">{{ doc.leave_without_pay }}</td>\n            </tr>\n            <tr>\n              <th style=\"text-align: left; font-size: 10px; background-color: #f2f2f2;\"><strong>Payment Days:</strong></th>\n              <td style=\"font-size: 10px; text-align: right;\">{{ doc.payment_days }}</td>\n            </tr>\n          </thead>\n        </table>\n      </td>\n    </tr>\n  </table>\n</div>\n\n<div style=\"width: 100%; padding-right:10px;\">\n      <table style=\"border-collapse: collapse; border: 1px solid black; width:100%; line-height: 0.5;\">\n        <thead>\n          <tr>\n            <th colspan=\"6\" style=\"text-align: left; font-size: 10px; background-color: #f2f2f2; border: 1px solid black;\">Employee Loans</th>\n          </tr>\n          <tr>\n           <th style=\"text-align: left; font-size: 10px; background-color: #f2f2f2; border: 1px solid black; width: 10%;\">No.</th>\n            <th style=\"text-align: left; font-size: 10px; background-color: #f2f2f2; border: 1px solid black; width:;\">Loan</th>\n            <th style=\"text-align: right; font-size: 10px; background-color: #f2f2f2; border: 1px solid black; width: ;\">Loan Type</th>\n            <th style=\"text-align: left; font-size: 10px; background-color: #f2f2f2; border: 1px solid black; width:;\">Principal Amount</th>\n            <!--<th style=\"text-align: left; font-size: 10px; background-color: #f2f2f2; border: 1px solid black; width:;\">Balace cfwd</th>-->\n            <!--<th style=\"text-align: right; font-size: 10px; background-color: #f2f2f2; border: 1px solid black; width: ;\">Total Amount</th>-->\n            <th style=\"text-align: right; font-size: 10px; background-color: #f2f2f2; border: 1px solid black; width: ;\">Loan Amount</th>\n          </tr>\n        </thead>\n        <tbody>\n          {% set balance_bfwd = 0 %}\n          {% for loan  in doc.loans %}\n                  <tr>\n                    <td style=\"text-align: left; font-size: 10px; border: 1px solid black;\">{{ loop.index }}</td>\n                    <td style=\"text-align: left; font-size: 10px; border: 1px solid black;\">{{ loan.loan }}</td>\n                   <td style=\"text-align: left; font-size: 10px; border: 1px solid black;\">\n                        {% set loan_type = loan.loan_type or frappe.db.get_value(\"Loan\", {\"name\": loan.loan}, \"loan_type\") %}\n                        {{ loan.loan_type or loan_type or '' }}\n                    </td>\n\n                    <!--<td style=\"text-align: left; font-size: 10px; border: 1px solid black;\">{{ loan.interest_income_account }}</td>-->\n                    <td style=\"text-align: left; font-size: 10px; border: 1px solid black;\">{{doc.currency }} {{frappe.utils.fmt_money('{:.2f}'.format(loan.principal_amount)) }}</td>\n                    <!--{% set balance_cfwd = balance_bfwd + loan.principal_amount %}-->\n                    <td style=\"text-align: left; font-size: 10px; border: 1px solid black;\">{{doc.currency }} {{ frappe.utils.fmt_money('{:.2f}'.format(balance_cfwd)) }}</td>\n                    <!--<td style=\"text-align: left; font-size: 10px; border: 1px solid black;\">{{ doc.currency }} {{ frappe.utils.fmt_money('{:.2f}'.format(loan.total_payment)) }}</td>-->\n                    <td style=\"text-align: left; font-size: 10px; border: 1px solid black;\">{{ doc.currency }} {{ frappe.utils.fmt_money('{:.2f}'.format(loan.total_payment)) }}</td>\n                  </tr>\n          {% set balance_cfwd = balance_cfwd + loan.principal_amount %}\n          {% endfor %}\n        </tbody>\n      </table>\n    </div>\n<div style=\"width: 100%; margin-top: 0px;\">\n  <table style=\"border-collapse: collapse; width: 100%; line-height: 0.5;\">\n    <tr>\n      <td style=\"width: 50%; padding-right: 10px;\">\n        <table style=\"border-collapse: collapse; border: 1px solid black; width: 100%;\">\n          <thead>\n            <tr>\n              <th colspan=\"3\" style=\"text-align: left; font-size: 10px; background-color: #f2f2f2; border: 1px solid black;\">Earnings</th>\n            </tr>\n            <tr>\n              <th style=\"text-align: left; font-size: 10px; background-color: #f2f2f2; border: 1px solid black; width: 10%;\">Sr</th>\n              <th style=\"text-align: left; font-size: 10px; background-color: #f2f2f2; border: 1px solid black; width: 30%;\">Component</th>\n              <th style=\"text-align: right; font-size: 10px; background-color: #f2f2f2; border: 1px solid black; width: 30%;\">Amount</th>\n            </tr>\n          </thead>\n          <tbody>\n            {% set counter = {'count': 1} %}\n            {% for earning in doc.earnings %}\n              {% if earning.amount != 0 %}\n                {% set salary_comp_vals = frappe.db.get_value('Salary Component', earning.salary_component, ['do_not_include_in_total', 'disable_accounting_effect']) %}\n                {% if not(salary_comp_vals[0] and salary_comp_vals[1]) %}\n                  <tr>\n                    <td style=\"text-align: left; font-size: 10px; border: 1px solid black;\">{{ counter.count }}</td>\n                    <td style=\"text-align: left; font-size: 10px; border: 1px solid black;\">{{ earning.salary_component }}</td>\n                    <td style=\"text-align: right; font-size: 10px; border: 1px solid black;\">{{ doc.currency }} {{ frappe.utils.fmt_money('{:.2f}'.format(earning.amount)) }}</td>\n                  </tr>\n                  {% set counter = counter.update({'count': counter.count + 1}) or counter %}\n                {% endif %}\n              {% endif %}\n            {% endfor %}\n          </tbody>\n        </table>\n      </td>\n      <td style=\"width: 50%; padding-left: 10px;\">\n        <table style=\"border-collapse: collapse; border: 1px solid black; width: 100%; line-height: 0.5;\">\n          <thead>\n            <tr>\n              <th colspan=\"3\" style=\"text-align: left; font-size: 10px; background-color: #f2f2f2; border: 1px solid black;\">Deductions</th>\n            </tr>\n            <tr>\n              <th style=\"text-align: left; font-size: 10px; background-color: #f2f2f2; border: 1px solid black; width: 10%;\">Sr</th>\n              <th style=\"text-align: left; font-size: 10px; background-color: #f2f2f2; border: 1px solid black; width: 35%;\">Component</th>\n              <th style=\"text-align: right; font-size: 10px; background-color: #f2f2f2; border: 1px solid black; width: 35%;\">Amount</th>\n            </tr>\n          </thead>\n          <tbody>\n            {% set counter = {'count': 1} %}\n            {% for deduction in doc.deductions %}\n              {% if deduction.amount != 0 %}\n                {% set salary_comp_vals = frappe.db.get_value('Salary Component', deduction.salary_component, ['do_not_include_in_total', 'disable_accounting_effect']) %}\n                {% if not(salary_comp_vals[0] and salary_comp_vals[1]) %}\n                  <tr>\n                    <td style=\"text-align: left; font-size: 10px; border: 1px solid black;\">{{ counter.count }}</td>\n                    <td style=\"text-align: left; font-size: 10px; border: 1px solid black;\">{{ deduction.salary_component }}</td>\n                    <td style=\"text-align: right; font-size: 10px; border: 1px solid black;\">{{ doc.currency }} {{frappe.utils.fmt_money('{:.2f}'.format(deduction.amount)) }}</td>\n                  </tr>\n                  {% set counter = counter.update({'count': counter.count + 1}) or counter %}\n                {% endif %}\n              {% endif %}\n            {% endfor %}\n          </tbody>\n        </table>\n      </td>\n    </tr>\n  </table>\n</div>\n\n\n<div style=\"width:; align-text: right; margin-top: 10px; margin-left: auto; margin-right: auto; text-align: center;margin-left: 50%;\">\n    <table style=\"border-collapse: collapse; background-color: #f2f2f2; line-height: 1;\">\n      <thead>\n        <tr>\n          <th style=\"text-align: left; font-size: 10px; background-color: white;\"><strong>Gross Pay:</strong></th>\n          <td style=\"font-size: 10px; text-align: right;\">{{ doc.currency }} {{ frappe.utils.fmt_money('{:.2f}'.format(doc.gross_pay)) }}</td>\n        </tr>\n        <tr>\n          <th style=\"text-align: left; font-size: 10px; background-color: white;\"><strong>Total Deduction:</strong></th>\n          <td style=\"font-size: 10px; text-align: right; \">{{ doc.currency }} {{ frappe.utils.fmt_money('{:.2f}'.format(doc.total_deduction)) }}</td>\n        </tr>\n        <tr>\n          <th style=\"text-align: left; font-size: 10px; background-color: white;\"><strong>Net Pay:</strong></th>\n          <td style=\"font-size: 10px; text-align: right; \">{{ doc.currency }} {{ frappe.utils.fmt_money('{:.2f}'.format(doc.net_pay)) }}</td>\n        </tr>\n        <tr>\n          <th style=\"text-align: left; font-size: 10px; background-color: white;\"><strong>Rounded Total:</strong></th>\n          <td style=\"font-size: 10px; text-align: right;\"><strong>{{ doc.currency }} {{frappe.utils.fmt_money('{:.2f}'.format(doc.rounded_total)) }}</strong></td>\n        </tr>\n        <tr>\n          <th style=\"text-align: left; font-size: 10px; background-color: white;\"><strong>Total in Words:</strong></th>\n          <td style=\"font-size: 10px; text-align: right;\">{{ doc.total_in_words }}</td>\n        </tr>\n      </thead>\n    </table>\n  </div>\n\n\n\n{% if doc.status == 'Draft' %}\n<div class = 'watermark'> DRAFT</div>\n{% endif %}\n\n\n\n\n\n\n\n\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:58.631146",
  "module": "AQIQ Print Formats",
  "name": "Salary Slip Custom",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "",
  "custom_format": 0,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Packing Slip",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": "[{\"fieldname\": \"print_heading_template\", \"fieldtype\": \"Custom HTML\", \"options\": \"   <h3 style=\\\"text-align: right;\\\"><span style=\\\"line-height: 1.42857;\\\">{{doc.name}}</span></h3>\\n<div>\\n    <hr style=\\\"text-align: center;\\\">\\n</div>   \"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"employee\", \"print_hide\": 0, \"label\": \"Employee\"}, {\"fieldname\": \"company\", \"print_hide\": 0, \"label\": \"Company\"}, {\"fieldname\": \"employee_name\", \"print_hide\": 0, \"label\": \"Employee Name\"}, {\"fieldname\": \"department\", \"print_hide\": 0, \"label\": \"Department\"}, {\"fieldname\": \"designation\", \"print_hide\": 0, \"label\": \"Designation\"}, {\"fieldname\": \"branch\", \"print_hide\": 0, \"label\": \"Branch\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"start_date\", \"print_hide\": 0, \"label\": \"Start Date\"}, {\"fieldname\": \"end_date\", \"print_hide\": 0, \"label\": \"End Date\"}, {\"fieldname\": \"total_working_days\", \"print_hide\": 0, \"label\": \"Working Days\"}, {\"fieldname\": \"leave_without_pay\", \"print_hide\": 0, \"label\": \"Leave Without Pay\"}, {\"fieldname\": \"payment_days\", \"print_hide\": 0, \"label\": \"Payment Days\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"earnings\", \"print_hide\": 0, \"label\": \"Earnings\", \"visible_columns\": [{\"fieldname\": \"salary_component\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"year_to_date\", \"print_width\": \"\", \"print_hide\": 0}]}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"deductions\", \"print_hide\": 0, \"label\": \"Deductions\", \"visible_columns\": [{\"fieldname\": \"salary_component\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"year_to_date\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"depends_on_payment_days\", \"print_width\": \"\", \"print_hide\": 0}]}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"gross_pay\", \"print_hide\": 0, \"label\": \"Gross Pay\"}, {\"fieldname\": \"total_deduction\", \"print_hide\": 0, \"label\": \"Total Deduction\"}, {\"fieldname\": \"net_pay\", \"print_hide\": 0, \"label\": \"Net Pay\"}, {\"fieldname\": \"rounded_total\", \"print_hide\": 0, \"label\": \"Rounded Total\"}, {\"fieldname\": \"total_in_words\", \"print_hide\": 0, \"label\": \"Total in words\"}, {\"fieldtype\": \"Section Break\", \"label\": \"net pay info\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"year_to_date\", \"print_hide\": 0, \"label\": \"Year To Date\"}, {\"fieldname\": \"month_to_date\", \"print_hide\": 0, \"label\": \"Month To Date\"}]",
  "html": "",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:58.565415",
  "module": "AQIQ Print Formats",
  "name": "Salary Slip with Year to Date",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "body{\n    font-size:15px;\n}\n.disp{\n    display:flex;\n    flex-direction:column;\n}\n    \n    .headers{\n        width:100%;\n    }\n    .container {\n        display: flex;\n        justify-content: space-between;\n        margin-top:40px;\n        margin-bottom:10px;\n        margin-left: 5px;\n        width:100%;\n    }\n\n    h2 {\n        font-size: 24px;\n    }\n\n    h3 {\n        font-size: 18px;\n    }\n\n    h5 {\n        font-size: 15px;\n    }\n\n\n\n    .flex-container {\n        display: flex;\n        justify-content: space-between;\n    }\n\n    .info-column {\n        flex: 1;\n        width:50%;\n    }\n\n    .info-column h5 {\n        margin: 5px 0;\n    }\n\n    .border-box {\n        border: 1px solid gray;\n        padding: 10px;\n    }\n\n    .signature {\n        display: flex;\n        align-items: center;\n    }",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Student Leave Application",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "\n    <div class=\"disp\">\n    <div class=\"headers\">\n                            {% set header = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1}, \"content\") %}\n            \n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website',]) %}\n            \n            {% set comapny_address_line1 = '' %}        \n            {% set comapny_city = '' %}        \n            {% set comapny_counrty = '' %}        \n            {% set comapny_state = '' %}        \n            {% set phone = '' %}        \n    \n            {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\n    \n            {% if company_address_name  %}\n                {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\n                    \n    \n            {% set comapny_address_line1 = address.address_line1 %}        \n            {% set comapny_city =  address.city  %}        \n            {% set comapny_counrty =  address.country  %}        \n            {% set comapny_state =  address.state  %}        \n    \n            {% set phone = address.phone %}        \n    \n            {% endif  %}\n            \n            {% if company_details %}\n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \n            'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \n            'state' : comapny_state,\n            'phone_no' : phone, 'email' : company_details[0].email, 'pin_no': company_details[0].tax_id ,  'company_logo' : company_details[0].company_logo, 'website' : company_details[0].website,  }) %}\n            {{header_updated}}\n            {% endif %}\n    </div>\n\n<div class=\"container\">\n            \n    <h2>Leave Statement/Application Form     </h2>\n</div></div>\n<div class=\"container\">\n    <div class=\"info-column\">\n        <div style=\"display:flex;\"><div style=\"font-size: 15px;font-weight: bold;width:30%;\">EMP NO:  </div>    <div style=\"font-size:15px\">{{doc.employee|upper}}</div></div>\n        <div style=\"display:flex;\"><div style=\"font-size: 15px;font-weight: bold;width:30%;\">NAME:  </div><div style=\"font-size:15px\">{{ doc.employee_name|upper }}</div></div>\n        <div style=\"display:flex;\"><div style=\"font-size: 15px;font-weight: bold;width:30%;\">CATEGORY:  </div> <div style=\"font-size:15px\">{{frappe.db.get_value(\"Employee\", {\"name\" : doc.employee}, \"payroll_category\")|upper }} </div></div>\n    </div>\n    <div class=\"info-column\">\n        <div style=\"display:flex;\"><div style=\"font-size: 15px;font-weight: bold;width:30%;\">DEPT:  </div> <div style=\"font-size:15px\">{{doc.department|upper}} </div></div>\n        <div style=\"display:flex;\"><div style=\"font-size: 15px;font-weight: bold;width:30%;\">POSITION:  </div> <div style=\"font-size:15px\">{{frappe.db.get_value(\"Employee\", {\"name\" : doc.employee}, \"designation\")|upper }} </div></div>\n        <div style=\"display:flex;\"><div style=\"font-size: 15px;font-weight: bold;width:30%;\">LEAVE TYPE:  </div> <div style=\"font-size:15px\">{{ doc.leave_type|upper }} </div></div>\n        <div style=\"display:flex;\"><div style=\"font-size: 15px;font-weight: bold;width:30%;\">No:  </div> <div style=\"font-size:15px\">{{doc.name}} </div></div>\n    </div>\n</div>\n<div class=\"border-box\">\n    <div class=\"flex-container\">\n        <div class=\"info-column\">\n            <span ><h5>ACCUMULATED LEAVE TODATE:</h5></span>\n        </div>\n        <div class=\"info-column\">\n            <span style=\"display:flex;\"><h5>{{ doc.leave_balance }} &nbsp</h5><h5>Days</h5></span>\n            </div>\n        </div>\n        <div class=\"flex-container\">\n        <div class=\"info-column\">\n            <span ><h5>LEAVE BALANCE TODATE:</h5></span>\n        </div>\n        <div class=\"info-column\">\n            <span style=\"display:flex;\"><h5>{{ doc.leave_balance }} &nbsp</h5><h5>Days</h5></span>\n            </div>\n        </div>\n        <div class=\"flex-container\">\n        <div class=\"info-column\">\n             <span><h5>LEAVES NOW REQUESTED:</h5></span>\n        </div>\n        <div class=\"info-column\">\n            <span style=\"display:flex;\"><h5>{{ doc.total_leave_days }} &nbsp</h5><h5>Days</h5></span>\n            </div>\n        </div>\n        <div class=\"flex-container\">\n        <div class=\"info-column\">\n            <span><h5>REMAINING LEAVE BALANCE:</h5></span>\n        </div>\n        <div class=\"info-column\">\n            <span style=\"display:flex;\"><h5>{{ doc.leave_balance - doc.total_leave_days }} &nbsp</h5><h5>Days</h5></span>\n            </div>\n        </div>\n        </div>\n<div>\n    <div style=\"font-size: 14px;margin-top:20px;\"> FROM: <span style=\"font-weight:Bold;\">{{ frappe.format_date(doc.from_date, 'dd-MMM-yyyy') }}\n </span>TO: <span style=\"font-weight:Bold;\"> {{ frappe.format_date(doc.to_date, 'dd-MMM-yyyy') }}\n</span></div>\n<h5>Leave Allocation Till:<span style=\"font-size: 15px;\"> {{ frappe.format_date(frappe.db.get_value(\"Leave Allocation\", {\"employee\": doc.employee}, \"to_date\", order_by=\"creation desc\"), 'dd-MMM-yyyy') }}\n</span></h5>\n    <h5>REMARKS: <span style=\"font-size: 15px;\">{{ doc.description }}</span></h5>\n</div>\n<div class=\"signature\">\n    <span style=\"width:100%; display:flex;\"><p style=\"font-size: 16px;width:50%;\">SIGNATURE OF APPLICANT:</p> <hr style=\"border: 1px dashed; width:80%;\"></span>\n    \n</div>\n<hr style=\"border: 1px solid; width:100%;\">\n<h4>FOR OFFICIAL USE ONLY</h4>\n<div class=\"signature\">\n    {% set report_name = frappe.db.get_value(\"Employee\", {\"name\": doc.employee}, \"reports_to\") %}\n    {% set report_name_name=frappe.db.get_value(\"Employee\", {\"name\": report_name}, \"employee_name\") %}\n<span style=\"width:100%;display:flex;\">\n    {% if report_name %}\n        <p style=\"font-size: 15px; width:70%\">REPORT TO ({{ report_name_name }}): </p>\n        <hr style=\"border: 1px dashed; width:50%;\">\n    {% else %}\n        <p style=\"font-size: 15px; width:100%\">REPORT TO (Admin,Manager): </p>\n        <hr style=\"border: 1px dashed; width:80%;\">\n    {% endif %}\n</span>\n\n    \n</div>\n<div class=\"signature\">\n    <span style=\"width:100%;display:flex;\"><p style=\"font-size: 15px;width:50%\">LEAVE APPROVED (DIRECTOR): </p><hr style=\"border: 1px dashed; width:80%;\"></span><hr>\n    \n</div>\n<h4 style=\"text-align: center;\">LEAVE CONFIRMATION</h4>\n<div style=\"font-size: 15px;\">I <span style=\"text-decoration: underline;font-weight:Bold;\">{{ doc.employee_name }}</span> agree that if I terminate employment prior to total repayment of this advance,\nI authorize the company to deduct any unpaid advance amount from the wage/salary owed me \nat the time of termination of employment.</div>\n\n\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:58.442469",
  "module": "AQIQ Print Formats",
  "name": "Leave Application",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Job Offer",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "{% set terms_exist = doc.terms and (doc.terms|striptags).strip() or \"\" %}\n\n{% if letter_head and not no_letterhead -%}\n    <div class=\"letter-head\">{{ letter_head }}</div>\n    <hr>\n{%- endif %}\n\n<div {% if terms_exist -%} class=\"page-break\" {%- endif %}>\n<p>\n\n<!-- job offer content starts here, <br> is used to create new lines -->\nDate: {{ doc.offer_date }}\n<br><br>\n\nDear {{ doc.applicant_name }}, \n\n<br><br>\n\nWe are pleased to appoint you in the services of {{ doc.company }} on the terms and conditions detailed in this letter.\n\n<br><br>\n\nYour designation shall be <b>{{ doc.designation }}</b>.\n\n<br><br>\n\n<!-- job offer terms and description from the table -->\n\n{%- if doc.offer_terms -%}\n    {%- for row in doc.offer_terms -%}\n        <b>{{ row.offer_term }}:</b> {{ row.value }}\n\n        <br>\n    {%- endfor -%}\n{%- endif -%}\n\n<br>\n\n<!-- job offer content continues -->\n\n\nPlease read the detailed terms as below. If you have any queries, feel free to get in touch with us.\nWe look forward to your long and fruitful career association with our organisation.\nIf you decide to join us, 'Welcome to {{ doc.company }} !'\n\n<br><br>\n\n<p class=\"strong\">\n\nYours truly,\n\n<br><br><br><br>\n\nAuthorized Signatory\n\n<br>\n\n{{ doc.company }}\n\n<!-- job offer content ends here -->\n\n</p>\n</div>\n\n<!-- job offer terms and conditions -->\n{% if terms_exist %}\n<div> {{ doc.terms }} </div>\n{% endif %}",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:58.355138",
  "module": "AQIQ Print Formats",
  "name": "Job Offer",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Bulk Daily Time Table",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<div id=\"header-html\"   style = \"margin-top:-15px !important; width:95.2%; margin-left:15px !important\">\r\n    <div class = \"row\" style = \"\">\r\n        <div class = \"col-xs-10\" style = \"width:100%; float:left; border:1px solid black \">\r\n         {% set header = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1}, \"content\") %}\r\n            \r\n            <!--{% if doc.company == 'Impala Glass Industries Ltd' %}-->\r\n            <!--    {% set logo = \"/files/Impala.png\" %} {% elif doc.company == \"Impala Africa Ltd\" %} {% set logo = \"/files/impala-africa-logo.jpg\" %}-->\r\n            <!--{% endif %}-->\r\n            \r\n            \r\n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website',]) %}\r\n            \r\n            \r\n        \r\n        {% set comapny_address_line1 = '' %}        \r\n        {% set comapny_city = '' %}        \r\n        {% set comapny_counrty = '' %}        \r\n        {% set comapny_state = '' %}        \r\n        {% set phone = '' %}        \r\n\r\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\r\n\r\n        {% if company_address_name  %}\r\n            {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\r\n                \r\n\r\n        {% set comapny_address_line1 = address.address_line1 %}        \r\n        {% set comapny_city =  address.city  %}        \r\n        {% set comapny_counrty =  address.country  %}        \r\n        {% set comapny_state =  address.state  %}        \r\n\r\n        {% set phone = address.phone %}        \r\n\r\n        {% endif  %}\r\n\r\n\r\n            \r\n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \r\n            'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \r\n            'state' : comapny_state,\r\n            'phone_no' : phone, 'email' : company_details[0].email, 'pin_no': company_details[0].tax_id ,  'company_logo' : company_details[0].company_logo, 'website' : company_details[0].website,  }) %}\r\n            {{header_updated}}\r\n            \r\n           \r\n          \r\n\r\n        </div>\r\n\r\n        <div class = \"col-xs-8\" style = 'float:left'>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n<div style=\"display:flex;justify-content:space-between;font-size:12;\">\r\n    <div>\r\n        <p><span style=\"font-weight:bold;\">Company :</span>{{doc.company}}</p>\r\n        <p><span style=\"font-weight:bold;\">Department :</span>{{doc.department}}</p>\r\n    </div>\r\n    <div>\r\n        <p><span style=\"font-weight:bold;\">From Date :</span>{{doc.from_date}}</p>\r\n    </div>\r\n    <div>\r\n        <p><span style=\"font-weight:bold;\">Default Time Table :</span>{{doc.default_shift}}</p>\r\n    </div>\r\n</div>\r\n<div>\r\n    <table  style = \"width:100%; font-size:11px;  margin-top:10px\" border = '1'>\r\n        <thead>\r\n            <tr>\r\n                <th>Employee</th>\r\n                <th>Employee Name</th>\r\n                <th>Time Table</th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            {% for row in doc.employees %}\r\n            <tr>\r\n                <td>\r\n                   {{ row.employee}}\r\n                </td>\r\n                <td>{{row.employee_name}}</td>\r\n                <td>{{row.time_table}}</td>\r\n            </tr>\r\n            {% endfor %}\r\n        </tbody>\r\n    </table>\r\n</div>\r\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:58.269735",
  "module": "AQIQ Print Formats",
  "name": "Night Shift",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "@media screen,pdf {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n \r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\nmargin-top-15{\r\n    margin-top:15px;\r\n}\r\n \r\n   .text-size-9{\r\n     font-size:9px;\r\n }\r\n \r\n    }\r\n    \r\n@media print {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n }\r\n \r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n  .text-size-9{\r\n     font-size:9px;\r\n }\r\n \r\n table.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n \r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n@media screen {\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n\r\n  .text-size-9{\r\n     font-size:11px;\r\n }\r\n}\r\n\r\n.amount-val{\r\n   color:darkgrey;\r\n   bottom:20px;\r\n   position:relative;\r\n}\r\n\r\n/*.watermark {*/\r\n/*    position: fixed;*/\r\n/*    top: 420px;*/\r\n/*    left: 220px;*/\r\n/*    right: 220px;*/\r\n/*    background: url(\"http://192.241.152.17/files/draft-background.png\");*/\r\n/*    background-repeat: no-repeat;*/\r\n    /*background-size: center;*/\r\n/*    height:400px;*/\r\n/*    width:50%;*/\r\n/*    background-position: center;*/\r\n/*    background-size: 100%;*/\r\n/*    color:black !important;*/\r\n/*    opacity: 0.3;*/\r\n/*    position: running(wtrmrk);*/\r\n/*    background-repeat: repeat-x;*/\r\n/*    }*/\r\n\r\n.watermark {\r\n    position: fixed;\r\n    top:70px;\r\n    left:11%;\r\n    right:10%;\r\n    background: url(\"http://192.241.152.17/files/draft-background.png\");\r\n    background-repeat: no-repeat;\r\n    height:700px;\r\n    width:80%;\r\n    /*background-position: center;*/\r\n    background-size: 100%;\r\n    opacity: 0.5;\r\n    }\r\n\r\n\r\n.days_tab {\r\n    position: relative;\r\n}\r\n\r\n.barchart-Wrapper {\r\n      display: table;\r\n      position: relative;\r\n      margin: 20px 0;\r\n      height: 120px;\r\n    }\r\n    .barChart-Container {\r\n      display: table-cell;\r\n      width: 100%;\r\n      height: 100%;\r\n      padding-left: 20px;\r\n      padding-right: 20px;\r\n    }\r\n    .barchart {\r\n     display: table;\r\n     table-layout: fixed;\r\n     height: 100%;\r\n     width: 100%;\r\n     border-bottom: 3px solid darkgrey;\r\n    }\r\n    .barchart-Col {\r\n      position: relative;\r\n      vertical-align: bottom;\r\n      display: table-cell;\r\n      height: 100%;\r\n    }\r\n    .barchart-Col + .barchart-Col {\r\n      border-left: 4px solid transparent;\r\n    }\r\n    .barchart-Bar {\r\n      position: static;\r\n      height: 0;\r\n      transition: height 0.5s 2s;\r\n      width: 10px;\r\n      margin: auto;\r\n    }\r\n    .barchart-Bar:after {\r\n      content: attr(attr-height);\r\n      color: white;\r\n      position: absolute;\r\n      text-align: center;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter {\r\n      position: absolute;\r\n      text-align: center;\r\n      left:40px;\r\n      height: 10%;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter h3 {\r\n      color: darkred;\r\n    }\r\n    .barchart-TimeCol {\r\n      position: absolute;\r\n      top: 0;\r\n      height: 100%;\r\n      width: 100%;\r\n    }\r\n    .barchart-Time {\r\n      height: 25%;\r\n      vertical-align: middle;\r\n      position: relative;\r\n    }\r\n    .barchart-Time:after {\r\n      border-bottom: 3px solid white;\r\n      content: \"\";\r\n      position: absolute;\r\n      width: 100%;\r\n      left: 0;\r\n      top: 0em;\r\n    }\r\n    .barchart-TimeText {\r\n      position: absolute;\r\n      top: -8px;\r\n      z-index: 1;\r\n      background: white;\r\n      padding-right: 5px;\r\n      color: #4d4d4d;\r\n      font-size: 15px;\r\n      font-family: 'Avenir Medium';\r\n    }\r\n    .sq1-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq1-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq2-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq2-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq3-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq3-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq4-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq4-bar {\r\n      background-color: #a61a17;\r\n    }",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Issue",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<div id=\"header-html\" class = \"margin-top-15\"   style = \" margin-top:-20px  !important; width:95%; margin-left:15px !important\">\r\n    <div class = \"row\" style = \"\">\r\n\r\n        <div class = \"col-xs-10\" style = \"width:100%;   float:left; border:1px solid black \">\r\n             {% set header = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1}, \"content\") %}\r\n             {% set default_company = frappe.db.get_value(\"Global Defaults\", \"Global Defaults\", \"default_company\") %}\r\n\r\n            \r\n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : default_company},\r\n            fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website', 'esd_no' ]) %}\r\n            \r\n            \r\n        \r\n        {% set comapny_address_line1 = '' %}        \r\n        {% set comapny_city = '' %}        \r\n        {% set comapny_counrty = '' %}        \r\n        {% set comapny_state = '' %}        \r\n        {% set phone = '' %}        \r\n\r\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\r\n\r\n        {% if company_address_name  %}\r\n            {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\r\n                \r\n\r\n        {% set comapny_address_line1 = address.address_line1 %}        \r\n        {% set comapny_city =  address.city  %}        \r\n        {% set comapny_counrty =  address.country  %}        \r\n        {% set comapny_state =  address.state  %}        \r\n\r\n        {% set phone = address.phone %}        \r\n\r\n        {% endif  %}\r\n\r\n\r\n            {% if company_details %}\r\n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \r\n            'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \r\n            'state' : comapny_state,\r\n            'phone_no' : phone, 'email' : company_details[0].email, 'pin_no': company_details[0].tax_id ,  'company_logo' : company_details[0].company_logo, 'website' : company_details[0].website,  }) %}\r\n            {{header_updated}}\r\n            {% endif %}\r\n            \r\n\r\n            <table  class = \"table table-sm\" style = \"width:30%; font-size:10px  \"> \r\n                <tr>\r\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:13px\"> Employee </b> </span> </center>  </td>\r\n                </tr>\r\n\r\n                <tr> \r\n                    <td style = \"font-size:10px\"><b> Doc Name </b></td> <td style = \"font-size:12px\"> <b> {{ doc.name }}</b></td>\r\n                </tr>\r\n                <tr> \r\n                    <td style = \"font-size:10px\"><b> Status </b></td> <td style = \"font-size:12px\"> <b> {{ doc.status }}</b></td>\r\n                </tr>\r\n                <tr> \r\n                    <td style = \"font-size:10px\"><b> Priority </b></td> <td style = \"font-size:12px\"> <b> {{ doc.priority }}</b></td>\r\n                </tr>\r\n            </table>\r\n        </div>\r\n</div>\r\n\r\n</div>\r\n<br>\r\n<br>\r\n\r\n<table border=0 style=\"padding:6px; font-size:10px;  width:99%; \">\r\n    <tr>\r\n        <td style=\"width:50%; font-size:10px;\">\r\n            <table>\r\n                <tr>\r\n                    <td style=\"font-weight:bold; font-size: 16px;\">Subject:</td>\r\n                    <td style=\"font-size: 16px;\">{{doc.subject}}</td>\r\n                </tr>\r\n                <tr>\r\n                    <td style=\"font-weight:bold; font-size: 16px;\">Customer:</td>\r\n                    <td style=\"font-size: 16px;\">{{doc.customer}}</td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <td style=\"font-weight:bold; font-size: 16px;\">Status:</td>\r\n                    <td style=\"font-size: 16px;\">{{doc.status}}</td>\r\n                </tr>\r\n\r\n            </table>\r\n        </td>\r\n        <td style=\"width:50%; \">\r\n            <table>\r\n\r\n                <tr>\r\n                    <td style=\"font-weight:bold; font-size: 16px;\">Priority:</td>\r\n                    <td style=\"font-size: 16px;\">{{ doc.priority }}</td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <td style=\"font-weight:bold; font-size: 16px;\">Issue Type:</td>\r\n                    <td style=\"font-size: 16px; \">{{doc.issue_type}}</td>\r\n                </tr>\r\n\r\n            </table>\r\n        </td>\r\n    </tr>\r\n</table>\r\n<br>\r\n<br>\r\n<div style=\"font-size: 16px;\">{{doc.description}}</div>\r\n\r\n<br>\r\n<br>\r\n\r\n\r\n\r\n\r\n{% set footer = frappe.db.get_value(\"Letter Head\", doc.letter_head, \"footer\") %}\r\n\r\n{% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(), \"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user, \"is_return\": doc.is_return, \"tims_code\": doc.tims_code, \"return_against\" : doc.return_against or \"\"}) %}\r\n{{ footer_updated }}\r\n\r\n\r\n    <div id=\"footer-html\" class=\"visible-pdf text-center  \" style = \"font-size:10px\" >\r\n        <p id=\"demo\"></p>\r\n        <div class=\"letter-head-footer text-size-10 text-center \"  style=\"font-size: 10px;\"  >\r\n            {{ footer }}\r\n        </div>\r\n        <p class=\"text-center small page-number visible-pdf\" style = \"font-size:10px\" >\r\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\r\n        </p>\r\n    </div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:58.184723",
  "module": "AQIQ Print Formats",
  "name": "Issue",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "@media screen,pdf {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n \r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\nmargin-top-15{\r\n    margin-top:15px;\r\n}\r\n \r\n   .text-size-9{\r\n     font-size:9px;\r\n }\r\n \r\n    }\r\n    \r\n@media print {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n }\r\n \r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n  .text-size-9{\r\n     font-size:9px;\r\n }\r\n \r\n table.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n \r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n@media screen {\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n\r\n  .text-size-9{\r\n     font-size:11px;\r\n }\r\n}\r\n\r\n.amount-val{\r\n   color:darkgrey;\r\n   bottom:20px;\r\n   position:relative;\r\n}\r\n\r\n/*.watermark {*/\r\n/*    position: fixed;*/\r\n/*    top: 420px;*/\r\n/*    left: 220px;*/\r\n/*    right: 220px;*/\r\n/*    background: url(\"http://192.241.152.17/files/draft-background.png\");*/\r\n/*    background-repeat: no-repeat;*/\r\n    /*background-size: center;*/\r\n/*    height:400px;*/\r\n/*    width:50%;*/\r\n/*    background-position: center;*/\r\n/*    background-size: 100%;*/\r\n/*    color:black !important;*/\r\n/*    opacity: 0.3;*/\r\n/*    position: running(wtrmrk);*/\r\n/*    background-repeat: repeat-x;*/\r\n/*    }*/\r\n\r\n.watermark {\r\n    position: fixed;\r\n    top:70px;\r\n    left:11%;\r\n    right:10%;\r\n    background: url(\"http://192.241.152.17/files/draft-background.png\");\r\n    background-repeat: no-repeat;\r\n    height:700px;\r\n    width:80%;\r\n    /*background-position: center;*/\r\n    background-size: 100%;\r\n    opacity: 0.5;\r\n    }\r\n\r\n\r\n.days_tab {\r\n    position: relative;\r\n}\r\n\r\n.barchart-Wrapper {\r\n      display: table;\r\n      position: relative;\r\n      margin: 20px 0;\r\n      height: 120px;\r\n    }\r\n    .barChart-Container {\r\n      display: table-cell;\r\n      width: 100%;\r\n      height: 100%;\r\n      padding-left: 20px;\r\n      padding-right: 20px;\r\n    }\r\n    .barchart {\r\n     display: table;\r\n     table-layout: fixed;\r\n     height: 100%;\r\n     width: 100%;\r\n     border-bottom: 3px solid darkgrey;\r\n    }\r\n    .barchart-Col {\r\n      position: relative;\r\n      vertical-align: bottom;\r\n      display: table-cell;\r\n      height: 100%;\r\n    }\r\n    .barchart-Col + .barchart-Col {\r\n      border-left: 4px solid transparent;\r\n    }\r\n    .barchart-Bar {\r\n      position: static;\r\n      height: 0;\r\n      transition: height 0.5s 2s;\r\n      width: 10px;\r\n      margin: auto;\r\n    }\r\n    .barchart-Bar:after {\r\n      content: attr(attr-height);\r\n      color: white;\r\n      position: absolute;\r\n      text-align: center;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter {\r\n      position: absolute;\r\n      text-align: center;\r\n      left:40px;\r\n      height: 10%;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter h3 {\r\n      color: darkred;\r\n    }\r\n    .barchart-TimeCol {\r\n      position: absolute;\r\n      top: 0;\r\n      height: 100%;\r\n      width: 100%;\r\n    }\r\n    .barchart-Time {\r\n      height: 25%;\r\n      vertical-align: middle;\r\n      position: relative;\r\n    }\r\n    .barchart-Time:after {\r\n      border-bottom: 3px solid white;\r\n      content: \"\";\r\n      position: absolute;\r\n      width: 100%;\r\n      left: 0;\r\n      top: 0em;\r\n    }\r\n    .barchart-TimeText {\r\n      position: absolute;\r\n      top: -8px;\r\n      z-index: 1;\r\n      background: white;\r\n      padding-right: 5px;\r\n      color: #4d4d4d;\r\n      font-size: 15px;\r\n      font-family: 'Avenir Medium';\r\n    }\r\n    .sq1-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq1-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq2-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq2-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq3-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq3-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq4-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq4-bar {\r\n      background-color: #a61a17;\r\n    }",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Injury Incidents",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<div id=\"header-html\" class = \"margin-top-15\"   style = \" margin-top:-20px  !important; width:95%; margin-left:15px !important\">\r\n    <div class = \"row\" style = \"\">\r\n\r\n        <div class = \"col-xs-10\" style = \"width:100%;   float:left; border:1px solid black \">\r\n             {% set header = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1}, \"content\") %}\r\n             {% set default_company = frappe.db.get_value(\"Global Defaults\", \"Global Defaults\", \"default_company\") %}\r\n\r\n            \r\n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : default_company},\r\n            fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website', 'esd_no' ]) %}\r\n            \r\n            \r\n        \r\n        {% set comapny_address_line1 = '' %}        \r\n        {% set comapny_city = '' %}        \r\n        {% set comapny_counrty = '' %}        \r\n        {% set comapny_state = '' %}        \r\n        {% set phone = '' %}        \r\n\r\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\r\n\r\n        {% if company_address_name  %}\r\n            {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\r\n                \r\n\r\n        {% set comapny_address_line1 = address.address_line1 %}        \r\n        {% set comapny_city =  address.city  %}        \r\n        {% set comapny_counrty =  address.country  %}        \r\n        {% set comapny_state =  address.state  %}        \r\n\r\n        {% set phone = address.phone %}        \r\n\r\n        {% endif  %}\r\n\r\n\r\n            {% if company_details %}\r\n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \r\n            'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \r\n            'state' : comapny_state,\r\n            'phone_no' : phone, 'email' : company_details[0].email, 'pin_no': company_details[0].tax_id ,  'company_logo' : company_details[0].company_logo, 'website' : company_details[0].website,  }) %}\r\n            {{header_updated}}\r\n            {% endif %}\r\n            \r\n\r\n            <table  class = \"table table-sm\" style = \"width:30%; font-size:10px  \"> \r\n                <tr>\r\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:13px\"> Employee </b> </span> </center>  </td>\r\n                </tr>\r\n\r\n                <tr> \r\n                    <td style = \"font-size:10px\"><b> Doc Name </b></td> <td style = \"font-size:12px\"> <b> {{ doc.name }}</b></td>\r\n                </tr>\r\n                <tr> \r\n                    <td style = \"font-size:10px\"><b> Department </b></td> <td style = \"font-size:12px\"> <b> {{ doc.department }}</b></td>\r\n                </tr>\r\n            </table>\r\n        </div>\r\n</div>\r\n\r\n</div>\r\n<br>\r\n<br>\r\n\r\n\r\n    <table border=0 style=\"padding:6px; font-size:10px;  width:99%; \">\r\n    <tr>\r\n        <td style=\"width:50%; font-size:10px;\">\r\n            <table>\r\n            <tr>\r\n            <td style=\"font-weight:bold; font-size: 16px;\">Employee:</td>\r\n            <td style=\"font-size: 16px;\">{{doc.employee}}</td>\r\n            </tr>\r\n             <tr>\r\n            <td style=\"font-weight:bold; font-size: 16px;\">Employee Name:</td>\r\n            <td style=\"font-size: 16px;\">{{doc.employee_name}}</td>\r\n             </tr>\r\n             \r\n             <tr>\r\n            <td style=\"font-weight:bold; font-size: 16px;\">Department:</td>\r\n            <td style=\"font-size: 16px;\">{{doc.department}}</td>\r\n             </tr>\r\n             \r\n             <tr>\r\n            <td style=\"font-weight:bold; font-size: 16px;\">Shift:</td>\r\n            <td style=\"font-size: 16px;\"> {{ doc.shift }}</td>\r\n             </tr>\r\n             \r\n        </table>\r\n        </td>\r\n    </tr>\r\n    </table>\r\n    <br>\r\n    <br>\r\n    <table border=0 style=\"padding:6px; font-size:10px;  width:99%; \">\r\n    <tr>\r\n        <td style=\"width:50%; font-size:10px;\">\r\n            <table>\r\n            <tr>\r\n            <td style=\"font-weight:bold; font-size: 16px;\">Date Of Injury:</td>\r\n            <td style=\"font-size: 16px;\">{{doc.get_formatted(\"date_of_injury\")}}</td>\r\n            </tr>\r\n             <tr>\r\n            <td style=\"font-weight:bold; font-size: 16px;\">Time Of Injury:</td>\r\n            <td style=\"font-size: 16px;\">{{doc.get_formatted(\"time_of_injury\")}}</td>\r\n             </tr>\r\n             \r\n             <tr>\r\n            <td style=\"font-weight:bold; font-size: 16px;\">State Of Injury:</td>\r\n            <td style=\"font-size: 16px;\">{{doc.state_of_injury}}</td>\r\n             </tr>\r\n             \r\n             <tr>\r\n            <td style=\"font-weight:bold; font-size: 16px;\">Cause Of Injury:</td>\r\n            <td style=\"font-size: 16px;\"> {{ doc.cause_of_injury }}</td>\r\n             </tr>\r\n             \r\n             <tr>\r\n            <td style=\"font-weight:bold; font-size: 16px;\">Period Of Incapacity<td>\r\n            <td style=\"font-size: 16px;\"> {{ doc.period_of_incapacity }}</td>\r\n             </tr>\r\n             \r\n             \r\n             <tr>\r\n            <td style=\"font-weight:bold; font-size: 16px;\">Action Taken</td>\r\n            <td style=\"font-size: 16px;\"> {{ doc.action_taken }}</td>\r\n             </tr>\r\n             \r\n        </table>\r\n        </td>\r\n        <td style=\"width:50%; \">\r\n            <table>\r\n          \r\n             <tr>\r\n            <td style=\"font-weight:bold; font-size: 16px;\">Suit Or No Suit:</td>\r\n            <td style=\"font-size: 16px;\">{{ doc.suit_or_no_suit }}</td>\r\n             </tr>\r\n             \r\n             <tr>\r\n            <td style=\"font-weight:bold; font-size: 16px;\">Clinic/Hospital :</td>\r\n            <td style=\"font-size: 16px; \">{{doc.clinichospital}}</td>\r\n             </tr>\r\n             \r\n             <tr>\r\n            <td style=\"font-weight:bold; font-size: 16px;\">Witness Name:</td>\r\n            <td style=\"font-size: 16px;\">{{doc.witness_name}}</td>\r\n             </tr>\r\n             <tr>\r\n            <td style=\"font-weight:bold; font-size: 16px;\">Insurance Status:</td>\r\n            <td style=\"font-size: 16px;\">{{doc.insurance_status}}</td>\r\n             </tr>\r\n             <tr>\r\n            <td style=\"font-weight:bold; font-size: 16px;\">Amount Kshs:</td>\r\n            <td style=\"font-size: 16px;\">{{doc.amount_kshs}}</td>\r\n             </tr>\r\n             \r\n        </table>\r\n        </td>\r\n    </tr>\r\n    </table>\r\n\r\n\r\n<br>\r\n<br>\r\n\r\n\r\n\r\n\r\n{% set footer = frappe.db.get_value(\"Letter Head\", doc.letter_head, \"footer\") %}\r\n\r\n{% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(), \"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user, \"is_return\": doc.is_return, \"tims_code\": doc.tims_code, \"return_against\" : doc.return_against or \"\"}) %}\r\n{{ footer_updated }}\r\n\r\n\r\n    <div id=\"footer-html\" class=\"visible-pdf text-center  \" style = \"font-size:10px\" >\r\n        <p id=\"demo\"></p>\r\n        <div class=\"letter-head-footer text-size-10 text-center \"  style=\"font-size: 10px;\"  >\r\n            {{ footer }}\r\n        </div>\r\n        <p class=\"text-center small page-number visible-pdf\" style = \"font-size:10px\" >\r\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\r\n        </p>\r\n    </div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:58.101314",
  "module": "AQIQ Print Formats",
  "name": "Injury Incidents",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "@media screen,pdf {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n \r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\nmargin-top-15{\r\n    margin-top:15px;\r\n}\r\n \r\n   .text-size-9{\r\n     font-size:9px;\r\n }\r\n \r\n    }\r\n    \r\n@media print {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n }\r\n \r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n  .text-size-9{\r\n     font-size:9px;\r\n }\r\n \r\n table.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n \r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n@media screen {\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n\r\n  .text-size-9{\r\n     font-size:11px;\r\n }\r\n}\r\n\r\n.amount-val{\r\n   color:darkgrey;\r\n   bottom:20px;\r\n   position:relative;\r\n}\r\n\r\n/*.watermark {*/\r\n/*    position: fixed;*/\r\n/*    top: 420px;*/\r\n/*    left: 220px;*/\r\n/*    right: 220px;*/\r\n/*    background: url(\"http://192.241.152.17/files/draft-background.png\");*/\r\n/*    background-repeat: no-repeat;*/\r\n    /*background-size: center;*/\r\n/*    height:400px;*/\r\n/*    width:50%;*/\r\n/*    background-position: center;*/\r\n/*    background-size: 100%;*/\r\n/*    color:black !important;*/\r\n/*    opacity: 0.3;*/\r\n/*    position: running(wtrmrk);*/\r\n/*    background-repeat: repeat-x;*/\r\n/*    }*/\r\n\r\n.watermark {\r\n    position: fixed;\r\n    top:70px;\r\n    left:11%;\r\n    right:10%;\r\n    background: url(\"http://192.241.152.17/files/draft-background.png\");\r\n    background-repeat: no-repeat;\r\n    height:700px;\r\n    width:80%;\r\n    /*background-position: center;*/\r\n    background-size: 100%;\r\n    opacity: 0.5;\r\n    }\r\n\r\n\r\n.days_tab {\r\n    position: relative;\r\n}\r\n\r\n.barchart-Wrapper {\r\n      display: table;\r\n      position: relative;\r\n      margin: 20px 0;\r\n      height: 120px;\r\n    }\r\n    .barChart-Container {\r\n      display: table-cell;\r\n      width: 100%;\r\n      height: 100%;\r\n      padding-left: 20px;\r\n      padding-right: 20px;\r\n    }\r\n    .barchart {\r\n     display: table;\r\n     table-layout: fixed;\r\n     height: 100%;\r\n     width: 100%;\r\n     border-bottom: 3px solid darkgrey;\r\n    }\r\n    .barchart-Col {\r\n      position: relative;\r\n      vertical-align: bottom;\r\n      display: table-cell;\r\n      height: 100%;\r\n    }\r\n    .barchart-Col + .barchart-Col {\r\n      border-left: 4px solid transparent;\r\n    }\r\n    .barchart-Bar {\r\n      position: static;\r\n      height: 0;\r\n      transition: height 0.5s 2s;\r\n      width: 10px;\r\n      margin: auto;\r\n    }\r\n    .barchart-Bar:after {\r\n      content: attr(attr-height);\r\n      color: white;\r\n      position: absolute;\r\n      text-align: center;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter {\r\n      position: absolute;\r\n      text-align: center;\r\n      left:40px;\r\n      height: 10%;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter h3 {\r\n      color: darkred;\r\n    }\r\n    .barchart-TimeCol {\r\n      position: absolute;\r\n      top: 0;\r\n      height: 100%;\r\n      width: 100%;\r\n    }\r\n    .barchart-Time {\r\n      height: 25%;\r\n      vertical-align: middle;\r\n      position: relative;\r\n    }\r\n    .barchart-Time:after {\r\n      border-bottom: 3px solid white;\r\n      content: \"\";\r\n      position: absolute;\r\n      width: 100%;\r\n      left: 0;\r\n      top: 0em;\r\n    }\r\n    .barchart-TimeText {\r\n      position: absolute;\r\n      top: -8px;\r\n      z-index: 1;\r\n      background: white;\r\n      padding-right: 5px;\r\n      color: #4d4d4d;\r\n      font-size: 15px;\r\n      font-family: 'Avenir Medium';\r\n    }\r\n    .sq1-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq1-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq2-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq2-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq3-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq3-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq4-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq4-bar {\r\n      background-color: #a61a17;\r\n    }",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Employee Gate Pass",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<div id=\"header-html\" class = \"margin-top-15\"   style = \" margin-top:-20px  !important; width:95%; margin-left:15px !important\">\r\n    <div class = \"row\" style = \"\">\r\n\r\n        <div class = \"col-xs-10\" style = \"width:100%;   float:left; border:1px solid black \">\r\n             {% set header = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1}, \"content\") %}\r\n             {% set default_company = frappe.db.get_value(\"Global Defaults\", \"Global Defaults\", \"default_company\") %}\r\n\r\n            \r\n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : default_company},\r\n            fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website', 'esd_no' ]) %}\r\n            \r\n            \r\n        \r\n        {% set comapny_address_line1 = '' %}        \r\n        {% set comapny_city = '' %}        \r\n        {% set comapny_counrty = '' %}        \r\n        {% set comapny_state = '' %}        \r\n        {% set phone = '' %}        \r\n\r\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\r\n\r\n        {% if company_address_name  %}\r\n            {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\r\n                \r\n\r\n        {% set comapny_address_line1 = address.address_line1 %}        \r\n        {% set comapny_city =  address.city  %}        \r\n        {% set comapny_counrty =  address.country  %}        \r\n        {% set comapny_state =  address.state  %}        \r\n\r\n        {% set phone = address.phone %}        \r\n\r\n        {% endif  %}\r\n\r\n\r\n            {% if company_details %}\r\n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \r\n            'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \r\n            'state' : comapny_state,\r\n            'phone_no' : phone, 'email' : company_details[0].email, 'pin_no': company_details[0].tax_id ,  'company_logo' : company_details[0].company_logo, 'website' : company_details[0].website,  }) %}\r\n            {{header_updated}}\r\n            {% endif %}\r\n            \r\n\r\n            <table  class = \"table table-sm\" style = \"width:30%; font-size:10px  \"> \r\n                <tr>\r\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:13px\"> Employee </b> </span> </center>  </td>\r\n                </tr>\r\n\r\n                <tr> \r\n                    <td style = \"font-size:10px\"><b> Doc Name </b></td> <td style = \"font-size:12px\"> <b> {{ doc.name }}</b></td>\r\n                </tr>\r\n                <tr> \r\n                    <td style = \"font-size:10px\"><b> Pass Type </b></td> <td style = \"font-size:12px\"> <b>  {{doc.pass_type}} </b></td>\r\n                </tr>\r\n                <tr> \r\n                    <td style = \"font-size:10px\"><b> Date </b></td> <td style = \"font-size:12px\"> <b> {{ doc.get_formatted('date') }}</b></td>\r\n                </tr>\r\n            </table>\r\n        </div>\r\n</div>\r\n\r\n</div>\r\n<br>\r\n<br>\r\n\r\n\r\n    <table border=0 style=\"padding:6px; font-size:10px;  width:99%; \">\r\n    <tr>\r\n        <td style=\"width:50%; font-size:10px;\">\r\n            <table>\r\n            <tr>\r\n            <td style=\"font-weight:bold; font-size: 16px;\">Employee:</td>\r\n            <td style=\"font-size: 16px;\">{{doc.employee}}</td>\r\n            </tr>\r\n             <tr>\r\n            <td style=\"font-weight:bold; font-size: 16px;\">Employee Name:</td>\r\n            <td style=\"font-size: 16px;\">{{doc.employee_name}}</td>\r\n             </tr>\r\n             \r\n             <tr>\r\n            <td style=\"font-weight:bold; font-size: 16px;\">Pass Reason:</td>\r\n            <td style=\"font-size: 16px;\">{{doc.pass_reason}}</td>\r\n             </tr>\r\n             \r\n             <tr>\r\n            <td style=\"font-weight:bold; font-size: 16px;\">Time Out:</td>\r\n            <td style=\"font-size: 16px;\"> {{ doc.get_formatted('time_out') }}</td>\r\n             </tr>\r\n             \r\n        </table>\r\n        </td>\r\n        <td style=\"width:50%; \">\r\n            <table>\r\n          \r\n             <tr>\r\n            <td style=\"font-weight:bold; font-size: 16px;\">Estimated Return Time:</td>\r\n            <td style=\"font-size: 16px;\">  {{ doc.get_formatted('estimated_return_time') }}</td>\r\n             </tr>\r\n             \r\n             <tr>\r\n            <td style=\"font-weight:bold; font-size: 16px;\">Actual Return Time:</td>\r\n            <td style=\"font-size: 16px; \">{{ doc.get_formatted('actual_return_time') }}</td>\r\n             </tr>\r\n             \r\n             <tr>\r\n            <td style=\"font-weight:bold; font-size: 16px;\">Authorized By:</td>\r\n            <td style=\"font-size: 16px;\">{{doc.authorized_by}}</td>\r\n             </tr>\r\n             \r\n        </table>\r\n        </td>\r\n    </tr>\r\n    </table>\r\n\r\n<br>\r\n<br>\r\n\r\n\r\n\r\n\r\n{% set footer = frappe.db.get_value(\"Letter Head\", doc.letter_head, \"footer\") %}\r\n\r\n{% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(), \"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user, \"is_return\": doc.is_return, \"tims_code\": doc.tims_code, \"return_against\" : doc.return_against or \"\"}) %}\r\n{{ footer_updated }}\r\n\r\n\r\n    <div id=\"footer-html\" class=\"visible-pdf text-center  \" style = \"font-size:10px\" >\r\n        <p id=\"demo\"></p>\r\n        <div class=\"letter-head-footer text-size-10 text-center \"  style=\"font-size: 10px;\"  >\r\n            {{ footer }}\r\n        </div>\r\n        <p class=\"text-center small page-number visible-pdf\" style = \"font-size:10px\" >\r\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\r\n        </p>\r\n    </div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:58.019200",
  "module": "AQIQ Print Formats",
  "name": "Employee Gate Pass",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "@media screen,pdf {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n \r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\nmargin-top-15{\r\n    margin-top:15px;\r\n}\r\n \r\n   .text-size-9{\r\n     font-size:9px;\r\n }\r\n \r\n    }\r\n    \r\n@media print {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n }\r\n \r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n  .text-size-9{\r\n     font-size:9px;\r\n }\r\n \r\n table.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n \r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n@media screen {\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n\r\n  .text-size-9{\r\n     font-size:11px;\r\n }\r\n}\r\n\r\n.amount-val{\r\n   color:darkgrey;\r\n   bottom:20px;\r\n   position:relative;\r\n}\r\n\r\n/*.watermark {*/\r\n/*    position: fixed;*/\r\n/*    top: 420px;*/\r\n/*    left: 220px;*/\r\n/*    right: 220px;*/\r\n/*    background: url(\"http://192.241.152.17/files/draft-background.png\");*/\r\n/*    background-repeat: no-repeat;*/\r\n    /*background-size: center;*/\r\n/*    height:400px;*/\r\n/*    width:50%;*/\r\n/*    background-position: center;*/\r\n/*    background-size: 100%;*/\r\n/*    color:black !important;*/\r\n/*    opacity: 0.3;*/\r\n/*    position: running(wtrmrk);*/\r\n/*    background-repeat: repeat-x;*/\r\n/*    }*/\r\n\r\n.watermark {\r\n    position: fixed;\r\n    top:70px;\r\n    left:11%;\r\n    right:10%;\r\n    background: url(\"http://192.241.152.17/files/draft-background.png\");\r\n    background-repeat: no-repeat;\r\n    height:700px;\r\n    width:80%;\r\n    /*background-position: center;*/\r\n    background-size: 100%;\r\n    opacity: 0.5;\r\n    }\r\n\r\n\r\n.days_tab {\r\n    position: relative;\r\n}\r\n\r\n.barchart-Wrapper {\r\n      display: table;\r\n      position: relative;\r\n      margin: 20px 0;\r\n      height: 120px;\r\n    }\r\n    .barChart-Container {\r\n      display: table-cell;\r\n      width: 100%;\r\n      height: 100%;\r\n      padding-left: 20px;\r\n      padding-right: 20px;\r\n    }\r\n    .barchart {\r\n     display: table;\r\n     table-layout: fixed;\r\n     height: 100%;\r\n     width: 100%;\r\n     border-bottom: 3px solid darkgrey;\r\n    }\r\n    .barchart-Col {\r\n      position: relative;\r\n      vertical-align: bottom;\r\n      display: table-cell;\r\n      height: 100%;\r\n    }\r\n    .barchart-Col + .barchart-Col {\r\n      border-left: 4px solid transparent;\r\n    }\r\n    .barchart-Bar {\r\n      position: static;\r\n      height: 0;\r\n      transition: height 0.5s 2s;\r\n      width: 10px;\r\n      margin: auto;\r\n    }\r\n    .barchart-Bar:after {\r\n      content: attr(attr-height);\r\n      color: white;\r\n      position: absolute;\r\n      text-align: center;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter {\r\n      position: absolute;\r\n      text-align: center;\r\n      left:40px;\r\n      height: 10%;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter h3 {\r\n      color: darkred;\r\n    }\r\n    .barchart-TimeCol {\r\n      position: absolute;\r\n      top: 0;\r\n      height: 100%;\r\n      width: 100%;\r\n    }\r\n    .barchart-Time {\r\n      height: 25%;\r\n      vertical-align: middle;\r\n      position: relative;\r\n    }\r\n    .barchart-Time:after {\r\n      border-bottom: 3px solid white;\r\n      content: \"\";\r\n      position: absolute;\r\n      width: 100%;\r\n      left: 0;\r\n      top: 0em;\r\n    }\r\n    .barchart-TimeText {\r\n      position: absolute;\r\n      top: -8px;\r\n      z-index: 1;\r\n      background: white;\r\n      padding-right: 5px;\r\n      color: #4d4d4d;\r\n      font-size: 15px;\r\n      font-family: 'Avenir Medium';\r\n    }\r\n    .sq1-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq1-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq2-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq2-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq3-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq3-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq4-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq4-bar {\r\n      background-color: #a61a17;\r\n    }",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Disciplinary",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<div id=\"header-html\" class = \"margin-top-15\"   style = \" margin-top:-20px  !important; width:95%; margin-left:15px !important\">\r\n    <div class = \"row\" style = \"\">\r\n\r\n        <div class = \"col-xs-10\" style = \"width:100%;   float:left; border:1px solid black \">\r\n             {% set header = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1}, \"content\") %}\r\n             {% set default_company = frappe.db.get_value(\"Global Defaults\", \"Global Defaults\", \"default_company\") %}\r\n\r\n            \r\n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : default_company},\r\n            fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website', 'esd_no' ]) %}\r\n            \r\n            \r\n        \r\n        {% set comapny_address_line1 = '' %}        \r\n        {% set comapny_city = '' %}        \r\n        {% set comapny_counrty = '' %}        \r\n        {% set comapny_state = '' %}        \r\n        {% set phone = '' %}        \r\n\r\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\r\n\r\n        {% if company_address_name  %}\r\n            {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\r\n                \r\n\r\n        {% set comapny_address_line1 = address.address_line1 %}        \r\n        {% set comapny_city =  address.city  %}        \r\n        {% set comapny_counrty =  address.country  %}        \r\n        {% set comapny_state =  address.state  %}        \r\n\r\n        {% set phone = address.phone %}        \r\n\r\n        {% endif  %}\r\n\r\n\r\n            {% if company_details %}\r\n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \r\n            'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \r\n            'state' : comapny_state,\r\n            'phone_no' : phone, 'email' : company_details[0].email, 'pin_no': company_details[0].tax_id ,  'company_logo' : company_details[0].company_logo, 'website' : company_details[0].website,  }) %}\r\n            {{header_updated}}\r\n            {% endif %}\r\n            \r\n\r\n            <table  class = \"table table-sm\" style = \"width:30%; font-size:10px  \"> \r\n                <tr>\r\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:13px\"> Employee </b> </span> </center>  </td>\r\n                </tr>\r\n\r\n                <tr> \r\n                    <td style = \"font-size:10px\"><b> Doc Name </b></td> <td style = \"font-size:12px\"> <b> {{ doc.name }}</b></td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:10px'> Department </td> <td style = 'font-size:10px'> \r\n                    {{doc.department}} \r\n                </tr>\r\n\r\n            </table>\r\n        </div>\r\n</div>\r\n\r\n</div>\r\n<br>\r\n<br>\r\n\r\n\r\n    <table border=0 style=\"padding:6px; font-size:10px;  width:99%; \">\r\n    <tr>\r\n        <td style=\"width:50%; \">\r\n            <table>\r\n            <tr>\r\n            <td style=\"font-weight:bold;\">Employee:</td>\r\n            <td>{{doc.employee}}</td>\r\n            </tr>\r\n             <tr>\r\n            <td style=\"font-weight:bold;\">Employee Name:</td>\r\n            <td>{{doc.employee_name}}</td>\r\n             </tr>\r\n             <tr>\r\n            <td style=\"font-weight:bold;\">Department:</td>\r\n            <td>{{doc.department}}</td>\r\n             </tr>\r\n        </table>\r\n        </td>\r\n            <td style=\"width:50%; \">\r\n            <table>\r\n                <tr>\r\n                    <td style=\"font-weight:bold;\">Case Type:</td>\r\n                    <td>{{doc.case_type}}</td>\r\n                </tr>\r\n                <tr>\r\n                    <td style=\"font-weight:bold;\">Hearing Date:</td>\r\n                    <td>{{doc.get_formatted('hearing_date') }}</td>\r\n                </tr>\r\n                <tr>\r\n                    <td style=\"font-weight:bold;\">Person Handling:</td>\r\n                    <td>{{doc.person_handling}}</td>\r\n                </tr>\r\n                <tr>\r\n                    <td style=\"font-weight:bold;\">Case Details:</td>\r\n                    <td>{{doc.case_details}}</td>\r\n                </tr>\r\n            </table>\r\n        </td>\r\n    </tr>\r\n    </table>\r\n\r\n<br>\r\n\r\n<br>\r\n\r\n\r\n\r\n\r\n    <table>\r\n        <tr>\r\n            <th>Hearing Date\r\n            </th>\r\n            <th>Attendees\r\n            </th>\r\n            <th>Content of Minutes\r\n            </th>\r\n            <th>Action</th>\r\n        </tr>\r\n        <tbody>\r\n            {% for row in doc.hearing %}\r\n            <tr>\r\n                <td>{{ row.get_formatted('hearing_date') }}</td>\r\n                <td>{{row.attendees}}</td>\r\n                <td>{{row.content_of_minutes}}</td>\r\n                <td>{{row.action}}</td>\r\n            </tr>\r\n            {% endfor %}\r\n        </tbody>\r\n    </table>\r\n\r\n\r\n\r\n\r\n{% set footer = frappe.db.get_value(\"Letter Head\", doc.letter_head, \"footer\") %}\r\n\r\n{% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(), \"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user, \"is_return\": doc.is_return, \"tims_code\": doc.tims_code, \"return_against\" : doc.return_against or \"\"}) %}\r\n{{ footer_updated }}\r\n\r\n\r\n    <div id=\"footer-html\" class=\"visible-pdf text-center  \" style = \"font-size:10px\" >\r\n        <p id=\"demo\"></p>\r\n        <div class=\"letter-head-footer text-size-10 text-center \"  style=\"font-size: 10px;\"  >\r\n            {{ footer }}\r\n        </div>\r\n        <p class=\"text-center small page-number visible-pdf\" style = \"font-size:10px\" >\r\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\r\n        </p>\r\n    </div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:57.934495",
  "module": "AQIQ Print Formats",
  "name": "Disciplinary",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "@media screen,pdf {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n \r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\nmargin-top-15{\r\n    margin-top:15px;\r\n}\r\n \r\n   .text-size-9{\r\n     font-size:9px;\r\n }\r\n \r\n    }\r\n    \r\n@media print {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n }\r\n \r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n  .text-size-9{\r\n     font-size:9px;\r\n }\r\n \r\n table.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n \r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n@media screen {\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n\r\n  .text-size-9{\r\n     font-size:11px;\r\n }\r\n}\r\n\r\n.amount-val{\r\n   color:darkgrey;\r\n   bottom:20px;\r\n   position:relative;\r\n}\r\n\r\n/*.watermark {*/\r\n/*    position: fixed;*/\r\n/*    top: 420px;*/\r\n/*    left: 220px;*/\r\n/*    right: 220px;*/\r\n/*    background: url(\"http://192.241.152.17/files/draft-background.png\");*/\r\n/*    background-repeat: no-repeat;*/\r\n    /*background-size: center;*/\r\n/*    height:400px;*/\r\n/*    width:50%;*/\r\n/*    background-position: center;*/\r\n/*    background-size: 100%;*/\r\n/*    color:black !important;*/\r\n/*    opacity: 0.3;*/\r\n/*    position: running(wtrmrk);*/\r\n/*    background-repeat: repeat-x;*/\r\n/*    }*/\r\n\r\n.watermark {\r\n    position: fixed;\r\n    top:70px;\r\n    left:11%;\r\n    right:10%;\r\n    background: url(\"http://192.241.152.17/files/draft-background.png\");\r\n    background-repeat: no-repeat;\r\n    height:700px;\r\n    width:80%;\r\n    /*background-position: center;*/\r\n    background-size: 100%;\r\n    opacity: 0.5;\r\n    }\r\n\r\n\r\n.days_tab {\r\n    position: relative;\r\n}\r\n\r\n.barchart-Wrapper {\r\n      display: table;\r\n      position: relative;\r\n      margin: 20px 0;\r\n      height: 120px;\r\n    }\r\n    .barChart-Container {\r\n      display: table-cell;\r\n      width: 100%;\r\n      height: 100%;\r\n      padding-left: 20px;\r\n      padding-right: 20px;\r\n    }\r\n    .barchart {\r\n     display: table;\r\n     table-layout: fixed;\r\n     height: 100%;\r\n     width: 100%;\r\n     border-bottom: 3px solid darkgrey;\r\n    }\r\n    .barchart-Col {\r\n      position: relative;\r\n      vertical-align: bottom;\r\n      display: table-cell;\r\n      height: 100%;\r\n    }\r\n    .barchart-Col + .barchart-Col {\r\n      border-left: 4px solid transparent;\r\n    }\r\n    .barchart-Bar {\r\n      position: static;\r\n      height: 0;\r\n      transition: height 0.5s 2s;\r\n      width: 10px;\r\n      margin: auto;\r\n    }\r\n    .barchart-Bar:after {\r\n      content: attr(attr-height);\r\n      color: white;\r\n      position: absolute;\r\n      text-align: center;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter {\r\n      position: absolute;\r\n      text-align: center;\r\n      left:40px;\r\n      height: 10%;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter h3 {\r\n      color: darkred;\r\n    }\r\n    .barchart-TimeCol {\r\n      position: absolute;\r\n      top: 0;\r\n      height: 100%;\r\n      width: 100%;\r\n    }\r\n    .barchart-Time {\r\n      height: 25%;\r\n      vertical-align: middle;\r\n      position: relative;\r\n    }\r\n    .barchart-Time:after {\r\n      border-bottom: 3px solid white;\r\n      content: \"\";\r\n      position: absolute;\r\n      width: 100%;\r\n      left: 0;\r\n      top: 0em;\r\n    }\r\n    .barchart-TimeText {\r\n      position: absolute;\r\n      top: -8px;\r\n      z-index: 1;\r\n      background: white;\r\n      padding-right: 5px;\r\n      color: #4d4d4d;\r\n      font-size: 15px;\r\n      font-family: 'Avenir Medium';\r\n    }\r\n    .sq1-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq1-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq2-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq2-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq3-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq3-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq4-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq4-bar {\r\n      background-color: #a61a17;\r\n    }",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Employee",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<div id=\"header-html\" class = \"margin-top-15\"   style = \" margin-top:-20px  !important; width:95%; margin-left:15px !important\">\r\n    <div class = \"row\" style = \"\">\r\n\r\n        <div class = \"col-xs-10\" style = \"width:100%;   float:left; border:1px solid black \">\r\n             {% set header = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1}, \"content\") %}\r\n            \r\n            <!--{% if doc.company == 'Impala Glass Industries Ltd' %}-->\r\n            <!--    {% set logo = \"/files/Impala.png\" %} {% elif doc.company == \"Impala Africa Ltd\" %} {% set logo = \"/files/impala-africa-logo.jpg\" %}-->\r\n            <!--{% endif %}-->\r\n            \r\n            \r\n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company},\r\n            fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website', 'esd_no' ]) %}\r\n            \r\n            \r\n        \r\n        {% set comapny_address_line1 = '' %}        \r\n        {% set comapny_city = '' %}        \r\n        {% set comapny_counrty = '' %}        \r\n        {% set comapny_state = '' %}        \r\n        {% set phone = '' %}        \r\n\r\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\r\n\r\n        {% if company_address_name  %}\r\n            {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\r\n                \r\n\r\n        {% set comapny_address_line1 = address.address_line1 %}        \r\n        {% set comapny_city =  address.city  %}        \r\n        {% set comapny_counrty =  address.country  %}        \r\n        {% set comapny_state =  address.state  %}        \r\n\r\n        {% set phone = address.phone %}        \r\n\r\n        {% endif  %}\r\n\r\n\r\n            {% if company_details %}\r\n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \r\n            'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \r\n            'state' : comapny_state,\r\n            'phone_no' : phone, 'email' : company_details[0].email, 'pin_no': company_details[0].tax_id ,  'company_logo' : company_details[0].company_logo, 'website' : company_details[0].website,  }) %}\r\n            {{header_updated}}\r\n            {% endif %}\r\n            \r\n\r\n            <table  class = \"table table-sm\" style = \"width:30%; font-size:10px  \"> \r\n                <tr>\r\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:13px\"> Employee </b> </span> </center>  </td>\r\n                </tr>\r\n\r\n                <tr> \r\n                    <td style = \"font-size:10px\"><b> Doc Name </b></td> <td style = \"font-size:12px\"> <b> {{ doc.name }}</b></td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:10px'> Date of Joining </td> <td style = 'font-size:10px'> \r\n                    {{ doc.get_formatted('date_of_joining') }} \r\n                </tr>\r\n\r\n            </table>\r\n        </div>\r\n</div>\r\n\r\n</div>\r\n<br>\r\n<br>\r\n\r\n\r\n    <table border=0 style=\"padding:6px; font-size:10px;  width:99%; \">\r\n    <tr>\r\n        <td style=\"width:50%; \">\r\n            <table>\r\n            <tr>\r\n            <td style=\"font-weight:bold;\">Full Name:</td>\r\n            <td>{{doc.employee_name}}</td>\r\n            </tr>\r\n             <tr>\r\n            <td style=\"font-weight:bold;\">Gender:</td>\r\n            <td>{{doc.gender}}</td>\r\n             </tr>\r\n             <tr>\r\n            <td style=\"font-weight:bold;\">Date of Birth:</td>\r\n            <td>{{doc.get_formatted(\"date_of_birth\")}}</td>\r\n             </tr>\r\n        </table>\r\n        </td>\r\n        <td style=\"width:50%; \">\r\n            <table>\r\n              <tr>\r\n            <td style=\"font-weight:bold;\">Employment type</td>\r\n            <td>{{doc.employment_type}}</td>\r\n             </tr>\r\n             <tr>\r\n            <td style=\"font-weight:bold;\">Date of Joining</td>\r\n            <td>{{doc.get_formatted(\"date_of_joining\")}}</td>\r\n             </tr>\r\n        </table>\r\n        </td>\r\n    </tr>\r\n    </table>\r\n\r\n<br>\r\n<br>\r\n\r\n    <table>\r\n        <tr>\r\n            <th>Warning Date</th>\r\n            <th>Department</th>\r\n            <th>Warning reasons</th>\r\n            <th>Warning details</th>\r\n            <th>Letter Template</th>\r\n            <th>Authorized by</th>\r\n        </tr>\r\n        <tbody>\r\n            {% for row in doc.warning_letter %}\r\n            <tr>\r\n                \r\n                <td>{{ row.get_formatted('warning_date') }}</td>\r\n                <td>{{row.department}}</td>\r\n                <td>{{row.warning_reasons}}</td>\r\n                <td>{{row.warning_details}}</td>\r\n                <td>{{row.letter_template}}</td>\r\n                <td>{{row.authorized_by}}</td>\r\n            </tr>\r\n            {% endfor %}\r\n        </tbody>\r\n    </table>\r\n\r\n\r\n\r\n\r\n{% set footer = frappe.db.get_value(\"Letter Head\", doc.letter_head, \"footer\") %}\r\n\r\n{% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(), \"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user, \"is_return\": doc.is_return, \"tims_code\": doc.tims_code, \"return_against\" : doc.return_against or \"\"}) %}\r\n{{ footer_updated }}\r\n\r\n\r\n    <div id=\"footer-html\" class=\"visible-pdf text-center  \" style = \"font-size:10px\" >\r\n        <p id=\"demo\"></p>\r\n        <div class=\"letter-head-footer text-size-10 text-center \"  style=\"font-size: 10px;\"  >\r\n            {{ footer }}\r\n        </div>\r\n        <p class=\"text-center small page-number visible-pdf\" style = \"font-size:10px\" >\r\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\r\n        </p>\r\n    </div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:57.864749",
  "module": "AQIQ Print Formats",
  "name": "Warnings Section",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "@media screen,pdf {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n \r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\nmargin-top-15{\r\n    margin-top:15px;\r\n}\r\n \r\n   .text-size-9{\r\n     font-size:9px;\r\n }\r\n \r\n    }\r\n    \r\n@media print {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n }\r\n \r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n  .text-size-9{\r\n     font-size:9px;\r\n }\r\n \r\n table.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n \r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n@media screen {\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n\r\n  .text-size-9{\r\n     font-size:11px;\r\n }\r\n}\r\n\r\n.amount-val{\r\n   color:darkgrey;\r\n   bottom:20px;\r\n   position:relative;\r\n}\r\n\r\n/*.watermark {*/\r\n/*    position: fixed;*/\r\n/*    top: 420px;*/\r\n/*    left: 220px;*/\r\n/*    right: 220px;*/\r\n/*    background: url(\"http://192.241.152.17/files/draft-background.png\");*/\r\n/*    background-repeat: no-repeat;*/\r\n    /*background-size: center;*/\r\n/*    height:400px;*/\r\n/*    width:50%;*/\r\n/*    background-position: center;*/\r\n/*    background-size: 100%;*/\r\n/*    color:black !important;*/\r\n/*    opacity: 0.3;*/\r\n/*    position: running(wtrmrk);*/\r\n/*    background-repeat: repeat-x;*/\r\n/*    }*/\r\n\r\n.watermark {\r\n    position: fixed;\r\n    top:70px;\r\n    left:11%;\r\n    right:10%;\r\n    background: url(\"http://192.241.152.17/files/draft-background.png\");\r\n    background-repeat: no-repeat;\r\n    height:700px;\r\n    width:80%;\r\n    /*background-position: center;*/\r\n    background-size: 100%;\r\n    opacity: 0.5;\r\n    }\r\n\r\n\r\n.days_tab {\r\n    position: relative;\r\n}\r\n\r\n.barchart-Wrapper {\r\n      display: table;\r\n      position: relative;\r\n      margin: 20px 0;\r\n      height: 120px;\r\n    }\r\n    .barChart-Container {\r\n      display: table-cell;\r\n      width: 100%;\r\n      height: 100%;\r\n      padding-left: 20px;\r\n      padding-right: 20px;\r\n    }\r\n    .barchart {\r\n     display: table;\r\n     table-layout: fixed;\r\n     height: 100%;\r\n     width: 100%;\r\n     border-bottom: 3px solid darkgrey;\r\n    }\r\n    .barchart-Col {\r\n      position: relative;\r\n      vertical-align: bottom;\r\n      display: table-cell;\r\n      height: 100%;\r\n    }\r\n    .barchart-Col + .barchart-Col {\r\n      border-left: 4px solid transparent;\r\n    }\r\n    .barchart-Bar {\r\n      position: static;\r\n      height: 0;\r\n      transition: height 0.5s 2s;\r\n      width: 10px;\r\n      margin: auto;\r\n    }\r\n    .barchart-Bar:after {\r\n      content: attr(attr-height);\r\n      color: white;\r\n      position: absolute;\r\n      text-align: center;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter {\r\n      position: absolute;\r\n      text-align: center;\r\n      left:40px;\r\n      height: 10%;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter h3 {\r\n      color: darkred;\r\n    }\r\n    .barchart-TimeCol {\r\n      position: absolute;\r\n      top: 0;\r\n      height: 100%;\r\n      width: 100%;\r\n    }\r\n    .barchart-Time {\r\n      height: 25%;\r\n      vertical-align: middle;\r\n      position: relative;\r\n    }\r\n    .barchart-Time:after {\r\n      border-bottom: 3px solid white;\r\n      content: \"\";\r\n      position: absolute;\r\n      width: 100%;\r\n      left: 0;\r\n      top: 0em;\r\n    }\r\n    .barchart-TimeText {\r\n      position: absolute;\r\n      top: -8px;\r\n      z-index: 1;\r\n      background: white;\r\n      padding-right: 5px;\r\n      color: #4d4d4d;\r\n      font-size: 15px;\r\n      font-family: 'Avenir Medium';\r\n    }\r\n    .sq1-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq1-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq2-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq2-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq3-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq3-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq4-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq4-bar {\r\n      background-color: #a61a17;\r\n    }",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Employee",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<div id=\"header-html\" class = \"margin-top-15\"   style = \" margin-top:-20px  !important; width:95%; margin-left:15px !important\">\r\n    <div class = \"row\" style = \"\">\r\n\r\n        <div class = \"col-xs-10\" style = \"width:100%;   float:left; border:1px solid black \">\r\n             {% set header = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1}, \"content\") %}\r\n            \r\n            <!--{% if doc.company == 'Impala Glass Industries Ltd' %}-->\r\n            <!--    {% set logo = \"/files/Impala.png\" %} {% elif doc.company == \"Impala Africa Ltd\" %} {% set logo = \"/files/impala-africa-logo.jpg\" %}-->\r\n            <!--{% endif %}-->\r\n            \r\n            \r\n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company},\r\n            fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website', 'esd_no' ]) %}\r\n            \r\n            \r\n        \r\n        {% set comapny_address_line1 = '' %}        \r\n        {% set comapny_city = '' %}        \r\n        {% set comapny_counrty = '' %}        \r\n        {% set comapny_state = '' %}        \r\n        {% set phone = '' %}        \r\n\r\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\r\n\r\n        {% if company_address_name  %}\r\n            {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\r\n                \r\n\r\n        {% set comapny_address_line1 = address.address_line1 %}        \r\n        {% set comapny_city =  address.city  %}        \r\n        {% set comapny_counrty =  address.country  %}        \r\n        {% set comapny_state =  address.state  %}        \r\n\r\n        {% set phone = address.phone %}        \r\n\r\n        {% endif  %}\r\n\r\n\r\n            {% if company_details %}\r\n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \r\n            'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \r\n            'state' : comapny_state,\r\n            'phone_no' : phone, 'email' : company_details[0].email, 'pin_no': company_details[0].tax_id ,  'company_logo' : company_details[0].company_logo, 'website' : company_details[0].website,  }) %}\r\n            {{header_updated}}\r\n            {% endif %}\r\n            \r\n\r\n            <table  class = \"table table-sm\" style = \"width:30%; font-size:10px  \"> \r\n                <tr>\r\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:13px\"> Employee </b> </span> </center>  </td>\r\n                </tr>\r\n\r\n                <tr> \r\n                    <td style = \"font-size:10px\"><b> Doc Name </b></td> <td style = \"font-size:12px\"> <b> {{ doc.name }}</b></td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:10px'> Date of Joining </td> <td style = 'font-size:10px'> \r\n                    {{ doc.get_formatted('date_of_joining') }} \r\n                </tr>\r\n\r\n            </table>\r\n        </div>\r\n</div>\r\n\r\n</div>\r\n<br>\r\n<br>\r\n\r\n\r\n    <table border=0 style=\"padding:6px; font-size:10px;  width:99%; \">\r\n    <tr>\r\n        <td style=\"width:50%; \">\r\n            <table>\r\n            <tr>\r\n            <td style=\"font-weight:bold;\">Full Name:</td>\r\n            <td>{{doc.employee_name}}</td>\r\n            </tr>\r\n             <tr>\r\n            <td style=\"font-weight:bold;\">Gender:</td>\r\n            <td>{{doc.gender}}</td>\r\n             </tr>\r\n             <tr>\r\n            <td style=\"font-weight:bold;\">Date of Birth:</td>\r\n            <td>{{doc.get_formatted(\"date_of_birth\")}}</td>\r\n             </tr>\r\n        </table>\r\n        </td>\r\n        <td style=\"width:50%; \">\r\n            <table>\r\n              <tr>\r\n            <td style=\"font-weight:bold;\">Employment type</td>\r\n            <td>{{doc.employment_type}}</td>\r\n             </tr>\r\n             <tr>\r\n            <td style=\"font-weight:bold;\">Date of Joining</td>\r\n            <td>{{doc.get_formatted(\"date_of_joining\")}}</td>\r\n             </tr>\r\n        </table>\r\n        </td>\r\n    </tr>\r\n    </table>\r\n\r\n<br>\r\n<br>\r\n\r\n    <table>\r\n        <tr>\r\n            <th>Contact Full Name</th>\r\n            <th>Contact Phone No</th>\r\n            <th>Relation</th>\r\n            <th>Contact Type</th>\r\n        </tr>\r\n        <tbody>\r\n            {% for row in doc.emergency_and_relatives %}\r\n            <tr>\r\n                <td>{{row.contact_full_name}}</td>\r\n                <td>{{row.contact_phone_no}}</td>\r\n                <td>{{row.relation}}</td>\r\n                <td>{{row.contact_type}}</td>\r\n            </tr>\r\n            {% endfor %}\r\n        </tbody>\r\n    </table>\r\n\r\n\r\n\r\n\r\n\r\n{% set footer = frappe.db.get_value(\"Letter Head\", doc.letter_head, \"footer\") %}\r\n\r\n{% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(), \"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user, \"is_return\": doc.is_return, \"tims_code\": doc.tims_code, \"return_against\" : doc.return_against or \"\"}) %}\r\n{{ footer_updated }}\r\n\r\n\r\n    <div id=\"footer-html\" class=\"visible-pdf text-center  \" style = \"font-size:10px\" >\r\n        <p id=\"demo\"></p>\r\n        <div class=\"letter-head-footer text-size-10 text-center \"  style=\"font-size: 10px;\"  >\r\n            {{ footer }}\r\n        </div>\r\n        <p class=\"text-center small page-number visible-pdf\" style = \"font-size:10px\" >\r\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\r\n        </p>\r\n    </div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:57.758062",
  "module": "AQIQ Print Formats",
  "name": "Emergency Relatives",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "@media screen,pdf {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n \r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\nmargin-top-15{\r\n    margin-top:15px;\r\n}\r\n \r\n   .text-size-9{\r\n     font-size:9px;\r\n }\r\n \r\n    }\r\n    \r\n@media print {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n }\r\n \r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n  .text-size-9{\r\n     font-size:9px;\r\n }\r\n \r\n table.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n \r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n@media screen {\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n\r\n  .text-size-9{\r\n     font-size:11px;\r\n }\r\n}\r\n\r\n.amount-val{\r\n   color:darkgrey;\r\n   bottom:20px;\r\n   position:relative;\r\n}\r\n\r\n/*.watermark {*/\r\n/*    position: fixed;*/\r\n/*    top: 420px;*/\r\n/*    left: 220px;*/\r\n/*    right: 220px;*/\r\n/*    background: url(\"http://192.241.152.17/files/draft-background.png\");*/\r\n/*    background-repeat: no-repeat;*/\r\n    /*background-size: center;*/\r\n/*    height:400px;*/\r\n/*    width:50%;*/\r\n/*    background-position: center;*/\r\n/*    background-size: 100%;*/\r\n/*    color:black !important;*/\r\n/*    opacity: 0.3;*/\r\n/*    position: running(wtrmrk);*/\r\n/*    background-repeat: repeat-x;*/\r\n/*    }*/\r\n\r\n.watermark {\r\n    position: fixed;\r\n    top:70px;\r\n    left:11%;\r\n    right:10%;\r\n    background: url(\"http://192.241.152.17/files/draft-background.png\");\r\n    background-repeat: no-repeat;\r\n    height:700px;\r\n    width:80%;\r\n    /*background-position: center;*/\r\n    background-size: 100%;\r\n    opacity: 0.5;\r\n    }\r\n\r\n\r\n.days_tab {\r\n    position: relative;\r\n}\r\n\r\n.barchart-Wrapper {\r\n      display: table;\r\n      position: relative;\r\n      margin: 20px 0;\r\n      height: 120px;\r\n    }\r\n    .barChart-Container {\r\n      display: table-cell;\r\n      width: 100%;\r\n      height: 100%;\r\n      padding-left: 20px;\r\n      padding-right: 20px;\r\n    }\r\n    .barchart {\r\n     display: table;\r\n     table-layout: fixed;\r\n     height: 100%;\r\n     width: 100%;\r\n     border-bottom: 3px solid darkgrey;\r\n    }\r\n    .barchart-Col {\r\n      position: relative;\r\n      vertical-align: bottom;\r\n      display: table-cell;\r\n      height: 100%;\r\n    }\r\n    .barchart-Col + .barchart-Col {\r\n      border-left: 4px solid transparent;\r\n    }\r\n    .barchart-Bar {\r\n      position: static;\r\n      height: 0;\r\n      transition: height 0.5s 2s;\r\n      width: 10px;\r\n      margin: auto;\r\n    }\r\n    .barchart-Bar:after {\r\n      content: attr(attr-height);\r\n      color: white;\r\n      position: absolute;\r\n      text-align: center;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter {\r\n      position: absolute;\r\n      text-align: center;\r\n      left:40px;\r\n      height: 10%;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter h3 {\r\n      color: darkred;\r\n    }\r\n    .barchart-TimeCol {\r\n      position: absolute;\r\n      top: 0;\r\n      height: 100%;\r\n      width: 100%;\r\n    }\r\n    .barchart-Time {\r\n      height: 25%;\r\n      vertical-align: middle;\r\n      position: relative;\r\n    }\r\n    .barchart-Time:after {\r\n      border-bottom: 3px solid white;\r\n      content: \"\";\r\n      position: absolute;\r\n      width: 100%;\r\n      left: 0;\r\n      top: 0em;\r\n    }\r\n    .barchart-TimeText {\r\n      position: absolute;\r\n      top: -8px;\r\n      z-index: 1;\r\n      background: white;\r\n      padding-right: 5px;\r\n      color: #4d4d4d;\r\n      font-size: 15px;\r\n      font-family: 'Avenir Medium';\r\n    }\r\n    .sq1-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq1-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq2-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq2-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq3-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq3-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq4-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq4-bar {\r\n      background-color: #a61a17;\r\n    }",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Employee",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<div id=\"header-html\" class = \"margin-top-15\"   style = \" margin-top:-20px  !important; width:95%; margin-left:15px !important\">\r\n    <div class = \"row\" style = \"\">\r\n\r\n        <div class = \"col-xs-10\" style = \"width:100%;   float:left; border:1px solid black \">\r\n             {% set header = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1}, \"content\") %}\r\n            \r\n            <!--{% if doc.company == 'Impala Glass Industries Ltd' %}-->\r\n            <!--    {% set logo = \"/files/Impala.png\" %} {% elif doc.company == \"Impala Africa Ltd\" %} {% set logo = \"/files/impala-africa-logo.jpg\" %}-->\r\n            <!--{% endif %}-->\r\n            \r\n            \r\n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company},\r\n            fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website', 'esd_no' ]) %}\r\n            \r\n            \r\n        \r\n        {% set comapny_address_line1 = '' %}        \r\n        {% set comapny_city = '' %}        \r\n        {% set comapny_counrty = '' %}        \r\n        {% set comapny_state = '' %}        \r\n        {% set phone = '' %}        \r\n\r\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\r\n\r\n        {% if company_address_name  %}\r\n            {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\r\n                \r\n\r\n        {% set comapny_address_line1 = address.address_line1 %}        \r\n        {% set comapny_city =  address.city  %}        \r\n        {% set comapny_counrty =  address.country  %}        \r\n        {% set comapny_state =  address.state  %}        \r\n\r\n        {% set phone = address.phone %}        \r\n\r\n        {% endif  %}\r\n\r\n\r\n            {% if company_details %}\r\n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \r\n            'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \r\n            'state' : comapny_state,\r\n            'phone_no' : phone, 'email' : company_details[0].email, 'pin_no': company_details[0].tax_id ,  'company_logo' : company_details[0].company_logo, 'website' : company_details[0].website,  }) %}\r\n            {{header_updated}}\r\n            {% endif %}\r\n            \r\n\r\n            <table  class = \"table table-sm\" style = \"width:30%; font-size:10px  \"> \r\n                <tr>\r\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:13px\"> Employee </b> </span> </center>  </td>\r\n                </tr>\r\n\r\n                <tr> \r\n                    <td style = \"font-size:10px\"><b> Doc Name </b></td> <td style = \"font-size:12px\"> <b> {{ doc.name }}</b></td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:10px'> Date of Joining </td> <td style = 'font-size:10px'> \r\n                    {{ doc.get_formatted('date_of_joining') }} \r\n                </tr>\r\n\r\n            </table>\r\n        </div>\r\n</div>\r\n\r\n</div>\r\n<br>\r\n<br>\r\n\r\n\r\n    <table border=0 style=\"padding:6px; font-size:10px;  width:99%; \">\r\n    <tr>\r\n        <td style=\"width:50%; \">\r\n            <table>\r\n            <tr>\r\n            <td style=\"font-weight:bold;\">Full Name:</td>\r\n            <td>{{doc.employee_name}}</td>\r\n            </tr>\r\n             <tr>\r\n            <td style=\"font-weight:bold;\">Gender:</td>\r\n            <td>{{doc.gender}}</td>\r\n             </tr>\r\n             <tr>\r\n            <td style=\"font-weight:bold;\">Date of Birth:</td>\r\n            <td>{{doc.get_formatted(\"date_of_birth\")}}</td>\r\n             </tr>\r\n        </table>\r\n        </td>\r\n        <td style=\"width:50%; \">\r\n            <table>\r\n              <tr>\r\n            <td style=\"font-weight:bold;\">Employment type</td>\r\n            <td>{{doc.employment_type}}</td>\r\n             </tr>\r\n             <tr>\r\n            <td style=\"font-weight:bold;\">Date of Joining</td>\r\n            <td>{{doc.get_formatted(\"date_of_joining\")}}</td>\r\n             </tr>\r\n        </table>\r\n        </td>\r\n    </tr>\r\n    </table>\r\n\r\n<br>\r\n<br>\r\n\r\n    <table>\r\n        <tr>\r\n            <th>Document Type</th>\r\n            <th>Document No/ID</th>\r\n            <th>Expiry Date</th>\r\n            <th>Start Processing Date</th>\r\n            <th>Remarks</th>\r\n        </tr>\r\n        <tbody>\r\n            {% for row in doc.employee_document_details %}\r\n            <tr>\r\n                <td>{{row.document_type}}</td>\r\n                <td>{{row.document_id}}</td>\r\n                <td>{{ row.get_formatted('expiry_date') }} </td>\r\n                <td>{{row.start_processing_date}}</td>\r\n                <td>{{row.remarks}}</td>\r\n            </tr>\r\n            {% endfor %}\r\n        </tbody>\r\n    </table>\r\n\r\n\r\n\r\n\r\n\r\n{% set footer = frappe.db.get_value(\"Letter Head\", doc.letter_head, \"footer\") %}\r\n\r\n{% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(), \"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user, \"is_return\": doc.is_return, \"tims_code\": doc.tims_code, \"return_against\" : doc.return_against or \"\"}) %}\r\n{{ footer_updated }}\r\n\r\n\r\n    <div id=\"footer-html\" class=\"visible-pdf text-center  \" style = \"font-size:10px\" >\r\n        <p id=\"demo\"></p>\r\n        <div class=\"letter-head-footer text-size-10 text-center \"  style=\"font-size: 10px;\"  >\r\n            {{ footer }}\r\n        </div>\r\n        <p class=\"text-center small page-number visible-pdf\" style = \"font-size:10px\" >\r\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\r\n        </p>\r\n    </div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:57.604647",
  "module": "AQIQ Print Formats",
  "name": "Employee Documents Expiry",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": ".watermark {\r\n    position: fixed;\r\n    top: 460px;\r\n    left: 220px;\r\n    right: 220px;\r\n    background: url(\"/files/draft-icon.jpg\");\r\n    background-repeat: no-repeat;\r\n    /*background-size: center;*/\r\n    height:160px;\r\n    width:50%;\r\n    background-position: center;\r\n    background-size: 100%;\r\n    color:black !important;\r\n    opacity: 0.1;\r\n    }\r\n@media print {\r\n    .watermark {\r\n    position: fixed;\r\n    top: 460px;\r\n    left: 220px;\r\n    right: 220px;\r\n    background: url(\"/files/draft-icon.jpg\");\r\n    background-repeat: repeat;\r\n    /*background-size: contain;*/\r\n    height:160px;\r\n    width:50%;\r\n    background-position: center;\r\n    background-size: 100%;\r\n    color:black !important;\r\n    opacity: 0.1;\r\n    }\r\n\r\n}\r\n\r\n",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Delivery Note",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<div id=\"header-html\"   style = \"margin-top:-15px !important; width:95.2%; margin-left:15px !important\">\r\n    <div class = \"row\" style = \"\">\r\n        <div class = \"col-xs-10\" style = \"width:100%; float:left; border:1px solid black \">\r\n\r\n\r\n             {% set header = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1}, \"content\") %}\r\n            \r\n            <!--{% if doc.company == 'Impala Glass Industries Ltd' %}-->\r\n            <!--    {% set logo = \"/files/Impala.png\" %} {% elif doc.company == \"Impala Africa Ltd\" %} {% set logo = \"/files/impala-africa-logo.jpg\" %}-->\r\n            <!--{% endif %}-->\r\n            \r\n            \r\n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website',]) %}\r\n            \r\n            \r\n        \r\n        {% set comapny_address_line1 = '' %}        \r\n        {% set comapny_city = '' %}        \r\n        {% set comapny_counrty = '' %}        \r\n        {% set comapny_state = '' %}        \r\n        {% set phone = '' %}        \r\n\r\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\r\n\r\n        {% if company_address_name  %}\r\n            {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\r\n                \r\n\r\n        {% set comapny_address_line1 = address.address_line1 %}        \r\n        {% set comapny_city =  address.city  %}        \r\n        {% set comapny_counrty =  address.country  %}        \r\n        {% set comapny_state =  address.state  %}        \r\n\r\n        {% set phone = address.phone %}        \r\n\r\n        {% endif  %}\r\n\r\n\r\n            \r\n            \r\n            \r\n\r\n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \r\n            'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \r\n            'state' : comapny_state,\r\n            'phone_no' : phone, 'email' : company_details[0].email, 'pin_no': company_details[0].tax_id ,  'company_logo' : company_details[0].company_logo, 'website' : company_details[0].website,  }) %}\r\n            {{header_updated}}\r\n\r\n\r\n\r\n            {% set sales_order = frappe.db.get_list(\"Sales Order\" ,\r\n            filters={\r\n            'name': doc.items[0].against_sales_order\r\n            },\r\n            fields = ['name', 'po_no']) %}\r\n            \r\n            \r\n            \r\n            <table  class = \"table table-sm\" style = \"width:28%; \"> \r\n                <tr>\r\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:14px\"> {% if doc.is_return == 1 %} Delivery Return {% else %} Delivery Note {% endif %}</b> </span> </center>  </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Date </td> <td style = 'font-size:11px'>  \r\n                    \r\n\r\n                                                            {{ doc.get_formatted('posting_date') }} \r\n                    \r\n                    </td>\r\n                </tr>\r\n\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Delivery Note # </td> <td style = \"font-size:11px\"> {{doc.name}} </td>\r\n                </tr>\r\n            </table>\r\n\r\n\r\n        </div>\r\n\r\n        <div class = \"col-xs-8\" style = 'float:left'>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n<table class = \"\"  style = \"width:100%; font-size:11px !important; border-bottom:0px solid black !important; margin-bottom: 0px;\"> \r\n    <tr> \r\n        <td style = \"width:40%\">  \r\n            <div style=\"font-size:13px; margin-bottom: 10px;\">  <b> Deliver To, </b></div>\r\n            <div><b>{{doc.customer}}</b></div>\r\n            \r\n        </td>\r\n        <td style=\"20%\">\r\n            <img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\" class=\"center\" height=80px>\r\n        </td>\r\n        <td style = \"width:35%\">  \r\n            <table class = \"table table-sm; \" style = \"width:100%; margin-top:-1px !important;\" cellspacing = '0' cellpadding = '0'> \r\n                \r\n                <tr>\r\n                    <td style = 'font-size:11px'> Customer PO#. </td> <td style = 'font-size:11px'>  {{doc.po_no }} </td>\r\n                </tr>\r\n                <!--<tr>-->\r\n                <!--    <td style = 'font-size:11px'> SO No.: </td> <td style = 'font-size:11px'>  {% if sales_order[0] %}{{sales_order[0].name}}{% endif %} </td>-->\r\n                <!--</tr>-->\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Sales Person: </td> <td style = 'font-size:11px'>{% if doc.sales_team[0] %}{{doc.sales_team[0].sales_person}}{% endif %}</td>\r\n                </tr>\r\n                {% if doc.is_return == 1 %}\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Return Against: </td> <td style = 'font-size:11px'>  {{doc.return_against }} </td>\r\n                </tr>\r\n                {% endif %}\r\n            </table>\r\n        </td>\r\n    </tr>\r\n</table>\r\n<table style=\"width: 100%; border: 0px solid white !important; margin-top: 0px;\">\r\n    {% set unique_sales_orders = [] %} \r\n{% for row in doc.items %}\r\n{% if not row.against_sales_order in unique_sales_orders %}\r\n{% set gg = unique_sales_orders.append(row.against_sales_order) %}\r\n{% endif %}\r\n{% endfor %}\r\n{% if unique_sales_orders|length == 1 %}\r\n{% set unique_sales_orders = unique_sales_orders[0] %} \r\n{% else %}\r\n{% set unique_sales_orders = unique_sales_orders|join(', ') %}\r\n{% endif %}\r\n{% set lisec_order_id = None %}\r\n{% if doc.sales_order_id %}\r\n    {% set lisec_order_id = frappe.db.get_value('Material Request', {'sales_order_id' : doc.sales_order_id}, 'lisec_order_id') %}\r\n{% endif %}\r\n    <tr>\r\n    <td style = \"font-size:11px;\" colspan=3 > SO No: {{ unique_sales_orders }}</td>\r\n    <td style = \"font-size:11px;\" colspan=1 > Lisec Order No: {{ lisec_order_id }}</td>\r\n    </tr>\r\n   \r\n{% set unique_warehouses = [] %} \r\n{% for row in doc.items %}\r\n{% if not row.warehouse in unique_warehouses %}\r\n{% set gg = unique_warehouses.append(row.warehouse) %}\r\n{% endif %}\r\n{% endfor %}\r\n{% if unique_warehouses|length == 1 %}\r\n{% set unique_warehouses = unique_warehouses[0] %} \r\n{% else %}\r\n{% set unique_warehouses = unique_warehouses|join(', ') %}\r\n{% endif %}\r\n    \r\n</table>\r\n\r\n{% if doc.is_return == 1 %}\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr width=100% height=auto style = \"border: 1px solid black;\">\r\n        <td width=50%><b>Return Reason : </b>\r\n        \r\n        {{doc.return_reason}}\r\n        </td>\r\n        \r\n    </tr>\r\n</table>\r\n{% endif %}\r\n\r\n{% if doc.docstatus==0 %}\r\n<div class ='watermark'>\r\n</div>\r\n{% endif %}\r\n\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:5px\" border = '1'> \r\n        <thead> \r\n    <tr> \r\n            <th style=\"width:3%\"> # </th>\r\n            <th style=\"width:15%\">  Item Code </th>\r\n            <th style=\"width:30%\">  Item Name </th>\r\n            <th style=\"width:25%\" class=\"text-center\">  PCS </th>\r\n            <th style=\"width:27%\" class=\"text-center\">  QTY/SQM </th>\r\n           \r\n            \r\n    </tr>\r\n        </thead>\r\n{% set tot_qty = {\"tot_qty\": 0} %}\r\n{% set tot_pcs = {\"tot_pcs\": 0} %}\r\n{% set tot_weight = {\"tot_weight\": 0} %}\r\n{% set tot_unit_weight = {\"tot_unit_weight\": 0} %}\r\n\r\n{% set total_sqms = {\"total_sqms\": 0.0} %}\r\n{% set total_pcs = {\"total_pcs\": 0.0} %}\r\n{% set total_meter = {\"total_meter\": 0.0} %}\r\n\r\n\r\n{% set uoms_object = {} %}\r\n{% for entry in doc.items %}\r\n    {% if entry.uom not in uoms_object.keys() %}\r\n        {% set uoms_object = uoms_object.update({entry.uom: 0.0}) %} \r\n    {% endif %}\r\n{% endfor %}\r\n\r\n\r\n{% for row in doc.items %}\r\n    {% if tot_unit_weight.update({\"tot_unit_weight\": tot_unit_weight[\"tot_unit_weight\"] + row.weight_per_unit}) %} {% endif %}\r\n    {% if tot_qty.update({\"tot_qty\": tot_qty[\"tot_qty\"] + row.qty}) %} {% endif %}\r\n    {% if tot_weight.update({\"tot_weight\": tot_weight[\"tot_weight\"] + row.total_weight}) %} {% endif %}\r\n    \r\n    {% set pcs = frappe.db.get_value(\"Sales Order Item\", row.so_detail, \"pcs\") or 0.0 %}\r\n    {% if tot_pcs.update({\"tot_pcs\": tot_pcs[\"tot_pcs\"] + row.pcs}) %} {% endif %}\r\n    \r\n    {% set uoms_object = uoms_object.update({row.uom : uoms_object[row.uom] + row.qty})%}\r\n    \r\n    \r\n    \r\n    \r\n    \r\n        <tr>\r\n            <td style=\"\">{{ row.idx }}</td>\r\n            <td style=\"\">\r\n                {{ row.item_code }}\r\n            </td>\r\n            <td style=\"\">\r\n                {{ row.item_name }}\r\n            </td>\r\n            <td style=\"\" class=\"text-center\">\r\n                {{ row.pcs }}\r\n            </td>\r\n            <!--<td style=\"\" class=\"text-center\">-->\r\n            <!--    {{ doc.currency }}-->\r\n            <!--</td>-->\r\n            <td style=\"\" class=\"text-center\">\r\n               \r\n                {{ row.qty }}\r\n            </td>\r\n            \r\n            \r\n\r\n        </tr>\r\n        \r\n        \r\n        {%- endfor -%}\r\n        <tr> \r\n            <td colspan=\"3\" class=\"text-right\"><b>Totals: </b>  </td>\r\n            <td class=\"text-center\"> <b>{{tot_pcs[\"tot_pcs\"]}}</b></td>\r\n            <td class=\"text-center\"> <b>{{tot_qty[\"tot_qty\"]|round(2)}}</b></td>\r\n            <!--<td class=\"text-center\"> <b></b></td>-->\r\n        </tr>\r\n \r\n</table>\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr rowspan = \"1\" style = \"border-top: 1px solid black;  border-bottom: 1px solid black\">\r\n                \r\n               <td colspan=\"1\" style='border: 1px solid black'> <b> Total Weight: {{ tot_weight[\"tot_weight\"]|round(3) }}</b> </td>\r\n\r\n                <!--{% for key, val in uoms_object.items() %}-->\r\n                <!--<td colspan = \"1\" style='border: 1px solid black'> <b>Total {{key}} : {{val | round(2)}} </b> </td>-->\r\n                <!--{% endfor %}-->\r\n    </tr>\r\n</table>\r\n\r\n\r\n\r\n{% if doc.docstatus==0 %}\r\n<div class ='watermark'>\r\n</div>\r\n{% endif %}\r\n\r\n\r\n    <br>\r\n    <br>\r\n    <br>\r\n    <br>\r\n\r\n\r\n\r\n    <div  id = \"\" style = 'page-break-after :always;  ' >  </div>\r\n\r\n    <div class = 'text-center' style = \"font-size:12px; font-weight:600\" >General Terms and Conditions </div>\r\n\r\n<div class = \"\" style. =\"margin-top:-20px\">\r\n{{ doc.terms or \"\" }}\r\n</div>\r\n\r\n<div style=\"margin-top:1px; margin-bottom:1px;  border:1px solid black;\"></div>\r\n<div class = 'text-center' style = \"font-size:12px;\" >Goods sold as per our terms & condition, to view the same visit <a href=\"https://impalaglass.com/tnc/\">impalaglass.com/tnc</a></div>\r\n\r\n\r\n{% set times_printed = doc.times_printed or 0 %}\r\n{% if times_printed >= 1 %} {% set duplicate = 'DUPLICATE'%} {% endif %}\r\n\r\n{% set footer = frappe.db.get_value(\"Letter Head\", doc.letter_head, \"footer\") %}\r\n\r\n{% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(), \"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user, 'times_printed' : times_printed, 'duplicate': duplicate or ''}) %}\r\n{{ footer_updated }}\r\n\r\n\r\n    <div id=\"footer-html\" class=\"visible-pdf visible-print text-center\" style = \"font-size:10px\" >\r\n        <p id=\"demo\"></p>\r\n        <div class=\"letter-head-footer text-size-10 text-center \"  style=\"font-size: 10px;\"  >\r\n            {{ footer }}\r\n        </div>\r\n        <p class=\"text-center small page-number visible-pdf\" style = \"font-size:10px\" >\r\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\r\n        </p>\r\n    </div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:57.484118",
  "module": "AQIQ Print Formats",
  "name": "Delivery Note Report",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": ".watermark {\r\n    position: fixed;\r\n    top: 460px;\r\n    left: 220px;\r\n    right: 220px;\r\n    background: url(\"/files/draft-icon.jpg\");\r\n    background-repeat: no-repeat;\r\n    /*background-size: center;*/\r\n    height:160px;\r\n    width:50%;\r\n    background-position: center;\r\n    background-size: 100%;\r\n    color:black !important;\r\n    opacity: 0.1;\r\n    }\r\n@media print {\r\n    .watermark {\r\n    position: fixed;\r\n    top: 460px;\r\n    left: 220px;\r\n    right: 220px;\r\n    background: url(\"/files/draft-icon.jpg\");\r\n    background-repeat: repeat;\r\n    /*background-size: contain;*/\r\n    height:160px;\r\n    width:50%;\r\n    background-position: center;\r\n    background-size: 100%;\r\n    color:black !important;\r\n    opacity: 0.1;\r\n    }\r\n\r\n}\r\n\r\n",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Delivery Note",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<div id=\"header-html\"   style = \"margin-top:-15px !important; width:95.2%; margin-left:15px !important\">\r\n    <div class = \"row\" style = \"\">\r\n        <div class = \"col-xs-10\" style = \"width:100%; float:left; border:1px solid black \">\r\n\r\n\r\n             {% set header = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1}, \"content\") %}\r\n            \r\n            <!--{% if doc.company == 'Impala Glass Industries Ltd' %}-->\r\n            <!--    {% set logo = \"/files/Impala.png\" %} {% elif doc.company == \"Impala Africa Ltd\" %} {% set logo = \"/files/impala-africa-logo.jpg\" %}-->\r\n            <!--{% endif %}-->\r\n            \r\n            \r\n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website',]) %}\r\n            \r\n            \r\n        \r\n        {% set comapny_address_line1 = '' %}        \r\n        {% set comapny_city = '' %}        \r\n        {% set comapny_counrty = '' %}        \r\n        {% set comapny_state = '' %}        \r\n        {% set phone = '' %}        \r\n\r\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\r\n\r\n        {% if company_address_name  %}\r\n            {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\r\n                \r\n\r\n        {% set comapny_address_line1 = address.address_line1 %}        \r\n        {% set comapny_city =  address.city  %}        \r\n        {% set comapny_counrty =  address.country  %}        \r\n        {% set comapny_state =  address.state  %}        \r\n\r\n        {% set phone = address.phone %}        \r\n\r\n        {% endif  %}\r\n\r\n\r\n            \r\n            \r\n            \r\n\r\n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \r\n            'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \r\n            'state' : comapny_state,\r\n            'phone_no' : phone, 'email' : company_details[0].email, 'pin_no': company_details[0].tax_id ,  'company_logo' : company_details[0].company_logo, 'website' : company_details[0].website,  }) %}\r\n            {{header_updated}}\r\n\r\n\r\n\r\n            {% set sales_order = frappe.db.get_list(\"Sales Order\" ,\r\n            filters={\r\n            'name': doc.items[0].against_sales_order\r\n            },\r\n            fields = ['name', 'po_no']) %}\r\n            \r\n            <table  class = \"table table-sm\" style = \"width:28%; \"> \r\n                <tr>\r\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:14px\"> {% if doc.is_return == 1 %} Delivery Return {% else %} Delivery Note {% endif %}</b> </span> </center>  </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Date </td> <td style = 'font-size:11px'>  \r\n                    \r\n\r\n                                                            {{ doc.get_formatted('posting_date') }} \r\n                    \r\n                    </td>\r\n                </tr>\r\n\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Delivery Note # </td> <td style = \"font-size:11px\"> {{doc.name}} </td>\r\n                </tr>\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Division </td> <td style = \"font-size:11px\">  {{doc.cost_center}} </td>\r\n                </tr>\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Department </td> <td style = \"font-size:9px\">  {{doc.department}} </td>\r\n                </tr>\r\n<tr> \r\n                    <td style = \"font-size:11px\"> Warehouse </td> <td style = \"font-size:9px\">  {{doc.set_warehouse}} </td>\r\n                </tr>\r\n\r\n            </table>\r\n\r\n\r\n        </div>\r\n\r\n        <div class = \"col-xs-8\" style = 'float:left'>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n<table class = \"\"  style = \"width:100%; font-size:11px !important; border-bottom:0px solid black !important; margin-bottom: 0px;\"> \r\n    <tr> \r\n        <td style = \"width:40%\">  \r\n            <div style=\"font-size:13px; margin-bottom: 10px;\">  <b> Deliver To, </b></div>\r\n            <div><b>{{doc.customer}}</b></div>\r\n            <div><b>{{doc.customer_name}}</b></div>\r\n            <div>{{ doc.shipping_address_name }} </div>\r\n            <div> {{ doc.shipping_address }} </div>\r\n        </td>\r\n        <td style=\"20%\">\r\n            <img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\" class=\"center\" height=80px>\r\n        </td>\r\n        <td style = \"width:35%\">  \r\n            <table class = \"table table-sm; \" style = \"width:100%; margin-top:-1px !important;\" cellspacing = '0' cellpadding = '0'> \r\n                <tr>\r\n                    <td style = 'font-size:11px'> PO Date: </td> <td style = 'font-size:11px'>   {{ frappe.utils.formatdate(doc.get_formatted(frappe.db.get_value('Purchase Order', doc.po_no, 'transaction_date')), \"dd-mm-yyyy\") }}</td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Customer PO#. </td> <td style = 'font-size:11px'>  {{doc.po_no }} </td>\r\n                </tr>\r\n                <!--<tr>-->\r\n                <!--    <td style = 'font-size:11px'> SO No.: </td> <td style = 'font-size:11px'>  {% if sales_order[0] %}{{sales_order[0].name}}{% endif %} </td>-->\r\n                <!--</tr>-->\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Sales Person: </td> <td style = 'font-size:11px'>{% if doc.sales_team[0] %}{{doc.sales_team[0].sales_person}}{% endif %}</td>\r\n                </tr>\r\n                {% if doc.is_return == 1 %}\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Return Against: </td> <td style = 'font-size:11px'>  {{doc.return_against }} </td>\r\n                </tr>\r\n                {% endif %}\r\n            </table>\r\n        </td>\r\n    </tr>\r\n</table>\r\n<table style=\"width: 100%; border: 0px solid white !important; margin-top: 0px;\">\r\n    {% set unique_sales_orders = [] %} \r\n{% for row in doc.items %}\r\n{% if not row.against_sales_order in unique_sales_orders %}\r\n{% set gg = unique_sales_orders.append(row.against_sales_order) %}\r\n{% endif %}\r\n{% endfor %}\r\n{% if unique_sales_orders|length == 1 %}\r\n{% set unique_sales_orders = unique_sales_orders[0] %} \r\n{% else %}\r\n{% set unique_sales_orders = unique_sales_orders|join(', ') %}\r\n{% endif %}\r\n{% set lisec_order_id = None %}\r\n{% if doc.sales_order_id %}\r\n    {% set lisec_order_id = frappe.db.get_value('Material Request', {'sales_order_id' : doc.sales_order_id}, 'lisec_order_id') %}\r\n{% endif %}\r\n    <tr>\r\n    <td style = \"font-size:11px;\" colspan=3 > SO No: {{ unique_sales_orders }}</td>\r\n    <td style = \"font-size:11px;\" colspan=1 > Lisec Order No: {{ lisec_order_id }}</td>\r\n    </tr>\r\n   \r\n{% set unique_warehouses = [] %} \r\n{% for row in doc.items %}\r\n{% if not row.warehouse in unique_warehouses %}\r\n{% set gg = unique_warehouses.append(row.warehouse) %}\r\n{% endif %}\r\n{% endfor %}\r\n{% if unique_warehouses|length == 1 %}\r\n{% set unique_warehouses = unique_warehouses[0] %} \r\n{% else %}\r\n{% set unique_warehouses = unique_warehouses|join(', ') %}\r\n{% endif %}\r\n     <tr style=\"border: 0px solid white;\">\r\n        <td style =  'font-size:9px; margin-top: 0px; '> Warehouse: {{unique_warehouses}} </td>\r\n        <td style = 'font-size:9px'> Transporter: {{doc.transporter or \"\" }} </td>\r\n        <td style = ' font-size:9px; text-indent: 10px;'> Project No: {{doc.project or \"\" }} </td>\r\n\r\n        <td class = \"text-size-10\"  style = 'font-size:10px'>  SI # {{ doc.items[0].against_sales_invoice or \"\" }}   </td>\r\n        <!--<td class = \"text-size-10\"  style = 'font-size:10px'>  SO # {{ doc.items[0].against_sales_order or \"\" }}   </td>-->\r\n\r\n\r\n    </tr>\r\n</table>\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr width=100% height=40px style = \"border: 1px solid black;\">\r\n        <td width=50%><b>Additional Notes : </b>\r\n        <br>\r\n        {{doc.posa_notes or ''}}\r\n        </td>\r\n        \r\n    </tr>\r\n</table>\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr width=100% height=auto style = \"border: 1px solid black;\">\r\n        <td width=50%><b>Further Action : </b>\r\n        \r\n        {{doc.instructions or ''}}\r\n        </td>\r\n        \r\n    </tr>\r\n</table>\r\n{% if doc.is_return == 1 %}\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr width=100% height=auto style = \"border: 1px solid black;\">\r\n        <td width=50%><b>Return Reason : </b>\r\n        \r\n        {{doc.return_reason}}\r\n        </td>\r\n        \r\n    </tr>\r\n</table>\r\n{% endif %}\r\n\r\n{% if doc.docstatus==0 %}\r\n<div class ='watermark'>\r\n</div>\r\n{% endif %}\r\n\r\n{% if doc.cost_center == \"Archi - IG\" %}\r\n<table style = \"width:100%; font-size:11px;  margin-top:5px\" border = '1'> \r\n        <thead> \r\n    <tr> \r\n            <th style=\"width:2%\"> # </th>\r\n            <th style=\"width:13%\">  Item Code </th>\r\n            <th style=\"width:30%\">  Item Name </th>\r\n            <th style=\"width:10%\" class=\"text-center\">  Width (mm) </th>\r\n            <th style=\"width:10%\"  class=\"text-center\">  Height (mm)</th>\r\n            <th style=\"width:10%\" class=\"text-center\">  PCS </th>\r\n            <!--<th style=\"width:10%\" class=\"text-center\">  Currency </th>-->\r\n            <th style=\"width:10%\" class=\"text-center\">  QTY/SQM </th>\r\n            <th style=\"width:15%\" class=\"text-center\">  UOM </th>\r\n            \r\n    </tr>\r\n        </thead>\r\n{% set tot_qty = {\"tot_qty\": 0} %}\r\n{% set tot_pcs = {\"tot_pcs\": 0} %}\r\n{% set tot_weight = {\"tot_weight\": 0} %}\r\n{% set tot_unit_weight = {\"tot_unit_weight\": 0} %}\r\n\r\n{% set total_sqms = {\"total_sqms\": 0.0} %}\r\n{% set total_pcs = {\"total_pcs\": 0.0} %}\r\n{% set total_meter = {\"total_meter\": 0.0} %}\r\n\r\n\r\n{% set uoms_object = {} %}\r\n{% for entry in doc.items %}\r\n    {% if entry.uom not in uoms_object.keys() %}\r\n        {% set uoms_object = uoms_object.update({entry.uom: 0.0}) %} \r\n    {% endif %}\r\n{% endfor %}\r\n\r\n\r\n{% for row in doc.items %}\r\n    {% if tot_unit_weight.update({\"tot_unit_weight\": tot_unit_weight[\"tot_unit_weight\"] + row.weight_per_unit}) %} {% endif %}\r\n    {% if tot_qty.update({\"tot_qty\": tot_qty[\"tot_qty\"] + row.qty}) %} {% endif %}\r\n    {% if tot_weight.update({\"tot_weight\": tot_weight[\"tot_weight\"] + row.total_weight}) %} {% endif %}\r\n    \r\n    {% set pcs = frappe.db.get_value(\"Sales Order Item\", row.so_detail, \"pcs\") or 0.0 %}\r\n    {% if tot_pcs.update({\"tot_pcs\": tot_pcs[\"tot_pcs\"] + row.pcs}) %} {% endif %}\r\n    \r\n    {% set uoms_object = uoms_object.update({row.uom : uoms_object[row.uom] + row.qty})%}\r\n    \r\n    \r\n    \r\n    \r\n    \r\n        <tr>\r\n            <td style=\"\">{{ row.idx }}</td>\r\n            <td style=\"\">\r\n                {{ row.item_code }}\r\n            </td>\r\n            <td style=\"\">\r\n                {{ row.item_name }}\r\n            </td>\r\n            <td style=\"\" class=\"text-center\">\r\n                {{ row.width or frappe.db.get_value('Item', row.item_code,'width') }}\r\n            </td>\r\n            <td style=\"\" class=\"text-center\">\r\n                {{ row.height or frappe.db.get_value('Item', row.item_code,'height') }}\r\n            </td>\r\n            <td style=\"\" class=\"text-center\">\r\n                {{ row.pcs }}\r\n            </td>\r\n            <!--<td style=\"\" class=\"text-center\">-->\r\n            <!--    {{ doc.currency }}-->\r\n            <!--</td>-->\r\n            <td style=\"\" class=\"text-center\">\r\n               \r\n                {{ row.qty }}\r\n            </td>\r\n            <td style=\"\" class=\"text-center\">\r\n                {{ row.uom }}\r\n            </td>\r\n            \r\n\r\n        </tr>\r\n        \r\n        \r\n        {%- endfor -%}\r\n        <tr> \r\n            <td colspan=\"3\" class=\"text-right\"><b>Totals: </b>  </td>\r\n            <td class=\"text-center\"> <b></b></td>\r\n            <td class=\"text-center\"> <b></b></td>\r\n            <td class=\"text-center\"> <b>{{tot_pcs[\"tot_pcs\"]}}</b></td>\r\n            <td class=\"text-center\"> <b>{{tot_qty[\"tot_qty\"]|round(2)}}</b></td>\r\n            <td class=\"text-center\"> <b></b></td>\r\n        </tr>\r\n \r\n</table>\r\n{% endif %}\r\n\r\n\r\n{% if doc.cost_center == \"Auto - IG\" %}\r\n<table style = \"width:100%; font-size:11px;  margin-top:5px\" border = '1'> \r\n        <thead> \r\n    <tr> \r\n            <th style=\"width:2%\"> # </th>\r\n            <th style=\"width:13%\">  Item Code </th>\r\n            <th style=\"width:30%\">  Item Name </th>\r\n            <!--<th style=\"width:10%\" class=\"text-center\">  Width (mm) </th>-->\r\n            <!--<th style=\"width:10%\"  class=\"text-center\">  Height (mm)</th>-->\r\n            <!--<th style=\"width:10%\" class=\"text-center\">  PCS </th>-->\r\n            <!--<th style=\"width:10%\" class=\"text-center\">  Currency </th>-->\r\n            <th style=\"width:10%\" class=\"text-center\">  PCS </th>\r\n            <th style=\"width:15%\" class=\"text-center\">  UOM </th>\r\n            \r\n    </tr>\r\n        </thead>\r\n{% set tot_qty = {\"tot_qty\": 0} %}\r\n{% set tot_pcs = {\"tot_pcs\": 0} %}\r\n{% set tot_weight = {\"tot_weight\": 0} %}\r\n{% set tot_unit_weight = {\"tot_unit_weight\": 0} %}\r\n\r\n{% set total_sqms = {\"total_sqms\": 0.0} %}\r\n{% set total_pcs = {\"total_pcs\": 0.0} %}\r\n{% set total_meter = {\"total_meter\": 0.0} %}\r\n\r\n\r\n{% set uoms_object = {} %}\r\n{% for entry in doc.items %}\r\n    {% if entry.uom not in uoms_object.keys() %}\r\n        {% set uoms_object = uoms_object.update({entry.uom: 0.0}) %} \r\n    {% endif %}\r\n{% endfor %}\r\n\r\n\r\n{% for row in doc.items %}\r\n    {% if tot_unit_weight.update({\"tot_unit_weight\": tot_unit_weight[\"tot_unit_weight\"] + row.weight_per_unit}) %} {% endif %}\r\n    {% if tot_qty.update({\"tot_qty\": tot_qty[\"tot_qty\"] + row.qty}) %} {% endif %}\r\n    {% if tot_weight.update({\"tot_weight\": tot_weight[\"tot_weight\"] + row.total_weight}) %} {% endif %}\r\n    \r\n    {% set pcs = frappe.db.get_value(\"Sales Order Item\", row.so_detail, \"pcs\") or 0.0 %}\r\n    {% if tot_pcs.update({\"tot_pcs\": tot_pcs[\"tot_pcs\"] + row.pcs}) %} {% endif %}\r\n    \r\n    {% set uoms_object = uoms_object.update({row.uom : uoms_object[row.uom] + row.qty})%}\r\n    \r\n    \r\n    \r\n    \r\n    \r\n        <tr>\r\n            <td style=\"\">{{ row.idx }}</td>\r\n            <td style=\"\">\r\n                {{ row.item_code }}\r\n            </td>\r\n            <td style=\"\">\r\n                {{ row.item_name }}\r\n            </td>\r\n            <!--<td style=\"\" class=\"text-center\">-->\r\n            <!--    {{ row.width or frappe.db.get_value('Item', row.item_code,'width') }}-->\r\n            <!--</td>-->\r\n            <!--<td style=\"\" class=\"text-center\">-->\r\n            <!--    {{ row.height or frappe.db.get_value('Item', row.item_code,'height') }}-->\r\n            <!--</td>-->\r\n            <!--<td style=\"\" class=\"text-center\">-->\r\n            <!--    {{ row.pcs }}-->\r\n            <!--</td>-->\r\n            <!--<td style=\"\" class=\"text-center\">-->\r\n            <!--    {{ doc.currency }}-->\r\n            <!--</td>-->\r\n            <td style=\"\" class=\"text-center\">\r\n               \r\n                {{ row.qty }}\r\n            </td>\r\n            <td style=\"\" class=\"text-center\">\r\n                {{ row.uom }}\r\n            </td>\r\n            \r\n\r\n        </tr>\r\n        \r\n        \r\n        {%- endfor -%}\r\n        <tr> \r\n            <td colspan=\"3\" class=\"text-right\"><b>Totals: </b>  </td>\r\n            \r\n            <td class=\"text-center\"> <b>{{tot_qty[\"tot_qty\"]|round(2)}}</b></td>\r\n            <td class=\"text-center\"> <b></b></td>\r\n            \r\n        </tr>\r\n \r\n</table>\r\n{% endif %}\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr rowspan = \"1\" style = \"border-top: 1px solid black;  border-bottom: 1px solid black\">\r\n                \r\n                <td colspan = \"1\" style='border: 1px solid black'> <b> Total Weight: {{ tot_weight[\"tot_weight\"]|round(3) }}</b> </td>\r\n                {% for key, val in uoms_object.items() %}\r\n                <td colspan = \"1\" style='border: 1px solid black'> <b>Total {{key}} : {{val | round(2)}} </b> </td>\r\n                {% endfor %}\r\n    </tr>\r\n</table>\r\n\r\n{% if doc.docstatus==0 %}\r\n<div class ='watermark'>\r\n</div>\r\n{% endif %}\r\n\r\n<table width=100% style=\"width:100%; font-size:11px;  margin-top:8px\">\r\n    <tr width=100% style=\"border:1px solid black\">\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created By: {{ doc.owner }} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b>  </b></td>\r\n        \r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created ON: {{ doc.get_formatted('creation')}} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b> Authorized By:  {% if doc.docstatus==1 %} {{doc.owner}} {% endif %}  </b> </td>\r\n    </tr>\r\n    <tr width=100%>\r\n        <td colspan=\"2\" style=\"border:1px solid black; padding:0px !important; margin:0px !important;\"> \r\n        <div class = \"\" style. =\"padding:0px !important; margin:0px !important;\">\r\n    <table width=100% style=\"width:100%; padding:0px !important; margin:0px !important; font-size:11px;  margin-top:8px\">\r\n    \r\n    <tr width=100%>\r\n        <td width=100% style=\"font-size:11px; font-weight:bold; padding:0px !important; margin:0px !important;\"> <b> Vehicle Reg:  </b> </td>\r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=100% style=\" font-size:11px; font-weight:bold; padding:0px !important; margin:0px !important;\"><b> Collector Tel No:  </b> </td>\r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=100% style=\" font-size:11px; font-weight:bold; padding:0px !important; margin:0px !important;\"><b> Date:  </b> </td>\r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=100% style=\" font-size:11px; padding:0px !important; margin:0px !important;\"><b>[Goods Checked & Received in good order and condition] </b> </td>\r\n    </tr>\r\n</table>\r\n</div>\r\n        </td>\r\n        </tr>\r\n</table>\r\n\r\n\r\n<table width=100% style=\"width:100%; font-size:11px;  margin-top:8px\">\r\n    <tr width=100% style=\"border: 0 \">\r\n    <td colspan=\"2\" width=100%><i>To be filled by the customer:</i></td>\r\n    </tr>\r\n    <tr width=100% style=\"border:1px solid black\">\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Received By:  </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b> ID No.: </b></td>\r\n        \r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=50% height=60px style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Signature:  </b> </td>\r\n        <td width=50% height=60px style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b>     </b> </td>\r\n    </tr>\r\n    \r\n    <tr width=100%>\r\n        <td width=50% style=\"border:0px solid black; font-size:11px; font-weight:bold;\"> </td>\r\n        <td width=50% style=\"border:0px solid black; font-size:16px; font-weight:bold; text-align: right\"> {{ doc.net_total}}  </td>\r\n    </tr>\r\n    \r\n</table>\r\n\r\n\r\n    <!--<div  id = \"\" style = 'page-break-after :always;  ' >  </div>-->\r\n\r\n    <div class = 'text-center' style = \"font-size:12px; font-weight:600\" >General Terms and Conditions </div>\r\n\r\n<div class = \"\" style. =\"margin-top:-20px\">\r\n{{ doc.terms or \"\" }}\r\n</div>\r\n\r\n<div style=\"margin-top:1px; margin-bottom:1px;  border:1px solid black;\"></div>\r\n<div class = 'text-center' style = \"font-size:12px;\" >Goods sold as per our terms & condition, to view the same visit <a href=\"https://impalaglass.com/tnc/\">impalaglass.com/tnc</a></div>\r\n\r\n\r\n{% set times_printed = doc.times_printed or 0 %}\r\n{% if times_printed >= 1 %} {% set duplicate = 'DUPLICATE'%} {% endif %}\r\n\r\n{% set footer = frappe.db.get_value(\"Letter Head\", doc.letter_head, \"footer\") %}\r\n\r\n{% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(), \"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user, 'times_printed' : times_printed, 'duplicate': duplicate or ''}) %}\r\n{{ footer_updated }}\r\n\r\n\r\n    <div id=\"footer-html\" class=\"visible-pdf visible-print text-center\" style = \"font-size:10px\" >\r\n        <p id=\"demo\"></p>\r\n        <div class=\"letter-head-footer text-size-10 text-center \"  style=\"font-size: 10px;\"  >\r\n            {{ footer }}\r\n        </div>\r\n        <p class=\"text-center small page-number visible-pdf\" style = \"font-size:10px\" >\r\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\r\n        </p>\r\n    </div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:57.339630",
  "module": "AQIQ Print Formats",
  "name": "DN Layout for Email",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Item",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<div class  = \"row border\" style = \"margin-top:0px; margin-bottom:0px; margin-left:10px; width:58mm;\" >\n<div class = \"col-md-12  my-5 border \">\n    <center>\n    <div class = \"border\" style = \"   \"> \n<div class=\"card text-center   \" style=\"padding:10px;\">\n  <!--<img class=\"card-img-top\" src=\"/files/ss3e61c5.jpeg\" alt=\"Card image cap\">-->\n  <div class=\"card-body\">\n    <p class=\"card-text text-center\"> \n    <b>{{doc.item_code}}</b><br>\n    <b>{{doc.item_name}}</b><br>\n    </p>\n        <div style=\"text-align:center\">\n            <img alt='Barcode Generator TEC-IT'\n       src='https://barcode.tec-it.com/barcode.ashx?data={{doc.name}}&code=Code128&multiplebarcodes=false&translate-esc=true&unit=Fit&dpi=96&imagetype=Gif&rotation=0&color=%23000000&bgcolor=%23ffffff&codepage=Default&qunit=Mm&quiet=0' style=\"height:100px; padding:1px;\"?draggable=\"false\"/>\n         </div>\n         \n</div>    \n    </center>\n\n    </div>\n</div>\n</div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:57.248408",
  "module": "AQIQ Print Formats",
  "name": "Item Barcode",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": ".watermark {\n    position: fixed;\n    top: 460px;\n    left: 220px;\n    right: 220px;\n    background: url(\"/files/draft-icon.jpg\");\n    background-repeat: no-repeat;\n    /*background-size: center;*/\n    height:160px;\n    width:50%;\n    background-position: center;\n    background-size: 100%;\n    color:black !important;\n    opacity: 0.1;\n    }",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Delivery Note",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<div id=\"header-html\"   style = \"margin-top:-15px !important; width:95.2%; margin-left:15px !important\">\r\n    <div class = \"row\" style = \"\">\r\n        <div class = \"col-xs-10\" style = \"width:100%; float:left; border:1px solid black \">\r\n\r\n\r\n                 {% set header = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1}, \"content\") %}\r\n            \r\n            <!--{% if doc.company == 'Impala Glass Industries Ltd' %}-->\r\n            <!--    {% set logo = \"/files/Impala.png\" %} {% elif doc.company == \"Impala Africa Ltd\" %} {% set logo = \"/files/impala-africa-logo.jpg\" %}-->\r\n            <!--{% endif %}-->\r\n            \r\n            \r\n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website',]) %}\r\n            \r\n            \r\n        \r\n        {% set comapny_address_line1 = '' %}        \r\n        {% set comapny_city = '' %}        \r\n        {% set comapny_counrty = '' %}        \r\n        {% set comapny_state = '' %}        \r\n        {% set phone = '' %}        \r\n\r\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\r\n\r\n        {% if company_address_name  %}\r\n            {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\r\n                \r\n\r\n        {% set comapny_address_line1 = address.address_line1 %}        \r\n        {% set comapny_city =  address.city  %}        \r\n        {% set comapny_counrty =  address.country  %}        \r\n        {% set comapny_state =  address.state  %}        \r\n\r\n        {% set phone = address.phone %}        \r\n\r\n        {% endif  %}\r\n\r\n\r\n            \r\n            \r\n            \r\n\r\n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \r\n            'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \r\n            'state' : comapny_state,\r\n            'phone_no' : phone, 'email' : company_details[0].email, 'pin_no': company_details[0].tax_id ,  'company_logo' : company_details[0].company_logo, 'website' : company_details[0].website,  }) %}\r\n            {{header_updated}}\r\n\r\n\r\n\r\n\r\n            {% set sales_order = ['', '']%}\r\n            {% if doc.items[0].against_sales_order %}\r\n            {% set sales_order = frappe.db.get_list(\"Sales Order\" ,filters={'name': doc.items[0].against_sales_order},\r\n            fields = ['name', 'po_no']) %}\r\n            {% endif %}\r\n            \r\n            <table  class = \"table table-sm\" style = \"width:28%; \"> \r\n                <tr>\r\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:14px\">{% if doc.is_return == 1 %} Delivery Return {% else %} Delivery Note {% endif %} </b> </span> </center>  </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Date </td> <td style = 'font-size:11px'>  \r\n                    \r\n\r\n                                                            {{ doc.get_formatted('posting_date') }} \r\n                    \r\n                    </td>\r\n                </tr>\r\n\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Delivery Note # </td> <td style = \"font-size:11px\"> {{doc.name}} </td>\r\n                </tr>\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Division </td> <td style = \"font-size:11px\">  {{doc.cost_center}} </td>\r\n                </tr>\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Department </td> <td style = \"font-size:10px\">  {{doc.department}} </td>\r\n                </tr>\r\n\r\n<tr> \r\n                    <td style = \"font-size:11px\"> Warehouse </td> <td style = \"font-size:9px\">  {{doc.set_warehouse}} </td>\r\n                </tr>\r\n\r\n            </table>\r\n\r\n\r\n        </div>\r\n\r\n        <div class = \"col-xs-8\" style = 'float:left'>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n<table class = \"\"  style = \"width:100%; font-size:11px !important; border-bottom:0px solid black !important; margin-bottom: 0px;\"> \r\n    <tr> \r\n        <td style = \"width:40%\">  \r\n            <div style=\"font-size:13px; margin-bottom: 10px;\">  <b> Deliver To, </b></div>\r\n            <div><b>{{doc.customer}}</b></div>\r\n            <div><b>{{doc.customer_name}}</b></div>\r\n            <div>{{ doc.shipping_address_name }} </div>\r\n            <div> {{ doc.shipping_address }} </div>\r\n        </td>\r\n        <td style=\"20%\">\r\n            <img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\" class=\"center\" height=80px>\r\n        </td>\r\n        <td style = \"width:35%\">  \r\n            <table class = \"table table-sm; \" style = \"width:100%; margin-top:-1px !important;\" cellspacing = '0' cellpadding = '0'> \r\n                <tr>\r\n                    <td style = 'font-size:11px'> PO Date: </td> <td style = 'font-size:11px'>   {{ frappe.utils.formatdate(doc.get_formatted(frappe.db.get_value('Purchase Order', doc.po_no, 'transaction_date')), \"dd-mm-yyyy\") }}</td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Customer PO#. </td> <td style = 'font-size:11px'>  {{doc.po_no }} </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> SO No.: </td> <td style = 'font-size:11px'>  {{sales_order[0].name or ''}} </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Sales Person: </td> <td style = 'font-size:11px'>{{doc.sales_team[0].sales_person or ''}}</td>\r\n                </tr>\r\n            </table>\r\n        </td>\r\n    </tr>\r\n</table>\r\n<table style=\"width: 100%; border: 0px solid white !important; margin-top: 0px;\">\r\n     <tr style=\"border: 0px solid white;\">\r\n        <td style =  'font-size:9px; margin-top: 0px; '> Warehouse: {{doc.items[0].warehouse or \"\" }} </td>\r\n        <td style = 'font-size:9px'> Transporter: {{doc.transporter or \"\" }} </td>\r\n        <td style = ' font-size:9px; text-indent: 10px;'> Project No: {{doc.project or \"\" }} </td>\r\n\r\n        <td class = \"text-size-10\"  style = 'font-size:10px'>  SI # {{ doc.items[0].against_sales_invoice or \"\" }}   </td>\r\n        <td class = \"text-size-10\"  style = 'font-size:10px'>  SO # {{ doc.items[0].against_sales_order or \"\" }}   </td>\r\n\r\n\r\n    </tr>\r\n</table>\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr width=100% height=40px style = \"border: 1px solid black;\">\r\n        <td width=50%><b>Additional Notes: </b>\r\n        <br>\r\n        {{doc.posa_notes or ''}}\r\n        </td>\r\n        \r\n    </tr>\r\n</table>\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr width=100% height=40px style = \"border: 1px solid black;\">\r\n        <td width=50%><b>Instructions : </b>\r\n        <br>\r\n        {{doc.instructions or ''}}\r\n        </td>\r\n        \r\n    </tr>\r\n</table>\r\n<table style = \"width:100%; font-size:11px;  margin-top:5px\" border = '1'> \r\n    <tr> \r\n        <thead> \r\n            <th> # </th>\r\n            <th>  Item Code </th>\r\n            <th>  Item Name </th>\r\n            <th class=\"text-center\">  Qty </th>\r\n            <!--<th class=\"text-center\">  PCs </th>-->\r\n            <!--<th class=\"text-center\">  Unit Weight </th>-->\r\n            <!--<th class=\"text-center\">  Total Weight </th>-->\r\n        </thead>\r\n    </tr>\r\n{% set tot_qty = {\"tot_qty\": 0} %}\r\n<!--{% set tot_weight = {\"tot_weight\": 0} %}-->\r\n<!--{% set tot_unit_weight = {\"tot_unit_weight\": 0} %}-->\r\n{% for row in doc.items %}\r\n    <!--{% if tot_unit_weight.update({\"tot_unit_weight\": tot_unit_weight[\"tot_unit_weight\"] + row.weight_per_unit}) %} {% endif %}-->\r\n    {% if tot_qty.update({\"tot_qty\": tot_qty[\"tot_qty\"] + row.qty}) %} {% endif %}\r\n    <!--{% if tot_weight.update({\"tot_weight\": tot_weight[\"tot_weight\"] + row.total_weight}) %} {% endif %}-->\r\n    \r\n    \r\n        <tr>\r\n            <td style=\"\">{{ row.idx }}</td>\r\n            <td style=\"\">\r\n                {{ row.item_code }}\r\n            </td>\r\n            <td style=\"\">\r\n                {{ row.item_name }}\r\n            </td>\r\n            <td style=\"\" class=\"text-center\">\r\n                {{ row.qty }}\r\n            </td>\r\n            <!--<td style=\"\" class=\"text-center\">-->\r\n               \r\n            <!--</td>-->\r\n            <!--<td style=\"\" class=\"text-center\">-->\r\n            <!--    {{ row.weight_per_unit }}-->\r\n            <!--</td>-->\r\n            <!--<td style=\"\" class=\"text-center\">-->\r\n            <!--    {{ row.total_weight }}-->\r\n            <!--</td>-->\r\n\r\n        </tr>\r\n        {%- endfor -%}\r\n        <tr> \r\n            <td colspan=\"3\" class=\"text-right\"><b>Totals: </b>  </td>\r\n            <td class=\"text-center\"> <b>{{tot_qty[\"tot_qty\"]}}</b></td>\r\n            <!--<td class=\"text-center\"> <b></b></td>-->\r\n            <!--<td class=\"text-center\"> <b>{{tot_unit_weight[\"tot_unit_weight\"]}}</b></td>-->\r\n            <!--<td class=\"text-center\"> <b>{{tot_weight[\"tot_weight\"]}}</b></td>-->\r\n        </tr>\r\n \r\n</table>\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr rowspan = \"4\" style = \"border-top: 1px solid black;  border-bottom: 1px solid black\">\r\n    <td  colspan = \"6\" width=60% style = \"border-top: 1px solid black\"><b> Delivery Details:  </b></td>\r\n    <td colspan = \"2\" width=40%>\r\n        <table class=\"table table-sm\" style=\"margin-top:0px\">\r\n            <tr>\r\n                <td colspan = \"2\">  <b> Total Quantity: </b>  </td>\r\n                <td colspan = \"2\"> <b> {{tot_qty[\"tot_qty\"]}}  </b></td>\r\n            </tr>\r\n            <!--<tr>-->\r\n            <!--    <td colspan = \"2\"> <b> Total Weight:</b> </td>-->\r\n            <!--    <td colspan = \"2\"> <b> {{tot_weight[\"tot_weight\"]}} </b> </td>-->\r\n            <!--</tr>-->\r\n            <tr></tr>\r\n        </table>\r\n    </td>\r\n</tr>\r\n</table>\r\n\r\n{% if doc.docstatus==0 %}\r\n<div class ='watermark'>\r\n</div>\r\n{% endif %}\r\n\r\n<table width=100% style=\"width:100%; font-size:11px;  margin-top:8px\">\r\n    <tr width=100% style=\"border:1px solid black\">\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created By: {{ doc.owner }} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b>  </b></td>\r\n        \r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created ON: {{ doc.get_formatted('creation')}} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b> Authorized By:  {% if doc.docstatus==1 %} {{doc.owner}} {% endif %}  </b> </td>\r\n    </tr>\r\n    <tr width=100%>\r\n        <td colspan=\"2\" style=\"border:1px solid black; padding:0px !important; margin:0px !important;\"> \r\n        <div class = \"\" style. =\"padding:0px !important; margin:0px !important;\">\r\n    <table width=100% style=\"width:100%; padding:0px !important; margin:0px !important; font-size:11px;  margin-top:8px\">\r\n    \r\n    <tr width=100%>\r\n        <td width=100% style=\"font-size:11px; font-weight:bold; padding:0px !important; margin:0px !important;\"> <b> Vehicle Reg:  </b> </td>\r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=100% style=\" font-size:11px; font-weight:bold; padding:0px !important; margin:0px !important;\"><b> Collector Tel No:  </b> </td>\r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=100% style=\" font-size:11px; font-weight:bold; padding:0px !important; margin:0px !important;\"><b> Date:  </b> </td>\r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=100% style=\" font-size:11px; padding:0px !important; margin:0px !important;\"><b>[Goods Checked & Received in good order and condition] </b> </td>\r\n    </tr>\r\n</table>\r\n</div>\r\n        </td>\r\n        </tr>\r\n</table>\r\n\r\n\r\n<table width=100% style=\"width:100%; font-size:11px;  margin-top:8px\">\r\n    <tr width=100% style=\"border: 0 \">\r\n    <td colspan=\"2\" width=100%><i>To be filled by the customer:</i></td>\r\n    </tr>\r\n    <tr width=100% style=\"border:1px solid black\">\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Received By:  </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b> ID No.: </b></td>\r\n        \r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=50% height=100px style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Signature:  </b> </td>\r\n        <td width=50% height=100px style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b>     </b> </td>\r\n    </tr>\r\n</table>\r\n\r\n<table>\r\n            <tr>\r\n            <td colspan = \"2\" class=\"net_total\" style = \"float:right;\"></td>\r\n             <td colspan = \"2\"  class=\"net_total\" style = \"float:right;\"> <b> {{doc.net_total}} </b> </td>\r\n            </tr>\r\n</table>\r\n\r\n\r\n\r\n    <!--<div  id = \"\" style = 'page-break-after :always;  ' >  </div>-->\r\n\r\n    <div class = 'text-center' style = \"font-size:12px; font-weight:600\" >General Terms and Conditions </div>\r\n\r\n<div class = \"\" style. =\"margin-top:-20px\">\r\n{{ doc.terms or \"\" }}\r\n</div>\r\n\r\n<div style=\"margin-top:1px; margin-bottom:1px;  border:1px solid black;\"></div>\r\n<div class = 'text-center' style = \"font-size:12px;\" >Goods sold as per our terms & condition, to view the same visit <a href=\"https://impalaglass.com/tnc/\">impalaglass.com/tnc</a></div>\r\n\r\n\r\n\r\n\r\n{% set times_printed = doc.times_printed or 0 %}\r\n{% if times_printed >= 1 %} {% set duplicate = 'DUPLICATE'%} {% endif %}\r\n\r\n{% set footer = frappe.db.get_value(\"Letter Head\", doc.letter_head, \"footer\") %}\r\n\r\n{% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(), \"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user, 'times_printed' : times_printed, 'duplicate': duplicate or ''}) %}\r\n{{ footer_updated }}\r\n\r\n\r\n    <div id=\"footer-html\" class=\"visible-pdf text-center  \" style = \"font-size:10px\" >\r\n        <p id=\"demo\"></p>\r\n        <div class=\"letter-head-footer text-size-10 text-center \"  style=\"font-size: 10px;\"  >\r\n            {{ footer }}\r\n        </div>\r\n        <p class=\"text-center small page-number visible-pdf\" style = \"font-size:10px\" >\r\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\r\n        </p>\r\n    </div>\r\n    ",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:57.113934",
  "module": "AQIQ Print Formats",
  "name": "Delivery Note A4 - Auto",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": ".watermark {\r\n    position: fixed;\r\n    top: 460px;\r\n    left: 220px;\r\n    right: 220px;\r\n    background: url(\"/files/draft-icon.jpg\");\r\n    background-repeat: no-repeat;\r\n    /*background-size: center;*/\r\n    height:160px;\r\n    width:50%;\r\n    background-position: center;\r\n    background-size: 100%;\r\n    color:black !important;\r\n    opacity: 0.1;\r\n    }\r\n@media print {\r\n    .watermark {\r\n    position: fixed;\r\n    top: 460px;\r\n    left: 220px;\r\n    right: 220px;\r\n    background: url(\"/files/draft-icon.jpg\");\r\n    background-repeat: repeat;\r\n    /*background-size: contain;*/\r\n    height:160px;\r\n    width:50%;\r\n    background-position: center;\r\n    background-size: 100%;\r\n    color:black !important;\r\n    opacity: 0.1;\r\n    }\r\n\r\n}\r\n\r\n",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Delivery Note",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<div id=\"header-html\"   style = \"margin-top:-15px !important; width:95.2%; margin-left:15px !important\">\r\n    <div class = \"row\" style = \"\">\r\n        <div class = \"col-xs-10\" style = \"width:100%; float:left; border:1px solid black \">\r\n\r\n\r\n             {% set header = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1}, \"content\") %}\r\n            \r\n            <!--{% if doc.company == 'Impala Glass Industries Ltd' %}-->\r\n            <!--    {% set logo = \"/files/Impala.png\" %} {% elif doc.company == \"Impala Africa Ltd\" %} {% set logo = \"/files/impala-africa-logo.jpg\" %}-->\r\n            <!--{% endif %}-->\r\n            \r\n            \r\n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website',]) %}\r\n            \r\n            \r\n        \r\n        {% set comapny_address_line1 = '' %}        \r\n        {% set comapny_city = '' %}        \r\n        {% set comapny_counrty = '' %}        \r\n        {% set comapny_state = '' %}        \r\n        {% set phone = '' %}        \r\n\r\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\r\n\r\n        {% if company_address_name  %}\r\n            {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\r\n                \r\n\r\n        {% set comapny_address_line1 = address.address_line1 %}        \r\n        {% set comapny_city =  address.city  %}        \r\n        {% set comapny_counrty =  address.country  %}        \r\n        {% set comapny_state =  address.state  %}        \r\n\r\n        {% set phone = address.phone %}        \r\n\r\n        {% endif  %}\r\n\r\n\r\n            \r\n            \r\n            \r\n\r\n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \r\n            'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \r\n            'state' : comapny_state,\r\n            'phone_no' : phone, 'email' : company_details[0].email, 'pin_no': company_details[0].tax_id ,  'company_logo' : company_details[0].company_logo, 'website' : company_details[0].website,  }) %}\r\n            {{header_updated}}\r\n\r\n\r\n\r\n            {% set sales_order = frappe.db.get_list(\"Sales Order\" ,\r\n            filters={\r\n            'name': doc.items[0].against_sales_order\r\n            },\r\n            fields = ['name', 'po_no']) %}\r\n            \r\n            \r\n            \r\n            <table  class = \"table table-sm\" style = \"width:28%; \"> \r\n                <tr>\r\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:14px\"> {% if doc.is_return == 1 %} Delivery Return {% else %} Delivery Note {% endif %}</b> </span> </center>  </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Date </td> <td style = 'font-size:11px'>  \r\n                    \r\n\r\n                                                            {{ doc.get_formatted('posting_date') }} \r\n                    \r\n                    </td>\r\n                </tr>\r\n\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Delivery Note # </td> <td style = \"font-size:11px\"> {{doc.name}} </td>\r\n                </tr>\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Division </td> <td style = \"font-size:11px\">  {{doc.cost_center}} </td>\r\n                </tr>\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Department </td> <td style = \"font-size:9px\">  {{doc.department}} </td>\r\n                </tr>\r\n\r\n<tr> \r\n                    <td style = \"font-size:11px\"> Warehouse </td> <td style = \"font-size:9px\">  {{doc.set_warehouse}} </td>\r\n                </tr>\r\n            </table>\r\n\r\n\r\n        </div>\r\n\r\n        <div class = \"col-xs-8\" style = 'float:left'>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n<table class = \"\"  style = \"width:100%; font-size:11px !important; border-bottom:0px solid black !important; margin-bottom: 0px;\"> \r\n    <tr> \r\n        <td style = \"width:40%\">  \r\n            <div style=\"font-size:13px; margin-bottom: 10px;\">  <b> Deliver To, </b></div>\r\n            <div><b>{{doc.customer}}</b></div>\r\n            <div><b>{{doc.customer_name}}</b></div>\r\n            <div> <b>{{ doc.address_display }}</b> </div>\r\n            <!--<div> {{ doc.shipping_address or '' }} </div>-->\r\n        </td>\r\n        <td style=\"20%\">\r\n            <img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\" class=\"center\" height=80px>\r\n        </td>\r\n        <td style = \"width:35%\">  \r\n            <table class = \"table table-sm; \" style = \"width:100%; margin-top:-1px !important;\" cellspacing = '0' cellpadding = '0'> \r\n                <tr>\r\n                    <td style = 'font-size:11px'> PO Date: </td> <td style = 'font-size:11px'>   {{ frappe.utils.formatdate(doc.get_formatted(frappe.db.get_value('Purchase Order', doc.po_no, 'transaction_date')), \"dd-mm-yyyy\") }}</td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Customer PO#. </td> <td style = 'font-size:11px'>  {{doc.po_no }} </td>\r\n                </tr>\r\n                <!--<tr>-->\r\n                <!--    <td style = 'font-size:11px'> SO No.: </td> <td style = 'font-size:11px'>  {% if sales_order[0] %}{{sales_order[0].name}}{% endif %} </td>-->\r\n                <!--</tr>-->\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Sales Person: </td> <td style = 'font-size:11px'>{% if doc.sales_team[0] %}{{doc.sales_team[0].sales_person}}{% endif %}</td>\r\n                </tr>\r\n                {% if doc.is_return == 1 %}\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Return Against: </td> <td style = 'font-size:11px'>  {{doc.return_against }} </td>\r\n                </tr>\r\n                {% endif %}\r\n            </table>\r\n        </td>\r\n    </tr>\r\n</table>\r\n<table style=\"width: 100%; border: 0px solid white !important; margin-top: 0px;\">\r\n    {% set unique_sales_orders = [] %} \r\n{% for row in doc.items %}\r\n{% if not row.against_sales_order in unique_sales_orders %}\r\n{% set gg = unique_sales_orders.append(row.against_sales_order) %}\r\n{% endif %}\r\n{% endfor %}\r\n{% if unique_sales_orders|length == 1 %}\r\n{% set unique_sales_orders = unique_sales_orders[0] %} \r\n{% else %}\r\n{% set unique_sales_orders = unique_sales_orders|join(', ') %}\r\n{% endif %}\r\n{% set lisec_order_id = None %}\r\n{% if doc.sales_order_id %}\r\n    {% set lisec_order_id = frappe.db.get_value('Material Request', {'sales_order_id' : doc.sales_order_id}, 'lisec_order_id') %}\r\n{% endif %}\r\n    <tr>\r\n    <td style = \"font-size:11px;\" colspan=3 > SO No: {{ unique_sales_orders }}</td>\r\n    <td style = \"font-size:11px;\" colspan=1 > Lisec Order No: {{ lisec_order_id }}</td>\r\n    </tr>\r\n   \r\n{% set unique_warehouses = [] %} \r\n{% for row in doc.items %}\r\n{% if not row.warehouse in unique_warehouses %}\r\n{% set gg = unique_warehouses.append(row.warehouse) %}\r\n{% endif %}\r\n{% endfor %}\r\n{% if unique_warehouses|length == 1 %}\r\n{% set unique_warehouses = unique_warehouses[0] %} \r\n{% else %}\r\n{% set unique_warehouses = unique_warehouses|join(', ') %}\r\n{% endif %}\r\n     <tr style=\"border: 0px solid white;\">\r\n        <td style =  'font-size:9px; margin-top: 0px; '> Warehouse: {{unique_warehouses}} </td>\r\n        <td style = 'font-size:9px'> Transporter: {{doc.transporter or \"\" }} </td>\r\n        <td style = ' font-size:9px; text-indent: 10px;'> Project No: {{doc.project or \"\" }} </td>\r\n\r\n        <td class = \"text-size-10\"  style = 'font-size:10px'>  SI # {{ doc.items[0].against_sales_invoice or \"\" }}   </td>\r\n        <!--<td class = \"text-size-10\"  style = 'font-size:10px'>  SO # {{ doc.items[0].against_sales_order or \"\" }}   </td>-->\r\n\r\n\r\n    </tr>\r\n</table>\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr width=100% height=40px style = \"border: 1px solid black;\">\r\n        <td width=50%><b>Additional Notes : </b>\r\n        <br>\r\n        {{doc.posa_notes or ''}}\r\n        </td>\r\n        \r\n    </tr>\r\n</table>\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr width=100% height=auto style = \"border: 1px solid black;\">\r\n        <td width=50%><b>Further Action : </b>\r\n        \r\n        {{doc.instructions or ''}}\r\n        </td>\r\n        \r\n    </tr>\r\n</table>\r\n{% if doc.is_return == 1 %}\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr width=100% height=auto style = \"border: 1px solid black;\">\r\n        <td width=50%><b>Return Reason : </b>\r\n        \r\n        {{doc.return_reason}}\r\n        </td>\r\n        \r\n    </tr>\r\n</table>\r\n{% endif %}\r\n\r\n{% if doc.docstatus==0 %}\r\n<div class ='watermark'>\r\n</div>\r\n{% endif %}\r\n\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:5px\" border = '1'> \r\n        <thead> \r\n    <tr> \r\n            <th style=\"width:2%\"> # </th>\r\n            <th style=\"width:13%\">  Item Code </th>\r\n            <th style=\"width:30%\">  Item Name </th>\r\n            <th style=\"width:10%\" class=\"text-center\">  Width (mm) </th>\r\n            <th style=\"width:10%\"  class=\"text-center\">  Height (mm)</th>\r\n            <th style=\"width:10%\" class=\"text-center\">  PCS </th>\r\n            <!--<th style=\"width:10%\" class=\"text-center\">  Currency </th>-->\r\n            <th style=\"width:10%\" class=\"text-center\">  QTY/SQM </th>\r\n            <th style=\"width:15%\" class=\"text-center\">  UOM </th>\r\n            \r\n    </tr>\r\n        </thead>\r\n{% set tot_qty = {\"tot_qty\": 0} %}\r\n{% set tot_pcs = {\"tot_pcs\": 0} %}\r\n{% set tot_weight = {\"tot_weight\": 0} %}\r\n{% set tot_unit_weight = {\"tot_unit_weight\": 0} %}\r\n\r\n{% set total_sqms = {\"total_sqms\": 0.0} %}\r\n{% set total_pcs = {\"total_pcs\": 0.0} %}\r\n{% set total_meter = {\"total_meter\": 0.0} %}\r\n\r\n\r\n{% set uoms_object = {} %}\r\n{% for entry in doc.items %}\r\n    {% if entry.uom not in uoms_object.keys() %}\r\n        {% set uoms_object = uoms_object.update({entry.uom: 0.0}) %} \r\n    {% endif %}\r\n{% endfor %}\r\n\r\n\r\n{% for row in doc.items %}\r\n    {% if tot_unit_weight.update({\"tot_unit_weight\": tot_unit_weight[\"tot_unit_weight\"] + row.weight_per_unit}) %} {% endif %}\r\n    {% if tot_qty.update({\"tot_qty\": tot_qty[\"tot_qty\"] + row.qty}) %} {% endif %}\r\n    {% if tot_weight.update({\"tot_weight\": tot_weight[\"tot_weight\"] + row.total_weight}) %} {% endif %}\r\n    \r\n    {% set pcs = frappe.db.get_value(\"Sales Order Item\", row.so_detail, \"pcs\") or 0.0 %}\r\n   {% if row.uom != 'Nos' %} {% set _ = tot_pcs.update({\"tot_pcs\": tot_pcs[\"tot_pcs\"] + row.pcs}) %} {% endif %}\r\n\r\n    \r\n    {% set uoms_object = uoms_object.update({row.uom : uoms_object[row.uom] + row.qty})%}\r\n    \r\n    \r\n    \r\n    \r\n    \r\n        <tr>\r\n            <td style=\"\">{{ row.idx }}</td>\r\n            <td style=\"\">\r\n                {{ row.item_code }}\r\n            </td>\r\n            <td style=\"\">\r\n                {{ row.item_name }}\r\n            </td>\r\n            <td style=\"\" class=\"text-center\">\r\n                {{ row.width or frappe.db.get_value('Item', row.item_code,'width') }}\r\n            </td>\r\n            <td style=\"\" class=\"text-center\">\r\n                {{ row.height or frappe.db.get_value('Item', row.item_code,'height') }}\r\n            </td>\r\n            <td style=\"\" class=\"text-center\">\r\n                {{ row.pcs if row.uom != 'Nos' }}\r\n            </td>\r\n            <!--<td style=\"\" class=\"text-center\">-->\r\n            <!--    {{ doc.currency }}-->\r\n            <!--</td>-->\r\n            <td style=\"\" class=\"text-center\">\r\n               \r\n                {{ row.qty  }}\r\n            </td>\r\n            <td style=\"\" class=\"text-center\">\r\n                {{ row.uom }}\r\n            </td>\r\n            \r\n\r\n        </tr>\r\n        \r\n        \r\n        {%- endfor -%}\r\n        <tr> \r\n            <td colspan=\"3\" class=\"text-right\"><b>Totals: </b>  </td>\r\n            <td class=\"text-center\"> <b></b></td>\r\n            <td class=\"text-center\"> <b></b></td>\r\n            <td class=\"text-center\"> <b>{{tot_pcs[\"tot_pcs\"]}}</b></td>\r\n            <td class=\"text-center\"> <b>{{tot_qty[\"tot_qty\"]|round(2)}}</b></td>\r\n            <td class=\"text-center\"> <b></b></td>\r\n        </tr>\r\n \r\n</table>\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr rowspan = \"1\" style = \"border-top: 1px solid black;  border-bottom: 1px solid black\">\r\n                \r\n               <td colspan=\"1\" style='border: 1px solid black'> <b> Total Weight: {{ tot_weight[\"tot_weight\"]|round(3) }}</b> </td>\r\n\r\n                {% for key, val in uoms_object.items() %}\r\n                <td colspan = \"1\" style='border: 1px solid black'> <b>Total {{key}} : {{val | round(2)}} </b> </td>\r\n                {% endfor %}\r\n    </tr>\r\n</table>\r\n\r\n{% if doc.docstatus==0 %}\r\n<div class ='watermark'>\r\n</div>\r\n{% endif %}\r\n\r\n<table width=100% style=\"width:100%; font-size:11px;  margin-top:8px\">\r\n    <tr width=100% style=\"border:1px solid black\">\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created By: {{ doc.owner }} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b>  </b></td>\r\n        \r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created ON: {{ doc.get_formatted('creation')}} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b> Authorized By:  {% if doc.docstatus==1 %} {{doc.owner}} {% endif %}  </b> </td>\r\n    </tr>\r\n    <tr width=100%>\r\n        <td colspan=\"2\" style=\"border:1px solid black; padding:0px !important; margin:0px !important;\"> \r\n        <div class = \"\" style. =\"padding:0px !important; margin:0px !important;\">\r\n    <table width=100% style=\"width:100%; padding:0px !important; margin:0px !important; font-size:11px;  margin-top:8px\">\r\n    \r\n    <tr width=100%>\r\n        <td width=100% style=\"font-size:11px; font-weight:bold; padding:0px !important; margin:0px !important;\"> <b> Vehicle Reg:  </b> </td>\r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=100% style=\" font-size:11px; font-weight:bold; padding:0px !important; margin:0px !important;\"><b> Collector Tel No:  </b> </td>\r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=100% style=\" font-size:11px; font-weight:bold; padding:0px !important; margin:0px !important;\"><b> Date:  </b> </td>\r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=100% style=\" font-size:11px; padding:0px !important; margin:0px !important;\"><b>[Goods Checked & Received in good order and condition] </b> </td>\r\n    </tr>\r\n</table>\r\n</div>\r\n        </td>\r\n        </tr>\r\n</table>\r\n\r\n\r\n<table width=100% style=\"width:100%; font-size:11px;  margin-top:8px\">\r\n    <tr width=100% style=\"border: 0 \">\r\n    <td colspan=\"2\" width=100%><i>To be filled by the customer:</i></td>\r\n    </tr>\r\n    <tr width=100% style=\"border:1px solid black\">\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Received By:  </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b> ID No.: </b></td>\r\n        \r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=50% height=60px style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Signature:  </b> </td>\r\n        <td width=50% height=60px style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b>     </b> </td>\r\n    </tr>\r\n    \r\n    <tr width=100%>\r\n        <td width=50% style=\"border:0px solid black; font-size:11px; font-weight:bold;\"> </td>\r\n        <td width=50% style=\"border:0px solid black; font-size:16px; font-weight:bold; text-align: right\"> {{ doc.net_total}}  </td>\r\n    </tr>\r\n    \r\n</table>\r\n\r\n\r\n    <!--<div  id = \"\" style = 'page-break-after :always;  ' >  </div>-->\r\n\r\n    <div class = 'text-center' style = \"font-size:12px; font-weight:600\" >General Terms and Conditions </div>\r\n\r\n<div class = \"\" style. =\"margin-top:-20px\">\r\n{{ doc.terms or \"\" }}\r\n</div>\r\n\r\n<div style=\"margin-top:1px; margin-bottom:1px;  border:1px solid black;\"></div>\r\n<div class = 'text-center' style = \"font-size:12px;\" >Goods sold as per our terms & condition, to view the same visit <a href=\"https://impalaglass.com/tnc/\">impalaglass.com/tnc</a></div>\r\n\r\n\r\n{% set times_printed = doc.times_printed or 0 %}\r\n{% if times_printed >= 1 %} {% set duplicate = 'DUPLICATE'%} {% endif %}\r\n\r\n{% set footer = frappe.db.get_value(\"Letter Head\", doc.letter_head, \"footer\") %}\r\n\r\n{% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(), \"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user, 'times_printed' : times_printed, 'duplicate': duplicate or ''}) %}\r\n{{ footer_updated }}\r\n\r\n\r\n    <div id=\"footer-html\" class=\"visible-pdf visible-print text-center\" style = \"font-size:10px\" >\r\n        <p id=\"demo\"></p>\r\n        <div class=\"letter-head-footer text-size-10 text-center \"  style=\"font-size: 10px;\"  >\r\n            {{ footer }}\r\n        </div>\r\n        <p class=\"text-center small page-number visible-pdf\" style = \"font-size:10px\" >\r\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\r\n        </p>\r\n    </div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:56.913147",
  "module": "AQIQ Print Formats",
  "name": "Archi DN V-1",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": ".watermark {\r\n    position: fixed;\r\n    top: 460px;\r\n    left: 220px;\r\n    right: 220px;\r\n    background: url(\"/files/draft-icon.jpg\");\r\n    background-repeat: no-repeat;\r\n    /*background-size: center;*/\r\n    height:160px;\r\n    width:50%;\r\n    background-position: center;\r\n    background-size: 100%;\r\n    color:black !important;\r\n    opacity: 0.1;\r\n    }\r\n@media print {\r\n    .watermark {\r\n    position: fixed;\r\n    top: 460px;\r\n    left: 220px;\r\n    right: 220px;\r\n    background: url(\"/files/draft-icon.jpg\");\r\n    background-repeat: repeat;\r\n    /*background-size: contain;*/\r\n    height:160px;\r\n    width:50%;\r\n    background-position: center;\r\n    background-size: 100%;\r\n    color:black !important;\r\n    opacity: 0.1;\r\n    }\r\n\r\n}\r\n\r\n",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Material Request",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<div id=\"header-html\"   style = \"margin-top:-15px !important; width:95.2%; margin-left:15px !important\">\r\n    <div class = \"row\" style = \"\">\r\n        <div class = \"col-xs-10\" style = \"width:100%; float:left; border:1px solid black \">\r\n\r\n\r\n             {% set header = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1}, \"content\") %}\r\n            \r\n            <!--{% if doc.company == 'Impala Glass Industries Ltd' %}-->\r\n            <!--    {% set logo = \"/files/Impala.png\" %} {% elif doc.company == \"Impala Africa Ltd\" %} {% set logo = \"/files/impala-africa-logo.jpg\" %}-->\r\n            <!--{% endif %}-->\r\n            \r\n            \r\n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website',]) %}\r\n            \r\n            \r\n        \r\n        {% set comapny_address_line1 = '' %}        \r\n        {% set comapny_city = '' %}        \r\n        {% set comapny_counrty = '' %}        \r\n        {% set comapny_state = '' %}        \r\n        {% set phone = '' %}        \r\n\r\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\r\n\r\n        {% if company_address_name  %}\r\n            {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\r\n                \r\n\r\n        {% set comapny_address_line1 = address.address_line1 %}        \r\n        {% set comapny_city =  address.city  %}        \r\n        {% set comapny_counrty =  address.country  %}        \r\n        {% set comapny_state =  address.state  %}        \r\n\r\n        {% set phone = address.phone %}        \r\n\r\n        {% endif  %}\r\n\r\n\r\n            \r\n            \r\n            \r\n\r\n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \r\n            'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \r\n            'state' : comapny_state,\r\n            'phone_no' : phone, 'email' : company_details[0].email, 'pin_no': company_details[0].tax_id ,  'company_logo' : company_details[0].company_logo, 'website' : company_details[0].website,  }) %}\r\n            {{header_updated}}\r\n\r\n\r\n\r\n            {% set sales_order = frappe.db.get_list(\"Sales Order\" ,\r\n            filters={\r\n            'name': doc.items[0].against_sales_order\r\n            },\r\n            fields = ['name', 'po_no']) %}\r\n            \r\n            <table  class = \"table table-sm\" style = \"width:28%; \"> \r\n                <tr>\r\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:14px\"> Projects Material Issue</b> </span> </center>  </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Date </td> <td style = 'font-size:11px'>  \r\n                    \r\n\r\n                                                            {{ doc.get_formatted('transaction_date') }} \r\n                    \r\n                    </td>\r\n                </tr>\r\n\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Stock Entry </td> <td style = \"font-size:11px\"> {{doc.name}} </td>\r\n                </tr>\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Division </td> <td style = \"font-size:11px\">  {{doc.cost_center}} </td>\r\n                </tr>\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Department </td> <td style = \"font-size:11px\">  {{doc.department}} </td>\r\n                </tr>\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Project </td> <td style = \"font-size:11px\">  {{doc.project}} </td>\r\n                </tr>\r\n\r\n\r\n            </table>\r\n\r\n\r\n        </div>\r\n\r\n        <div class = \"col-xs-8\" style = 'float:left'>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n<table class = \"\"  style = \"width:100%; font-size:11px !important; border-bottom:0px solid black !important; margin-bottom: 0px;\"> \r\n    <tr> \r\n        <td style = \"width:40%\">  \r\n            <!--<div style=\"font-size:13px; margin-bottom: 10px;\">  <b> Deliver To, </b></div>-->\r\n            <!--<div><b>{{doc.customer_name}}</b></div>-->\r\n        <td style=\"20%\">\r\n            <img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\" class=\"center\" height=80px>\r\n        </td>\r\n        <td style = \"width:35%\">  \r\n            <table class = \"table table-sm; \" style = \"width:100%; margin-top:-1px !important;\" cellspacing = '0' cellpadding = '0'> \r\n                <tr>\r\n                    <!--<td style = 'font-size:11px'> PO Date: </td> <td style = 'font-size:11px'>   {{ frappe.utils.formatdate(doc.get_formatted(frappe.db.get_value('Purchase Order', doc.po_no, 'transaction_date')), \"dd-mm-yyyy\") }}</td>-->\r\n                </tr>\r\n            \r\n            </table>\r\n        </td>\r\n    </tr>\r\n</table>\r\n\r\n{% if doc.docstatus==0 %}\r\n<div class ='watermark'>\r\n</div>\r\n{% endif %}\r\n\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:5px\" border = '1'> \r\n        <thead> \r\n    <tr> \r\n            <th style=\"width:2%\"> # </th>\r\n            <th style=\"width:13%\">  Item Code </th>\r\n            <th style=\"width:30%\">  Item Name </th>\r\n            <th style=\"width:10%\" class=\"text-center\">  Width </th>\r\n            <th style=\"width:10%\"  class=\"text-center\">  Height </th>\r\n            <th style=\"width:10%\" class=\"text-center\">  PCS </th>\r\n            <th style=\"width:10%\" class=\"text-center\">  Qty </th>\r\n            <th style=\"width:15%\" class=\"text-center\">  UOM </th>\r\n            \r\n    </tr>\r\n        </thead>\r\n{% set tot_qty = {\"tot_qty\": 0} %}\r\n{% set tot_pcs = {\"tot_pcs\": 0} %}\r\n{% set tot_weight = {\"tot_weight\": 0} %}\r\n{% set tot_unit_weight = {\"tot_unit_weight\": 0} %}\r\n\r\n{% set total_sqms = {\"total_sqms\": 0.0} %}\r\n{% set total_pcs = {\"total_pcs\": 0.0} %}\r\n{% set total_meter = {\"total_meter\": 0.0} %}\r\n\r\n\r\n{% set uoms_object = {} %}\r\n{% for entry in doc.items %}\r\n    {% if entry.uom not in uoms_object.keys() %}\r\n        {% set uoms_object = uoms_object.update({entry.uom: 0.0}) %} \r\n    {% endif %}\r\n{% endfor %}\r\n\r\n\r\n{% for row in doc.items %}\r\n    {% if tot_qty.update({\"tot_qty\": tot_qty[\"tot_qty\"] + row.qty}) %} {% endif %}\r\n    \r\n    {% set pcs = frappe.db.get_value(\"Sales Order Item\", row.so_detail, \"pcs\") or 0.0 %}\r\n    {% if tot_pcs.update({\"tot_pcs\": tot_pcs[\"tot_pcs\"] + row.pcs}) %} {% endif %}\r\n    \r\n    {% set uoms_object = uoms_object.update({row.uom : uoms_object[row.uom] + row.qty})%}\r\n    \r\n    \r\n    \r\n    \r\n    \r\n        <tr>\r\n            <td style=\"\">{{ row.idx }}</td>\r\n            <td style=\"\">\r\n                {{ row.item_code }}\r\n            </td>\r\n            <td style=\"\">\r\n                {{ row.item_name }}\r\n            </td>\r\n            <td style=\"\" class=\"text-center\">\r\n                {{ row.width }}\r\n            </td>\r\n            <td style=\"\" class=\"text-center\">\r\n                {{ row.height }}\r\n            </td>\r\n            <td style=\"\" class=\"text-center\">\r\n                {{ row.pcs }}\r\n            </td>\r\n            <td style=\"\" class=\"text-center\">\r\n               \r\n                {{ row.qty }}\r\n            </td>\r\n            <td style=\"\" class=\"text-center\">\r\n                {{ row.uom }}\r\n            </td>\r\n            \r\n\r\n        </tr>\r\n        \r\n        \r\n        {%- endfor -%}\r\n        <tr> \r\n            <td colspan=\"3\" class=\"text-right\"><b>Totals: </b>  </td>\r\n            <td class=\"text-center\"> <b></b></td>\r\n            <td class=\"text-center\"> <b></b></td>\r\n            <td class=\"text-center\"> <b>{{tot_pcs[\"tot_pcs\"]}}</b></td>\r\n            <td class=\"text-center\"> <b>{{tot_qty[\"tot_qty\"]|round(2)}}</b></td>\r\n            <td class=\"text-center\"> <b></b></td>\r\n        </tr>\r\n \r\n</table>\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr rowspan = \"1\" style = \"border-top: 1px solid black;  border-bottom: 1px solid black\">\r\n                \r\n                <td colspan = \"1\" style='border: 1px solid black'> <b> Total Weight: {{tot_weight[\"tot_weight\"]}}</b> </td>\r\n                {% for key, val in uoms_object.items() %}\r\n                <td colspan = \"1\" style='border: 1px solid black'> <b>Total {{key}} : {{val | round(2)}} </b> </td>\r\n                {% endfor %}\r\n    </tr>\r\n</table>\r\n\r\n{% if doc.docstatus==0 %}\r\n<div class ='watermark'>\r\n</div>\r\n{% endif %}\r\n\r\n<table width=100% style=\"width:100%; font-size:11px;  margin-top:8px\">\r\n    <tr width=100% style=\"border:1px solid black\">\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created By: {{ doc.owner }} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b>  </b></td>\r\n        \r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created ON: {{ doc.get_formatted('creation')}} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b> Authorized By:  {% if doc.docstatus==1 %} {{doc.owner}} {% endif %}  </b> </td>\r\n    </tr>\r\n    <tr width=100%>\r\n        <td colspan=\"2\" style=\"border:1px solid black; padding:0px !important; margin:0px !important;\"> \r\n        <div class = \"\" style. =\"padding:0px !important; margin:0px !important;\">\r\n    <table width=100% style=\"width:100%; padding:0px !important; margin:0px !important; font-size:11px;  margin-top:8px\">\r\n    \r\n    <tr width=100%>\r\n        <td width=100% style=\"font-size:11px; font-weight:bold; padding:0px !important; margin:0px !important;\"> <b> Vehicle Reg:  </b> </td>\r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=100% style=\" font-size:11px; font-weight:bold; padding:0px !important; margin:0px !important;\"><b> Collector Tel No:  </b> </td>\r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=100% style=\" font-size:11px; font-weight:bold; padding:0px !important; margin:0px !important;\"><b> Date:  </b> </td>\r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=100% style=\" font-size:11px; padding:0px !important; margin:0px !important;\"><b>[Goods Checked & Received in good order and condition] </b> </td>\r\n    </tr>\r\n</table>\r\n</div>\r\n        </td>\r\n        </tr>\r\n</table>\r\n\r\n\r\n<table width=100% style=\"width:100%; font-size:11px;  margin-top:8px\">\r\n    <tr width=100% style=\"border: 0 \">\r\n    <td colspan=\"2\" width=100%><i>To be filled by the customer:</i></td>\r\n    </tr>\r\n    <tr width=100% style=\"border:1px solid black\">\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Received By:  </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b> ID No.: </b></td>\r\n        \r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=50% height=60px style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Signature:  </b> </td>\r\n        <td width=50% height=60px style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b>     </b> </td>\r\n    </tr>\r\n    \r\n</table>\r\n\r\n\r\n    <!--<div  id = \"\" style = 'page-break-after :always;  ' >  </div>-->\r\n\r\n    <div class = 'text-center' style = \"font-size:12px; font-weight:600\" >General Terms and Conditions </div>\r\n\r\n<div class = \"\" style. =\"margin-top:-20px\">\r\n{{ doc.terms or \"\" }}\r\n</div>\r\n\r\n\r\n\r\n\r\n{% set footer = frappe.db.get_value(\"Letter Head\", doc.letter_head, \"footer\") %}\r\n\r\n{% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(), \"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user}) %}\r\n{{ footer_updated }}\r\n\r\n\r\n    <div id=\"footer-html\" class=\"visible-pdf text-center  \" style = \"font-size:10px\" >\r\n        <p id=\"demo\"></p>\r\n        <div class=\"letter-head-footer text-size-10 text-center \"  style=\"font-size: 10px;\"  >\r\n            {{ footer }}\r\n        </div>\r\n        <p class=\"text-center small page-number visible-pdf\" style = \"font-size:10px\" >\r\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\r\n        </p>\r\n    </div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:56.791241",
  "module": "AQIQ Print Formats",
  "name": "Projects Material Issue",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": ".watermark {\r\n  position: relative;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  overflow: hidden;\r\n}\r\n\r\n.watermark::before {\r\n  content: \"DRAFT\";\r\n  position: fixed;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%) rotate(-45deg);\r\n  font-size: 100px;\r\n  color: rgba(255, 0, 0, 0.2); /* Faint red color with opacity */\r\n  font-family: \"Helvetica Neue\", sans-serif; /* Use Helvetica Neue or another preferred font */\r\n  pointer-events: none;\r\n}\r\n/*@media print {*/\r\n/*    .watermark {*/\r\n/*    position: fixed;*/\r\n/*    top: 460px;*/\r\n/*    left: 220px;*/\r\n/*    right: 220px;*/\r\n/*    background: url(\"/files/draft-icon.jpg\");*/\r\n/*    background-repeat: repeat;*/\r\n    /*background-size: contain;*/\r\n/*    height:160px;*/\r\n/*    width:50%;*/\r\n/*    background-position: center;*/\r\n/*    background-size: 100%;*/\r\n/*    color:black !important;*/\r\n/*    opacity: 0.1;*/\r\n/*    }*/\r\n\r\n/*}*/\r\n\r\n",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Stock Entry",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<div id=\"header-html\"   style = \"margin-top:-15px !important; width:95.2%; margin-left:15px !important\">\r\n    <div class = \"row\" style = \"\">\r\n        <div class = \"col-xs-10\" style = \"width:100%; float:left; border:1px solid black \">\r\n\r\n\r\n             {% set header = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1}, \"content\") %}\r\n            \r\n            <!--{% if doc.company == 'Impala Glass Industries Ltd' %}-->\r\n            <!--    {% set logo = \"/files/Impala.png\" %} {% elif doc.company == \"Impala Africa Ltd\" %} {% set logo = \"/files/impala-africa-logo.jpg\" %}-->\r\n            <!--{% endif %}-->\r\n            \r\n            \r\n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website',]) %}\r\n            \r\n            \r\n        \r\n        {% set comapny_address_line1 = '' %}        \r\n        {% set comapny_city = '' %}        \r\n        {% set comapny_counrty = '' %}        \r\n        {% set comapny_state = '' %}        \r\n        {% set phone = '' %}        \r\n\r\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\r\n\r\n        {% if company_address_name  %}\r\n            {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\r\n                \r\n\r\n        {% set comapny_address_line1 = address.address_line1 %}        \r\n        {% set comapny_city =  address.city  %}        \r\n        {% set comapny_counrty =  address.country  %}        \r\n        {% set comapny_state =  address.state  %}        \r\n\r\n        {% set phone = address.phone %}        \r\n\r\n        {% endif  %}\r\n\r\n\r\n            \r\n            \r\n            \r\n\r\n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \r\n            'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \r\n            'state' : comapny_state,\r\n            'phone_no' : phone, 'email' : company_details[0].email, 'pin_no': company_details[0].tax_id ,  'company_logo' : company_details[0].company_logo, 'website' : company_details[0].website,  }) %}\r\n            {{header_updated}}\r\n\r\n\r\n\r\n            {% set sales_order = frappe.db.get_list(\"Sales Order\" ,\r\n            filters={\r\n            'name': doc.items[0].against_sales_order\r\n            },\r\n            fields = ['name', 'po_no']) %}\r\n            \r\n            <table  class = \"table table-sm\" style = \"width:28%; \"> \r\n                <tr>\r\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:12px\"> PROJECT STOCK ISSUE</b> </span> </center>  </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Date </td> <td style = 'font-size:11px'>  \r\n                    \r\n\r\n                                                            {{ doc.get_formatted('posting_date') }} \r\n                    \r\n                    </td>\r\n                </tr>\r\n\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Stock Entry </td> <td style = \"font-size:11px\"> {{doc.name}} </td>\r\n                </tr>\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Division </td> <td style = \"font-size:11px\">  {{doc.cost_center}} </td>\r\n                </tr>\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Department </td> <td style = \"font-size:11px\">  {{doc.department}} </td>\r\n                </tr>\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Project </td> <td style = \"font-size:11px\">  {{doc.project}} <br>{{frappe.db.get_value('Project', doc.project, 'project_name')}} </td>\r\n                </tr>\r\n\r\n\r\n            </table>\r\n\r\n\r\n        </div>\r\n\r\n        <div class = \"col-xs-8\" style = 'float:left'>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n{% set lisec_id = [] %}\r\n{% for id in doc.so_items %}\r\n    {% if id.lisec_order_id not in lisec_id %}\r\n        {% set _ = lisec_id.append(id.lisec_order_id) %}\r\n    {% endif %}\r\n{% endfor %}\r\n\r\n\r\n\r\n\r\n\r\n\r\n<table class = \"\"  style = \"width:100%; font-size:11px !important; border-bottom:0px solid black !important; margin-bottom: 0px;\"> \r\n    <tr> \r\n        <td style = \"width:40%\">  \r\n            <p>Customer Name: {{ doc.customer_name or ''}}</p><br/>\r\n            <p>Project Name:  {{frappe.db.get_value('Project', doc.project, 'project_name') or ''}}</p><br/>\r\n            <p>Lisec Job Order#: {{ ', '.join(lisec_id) }}</p>\r\n        <td style=\"20%\">\r\n            <img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\" class=\"center\" height=80px>\r\n        </td>\r\n        <td style = \"width:35%\">  \r\n            <table class = \"table table-sm; \" style = \"width:100%; margin-top:-1px !important;\" cellspacing = '0' cellpadding = '0'> \r\n                <tr>\r\n                    <!--<td style = 'font-size:11px'> PO Date: </td> <td style = 'font-size:11px'>   {{ frappe.utils.formatdate(doc.get_formatted(frappe.db.get_value('Purchase Order', doc.po_no, 'transaction_date')), \"dd-mm-yyyy\") }}</td>-->\r\n                </tr>\r\n            \r\n            </table>\r\n        </td>\r\n    </tr>\r\n</table>\r\n<table style=\"width: 100%; border: 0px solid white !important; margin-top: 0px;\">\r\n    <tr>\r\n    <td style = 'font-size:11px'> SO No.: </td> <td style = 'font-size:11px'>  {% if sales_order[0] %}{{sales_order[0].name}}{% endif %} </td>\r\n    </tr>\r\n</table>\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr width=100% height=auto style = \"border: 1px solid black;\">\r\n        <td width=50%><b>Remarks : </b>\r\n        \r\n        {{doc.remarks}}\r\n        </td>\r\n        \r\n    </tr>\r\n</table>\r\n\r\n{% if doc.docstatus==0 %}\r\n<div class ='watermark'>\r\n</div>\r\n{% endif %}\r\n\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:5px\" border = '1'> \r\n        <thead> \r\n    <tr> \r\n            <th style=\"width:2%\"> # </th>\r\n            <th style=\"width:13%\">  Item Code </th>\r\n            <th style=\"width:25%\">  Item Name </th>\r\n            <th style=\"width:\" class = \"text-left\">MR No</th>\r\n            <th style=\"width:10%\" class=\"text-center\">  Width </th>\r\n            <th style=\"width:10%\"  class=\"text-center\">  Height </th>\r\n            <th style=\"width:15%\" class=\"text-center\">  UOM </th>\r\n            <th style=\"width:10%\" class=\"text-center\">  PCS </th>\r\n            <th style=\"width:10%\" class=\"text-center\">  Qty </th>\r\n            \r\n            \r\n    </tr>\r\n        </thead>\r\n{% set tot_qty = {\"tot_qty\": 0} %}\r\n{% set tot_pcs = {\"tot_pcs\": 0} %}\r\n{% set tot_weight = {\"tot_weight\": 0} %}\r\n{% set tot_unit_weight = {\"tot_unit_weight\": 0} %}\r\n\r\n{% set total_sqms = {\"total_sqms\": 0.0} %}\r\n{% set total_pcs = {\"total_pcs\": 0.0} %}\r\n{% set total_meter = {\"total_meter\": 0.0} %}\r\n\r\n\r\n{% set uoms_object = {} %}\r\n{% for entry in doc.items %}\r\n    {% if entry.uom not in uoms_object.keys() %}\r\n        {% set uoms_object = uoms_object.update({entry.uom: 0.0}) %} \r\n    {% endif %}\r\n{% endfor %}\r\n\r\n\r\n{% for row in doc.items %}\r\n    {% if tot_qty.update({\"tot_qty\": tot_qty[\"tot_qty\"] + row.qty}) %} {% endif %}\r\n    \r\n    {% set pcs = frappe.db.get_value(\"Sales Order Item\", row.so_detail, \"pcs\") or 0.0 %}\r\n    {% if tot_pcs.update({\"tot_pcs\": tot_pcs[\"tot_pcs\"] + row.pcs}) %} {% endif %}\r\n    \r\n    {% set uoms_object = uoms_object.update({row.uom : uoms_object[row.uom] + row.qty})%}\r\n    \r\n    \r\n    \r\n    \r\n    \r\n        <tr>\r\n            <td style=\"\">{{ row.idx }}</td>\r\n            <td style=\"\">\r\n                {{ row.item_code }}\r\n            </td>\r\n            <td style=\"\" class = \"text-left\">\r\n                {{ row.item_name }}\r\n            </td>\r\n            <td style=\"\" class = \"text-left\">\r\n                {{ row.material_request }}\r\n            </td>\r\n            <td style=\"\" class=\"text-center\">\r\n                {{ row.width }}\r\n            </td>\r\n            <td style=\"\" class=\"text-center\">\r\n                {{ row.height }}\r\n            </td>\r\n             <td style=\"\" class=\"text-center\">\r\n                {{ row.uom }}\r\n            </td>\r\n            <td style=\"\" class=\"text-center\">\r\n                {{ row.pcs }}\r\n            </td>\r\n            \r\n            <td style=\"\" class=\"text-center\">\r\n               \r\n                {{ row.qty }}\r\n            </td>\r\n           \r\n            \r\n\r\n        </tr>\r\n        \r\n        \r\n        {%- endfor -%}\r\n        <tr> \r\n            <td colspan=\"7\" class=\"text-right\"><b>Totals: </b>  </td>\r\n            <td class=\"text-center\"> <b>{{tot_pcs[\"tot_pcs\"]}}</b></td>\r\n            <td class=\"text-center\"> <b>{{tot_qty[\"tot_qty\"]|round(2)}}</b></td>\r\n            \r\n        </tr>\r\n \r\n</table>\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr rowspan = \"1\" style = \"border-top: 1px solid black;  border-bottom: 1px solid black\">\r\n                \r\n                <td colspan = \"1\" style='border: 1px solid black'> <b> Total Weight: {{tot_weight[\"tot_weight\"]}}</b> </td>\r\n                {% for key, val in uoms_object.items() %}\r\n                <td colspan = \"1\" style='border: 1px solid black'> <b>Total {{key}} : {{val | round(2)}} </b> </td>\r\n                {% endfor %}\r\n    </tr>\r\n</table>\r\n\r\n{% if doc.docstatus == 0 %}\r\n<div class ='watermark'>\r\n</div>\r\n{% endif %}\r\n\r\n<table width=100% style=\"width:100%; font-size:11px;  margin-top:8px\">\r\n    <tr width=100% style=\"border:1px solid black\">\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created By: {{ doc.owner }} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b>  </b></td>\r\n        \r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created ON: {{ doc.get_formatted('creation')}} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b> Authorized By:  {% if doc.docstatus==1 %} {{doc.owner}} {% endif %}  </b> </td>\r\n    </tr>\r\n    <tr width=100%>\r\n        <td colspan=\"2\" style=\"border:1px solid black; padding:0px !important; margin:0px !important;\"> \r\n        <div class = \"\" style. =\"padding:0px !important; margin:0px !important;\">\r\n    <table width=100% style=\"width:100%; padding:0px !important; margin:0px !important; font-size:11px;  margin-top:8px\">\r\n    \r\n    <tr width=100%>\r\n        <td width=100% style=\"font-size:11px; font-weight:bold; padding:0px !important; margin:0px !important;\"> <b> Vehicle Reg:  </b> </td>\r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=100% style=\" font-size:11px; font-weight:bold; padding:0px !important; margin:0px !important;\"><b> Collector Tel No:  </b> </td>\r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=100% style=\" font-size:11px; font-weight:bold; padding:0px !important; margin:0px !important;\"><b> Date:  </b> </td>\r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=100% style=\" font-size:11px; padding:0px !important; margin:0px !important;\"><b>[Goods Checked & Received in good order and condition] </b> </td>\r\n    </tr>\r\n</table>\r\n</div>\r\n        </td>\r\n        </tr>\r\n</table>\r\n\r\n\r\n<table width=100% style=\"width:100%; font-size:11px;  margin-top:8px\">\r\n    <tr width=100% style=\"border: 0 \">\r\n    <td colspan=\"2\" width=100%><i>To be filled by the customer:</i></td>\r\n    </tr>\r\n    <tr width=100% style=\"border:1px solid black\">\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Received By:  </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b> ID No.: </b></td>\r\n        \r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=50% height=60px style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Signature:  </b> </td>\r\n        <td width=50% height=60px style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b>     </b> </td>\r\n    </tr>\r\n    \r\n</table>\r\n\r\n\r\n    <!--<div  id = \"\" style = 'page-break-after :always;  ' >  </div>-->\r\n\r\n    <div class = 'text-center' style = \"font-size:12px; font-weight:600\" >General Terms and Conditions </div>\r\n\r\n<div class = \"\" style. =\"margin-top:-20px\">\r\n{{ doc.terms or \"\" }}\r\n</div>\r\n\r\n\r\n\r\n\r\n{% set footer = frappe.db.get_value(\"Letter Head\", doc.letter_head, \"footer\") %}\r\n\r\n{% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(), \"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user}) %}\r\n{{ footer_updated }}\r\n\r\n\r\n    <div id=\"footer-html\" class=\"visible-pdf text-center  \" style = \"font-size:10px\" >\r\n        <p id=\"demo\"></p>\r\n        <div class=\"letter-head-footer text-size-10 text-center \"  style=\"font-size: 10px;\"  >\r\n            {{ footer }}\r\n        </div>\r\n        <p class=\"text-center small page-number visible-pdf\" style = \"font-size:10px\" >\r\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\r\n        </p>\r\n    </div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:56.685759",
  "module": "AQIQ Print Formats",
  "name": "DELIVERY NOTE ISSUE",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "@media screen {\r\n@page {\r\nmargin:5px;\r\nsize:a5;\r\n    \r\n}\r\n\r\n}\r\n@media pdf {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\n@page {\r\nmargin:5px;\r\n  size:a5;\r\n\r\n}\r\n}\r\n\r\n\r\n@media screen {\r\n @page {\r\n   margin:0px;\r\n  size:a5;\r\n\r\n}\r\n}\r\n\r\n\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n\r\n\r\n.watermark {\r\n    position: fixed;\r\n    top: 420px;\r\n    left: 220px;\r\n    right: 220px;\r\n    background: url(\"http://192.241.152.17/files/draft-background.png\");\r\n    background-repeat: no-repeat;\r\n    /*background-size: center;*/\r\n    height:400px;\r\n    width:50%;\r\n    background-position: center;\r\n    background-size: 100%;\r\n    color:black !important;\r\n    opacity: 0.3;\r\n    position: running(wtrmrk);\r\n    background-repeat: repeat-x;\r\n    }\r\n\r\n\r\n\r\n\r\n.days_tab {\r\n    position: relative;\r\n}\r\n\r\n.barchart-Wrapper {\r\n      display: table;\r\n      position: relative;\r\n      margin: 20px 0;\r\n      height: 120px;\r\n    }\r\n    .barChart-Container {\r\n      display: table-cell;\r\n      width: 100%;\r\n      height: 100%;\r\n      padding-left: 20px;\r\n      padding-right: 20px;\r\n    }\r\n    .barchart {\r\n     display: table;\r\n     table-layout: fixed;\r\n     height: 100%;\r\n     width: 100%;\r\n     border-bottom: 3px solid darkgrey;\r\n    }\r\n    .barchart-Col {\r\n      position: relative;\r\n      vertical-align: bottom;\r\n      display: table-cell;\r\n      height: 100%;\r\n    }\r\n    .barchart-Col + .barchart-Col {\r\n      border-left: 4px solid transparent;\r\n    }\r\n    .barchart-Bar {\r\n      position: static;\r\n      height: 0;\r\n      transition: height 0.5s 2s;\r\n      width: 10px;\r\n      margin: auto;\r\n    }\r\n    .barchart-Bar:after {\r\n      content: attr(attr-height);\r\n      color: white;\r\n      position: absolute;\r\n      text-align: center;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter {\r\n      position: absolute;\r\n      text-align: center;\r\n      left:40px;\r\n      height: 10%;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter h3 {\r\n      color: darkred;\r\n    }\r\n    .barchart-TimeCol {\r\n      position: absolute;\r\n      top: 0;\r\n      height: 100%;\r\n      width: 100%;\r\n    }\r\n    .barchart-Time {\r\n      height: 25%;\r\n      vertical-align: middle;\r\n      position: relative;\r\n    }\r\n    .barchart-Time:after {\r\n      border-bottom: 3px solid white;\r\n      content: \"\";\r\n      position: absolute;\r\n      width: 100%;\r\n      left: 0;\r\n      top: 0em;\r\n    }\r\n    .barchart-TimeText {\r\n      position: absolute;\r\n      top: -8px;\r\n      z-index: 1;\r\n      background: white;\r\n      padding-right: 5px;\r\n      color: #4d4d4d;\r\n      font-size: 15px;\r\n      font-family: 'Avenir Medium';\r\n    }\r\n    .sq1-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq1-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq2-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq2-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq3-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq3-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq4-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq4-bar {\r\n      background-color: #a61a17;\r\n    }",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Packing Slip",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "{% set company_details = frappe.db.get_list('Company', filters={'name': doc.company}, fields=['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website'], limit=1) %}\n{% set company_address_name = frappe.db.get_value('Dynamic Link', {'link_doctype': 'Company', 'link_name': doc.company}, 'parent') %}\n{% set company_address = frappe.db.get_value('Address', company_address_name, ['address_line1', 'city', 'country', 'state', 'email_id', 'phone'], as_dict=1) if company_address_name else {} %}\n\n{% set company_logo = company_details[0].company_logo if company_details else '' %}\n{% set phone = company_address.phone or company_details[0].phone_no if company_details else '' %}\n{% set email = company_address.email_id or company_details[0].email if company_details else '' %}\n{% set tax_id = company_details[0].tax_id if company_details else '' %}\n{% set website = company_details[0].website if company_details else '' %}\n\n{% set sales_order = frappe.db.get_value('Sales Order', {'name': doc.items[0].against_sales_order}, ['name', 'po_no'], as_dict=1) %}\n{% set del_note = frappe.db.get_value('Delivery Note', {'name': doc.delivery_note}, ['contact_person', 'shipping_address'], as_dict=1) %}\n\n<div class=\"mainbox\" style=\"\">\n    <table style=\"width:100%;\" border=\"1\">\n        <thead>\n            <tr>\n                <td colspan=\"11\">\n                    <div style=\"float:left; width:25%\">\n                        <img src=\"{{ company_logo }}\" style=\"height: 120px; width: 98%;\">\n                    </div>\n                    <div style=\"float:left; width:40%\">\n                        <b>{{ doc.company }}</b>\n                        <div style=\"font-size:9px\">{{ company_address.address_line1 or '' }}</div>\n                        <div style=\"font-size:9px\">{{ company_address.city or '' }} {{ company_address.state or '' }} {{ company_address.country or '' }}</div>\n                        <div style=\"font-size:9px\">P#: {{ phone or '' }}</div>\n                        <div style=\"font-size:9px\">Email: {{ email or '' }}</div>\n                        <div style=\"font-size:9px\">PIN NO: {{ tax_id or '' }}</div>\n                        <div style=\"font-size:9px\">Website: {{ website or '' }}</div>\n                    </div>\n                    <div style=\"float:left; width:30%\">\n                        <table class=\"small table table-sm\" style=\"border:none; font-size:9px;\">\n                            <tr>\n                                <td colspan=\"2\" class=\"text-center\" style=\"font-size:12px; font-weight:700\">PACKING SLIP</td>\n                            </tr>\n                            <tr>\n                                <td>Date</td>\n                                <td>{{ frappe.utils.formatdate(doc.get_formatted(creation), \"dd-mm-yyyy\") }}</td>\n                            </tr>\n                            <tr>\n                                <td>PS #</td>\n                                <td>{{ doc.name }}</td>\n                            </tr>\n                            <tr>\n                                <td>Division</td>\n                                <td>{{ doc.cost_center }}</td>\n                            </tr>\n                        </table>\n                    </div>\n                </td>\n            </tr>\n        </thead>\n        <tbody>\n            <tr>\n                <td colspan=\"10\">\n                    <div style=\"float:left; width:40%\">\n                        <b style=\"font-size:14px\">Bill To,</b>\n                        <div><b style=\"font-size:9px\">{{ frappe.db.get_value('Delivery Note', {'name': doc.delivery_note}, 'customer_name') }}</b></div>\n                    </div>\n                    <div style=\"float:left; width:25%\">\n                        <img src=\"/files/QRCode{{ doc.name }}.svg\" alt=\"QR Code\" class=\"text-center\" height=\"110px\">\n                    </div>\n                    <div style=\"float:left; width:35%\">\n                        <table class=\"table table-sm\" style=\"font-size:9px;\">\n                            <tr>\n                                <td>PO Date</td>\n                                <td>{{ frappe.utils.formatdate(frappe.db.get_value('Delivery Note', {'name': doc.delivery_note}, 'posting_date'), \"dd-mm-yyyy\") }}</td>\n                            </tr>\n                        </table>\n                    </div>\n                </td>\n            </tr>\n            <tr>\n                <td colspan=\"10\">\n                    <div style=\"width:20%; float:left; font-size:9px\">Warehouse: {{ doc.items[0].warehouse or '' }}</div>\n                    <div style=\"width:20%; float:left; font-size:9px\">Transporter: {{ doc.transporter or '' }}</div>\n                    <div style=\"width:20%; float:left; font-size:9px\">Project No: {{ doc.project or '' }}</div>\n                    <div style=\"width:20%; float:left; font-size:9px\">SO#: {{ frappe.db.get_value('Delivery Note', doc.delivery_note, 'sales_order_id') or '' }}</div>\n                    <div style=\"width:20%; float:left; font-size:9px\">DN#: {{ doc.delivery_note or '' }}</div>\n                </td>\n            </tr>\n        </tbody>\n<thead style=\"font-size:10px;\">\n    <tr>\n        <th>ID</th>\n        <th>Item Code</th>\n        <th>Item Name</th>\n        <th>UOM</th>\n        <th class=\"text-right\">PCS</th>\n        <th class=\"text-right\">Qty</th>\n        <th class=\"text-right\">Width</th>\n        <th class=\"text-right\">Height</th>\n        <th class=\"text-right\">Unit Weight</th>\n        <th class=\"text-right\">Total Weight</th>\n    </tr>\n</thead>\n<tbody>\n    {% set total_pcs = 0 %}\n    \n    <!-- Now render the rows and calculate the total pcs -->\n    {% for row in doc.items %}\n        <!-- Safely handle PCS: If PCS is empty or not defined, set it to 0 -->\n        {% set pcs = row.pcs | default(0) | int %}\n        {% set qty = row.qty | int %}\n        \n        <tr>\n            <td style=\"font-size:9px\">{{ row.idx }}</td>\n            <td style=\"font-size:9px\">{{ row.item_code }}</td>\n            <td style=\"font-size:9px\">{{ row.item_name }}</td>\n            <td style=\"font-size:9px\">{{ row.stock_uom }}</td>\n            <td style=\"font-size:9px\" class=\"text-right\">{{ pcs }}</td>\n            <td style=\"font-size:9px\" class=\"text-right\">{{ qty }}</td>\n            <td style=\"font-size:9px\" class=\"text-right\">{{ row.width | float }}</td>\n            <td style=\"font-size:9px\" class=\"text-right\">{{ row.height | float }}</td>\n            <td style=\"font-size:9px\" class=\"text-right\">{{ row.weight_per_unit | float }}</td>\n            <td style=\"font-size:9px\" class=\"text-right\">{{ row.total_weight | float }}</td>\n        </tr>\n        \n        <!-- Sum the PCS for the total -->\n        {% set total_pcs = total_pcs + pcs %}\n    \n    {% endfor %}\n</tbody>\n<tfoot>\n    <tr>\n        <td colspan=\"5\">\n            <div>Created By: {{ doc.owner }}</div>\n            <div>Created On: {{ doc.get_formatted('creation') }}</div>\n        </td>\n        <td colspan=\"5\" class=\"text-right\">\n            <table class=\"table table-sm text-right\" style=\"font-size:9px;\">\n                <tr>\n                    <td>Total PCS</td>\n                    <td>{{ total_pcs }}</td>\n                </tr>\n            </table>\n        </td>\n    </tr>\n</tfoot>\n\n\n\n</div>\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:56.587502",
  "module": "AQIQ Print Formats",
  "name": "Packing Slip A5 V-1",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": ".watermark {\r\n    position: fixed;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%) rotate(-45deg);\r\n    opacity: 0.5;\r\n    font-size: 100px;\r\n    color: rgba(255, 0, 0, 0.3);\r\n}\r\n    \r\n.footer{\r\n  border: 2px solid black;\r\n  padding: 5px;\r\n}\r\n\r\n",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Delivery Note",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<div id=\"header-html\"   style = \"margin-top:-15px !important; width:95.2%; margin-left:15px !important\">\r\n    <div class = \"row\" style = \"\">\r\n        <div class = \"col-xs-10\" style = \"width:100%; float:left; border:1px solid black \">\r\n\r\n\r\n             {% set header = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1}, \"content\") %}\r\n            \r\n            <!--{% if doc.company == 'Impala Glass Industries Ltd' %}-->\r\n            <!--    {% set logo = \"/files/Impala.png\" %} {% elif doc.company == \"Impala Africa Ltd\" %} {% set logo = \"/files/impala-africa-logo.jpg\" %}-->\r\n            <!--{% endif %}-->\r\n            \r\n            \r\n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website',]) %}\r\n            \r\n            \r\n        \r\n        {% set comapny_address_line1 = '' %}        \r\n        {% set comapny_city = '' %}        \r\n        {% set comapny_counrty = '' %}        \r\n        {% set comapny_state = '' %}        \r\n        {% set phone = '' %}        \r\n\r\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\r\n\r\n        {% if company_address_name  %}\r\n            {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\r\n                \r\n\r\n        {% set comapny_address_line1 = address.address_line1 %}        \r\n        {% set comapny_city =  address.city  %}        \r\n        {% set comapny_counrty =  address.country  %}        \r\n        {% set comapny_state =  address.state  %}        \r\n\r\n        {% set phone = address.phone %}        \r\n\r\n        {% endif  %}\r\n\r\n\r\n            \r\n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \r\n            'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \r\n            'state' : comapny_state,\r\n            'phone_no' : phone, 'email' : company_details[0].email, 'pin_no': company_details[0].tax_id ,  'company_logo' : company_details[0].company_logo, 'website' : company_details[0].website,  }) %}\r\n            {{header_updated}}\r\n            \r\n\r\n\r\n\r\n\r\n\r\n            {% set sales_order = frappe.db.get_list(\"Sales Order\" ,\r\n            filters={\r\n            'name': doc.items[0].against_sales_order\r\n            },\r\n            fields = ['name', 'po_no']) %}\r\n            \r\n            <table  class = \"table table-sm\" style = \"width:28%; \"> \r\n                <tr>\r\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:14px\"> Transporter's Copy </b> </span> </center>  </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Date </td> <td style = 'font-size:11px'>  \r\n                    \r\n\r\n                                                            {{ doc.get_formatted('posting_date') }} \r\n                    \r\n                    </td>\r\n                </tr>\r\n\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Delivery Note # </td> <td style = \"font-size:11px\"> {{doc.name}} </td>\r\n                </tr>\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Division </td> <td style = \"font-size:11px\">  {{doc.cost_center}} </td>\r\n                </tr>\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Department </td> <td style = \"font-size:10px\">  {{doc.department}} </td>\r\n                </tr>\r\n<tr> \r\n                    <td style = \"font-size:11px\"> Warehouse </td> <td style = \"font-size:9px\">  {{doc.set_warehouse}} </td>\r\n                </tr>\r\n\r\n\r\n            </table>\r\n\r\n\r\n        </div>\r\n\r\n        <div class = \"col-xs-8\" style = 'float:left'>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n<br><br>\r\n\r\n<div>\r\n    <h5><b>MESSRS  ______________________________________________________________________ </b></h5>\r\n    <h5><b>ADDRESS _____________________________________________________________________</b></h5>\r\n</div><br>\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr width=100% height=auto style = \"border: 1px solid black;\">\r\n        <td width=50%><b>Additional Notes : </b><br>\r\n        \r\n        {{doc.posa_notes or ''}}\r\n        </td>\r\n        \r\n    </tr>\r\n</table>\r\n<br>\r\n\r\n<div>\r\n    <table border=1>\r\n  <tr>\r\n    <th  style = \"background-color:white !important; \">ITEMS</th>\r\n    <th  style = \"background-color:white !important; \">DELIVERY NOTE No.</th>\r\n    <th  style = \"background-color:white !important; \">Packing List No.</th>\r\n    <th  style = \"background-color:white !important; \">No. OF PIECES</th>\r\n    <th  style = \"background-color:white !important; \">WEIGHT OF CASE</th>\r\n  </tr>\r\n{% for i in doc.items %}\r\n  <tr>\r\n    <td>{{i.item_code}}</td>\r\n    <td>{{doc.name}}</td>\r\n    <td></td>\r\n    <td>{{i.qty}}</td>\r\n    <td></td>\r\n  </tr>\r\n{% endfor %}\r\n\r\n</table>\r\n\r\n\r\n</div>\r\n<div style=\"margin-top:1px; margin-bottom:1px;  border:1px solid black;\"></div>\r\n<div class = 'text-center' style = \"font-size:12px;\" >Goods sold as per our terms & condition, to view the same visit <a href=\"https://impalaglass.com/tnc/\">impalaglass.com/tnc</a></div>\r\n\r\n\r\n<br><br>\r\n\r\n\r\n<div class=\"footer\">\r\n    <h5>No. </h5>\r\n    <h5>Collected By : ____________  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Time : ____________ </h5>\r\n    <h5> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Vehicle Reg No. : ____________ </h5>\r\n    <h5> &nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; _____________________   </h5>\r\n    <h5> &nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Signature</h5>\r\n    \r\n</div>\r\n\r\n\r\n{% set footer = frappe.db.get_value(\"Letter Head\", doc.letter_head, \"footer\") %}\r\n\r\n{% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(), \"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user}) %}\r\n{{ footer_updated }}\r\n\r\n\r\n    <div id=\"footer-html\" class=\"visible-pdf text-center  \" style = \"font-size:10px\" >\r\n        <p id=\"demo\"></p>\r\n        <div class=\"letter-head-footer text-size-10 text-center \"  style=\"font-size: 10px;\"  >\r\n            {{ footer }}\r\n        </div>\r\n        <p class=\"text-center small page-number visible-pdf\" style = \"font-size:10px\" >\r\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\r\n        </p>\r\n    </div>\r\n    \r\n    <div class=watermark>\r\n        DRAFT\r\n    </div>\r\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:56.485753",
  "module": "AQIQ Print Formats",
  "name": "Transporter's Copy",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": ".watermark {\n    position: fixed;\n    top: 460px;\n    left: 220px;\n    right: 220px;\n    background: url(\"/files/draft-icon.jpg\");\n    background-repeat: no-repeat;\n    /*background-size: center;*/\n    height:160px;\n    width:50%;\n    background-position: center;\n    background-size: 100%;\n    color:black !important;\n    opacity: 0.1;\n    }",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Delivery Note",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<div id=\"header-html\"   style = \"margin-top:-15px !important; width:95.2%; margin-left:15px !important\">\r\n    <div class = \"row\" style = \"\">\r\n        <div class = \"col-xs-10\" style = \"width:100%; float:left; border:1px solid black \">\r\n\r\n\r\n             {% set header = frappe.db.get_value(\"Letter Head\",\"Ezzy Letter Head\", \"content\") %}\r\n            \r\n            <!--{% if doc.company == 'Impala Glass Industries Ltd' %}-->\r\n            <!--    {% set logo = \"/files/Impala.png\" %} {% elif doc.company == \"Impala Africa Ltd\" %} {% set logo = \"/files/impala-africa-logo.jpg\" %}-->\r\n            <!--{% endif %}-->\r\n            \r\n            \r\n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website',]) %}\r\n            \r\n            \r\n        \r\n        {% set comapny_address_line1 = '' %}        \r\n        {% set comapny_city = '' %}        \r\n        {% set comapny_counrty = '' %}        \r\n        {% set comapny_state = '' %}        \r\n        {% set phone = '' %}        \r\n\r\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\r\n\r\n        {% if company_address_name  %}\r\n            {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\r\n                \r\n\r\n        {% set comapny_address_line1 = address.address_line1 %}        \r\n        {% set comapny_city =  address.city  %}        \r\n        {% set comapny_counrty =  address.country  %}        \r\n        {% set comapny_state =  address.state  %}        \r\n\r\n        {% set phone = address.phone %}        \r\n\r\n        {% endif  %}\r\n\r\n            {% set email = \" finance@impala.co.ke\" %}\r\n           {% set new_company_logo = \"https://impala.aqiq.net/files/Ezzy.png\" %}\r\n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \r\n            'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \r\n            'state' : comapny_state,\r\n            'phone_no' : phone, 'email' : email, 'pin_no': company_details[0].tax_id ,  'company_logo' : new_company_logo, 'website' : company_details[0].website,  }) %}\r\n            {{header_updated}}\r\n            \r\n\r\n\r\n\r\n            {% set sales_order = ['', '']%}\r\n            {% if doc.items[0].against_sales_order %}\r\n            {% set sales_order = frappe.db.get_list(\"Sales Order\" ,filters={'name': doc.items[0].against_sales_order},\r\n            fields = ['name', 'po_no']) %}\r\n            {% endif %}\r\n            \r\n            <table  class = \"table table-sm\" style = \"width:28%; \"> \r\n                <tr>\r\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:14px\">{% if doc.is_return == 1 %} Delivery Return {% else %} Delivery Note {% endif %} </b> </span> </center>  </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Date </td> <td style = 'font-size:11px'>  \r\n                    \r\n\r\n                                                            {{ doc.get_formatted('posting_date') }} \r\n                    \r\n                    </td>\r\n                </tr>\r\n\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Delivery Note # </td> <td style = \"font-size:11px\"> {{doc.name}} </td>\r\n                </tr>\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Division </td> <td style = \"font-size:11px\">  {{doc.cost_center}} </td>\r\n                </tr>\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Department </td> <td style = \"font-size:10px\">  {{doc.department}} </td>\r\n                </tr>\r\n<tr> \r\n                    <td style = \"font-size:11px\"> Warehouse </td> <td style = \"font-size:9px\">  {{doc.set_warehouse}} </td>\r\n                </tr>\r\n\r\n\r\n            </table>\r\n\r\n\r\n        </div>\r\n\r\n        <div class = \"col-xs-8\" style = 'float:left'>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n<table class = \"\"  style = \"width:100%; font-size:11px !important; border-bottom:0px solid black !important; margin-bottom: 0px;\"> \r\n    <tr> \r\n        <td style = \"width:40%\">  \r\n            <div style=\"font-size:13px; margin-bottom: 10px;\">  <b> Deliver To, </b></div>\r\n            <div><b>{{doc.customer}}</b></div>\r\n            <div><b>{{doc.customer_name}}</b></div>\r\n            <div>{{ doc.shipping_address_name }} </div>\r\n            <div> {{ doc.shipping_address }} </div>\r\n        </td>\r\n        <td style=\"20%\">\r\n            <img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\" class=\"center\" height=80px>\r\n        </td>\r\n        <td style = \"width:35%\">  \r\n            <table class = \"table table-sm; \" style = \"width:100%; margin-top:-1px !important;\" cellspacing = '0' cellpadding = '0'> \r\n                <tr>\r\n                    <td style = 'font-size:11px'> PO Date: </td> <td style = 'font-size:11px'>   {{ frappe.utils.formatdate(doc.get_formatted(frappe.db.get_value('Purchase Order', doc.po_no, 'transaction_date')), \"dd-mm-yyyy\") }}</td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Customer PO#. </td> <td style = 'font-size:11px'>  {{doc.po_no }} </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> SO No.: </td> <td style = 'font-size:11px'>  {{sales_order[0].name or ''}} </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Sales Person: </td> <td style = 'font-size:11px'>{{doc.sales_team[0].sales_person or ''}}</td>\r\n                </tr>\r\n            </table>\r\n        </td>\r\n    </tr>\r\n</table>\r\n<table style=\"width: 100%; border: 0px solid white !important; margin-top: 0px;\">\r\n     <tr style=\"border: 0px solid white;\">\r\n        <td style =  'font-size:9px; margin-top: 0px; '> Warehouse: {{doc.items[0].warehouse or \"\" }} </td>\r\n        <td style = 'font-size:9px'> Transporter: {{doc.transporter or \"\" }} </td>\r\n        <td style = ' font-size:9px; text-indent: 10px;'> Project No: {{doc.project or \"\" }} </td>\r\n\r\n        <td class = \"text-size-10\"  style = 'font-size:10px'>  SI # {{ doc.items[0].against_sales_invoice or \"\" }}   </td>\r\n        <td class = \"text-size-10\"  style = 'font-size:10px'>  SO # {{ doc.items[0].against_sales_order or \"\" }}   </td>\r\n\r\n\r\n    </tr>\r\n</table>\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr width=100% height=40px style = \"border: 1px solid black;\">\r\n        <td width=50%><b>Additional Notes: </b>\r\n        <br>\r\n        {{doc.posa_notes or ''}}\r\n        </td>\r\n        \r\n    </tr>\r\n</table>\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr width=100% height=40px style = \"border: 1px solid black;\">\r\n        <td width=50%><b>Instructions : </b>\r\n        <br>\r\n        {{doc.instructions or ''}}\r\n        </td>\r\n        \r\n    </tr>\r\n</table>\r\n<table style = \"width:100%; font-size:11px;  margin-top:5px\" border = '1'> \r\n    <tr> \r\n        <thead> \r\n            <th> # </th>\r\n            <th>  Item Code </th>\r\n            <th>  Item Name </th>\r\n            <th class=\"text-center\">  Qty </th>\r\n            <th class=\"text-center\">  UOM </th>\r\n            <!--<th class=\"text-center\">  Unit Weight </th>-->\r\n            <!--<th class=\"text-center\">  Total Weight </th>-->\r\n        </thead>\r\n    </tr>\r\n{% set tot_qty = {\"tot_qty\": 0} %}\r\n<!--{% set tot_weight = {\"tot_weight\": 0} %}-->\r\n<!--{% set tot_unit_weight = {\"tot_unit_weight\": 0} %}-->\r\n{% for row in doc.items %}\r\n    <!--{% if tot_unit_weight.update({\"tot_unit_weight\": tot_unit_weight[\"tot_unit_weight\"] + row.weight_per_unit}) %} {% endif %}-->\r\n    {% if tot_qty.update({\"tot_qty\": tot_qty[\"tot_qty\"] + row.qty}) %} {% endif %}\r\n    <!--{% if tot_weight.update({\"tot_weight\": tot_weight[\"tot_weight\"] + row.total_weight}) %} {% endif %}-->\r\n    \r\n    \r\n        <tr>\r\n            <td style=\"\">{{ row.idx }}</td>\r\n            <td style=\"\">\r\n                {{ row.item_code }}\r\n            </td>\r\n            <td style=\"\">\r\n                {{ row.item_name }}\r\n            </td>\r\n            <td style=\"\" class=\"text-center\">\r\n                {{ row.qty }}\r\n            </td>\r\n            <!--<td style=\"\" class=\"text-center\">-->\r\n               \r\n            <!--</td>-->\r\n            <td style=\"\" class=\"text-center\">\r\n                {{ row.uom }}\r\n            </td>\r\n            <!--<td style=\"\" class=\"text-center\">-->\r\n            <!--    {{ row.total_weight }}-->\r\n            <!--</td>-->\r\n\r\n        </tr>\r\n        {%- endfor -%}\r\n        <tr> \r\n            <td colspan=\"3\" class=\"text-right\"><b>Totals: </b>  </td>\r\n            <td class=\"text-center\"> <b>{{tot_qty[\"tot_qty\"]}}</b></td>\r\n            <!--<td class=\"text-center\"> <b></b></td>-->\r\n            <!--<td class=\"text-center\"> <b>{{tot_unit_weight[\"tot_unit_weight\"]}}</b></td>-->\r\n            <!--<td class=\"text-center\"> <b>{{tot_weight[\"tot_weight\"]}}</b></td>-->\r\n        </tr>\r\n \r\n</table>\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr rowspan = \"4\" style = \"border-top: 1px solid black;  border-bottom: 1px solid black\">\r\n    <td  colspan = \"6\" width=60% style = \"border-top: 1px solid black\"><b> Delivery Details:  </b></td>\r\n    <td colspan = \"2\" width=40%>\r\n        <table class=\"table table-sm\" style=\"margin-top:0px\">\r\n            <tr>\r\n                <td colspan = \"2\">  <b> Total Quantity: </b>  </td>\r\n                <td colspan = \"2\"> <b> {{tot_qty[\"tot_qty\"]}}  </b></td>\r\n            </tr>\r\n            <!--<tr>-->\r\n            <!--    <td colspan = \"2\"> <b> Total Weight:</b> </td>-->\r\n            <!--    <td colspan = \"2\"> <b> {{tot_weight[\"tot_weight\"]}} </b> </td>-->\r\n            <!--</tr>-->\r\n            <tr></tr>\r\n        </table>\r\n    </td>\r\n</tr>\r\n</table>\r\n\r\n{% if doc.docstatus==0 %}\r\n<div class ='watermark'>\r\n</div>\r\n{% endif %}\r\n\r\n<table width=100% style=\"width:100%; font-size:11px;  margin-top:8px\">\r\n    <tr width=100% style=\"border:1px solid black\">\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created By: {{ doc.owner }} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b>  </b></td>\r\n        \r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created ON: {{ doc.get_formatted('creation')}} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b> Authorized By:  {% if doc.docstatus==1 %} {{doc.owner}} {% endif %}  </b> </td>\r\n    </tr>\r\n    <tr width=100%>\r\n        <td colspan=\"2\" style=\"border:1px solid black; padding:0px !important; margin:0px !important;\"> \r\n        <div class = \"\" style. =\"padding:0px !important; margin:0px !important;\">\r\n    <table width=100% style=\"width:100%; padding:0px !important; margin:0px !important; font-size:11px;  margin-top:8px\">\r\n    \r\n    <tr width=100%>\r\n        <td width=100% style=\"font-size:11px; font-weight:bold; padding:0px !important; margin:0px !important;\"> <b> Vehicle Reg:  </b> </td>\r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=100% style=\" font-size:11px; font-weight:bold; padding:0px !important; margin:0px !important;\"><b> Collector Tel No:  </b> </td>\r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=100% style=\" font-size:11px; font-weight:bold; padding:0px !important; margin:0px !important;\"><b> Date:  </b> </td>\r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=100% style=\" font-size:11px; padding:0px !important; margin:0px !important;\"><b>[Goods Checked & Received in good order and condition] </b> </td>\r\n    </tr>\r\n</table>\r\n</div>\r\n        </td>\r\n        </tr>\r\n</table>\r\n\r\n\r\n<table width=100% style=\"width:100%; font-size:11px;  margin-top:8px\">\r\n    <tr width=100% style=\"border: 0 \">\r\n    <td colspan=\"2\" width=100%><i>To be filled by the customer:</i></td>\r\n    </tr>\r\n    <tr width=100% style=\"border:1px solid black\">\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Received By:  </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b> ID No.: </b></td>\r\n        \r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=50% height=100px style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Signature:  </b> </td>\r\n        <td width=50% height=100px style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b>     </b> </td>\r\n    </tr>\r\n</table>\r\n\r\n<table>\r\n            <tr>\r\n            <td colspan = \"2\" class=\"net_total\" style = \"float:right;\"></td>\r\n             <td colspan = \"2\"  class=\"net_total\" style = \"float:right;\"> <b> {{doc.net_total}} </b> </td>\r\n            </tr>\r\n</table>\r\n\r\n\r\n\r\n    <!--<div  id = \"\" style = 'page-break-after :always;  ' >  </div>-->\r\n\r\n    <div class = 'text-center' style = \"font-size:12px; font-weight:600\" >General Terms and Conditions </div>\r\n\r\n<div class = \"\" style. =\"margin-top:-20px\">\r\n{{ doc.terms or \"\" }}\r\n</div>\r\n\r\n<div style=\"margin-top:1px; margin-bottom:1px;  border:1px solid black;\"></div>\r\n<div class = 'text-center' style = \"font-size:12px;\" >Goods sold as per our terms & condition, to view the same visit <a href=\"https://impalaglass.com/tnc/\">impalaglass.com/tnc</a></div>\r\n\r\n\r\n\r\n\r\n{% set times_printed = doc.times_printed or 0 %}\r\n{% if times_printed >= 1 %} {% set duplicate = 'DUPLICATE'%} {% endif %}\r\n\r\n{% set footer = frappe.db.get_value(\"Letter Head\", doc.letter_head, \"footer\") %}\r\n\r\n{% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(), \"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user, 'times_printed' : times_printed, 'duplicate': duplicate or ''}) %}\r\n{{ footer_updated }}\r\n\r\n\r\n    <div id=\"footer-html\" class=\"visible-pdf text-center  \" style = \"font-size:10px\" >\r\n        <p id=\"demo\"></p>\r\n        <div class=\"letter-head-footer text-size-10 text-center \"  style=\"font-size: 10px;\"  >\r\n            {{ footer }}\r\n        </div>\r\n        <p class=\"text-center small page-number visible-pdf\" style = \"font-size:10px\" >\r\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\r\n        </p>\r\n    </div>\r\n    ",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:56.361968",
  "module": "AQIQ Print Formats",
  "name": "Delivery Note A4 - Ezzy",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "@media print {\r\n\r\n}\r\n\r\n/*.watermark {*/\r\n/*    position: fixed;*/\r\n/*    top: 420px;*/\r\n/*    left: 220px;*/\r\n    \r\n    \r\n/*    right: 220px;*/\r\n/*    background: url(\"http://192.241.152.17/files/draft-background.png\");*/\r\n/*    background-repeat: no-repeat;*/\r\n    /*background-size: center;*/\r\n/*    height:400px;*/\r\n/*    width:50%;*/\r\n/*    background-position: center;*/\r\n/*    background-size: 100%;*/\r\n/*    color:black !important;*/\r\n/*    opacity: 0.3;*/\r\n/*    position: running(wtrmrk);*/\r\n/*    background-repeat: repeat-x;*/\r\n/*    }*/\r\n\r\n\r\n\r\n.watermark {\r\n    position: fixed;\r\n    top:70px;\r\n    left:11%;\r\n    right:10%;\r\n    background: url(\"http://192.241.152.17/files/draft-background.png\");\r\n    background-repeat: no-repeat;\r\n    height:700px;\r\n    width:80%;\r\n    /*background-position: center;*/\r\n    background-size: 100%;\r\n    opacity: 0.5;\r\n    }\r\n",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Landed Cost Voucher",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "\r\n\r\n<div id=\"header-html\"   style = \"margin-top:-15px !important; width:95.2%; margin-left:15px !important\">\r\n    <div class = \"row\" style = \"\">\r\n        <div class = \"col-xs-10\" style = \"width:100%; float:left; border:1px solid black \">\r\n         {% set header = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1}, \"content\") %}\r\n            \r\n            <!--{% if doc.company == 'Impala Glass Industries Ltd' %}-->\r\n            <!--    {% set logo = \"/files/Impala.png\" %} {% elif doc.company == \"Impala Africa Ltd\" %} {% set logo = \"/files/impala-africa-logo.jpg\" %}-->\r\n            <!--{% endif %}-->\r\n            \r\n            \r\n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website',]) %}\r\n            \r\n            \r\n        \r\n        {% set comapny_address_line1 = '' %}        \r\n        {% set comapny_city = '' %}        \r\n        {% set comapny_counrty = '' %}        \r\n        {% set comapny_state = '' %}        \r\n        {% set phone = '' %}        \r\n\r\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\r\n\r\n        {% if company_address_name  %}\r\n            {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\r\n                \r\n\r\n        {% set comapny_address_line1 = address.address_line1 %}        \r\n        {% set comapny_city =  address.city  %}        \r\n        {% set comapny_counrty =  address.country  %}        \r\n        {% set comapny_state =  address.state  %}        \r\n\r\n        {% set phone = address.phone %}        \r\n\r\n        {% endif  %}\r\n\r\n\r\n            \r\n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \r\n            'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \r\n            'state' : comapny_state,\r\n            'phone_no' : phone, 'email' : company_details[0].email, 'pin_no': company_details[0].tax_id ,  'company_logo' : company_details[0].company_logo, 'website' : company_details[0].website,  }) %}\r\n            {{header_updated}}\r\n            \r\n           \r\n           <table  class = \"table table-sm m-0 p-0 small \" style = \"width:30% \"> \r\n                <tr>\r\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:12px\"> Landed Cost Voucher </b> </span> </center>  </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <td style = 'font-size:10px'> Date </td> <td style = 'font-size:10px'>\r\n                     {{ frappe.utils.formatdate(doc.get_formatted('posting_date'), \"dd-mm-yyyy\") }} </td>\r\n                </tr>\r\n\r\n                <tr> \r\n                    <td style = \"font-size:10px\"> Shipment # </td> <td style = \"font-size:10px\">  {{ doc.shipment_no }}</td>\r\n                </tr>\r\n                <tr> \r\n                    <td style = \"font-size:10px\"> Division </td> <td style = \"font-size:10px\"> {{doc.items[0].cost_center}}</td>\r\n                </tr>\r\n\r\n\r\n            </table>\r\n\r\n\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n\r\n\r\n\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:10px\" border = '1'> \r\n    <thead> \r\n    <tr>\r\n            <th>  Sr </th>\r\n            <th>  Receipt Document Type </th>\r\n            <th>  Receipt Document   </th>\r\n            <th>  Supplier </th>\r\n            <th>  Posting Date </th>\r\n            <th class=\"text-right\">  Grand Total </th>\r\n            </tr>\r\n    </thead>\r\n\r\n{% for pur in doc.purchase_receipts %}\r\n    \r\n        <tr>\r\n            <td style=\"\">{{ pur.idx }}</td>\r\n            <td style=\"\">\r\n                {{ pur.receipt_document_type }}\r\n            </td>\r\n            <td style=\"\">\r\n                {{ pur.receipt_document }}\r\n            </td>\r\n            <td style=\"\">\r\n                {{pur.supplier }} \r\n            </td>\r\n\r\n\r\n            <td style=\"\">\r\n                {{ frappe.utils.formatdate(pur.get_formatted('posting_date'), \"dd-mm-yyyy\") }}\r\n            </td>\r\n            \r\n            <td style=\"\" class=\"text-right\">\r\n                \r\n                {{ '{0:,.2f}'.format(pur.grand_total) }} \r\n            </td>\r\n        </tr>\r\n        {%- endfor -%}\r\n</table>\r\n\r\n\r\n\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:10px\" border = '1'> \r\n    <thead> \r\n    <tr>\r\n            <th>  Sr </th>\r\n            <th>  Item Code </th>\r\n            <th>  Description   </th>\r\n            <th class=\"text-right\">  Qty </th>\r\n            <th class=\"text-right\">  Rate </th>\r\n            <th class=\"text-right\">  Amount </th>\r\n            <th class=\"text-right\">  Applicable Charges </th>\r\n            </tr>\r\n    </thead>\r\n{% set total_amount = {\"total_amount\": 0} %}\r\n{% set total_rate = {\"total_rate\": 0} %}\r\n{% set total_AC = {\"total_AC\": 0} %}\r\n{% set total_qty = {\"total_qty\": 0} %}\r\n\r\n{% for row in doc.items %}\r\n\r\n        <tr>\r\n            <td style=\"\">{{ row.idx }}</td>\r\n            <td style=\"\">\r\n                {{ row.item_code }}\r\n            </td>\r\n            <td style=\"\">\r\n                {{ row.description }}\r\n            </td>\r\n            <td style=\"\" class=\"text-right\">\r\n                {{ row.qty }}\r\n                  {% if total_qty.update({\"total_qty\": total_qty[\"total_qty\"] + row.qty}) %} {% endif %}\r\n            </td>\r\n\r\n\r\n            <td style=\"\" class=\"text-right\">\r\n                {{ '{0:,.2f}'.format(row.rate  ) }} \r\n                {% if total_rate.update({\"total_rate\": total_rate[\"total_rate\"] + row.rate}) %} {% endif %}\r\n            </td>\r\n            \r\n            <td style=\"\" class=\"text-right\">\r\n                \r\n                {{ '{0:,.2f}'.format(row.amount  ) }}\r\n                {% if total_amount.update({\"total_amount\": total_amount[\"total_amount\"] + row.amount}) %} {% endif %}\r\n               \r\n               \r\n            </td>\r\n        \r\n            <td style=\"\" class=\"text-right\">\r\n               {{ '{0:,.2f}'.format(row.applicable_charges ) }} \r\n               {% if total_AC.update({\"total_AC\": total_AC[\"total_AC\"] + row.applicable_charges}) %} {% endif %}\r\n              \r\n            </td>\r\n        </tr>\r\n        {% endfor %}\r\n        <tr> \r\n            <td></td>\r\n            <td colspan=\"2\" class=\"text-right\"><b>Totals: </b>  </td>\r\n               <td class=\"text-right small \">  <b>\r\n                                 {{ '{0:,.2f}'.format( total_qty[\"total_qty\"]  ) }} \r\n                \r\n                </b> </td>\r\n               <td class=\"text-right small \">  <b>\r\n                                 {{ '{0:,.2f}'.format( total_rate[\"total_rate\"]  ) }} \r\n                \r\n                </b> </td>\r\n               <td class=\"text-right small \">  <b>\r\n                                 {{ '{0:,.2f}'.format( total_amount[\"total_amount\"]  ) }} \r\n                                  {% set total_amount = total_amount[\"total_amount\"]  %}\r\n                \r\n                </b> </td>\r\n               <td class=\"text-right small \">  <b>\r\n                                 {{ '{0:,.2f}'.format( total_AC[\"total_AC\"]  ) }} \r\n                                 {% set total_AC = total_AC[\"total_AC\"]  %}\r\n                </b> </td>\r\n              \r\n                 \r\n               \r\n        </tr>\r\n \r\n</table>\r\n\r\n\r\n\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:10px\" border = '1'> \r\n    <thead> \r\n    <tr>\r\n            <th>  Sr </th>\r\n            <th> \tExpense Account</th>\r\n            <th> Account Currency  </th>\r\n            <th class=\"text-right\"> Exchange Rate </th>\r\n            <th> Description </th>\r\n            <th class=\"text-right\"> Amount </th>\r\n            <th class=\"text-right\">  Amount (Company Currency) </th>\r\n            <th > Purchase Invoice </th>\r\n            </tr>\r\n    </thead>\r\n{% set total_amount_2 = {\"total_amount_2\": 0} %}\r\n{% set total_base_amount = {\"total_base_amount\": 0} %}\r\n\r\n{% for tax in doc.taxes %}\r\n    \r\n        <tr>\r\n            <td style=\"\">{{ tax.idx }}</td>\r\n            <td style=\"\">\r\n                {{ tax.expense_account}}\r\n            </td>\r\n            <td style=\"\">\r\n                {{ tax.account_currency }}\r\n            </td>\r\n            <td style=\"\" class=\"text-right\">\r\n                {{ tax.exchange_rate }}\r\n            </td>\r\n\r\n\r\n            <td style=\"\">\r\n                {{ tax.description}}\r\n            </td>\r\n            \r\n            <td style=\"\" class=\"text-right\">\r\n                 {{ '{0:,.2f}'.format(tax.amount  ) }}\r\n                   {% if total_amount_2.update({\"total_amount_2\": total_amount_2[\"total_amount_2\"] + tax.amount}) %} {% endif %}\r\n            </td>\r\n        \r\n            <td style=\"\" class=\"text-right\">\r\n                 {{ '{0:,.2f}'.format(tax.base_amount  ) }}\r\n                   {% if total_base_amount.update({\"total_base_amount\": total_base_amount[\"total_base_amount\"] + tax.base_amount }) %} {% endif %}\r\n            </td>\r\n          <td style=\"\">\r\n            {{ tax.purchase_invoice}}\r\n          </td>\r\n\r\n        </tr>\r\n        {%- endfor -%}\r\n         <tr> \r\n            <td></td>\r\n            <td colspan=\"4\" class=\"text-right\"><b>Totals: </b>  </td>\r\n               <td class=\"text-right small \">  <b>\r\n                                 {{ '{0:,.2f}'.format( total_amount_2[\"total_amount_2\"]  ) }} \r\n                                 {% set total_amount_2 = total_amount_2[\"total_amount_2\"] %}\r\n                \r\n                </b> </td>\r\n               <td class=\"text-right small \">  <b>\r\n                                 {{ '{0:,.2f}'.format( total_base_amount[\"total_base_amount\"]  ) }} \r\n                \r\n                </b> </td>\r\n               <td class=\"text-right small \">  <b>\r\n    \r\n                \r\n                </b> </td>\r\n              \r\n                 \r\n               \r\n        </tr>\r\n \r\n</table>\r\n\r\n{% if doc.docstatus==0 %}\r\n<div class ='watermark'>\r\n</div>\r\n{% endif %}\r\n\r\n<!--<table width=100%>-->\r\n<!--    <tr width=100% style=\"border:1px solid black;\">-->\r\n<!--        <td width=50% style=\"border:1px solid black; font-size:11px;\"> <b> Total Taxes and Charges (Company Currency):</b> {{ '{0:,.2f}'.format(  doc.total_taxes_and_charges ) }}</td>-->\r\n<!--        <td width=50% style=\"border:1px solid black; font-size:11px;\"> <b>  Landed Cost Percentage :</b>  {{ '{0:,.2f}'.format( total_amount_2/(total_amount + total_AC)  ) }} % </td>-->\r\n<!--    </tr>-->\r\n<!--    <tr width=100%>-->\r\n<!--        <td width=50% style=\"border:1px solid black; font-size:11px;\"> <b>Distribute Charges Based On:</b>  {{ doc.distribute_charges_based_on }} </td>-->\r\n<!--        <td width=50% style=\"border:1px solid black; font-size:11px;\"> <b></b>  </td>-->\r\n<!--        </tr>-->\r\n<!--</table>-->\r\n<table width=100%>\r\n    <tr width=100% style=\"border:1px solid black;\">\r\n        <td width=50% style=\"border:1px solid black; font-size:11px;\"> <b> Total Taxes and Charges (Company Currency):</b> {{ '{0:,.2f}'.format(  doc.total_taxes_and_charges ) }}</td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px;\"> <b>  Landed Cost Overall Percentage :</b>  {{ '{0:,.2f}'.format( total_amount_2/(total_amount + total_AC)  ) }} % </td>\r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px;\"> <b>Distribute Charges Based On:</b>  {{ doc.distribute_charges_based_on }} </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px;\"> <b>  Landed Cost Percentage :</b>  {{ '{0:,.2f}'.format( total_AC/total_amount)  }} % </td>\r\n        <!--<td width=50% style=\"border:1px solid black; font-size:11px;\"> <b>  Landed Cost Percentage :</b>  {{ '{0:,.2f}'.format( total_amount/total_AC)  }} % </td>-->\r\n        </tr>\r\n</table>\r\n\r\n\r\n<table width=100%>\r\n    <tr width=100% style=\"border:1px solid black;\">\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created By: {{ doc.owner }} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b>  </b></td>\r\n        \r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created ON: {{ doc.get_formatted('creation')}} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b> Authorized By:    </b> </td>\r\n    </tr>\r\n</table>\r\n\r\n{% set footer = frappe.db.get_value(\"Letter Head\", doc.letter_head, \"footer\") %}\r\n\r\n{% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(), \"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user}) %}\r\n{{ footer_updated }}\r\n\r\n\r\n    <div id=\"footer-html\" class=\"visible-pdf\">\r\n        <div class=\"letter-head-footer\">\r\n            {{ footer }}\r\n        </div>\r\n        <p class=\"text-center small page-number visible-pdf\">\r\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\r\n        </p>\r\n    </div>\r\n\r\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:56.248585",
  "module": "AQIQ Print Formats",
  "name": "Landed Cost Voucher A4",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "@media screen {\r\n@page {\r\nmargin:5px;\r\nsize:a5;\r\n    \r\n}\r\n\r\n}\r\n@media pdf {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\n@page {\r\nmargin:5px;\r\n  size:a5;\r\n\r\n}\r\n}\r\n\r\n\r\n@media screen {\r\n @page {\r\n   margin:0px;\r\n  size:a5;\r\n\r\n}\r\n}\r\n\r\n\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n\r\n\r\n.watermark {\r\n  position: relative;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  overflow: hidden;\r\n}\r\n\r\n.watermark::before {\r\n  content: \"DRAFT\";\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%) rotate(-45deg);\r\n  font-size: 100px;\r\n  color: rgba(255, 0, 0, 0.2); /* Faint red color with opacity */\r\n  font-family: \"Helvetica Neue\", sans-serif; /* Use Helvetica Neue or another preferred font */\r\n  pointer-events: none;\r\n}\r\n\r\n\r\n\r\n\r\n.days_tab {\r\n    position: relative;\r\n}\r\n\r\n.barchart-Wrapper {\r\n      display: table;\r\n      position: relative;\r\n      margin: 20px 0;\r\n      height: 120px;\r\n    }\r\n    .barChart-Container {\r\n      display: table-cell;\r\n      width: 100%;\r\n      height: 100%;\r\n      padding-left: 20px;\r\n      padding-right: 20px;\r\n    }\r\n    .barchart {\r\n     display: table;\r\n     table-layout: fixed;\r\n     height: 100%;\r\n     width: 100%;\r\n     border-bottom: 3px solid darkgrey;\r\n    }\r\n    .barchart-Col {\r\n      position: relative;\r\n      vertical-align: bottom;\r\n      display: table-cell;\r\n      height: 100%;\r\n    }\r\n    .barchart-Col + .barchart-Col {\r\n      border-left: 4px solid transparent;\r\n    }\r\n    .barchart-Bar {\r\n      position: static;\r\n      height: 0;\r\n      transition: height 0.5s 2s;\r\n      width: 10px;\r\n      margin: auto;\r\n    }\r\n    .barchart-Bar:after {\r\n      content: attr(attr-height);\r\n      color: white;\r\n      position: absolute;\r\n      text-align: center;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter {\r\n      position: absolute;\r\n      text-align: center;\r\n      left:40px;\r\n      height: 10%;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter h3 {\r\n      color: darkred;\r\n    }\r\n    .barchart-TimeCol {\r\n      position: absolute;\r\n      top: 0;\r\n      height: 100%;\r\n      width: 100%;\r\n    }\r\n    .barchart-Time {\r\n      height: 25%;\r\n      vertical-align: middle;\r\n      position: relative;\r\n    }\r\n    .barchart-Time:after {\r\n      border-bottom: 3px solid white;\r\n      content: \"\";\r\n      position: absolute;\r\n      width: 100%;\r\n      left: 0;\r\n      top: 0em;\r\n    }\r\n    .barchart-TimeText {\r\n      position: absolute;\r\n      top: -8px;\r\n      z-index: 1;\r\n      background: white;\r\n      padding-right: 5px;\r\n      color: #4d4d4d;\r\n      font-size: 15px;\r\n      font-family: 'Avenir Medium';\r\n    }\r\n    .sq1-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq1-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq2-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq2-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq3-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq3-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq4-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq4-bar {\r\n      background-color: #a61a17;\r\n    }",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Stock Entry",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "{% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website',]) %}\r\n        {% if doc.company %}\r\n            \r\n        {% set company_logo = company_details[0].company_logo %}        \r\n        {% set company_address_line1 = '' %}        \r\n        {% set company_city = '' %}        \r\n        {% set company_country = '' %}        \r\n        {% set company_state = '' %}        \r\n        {% set phone = company_details[0].phone_no %}        \r\n        {% set website = company_details[0].website %}        \r\n        {% set tax_id = company_details[0].tax_id %}        \r\n\r\n        {% endif%}\r\n\r\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\r\n\r\n        {% if company_address_name  %}\r\n        {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\r\n        {% set company_address_line1 = address.address_line1 %}        \r\n        {% set company_city =  address.city  %}        \r\n        {% set company_country =  address.country  %}        \r\n        {% set company_state =  address.state  %}        \r\n        {% set phone = address.phone %}\r\n        {% set tax_id = company_details[0].tax_id %} \r\n        {% set email = company_details[0].email %}\r\n        {% endif  %}\r\n\r\n\r\n\r\n\r\n<div class = \"mainbox\" style = \"  \"> \r\n\r\n<table class = \"\" style = \"width:100%; \" border = \"1\"  > \r\n    <thead class = \"header-html\" > \r\n    <tr style = \"border:none !important\"> \r\n        <td colspan = \"9\"  style = \"border:none !important\" class = \"text-center\" > 786  </td>\r\n    </tr>\r\n    <tr> \r\n        <td colspan = \"9\">  \r\n        <div class = \"\" style = \"float:left; width:25%\" > \r\n\r\n            <div style=\"width: 100%;\"> \r\n             <img src=\"{{ company_logo }}\" style=\"height: 120px; width: 98%;\">\r\n            </div>\r\n\r\n        </div>\r\n\r\n        <div class = \"\" style = \"float:left; width:40%\" > \r\n\r\n        <div class = \"\"> <b> {{doc.company}} </b> </div>\r\n        <div class = \"\" style = \"font-size:9px\" > {% if company_address_line1 %}{{company_address_line1}} {% endif %} </div>\r\n        <div class = \"\" style = \"font-size:9px\" > {%  if company_city  %} {{ company_city }} {% endif %}  {%  if company_state  %} {{ company_state }} {% endif %} {%  if company_country  %} {{ company_country }} {% endif %} </div>\r\n        <div class = \"\" style = \"font-size:9px\" > P#: {{ phone or \"\" }} </div>\r\n        <div class = \"\" style = \"font-size:9px\" > Email: {{email  or \"\" }} </div>\r\n        <div class = \"\" style = \"font-size:9px\" > PIN NO: {{tax_id or \"\" }} </div>\r\n        <div class = \"\" style = \"font-size:9px\" > Website: {{website or \"\" }}</div>\r\n            \r\n\r\n\r\n        </div>\r\n\r\n\r\n        <div class = \"\" style = \"float:left; width:30%\" > \r\n\r\n            <table class = \"small table table-sm\" style = \"border:none; padding:0px; margin:0px; font-size:9px\"> \r\n                <tr> \r\n                    <td colspan = \"2\" class = \"text-center\" style = \"font-size:12px; font-weight:700\" > STOCK ENTRY </td>\r\n                   \r\n                </tr>\r\n    \r\n                <tr> \r\n                    <td>  Purpose  </td>\r\n                    <td>{{doc.stock_entry_type}} </td>\r\n                </tr>\r\n                <tr> \r\n                    <td>  Date  </td>\r\n                    <td>{{ doc.get_formatted('posting_date') }} </td>\r\n                </tr>\r\n    \r\n                <tr> \r\n                    <td>INV#  </td>\r\n                    <td>  {{doc.name}}  </td>\r\n                </tr>\r\n                <tr> \r\n                    <td>   Division </td>\r\n                    <td> {{doc.cost_center}}  </td>\r\n                </tr>\r\n                <tr>\r\n                    <td> Department</td>\r\n                    <td> {{doc.department}}</td>\r\n                </tr>\r\n\r\n            </table>\r\n\r\n\r\n        </div>\r\n\r\n        </td>\r\n    </tr>\r\n\r\n\r\n\r\n    </thead>\r\n{% set sales_customer_name = \"\" %}\r\n{% set reservation_customer_name = \"\" %}\r\n\r\n{% if doc.sales_order %}\r\n{% set sales_customer_name = frappe.db.get_value(\"Sales Order\" , doc.sales_order , \"customer_name\") %}\r\n{% endif %}\r\n    {% if doc.sales_order or doc.reservation %}\r\n    <tr>\r\n         <td colspan = \"9\"> \r\n         <div class = \"\" style = \"float:left; width:40%\" >\r\n         <table class = \" text-size-10\" style = \"width:100%; margin-top:-1px !important;\" cellspacing = '0' cellpadding = '0'> \r\n                {% if doc.sales_order %}\r\n                <tr>  \r\n                    <td class = \"text-size-10\"  style = 'font-size:10px; font-weight:bold;'> Customer Name :</td> \r\n                    <td class = \"text-size-10\"  style = 'font-size:11px'>  {{ sales_customer_name }} </td>\r\n                </tr>\r\n                \r\n                <!--<tr>-->\r\n                    \r\n                <!--    <td class = \"text-size-10\"  style = 'font-size:10px; font-weight:bold;'> Entry Type : </td> <td class = \"text-size-10\"  style = 'font-size:11px'>  {{ doc.stock_entry_type }} </td>-->\r\n                <!--</tr>-->\r\n                <tr>\r\n                    <td class = \"text-size-10\"  style = 'font-size:10px; font-weight:bold;'> Order :</td> <td class = \"text-size-10\"  style = 'font-size:11px'>  {{doc.sales_order}} </td>\r\n                </tr>\r\n                {% endif %}\r\n                {% if doc.reservation %}\r\n                <tr>\r\n                    <td class = \"text-size-10\"  style = 'font-size:10px; font-weight:bold;'> Reservation :</td> <td class = \"text-size-10\"  style = 'font-size:11px'>  {{doc.reservation}} </td>\r\n                </tr>\r\n                {% endif %}\r\n\r\n            </table>\r\n           \r\n                </div>\r\n                <div class = \"\" style = \"float:left; width:25%\" > \r\n                \r\n                </div>\r\n                <div class = \"\" style = \"float:left; width:35%\" >  \r\n                \r\n                </div>\r\n        </td>\r\n\r\n    </tr>\r\n    {% endif %}\r\n    <tr> \r\n    <td colspan = \"9\">\r\n   <div style=\"height:30px; \">\r\n   Additional Notes:\r\n    <p>\r\n        {% if doc.posa_notes %}\r\n        {{doc.posa_notes}} \r\n        {% endif %}\r\n    </p>\r\n</div>\r\n\r\n\r\n\r\n    </td>\r\n    </tr>\r\n        <thead style = \"font-size:10px\" > \r\n        <tr> \r\n                <th class=\"text-center text-size-9 \" style = \"\"  >  # </th>\r\n            <th class=\"text-center text-size-9 \">  Item Code </th>\r\n            <th class=\"text-left text-size-9 \">  Item Name </th>\r\n            <th class=\"text-left text-size-9 \">  MR NO </th>\r\n            <th class=\"text-right text-size-9 \"> Qty </th>\r\n            <th class=\"text-right text-size-9 \"> UOM </th>\r\n            <th class=\"text-center text-size-9 \"> Source </th>\r\n            <th class=\"text-center text-size-9 \">  Destination </th>\r\n        </tr>\r\n        </thead>\r\n        \r\n\r\n{% set total_in_qty = {\"total_in_qty\": 0} %}\r\n{% set total_in_actual_qty = {\"total_in_actual_qty\": 0} %}\r\n{% set total_in_transferred_qty = {\"total_in_transferred_qty\": 0} %}\r\n\r\n\r\n{% for row in doc.items %}\r\n \r\n    \r\n        <tr>\r\n            <td style=\"font-size:10px;\" class=\"text-left text-size-9 \">{{ row.idx }}</td>\r\n            <td style=\"font-size:10px;\" class=\"text-left text-size-9 \">\r\n                {{ row.item_code }}\r\n            </td>\r\n            <td style=\"font-size:10px;\" class=\"text-left text-size-9 \">\r\n                {{ row.item_name }}\r\n            </td>\r\n            <td style=\"font-size:10px;\" class=\"text-left text-size-9 \">\r\n                {{ row.material_request }}\r\n            </td>\r\n           \r\n            <td style=\"font-size:10px;\" class=\"text-right text-size-9 \">\r\n                {{ row.qty }}\r\n                 {% if total_in_qty.update({\"total_in_qty\": total_in_qty[\"total_in_qty\"] + row.qty}) %} {% endif %}\r\n            </td>\r\n            <td style=\"font-size:10px;\" class=\"text-center text-size-9 \">\r\n                {{ row.uom }}\r\n            </td>\r\n            <td style=\"font-size:10px;\" class=\"text-center text-size-9 \">\r\n                {{ row.s_warehouse }}\r\n            </td>\r\n            <td style=\"font-size:10px;\" class=\"text-center text-size-9 \">\r\n                {{ row.t_warehouse }}\r\n            </td>\r\n    \r\n        \r\n            \r\n        </tr>\r\n        {% endfor %}\r\n        <tr> \r\n              <td colspan=\"3\" class=\"text-right\"><b>Totals:</b>   </td>\r\n           \r\n           \r\n            <td class=\"text-right small\">  <b>\r\n                \r\n                {{ '{0:,.2f}'.format( total_in_qty[\"total_in_qty\"]  ) }} \r\n\r\n                </b> </td>\r\n            <td colspan=\"2\" class=\"text-right small\">  <b>\r\n                \r\n               \r\n\r\n                </b> </td>\r\n        </tr>\r\n \r\n    <tr>\r\n    <td colspan = \"9\" style = \"font-size:9px;\">  \r\n   <div> <b>Created By: {{ doc.owner }}  </b> </div>\r\n     <div>  <b> Created On: {{ doc.get_formatted('creation')}} </b> </div>\r\n     <div> <b>Created By:  {% if doc.docstatus==1 %} {{doc.owner}} {% endif %}  </b></div>\r\n    \r\n   \r\n    \r\n    </td>\r\n</tr>\r\n\r\n{% if doc.docstatus==0 %}\r\n<div class ='watermark'>\r\n</div>\r\n{% endif %}\r\n\r\n</table>\r\n</div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:56.158210",
  "module": "AQIQ Print Formats",
  "name": "Stock Entry A5",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "@media screen {\r\n@page {\r\nmargin:5px;\r\nsize:a5;\r\n    \r\n}\r\n\r\n}\r\n@media pdf {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\n@page {\r\nmargin:5px;\r\n  size:a5;\r\n\r\n}\r\n}\r\n\r\n\r\n@media screen {\r\n @page {\r\n   margin:0px;\r\n  size:a5;\r\n\r\n}\r\n}\r\n\r\n\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n\r\n\r\n.watermark {\r\n    position: fixed;\r\n    top: 420px;\r\n    left: 220px;\r\n    right: 220px;\r\n    background: url(\"http://192.241.152.17/files/draft-background.png\");\r\n    background-repeat: no-repeat;\r\n    /*background-size: center;*/\r\n    height:400px;\r\n    width:50%;\r\n    background-position: center;\r\n    background-size: 100%;\r\n    color:black !important;\r\n    opacity: 0.3;\r\n    position: running(wtrmrk);\r\n    background-repeat: repeat-x;\r\n    }\r\n\r\n\r\n\r\n\r\n.days_tab {\r\n    position: relative;\r\n}\r\n\r\n.barchart-Wrapper {\r\n      display: table;\r\n      position: relative;\r\n      margin: 20px 0;\r\n      height: 120px;\r\n    }\r\n    .barChart-Container {\r\n      display: table-cell;\r\n      width: 100%;\r\n      height: 100%;\r\n      padding-left: 20px;\r\n      padding-right: 20px;\r\n    }\r\n    .barchart {\r\n     display: table;\r\n     table-layout: fixed;\r\n     height: 100%;\r\n     width: 100%;\r\n     border-bottom: 3px solid darkgrey;\r\n    }\r\n    .barchart-Col {\r\n      position: relative;\r\n      vertical-align: bottom;\r\n      display: table-cell;\r\n      height: 100%;\r\n    }\r\n    .barchart-Col + .barchart-Col {\r\n      border-left: 4px solid transparent;\r\n    }\r\n    .barchart-Bar {\r\n      position: static;\r\n      height: 0;\r\n      transition: height 0.5s 2s;\r\n      width: 10px;\r\n      margin: auto;\r\n    }\r\n    .barchart-Bar:after {\r\n      content: attr(attr-height);\r\n      color: white;\r\n      position: absolute;\r\n      text-align: center;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter {\r\n      position: absolute;\r\n      text-align: center;\r\n      left:40px;\r\n      height: 10%;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter h3 {\r\n      color: darkred;\r\n    }\r\n    .barchart-TimeCol {\r\n      position: absolute;\r\n      top: 0;\r\n      height: 100%;\r\n      width: 100%;\r\n    }\r\n    .barchart-Time {\r\n      height: 25%;\r\n      vertical-align: middle;\r\n      position: relative;\r\n    }\r\n    .barchart-Time:after {\r\n      border-bottom: 3px solid white;\r\n      content: \"\";\r\n      position: absolute;\r\n      width: 100%;\r\n      left: 0;\r\n      top: 0em;\r\n    }\r\n    .barchart-TimeText {\r\n      position: absolute;\r\n      top: -8px;\r\n      z-index: 1;\r\n      background: white;\r\n      padding-right: 5px;\r\n      color: #4d4d4d;\r\n      font-size: 15px;\r\n      font-family: 'Avenir Medium';\r\n    }\r\n    .sq1-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq1-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq2-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq2-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq3-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq3-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq4-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq4-bar {\r\n      background-color: #a61a17;\r\n    }",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Purchase Receipt",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "{% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website',]) %}\r\n        {% if doc.company %}\r\n     {% set company_logo = company_details[0].company_logo %}        \r\n        {% set company_address_line1 = '' %}        \r\n        {% set company_city = '' %}        \r\n        {% set company_country = '' %}        \r\n        {% set company_state = '' %}        \r\n        {% set phone = company_details[0].phone_no %}        \r\n        {% set website = company_details[0].website %}        \r\n        {% set email = company_details[0].email %}        \r\n        {% set tax_id = company_details[0].tax_id %}      \r\n\r\n        {% endif%}\r\n\r\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\r\n\r\n        {% if company_address_name  %}\r\n        {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\r\n        {% set company_address_line1 = address.address_line1 %}        \r\n        {% set company_city =  address.city  %}        \r\n        {% set company_country =  address.country  %}        \r\n        {% set company_state =  address.state  %}        \r\n        {% set phone = address.phone %}\r\n        {% endif  %}\r\n\r\n\r\n{% set dn_query = frappe.db.get_list('Delivery Note Item',\r\n            filters =  {\r\n            'parent' : doc.delivery_note,\r\n            },\r\n            fields = ['against_sales_order']) %}\r\n            {% set del_note = frappe.db.get_list('Delivery Note', filters = {'name' : doc.delivery_note}, fields=['contact_person', 'shipping_address']) %}\r\n            \r\n\r\n\r\n{% set tot_qty = {\"tot_qty\": 0} %}\r\n{% set tot_weight = {\"tot_weight\": 0} %}\r\n{% set tot_unit_weight = {\"tot_unit_weight\": 0} %}\r\n\r\n\r\n\r\n\r\n<div class = \"mainbox\" style = \"  \"> \r\n\r\n<table class = \"\" style = \"width:100%; \" border = \"1\"  > \r\n    <thead class = \"header-html\" > \r\n    <tr style = \"border:none !important\"> \r\n        <td colspan = \"9\"  style = \"border:none !important\" class = \"text-center\" > 786  </td>\r\n    </tr>\r\n    <tr> \r\n        <td colspan = \"9\">  \r\n        <div class = \"\" style = \"float:left; width:25%\" > \r\n\r\n            <div style=\"width: 100%;\"> \r\n             <img src=\"{{ company_logo }}\" style=\"height: 120px; width: 98%;\">\r\n            </div>\r\n\r\n        </div>\r\n\r\n        <div class = \"\" style = \"float:left; width:40%\" > \r\n\r\n        <div class = \"\"> <b> {{doc.company}} </b> </div>\r\n        <div class = \"\" style = \"font-size:9px\" > {% if company_address_line1 %}{{company_address_line1}} {% endif %} </div>\r\n        <div class = \"\" style = \"font-size:9px\" > {%  if company_city  %} {{ company_city }} {% endif %}  {%  if company_state  %} {{ company_state }} {% endif %} {%  if company_country  %} {{ company_country }} {% endif %} </div>\r\n        <div class = \"\" style = \"font-size:9px\" > P#: {{ phone or \"\" }} </div>\r\n        <div class = \"\" style = \"font-size:9px\" > Email: {{email  or \"\" }} </div>\r\n        <div class = \"\" style = \"font-size:9px\" > PIN NO: {{tax_id or \"\" }} </div>\r\n        <div class = \"\" style = \"font-size:9px\" > Website: {{website or \"\" }}</div>\r\n            \r\n\r\n\r\n        </div>\r\n\r\n\r\n            {% set sales_order = frappe.db.get_list(\"Sales Order\" ,\r\n            filters={\r\n            'name': doc.items[0].against_sales_order\r\n            },\r\n            fields = ['name', 'po_no']) %}\r\n        <div class = \"\" style = \"float:left; width:30%\" > \r\n\r\n            <table class = \"small table table-sm\" style = \"border:none; padding:0px; margin:0px; font-size:9px\"> \r\n                <tr>\r\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:14px\"> PURCHASE INVOICE </b> </span> </center>  </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Date </td> <td style = 'font-size:11px'>  \r\n                    \r\n                      {{ frappe.utils.formatdate(doc.get_formatted('posting_date'), \"dd-mm-yyyy\") }}\r\n                    \r\n                    </td>\r\n                </tr>\r\n\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Order # </td> <td style = \"font-size:11px\">  {{ doc.name }}</td>\r\n                </tr>\r\n                \r\n            </table>\r\n\r\n\r\n        </div>\r\n\r\n        </td>\r\n    </tr>\r\n\r\n\r\n\r\n    </thead>\r\n\r\n    <tr>\r\n        <td colspan = \"9\"> \r\n                <div class = \"\" style = \"float:left; width:60%\" >  \r\n                <div>  <b style=\"font-size:15px\"> Supplier Details, </b></div>\r\n                <div style=\"font-size:10px\"> <b>{{ doc.supplier_name or \"\"}} </b> </div>\r\n            <div style=\"font-size:9px\"> {{ doc.supplier_address or \"\" }} </div>\r\n            <div style=\"font-size:9px\"> {{ doc.contact_person or \"\"}} </div>\r\n            <div style=\"font-size:9px\"> {{ doc.contact_mobile or \"\"}} </div>\r\n                \r\n                \r\n                </div>\r\n                <div class = \"\" style = \"float:left; width:25%\" >              \r\n                \r\n                </div>\r\n                <div class = \"\" style = \"float:left; width:35%\" >  \r\n                \r\n            <table class = \"table table-sm \" style = \"width:100%; border:none; font-size:9px; padding:0px; margin:0px \" cellspacing = '0' cellpadding = '0'> \r\n                  <tr>\r\n                    <td style = 'font-size:11px'> PO Date: </td> <td style = 'font-size:11px'> {{frappe.db.get_value('Purchase Order', doc.name, 'transaction_date') }}  </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> PO #. </td> <td style = 'font-size:11px'> {{ frappe.db.get_value('Purchase Order', doc.name, 'name') }}   </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> GRN No.: </td> <td style = 'font-size:11px'>  {{ frappe.db.get_value('Purchase Receipt', doc.name, 'name') }} </td>\r\n                </tr>\r\n                <!--<tr>-->\r\n                <!--    <td style = 'font-size:11px'> Warehouse: </td> <td style = 'font-size:11px'>  ?? </td>-->\r\n                <!--</tr>-->\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Supp. Inv No.: </td> <td style = 'font-size:11px'>  {{ frappe.db.get_value('Sales Invoice', doc.name, 'name') }} </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Supp. Inv Date: </td> <td style = 'font-size:11px'>  {{ frappe.db.get_value('Sales Invoice', doc.name, 'posting_date') }} </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Currency: </td> <td style = 'font-size:11px'>  {{doc.currency}} </td>\r\n                </tr>\r\n              \r\n\r\n\r\n\r\n            </table>\r\n                \r\n                \r\n                </div>\r\n        </td>\r\n\r\n    </tr>\r\n    <tr> \r\n    <td colspan = \"9\">\r\n   <div style=\"height:30px; \">\r\n    Remarks:\r\n</div>\r\n\r\n\r\n\r\n    </td>\r\n    </tr>\r\n        <thead style = \"font-size:10px\" > \r\n        <tr> \r\n              <th>  # </th>\r\n            <th>  Item Code </th>\r\n            <th>  Item Name </th>\r\n            <th class=\"text-right\">  Rate </th>\r\n            <th class=\"text-right\">  Qty </th>\r\n            <th class=\"text-right\">  Total </th>\r\n            <th class=\"text-right\">  VAT </th>\r\n            <!--<th class=\"text-right\">  Discount </th>-->\r\n            <th class=\"text-right\">  Gross </th>\r\n        </tr>\r\n        </thead>\r\n        \r\n{% set total_amount = {\"total_amount\": 0} %}\r\n{% set total_vat = {\"total_vat\": 0} %}\r\n{% set discount_total = {\"discount_total\": 0} %}\r\n{% set gross_total = {\"gross_total\": 0} %}\r\n{% for row in doc.items %}\r\n    {% if total_amount.update({\"total_amount\": total_amount[\"total_amount\"] + row.qty * row.rate}) %} {% endif %}\r\n    \r\n        <tr>\r\n            <td style=\"\">{{ row.idx }}</td>\r\n            <td style=\"\">\r\n                {{ row.item_code }}\r\n            </td>\r\n            <td style=\"\">\r\n                {{ row.item_name }}\r\n            </td>\r\n            <td style=\"\" class=\"text-right\">\r\n                 {{ '{0:,.2f}'.format(row.rate  ) }} \r\n            </td>\r\n\r\n\r\n            <td style=\"\" class=\"text-right\">\r\n                {{ row.qty }}\r\n            </td>\r\n            {% set amount= row.qty * row.rate %}\r\n            \r\n            <td style=\"\" class=\"text-right\">\r\n                \r\n\r\n                 {{ '{0:,.2f}'.format(amount  ) }} \r\n            </td>\r\n        \r\n            <td style=\"\" class=\"text-right\">\r\n                {% set vat = (row.amount/100)*16 %}\r\n                {% if total_vat.update({\"total_vat\": total_vat[\"total_vat\"] + vat}) %} {% endif %}\r\n                {{ '{0:,.2f}'.format(vat  ) }} \r\n\r\n            </td>\r\n            <!--<td style=\"\" class=\"text-right\">-->\r\n                \r\n            <!--    {{ '{0:,.2f}'.format( row.discount_amount  ) }} -->\r\n            <!--    {% if discount_total.update({\"discount_total\": discount_total[\"discount_total\"] + row.discount_amount}) %} {% endif %}-->\r\n\r\n            <!--</td>-->\r\n\r\n            \r\n            <td style=\"\" class=\"text-right\">\r\n                {% if gross_total.update({\"gross_total\": gross_total[\"gross_total\"] + row.qty * row.rate + vat}) %} {% endif %}\r\n                 {{ '{0:,.2f}'.format( row.qty * row.rate + vat  ) }} \r\n            </td>\r\n\r\n        </tr>\r\n        {%- endfor -%}\r\n        <tr> \r\n            <td></td>\r\n            <td colspan=\"3\" class=\"text-right\"><b>Totals: </b>  </td>\r\n            <td class=\"text-right\"> <b>{{doc.total_qty}}</b></td>\r\n            <td class=\"text-right\">  <b> {{ '{0:,.2f}'.format(total_amount[\"total_amount\"]  ) }}</b> </td>\r\n            <td class=\"text-right\"> <b> {{ '{0:,.2f}'.format(total_vat[\"total_vat\"]  ) }} </b> </td>\r\n            <!--<td class=\"text-right\"> <b>  {{ '{0:,.2f}'.format(discount_total[\"discount_total\"]  ) }}</b> </td>-->\r\n            <td class=\"text-right\"><b>   {{ '{0:,.2f}'.format(gross_total[\"gross_total\"]  ) }} </b> </td>\r\n        </tr>\r\n        <tr width=100% height=40px style = \"border: 1px solid black;\" >\r\n        <td width=100% colspan = \"9\"><b>Total Amount in words: {{ frappe.utils.money_in_words(gross_total[\"gross_total\"], doc.currency) }}</b></td>\r\n        \r\n    </tr>\r\n        <tr rowspan = \"4\">\r\n    <td  colspan = \"6\" width=60%><b> Payment Terms:  </b>\r\n\r\n{% if doc.payment_terms_template  %}\r\n\r\n    <table style = \"font-size:10px; border: 1px solid #EBEEF0 \" cellspacing = '0' rowspacing = '0' width = \"95%\" border = \"1\"   > \r\n        <tr> \r\n            <th> P-Term </th> \r\n            <th> Due Date</th> \r\n            <th> Invoice Portion </th> \r\n        </tr>\r\n\r\n\r\n\r\n{%- for row in doc.payment_schedule -%}\r\n\t\t<tr>\r\n\t\t    <td> {{ row.payment_term}} </td>\r\n\t\t    <td> {{ row.due_date }} </td>\r\n\t\t    <td> {{ row.invoice_portion }} -  {{ row.discount_type }}  </td>\r\n\r\n\t\t</tr>\r\n\t\t{%- endfor -%}\r\n\r\n\r\n\r\n\r\n    </table>\r\n\t\t{%- endif -%}\r\n\r\n\r\n\r\n\r\n    \r\n    \r\n    </td>\r\n    <td colspan = \"3\" width=40%>\r\n        <table class=\"table table-sm\" style=\"margin-top:0px\">\r\n\r\n            <tr>\r\n                <td colspan = \"2\"> <b> VAT </b> </td>\r\n                <td colspan = \"2\"><b> \r\n              {{ '{0:,.2f}'.format(total_vat[\"total_vat\"] ) }} \r\n\r\n                \r\n                </b> </td>\r\n            </tr>\r\n\r\n            <!--<tr>-->\r\n            <!--    <td colspan = \"2\"> <b> Discount </b> </td>-->\r\n            <!--    <td colspan = \"2\"> <b> -->\r\n                \r\n            <!--                  {{ '{0:,.2f}'.format(discount_total[\"discount_total\"]) }}  -->\r\n\r\n            <!--    </b> </td>-->\r\n            <!--</tr>-->\r\n\r\n\r\n\r\n            <tr>\r\n                <td colspan = \"2\">  <b> Total Amount </b>  </td>\r\n                <td colspan = \"2\"> <b> \r\n              {{ '{0:,.2f}'.format(gross_total[\"gross_total\"] ) }} \r\n                </b></td>\r\n            </tr>\r\n            <tr></tr>\r\n        </table>\r\n    </td>\r\n</tr>\r\n\r\n <tr width=100% height=60px style = \"border-bottom: 1px solid black;\">\r\n        <td colspan = \"9\" width=100%><b>Shippment Address:</b></td>\r\n        \r\n    </tr>\r\n\r\n<tr> \r\n    <td colspan = \"9\" style = \"font-size:9px;\">  \r\n   <div> <b>Created By: {{ doc.owner }}  </b> </div>\r\n     <div>  <b> Created On: {{ doc.get_formatted('creation')}} </b> </div>\r\n     <div> <b>Created By: {{ doc.owner }} </b></div>\r\n \r\n    </td>\r\n    \r\n</tr>\r\n\r\n<tr> \r\n    <td colspan = \"9\" style = \"font-size:9px;\">  \r\n   <div class = \"\" style = \"font-size:9px; width:33%; float:left; font-weight:bold; \"> Recieved By </div>\r\n    <div class = \"\" style = \"font-size:9px; width:33%; float:left; font-weight:bold;\"> ID  </div>\r\n    <div class = \"\" style = \"font-size:9px; width:33%; float:left;font-weight:bold; \"> Signature  </div>\r\n{% if doc.docstatus==0 %}\r\n<div class ='watermark'>\r\n</div>\r\n{% endif %}\r\n    </td>\r\n\r\n\r\n</tr>\r\n\r\n</table>\r\n</div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:56.022225",
  "module": "AQIQ Print Formats",
  "name": "Purchase Receipt New A5",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "@media screen {\r\n@page {\r\nmargin:5px;\r\nsize:a5;\r\n    \r\n}\r\n\r\n}\r\n@media pdf {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\n@page {\r\nmargin:5px;\r\n  size:a5;\r\n\r\n}\r\n}\r\n\r\n\r\n@media screen {\r\n @page {\r\n   margin:0px;\r\n  size:a5;\r\n\r\n}\r\n}\r\n\r\n\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n\r\n\r\n.watermark {\r\n    position: fixed;\r\n    top: 420px;\r\n    left: 220px;\r\n    right: 220px;\r\n    background: url(\"http://192.241.152.17/files/draft-background.png\");\r\n    background-repeat: no-repeat;\r\n    /*background-size: center;*/\r\n    height:400px;\r\n    width:50%;\r\n    background-position: center;\r\n    background-size: 100%;\r\n    color:black !important;\r\n    opacity: 0.3;\r\n    position: running(wtrmrk);\r\n    background-repeat: repeat-x;\r\n    }\r\n\r\n\r\n\r\n\r\n.days_tab {\r\n    position: relative;\r\n}\r\n\r\n.barchart-Wrapper {\r\n      display: table;\r\n      position: relative;\r\n      margin: 20px 0;\r\n      height: 120px;\r\n    }\r\n    .barChart-Container {\r\n      display: table-cell;\r\n      width: 100%;\r\n      height: 100%;\r\n      padding-left: 20px;\r\n      padding-right: 20px;\r\n    }\r\n    .barchart {\r\n     display: table;\r\n     table-layout: fixed;\r\n     height: 100%;\r\n     width: 100%;\r\n     border-bottom: 3px solid darkgrey;\r\n    }\r\n    .barchart-Col {\r\n      position: relative;\r\n      vertical-align: bottom;\r\n      display: table-cell;\r\n      height: 100%;\r\n    }\r\n    .barchart-Col + .barchart-Col {\r\n      border-left: 4px solid transparent;\r\n    }\r\n    .barchart-Bar {\r\n      position: static;\r\n      height: 0;\r\n      transition: height 0.5s 2s;\r\n      width: 10px;\r\n      margin: auto;\r\n    }\r\n    .barchart-Bar:after {\r\n      content: attr(attr-height);\r\n      color: white;\r\n      position: absolute;\r\n      text-align: center;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter {\r\n      position: absolute;\r\n      text-align: center;\r\n      left:40px;\r\n      height: 10%;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter h3 {\r\n      color: darkred;\r\n    }\r\n    .barchart-TimeCol {\r\n      position: absolute;\r\n      top: 0;\r\n      height: 100%;\r\n      width: 100%;\r\n    }\r\n    .barchart-Time {\r\n      height: 25%;\r\n      vertical-align: middle;\r\n      position: relative;\r\n    }\r\n    .barchart-Time:after {\r\n      border-bottom: 3px solid white;\r\n      content: \"\";\r\n      position: absolute;\r\n      width: 100%;\r\n      left: 0;\r\n      top: 0em;\r\n    }\r\n    .barchart-TimeText {\r\n      position: absolute;\r\n      top: -8px;\r\n      z-index: 1;\r\n      background: white;\r\n      padding-right: 5px;\r\n      color: #4d4d4d;\r\n      font-size: 15px;\r\n      font-family: 'Avenir Medium';\r\n    }\r\n    .sq1-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq1-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq2-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq2-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq3-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq3-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq4-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq4-bar {\r\n      background-color: #a61a17;\r\n    }",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Packing Slip",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "{% set dn_query = frappe.db.get_list('Delivery Note Item',\r\n            filters =  {\r\n            'parent' : doc.delivery_note,\r\n            },\r\n            fields = ['against_sales_order']) %}\r\n            {% set del_note = frappe.db.get_list('Delivery Note', filters = {'name' : doc.delivery_note}, fields=['contact_person', 'shipping_address']) %}\r\n            \r\n{% set PoD = frappe.db.get_value('Delivery Note', doc.name, 'posting_date') %}\r\n\r\n\r\n{% set tot_qty = {\"tot_qty\": 0} %}\r\n{% set tot_weight = {\"tot_weight\": 0} %}\r\n{% set tot_unit_weight = {\"tot_unit_weight\": 0} %}\r\n\r\n\r\n\r\n\r\n<div class = \"mainbox\" style = \"  \"> \r\n\r\n<table class = \"\" style = \"width:100%; \" border = \"1\"  > \r\n    <thead class = \"header-html\" > \r\n    <tr> \r\n        <td colspan = \"8\">  \r\n      \r\n            \r\n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website',]) %}\r\n            \r\n            \r\n        \r\n        {% set comapny_address_line1 = '' %}        \r\n        {% set comapny_city = '' %}        \r\n        {% set comapny_counrty = '' %}        \r\n        {% set comapny_state = '' %}        \r\n        {% set phone = '' %}        \r\n\r\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\r\n\r\n        {% if company_address_name  %}\r\n            {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\r\n                \r\n\r\n        {% set comapny_address_line1 = address.address_line1 %}        \r\n        {% set comapny_city =  address.city  %}        \r\n        {% set comapny_counrty =  address.country  %}        \r\n        {% set comapny_state =  address.state  %}        \r\n\r\n        {% set phone = address.phone %}        \r\n\r\n        {% endif  %}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n            {% set sales_order = frappe.db.get_list(\"Sales Order\" ,\r\n            filters={\r\n            'name': doc.items[0].against_sales_order\r\n            },\r\n            fields = ['name', 'po_no']) %}\r\n        <div class = \"\" style = \"float:left; width:30%\" > \r\n\r\n            <table class = \"small table table-sm\" style = \"border:none; padding:0px; margin:0px; font-size:9px\"> \r\n                <tr> \r\n                    <td colspan = \"2\" class = \"text-center\" style = \"font-size:12px; font-weight:700\" >   PACKING SLIP  </td>\r\n                   \r\n                </tr>\r\n    \r\n                <tr> \r\n                    <td>  Date  </td>\r\n                    <td>  {{ frappe.utils.formatdate(doc.get_formatted('PoD'), \"dd-mm-yyyy\") }}   </td>\r\n                </tr>\r\n    \r\n                <tr> \r\n                    <td> DN #  </td>\r\n                    <td>  {{doc.name}}  </td>\r\n                </tr>\r\n                <tr> \r\n                    <td>   Division </td>\r\n                    <td> {{doc.cost_center}}  </td>\r\n                </tr>\r\n\r\n            </table>\r\n\r\n\r\n        </div>\r\n\r\n        </td>\r\n    </tr>\r\n\r\n\r\n\r\n    </thead>\r\n\r\n    <tr>\r\n        <td colspan = \"6\"> \r\n                <div class = \"\" style = \"float:left; width:40%\" >  \r\n                <div>  <b style=\"font-size:17px\"> Bill To, </b></div>\r\n                <div> <b style=\"font-size:9px\" >   </b> </div>\r\n                <div style=\"font-size:9px\" >  </div>\r\n                \r\n                \r\n                </div>\r\n                <div class = \"\" style = \"float:left; width:25%\" >              \r\n                \r\n                <img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\" class=\"text-center\" height=\"100px\">\r\n                </div>\r\n                <div class = \"\" style = \"float:left; width:35%\" >  \r\n                \r\n            <table class = \"table table-sm \" style = \"width:100%; border:none; font-size:9px; padding:0px; margin:0px \" cellspacing = '0' cellpadding = '0'> \r\n                <tr>\r\n                    <td style = ''> PO Date </td> <td style = ''>  {{ frappe.utils.formatdate(doc.get_formatted('transaction_date'), \"dd-mm-yyyy\") }}  </td>\r\n                </tr>\r\n              \r\n\r\n\r\n\r\n            </table>\r\n                \r\n                \r\n                </div>\r\n        </td>\r\n\r\n    </tr>\r\n\r\n    <tr> \r\n    <td colspan = \"6\"> \r\n    <div class = \"\" style = \"width:20%; float:left; font-size:9px\"> Warehouse  {{doc.items[0].warehouse or \"\"  }}  </div>\r\n    <div class = \"\" style = \"width:20%; float:left; font-size:9px  \">  Transporter: {{doc.transporter or \"\" }}   </div>\r\n    <div class = \"\" style = \"width:20%; float:left; font-size:9px \"> Project No: {{doc.project or \"\" }}  </div>\r\n    <div class = \"\" style = \"width:20%; float:left; font-size:9px \">  SO # {{ doc.items[0].against_sales_invoice or \"\" }}   </div>\r\n    <div class = \"\" style = \"width:20%; float:left; font-size:9px \">  DN # {{ doc.items[0].against_sales_order or \"\" }}   </div>\r\n\r\n\r\n\r\n    </td>\r\n    </tr>\r\n\r\n        <thead style = \"font-size:10px\" > \r\n        <tr> \r\n            <th>  ID </th>\r\n            <th>  Item Code </th>\r\n            <th>  Item Name </th>\r\n            <th class=\"text-right\">  Qty </th>\r\n            <th class=\"text-right\">  Unit Weight\t </th>\r\n            <th class=\"text-right\">  Total Weight </th>\r\n        </tr>\r\n        </thead>\r\n        \r\n\r\n    {% set total_amount = {\"total_amount\": 0} %}\r\n\r\n\r\n{% for row in doc.items %}\r\n    {% if tot_unit_weight.update({\"tot_unit_weight\": tot_unit_weight[\"tot_unit_weight\"] }) %} {% endif %}\r\n    {% if tot_qty.update({\"tot_qty\": tot_qty[\"tot_qty\"] + row.qty}) %} {% endif %}\r\n    {% if tot_weight.update({\"tot_weight\": tot_weight[\"tot_weight\"] }) %} {% endif %}\r\n    \r\n        <tr>\r\n            <td style=\" font-size:9px \">{{ row.idx }}</td>\r\n            <td style=\" font-size:9px \">\r\n                {{ row.item_code }}\r\n            </td>\r\n            <td style=\" font-size:9px \">\r\n                {{ row.item_name }}\r\n            </td>\r\n            <td style=\" font-size:9px \" class=\"text-right\">\r\n                {{ row.qty }}\r\n            </td>\r\n            <td style=\" font-size:9px \" class=\"text-right\">\r\n\r\n            </td>\r\n            \r\n            \r\n            <td style=\" font-size:9px \" class=\"text-right\">\r\n                \r\n                \r\n            </td>\r\n        </tr>\r\n        {%- endfor -%}\r\n        \r\n    \r\n    <tr> \r\n    <td colspan = \"3\"> </td>\r\n\r\n            <td style = \"font-size:9px; font-weight:600;\" class = \"text-right\" >  {{tot_qty[\"tot_qty\"]}} </td>\r\n            <td style = \"font-size:9px; font-weight:600\" class = \"text-right\" >  {{tot_unit_weight[\"tot_unit_weight\"]}}  </td>\r\n            <td style = \"font-size:9px; font-weight:600\" class = \"text-right\" >  {{tot_weight[\"tot_weight\"]}}  </td>\r\n\r\n    </tr>\r\n<tr> \r\n    <td colspan = \"3\" style = \"font-size:9px;\">  \r\n     <div> created By: {{ doc.owner }} </div>\r\n     <div>   Created ON: {{ doc.get_formatted('creation')}}  </div>\r\n     <div> created By: {{ doc.owner }} </div>\r\n    \r\n   \r\n    \r\n    </td>\r\n    <td colspan = \"3\" class = \"text-right\" style = \"font-size:9px;\"> \r\n    <table class = \"table table-sm text-right \" style = \"width:100%; font-size:9px; border:none; margin:0px; padding:0px\">\r\n        <tr> \r\n            <td> Total Qty  </td>\r\n            <td>  {{tot_qty[\"tot_qty\"]}}  </td>\r\n        </tr>\r\n        <tr> \r\n            <td> Total Unit </td>\r\n            <td>  {{tot_unit_weight[\"tot_unit_weight\"]}}  </td>\r\n        </tr>\r\n\r\n        <tr> \r\n            <td> Total  </td>\r\n            <td> {{tot_weight[\"tot_weight\"]}}  </td>\r\n        </tr>\r\n\r\n    </table>\r\n    </td>\r\n\r\n</tr>\r\n\r\n<tr> \r\n    <td colspan = \"6\" style = \"font-size:9px;\">  \r\n    <div class = \"\" style = \"font-size:9px; width:33%; float:left \"> Recieved By  </div>\r\n    <div class = \"\" style = \"font-size:9px; width:33%; float:left \"> ID  </div>\r\n    <div class = \"\" style = \"font-size:9px; width:33%; float:left \"> Signiture  </div>\r\n    </td>\r\n\r\n\r\n</tr>\r\n\r\n</table>\r\n\r\n</div>\r\n\r\n\r\n\r\n\r\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:55.899392",
  "module": "AQIQ Print Formats",
  "name": "New A5",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "/*.watermark {*/\r\n/*    position: fixed;*/\r\n/*    top: 420px;*/\r\n/*    left: 220px;*/\r\n/*    right: 220px;*/\r\n/*    background: url(\"http://159.65.216.210/files/draft-background.png\");*/\r\n/*    background-repeat: no-repeat;*/\r\n    /*background-size: center;*/\r\n/*    height:400px;*/\r\n/*    width:50%;*/\r\n/*    background-position: center;*/\r\n/*    background-size: 100%;*/\r\n/*    color:black !important;*/\r\n/*    opacity: 0.3;*/\r\n/*    position: running(wtrmrk);*/\r\n/*    background-repeat: repeat-x;*/\r\n/*    }*/\r\n    \r\n    .watermark {\r\n    position: fixed;\r\n    top:70px;\r\n    left:11%;\r\n    right:10%;\r\n    background: url(\"http://192.241.152.17/files/draft-background.png\");\r\n    background-repeat: no-repeat;\r\n    height:700px;\r\n    width:80%;\r\n    /*background-position: center;*/\r\n    background-size: 100%;\r\n    opacity: 0.5;\r\n    }\r\n    @media screen,pdf {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\n\r\n@page {\r\n  size: a5;\r\n  margin: 5px;\r\n}\r\n\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n \r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\nmargin-top-15{\r\n    margin-top:15px;\r\n}\r\n \r\n   .text-size-9{\r\n     font-size:9px;\r\n }\r\n \r\n    }\r\n    \r\n@media print {\r\n\t\t.print-format {\r\n\t\t}\r\n@page {\r\n  size: a5;\r\n  margin: 5px;\r\n}\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n \r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n  .text-size-9{\r\n     font-size:9px;\r\n }\r\n \r\n table.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n \r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n@media screen {\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n @page {\r\n  size: a5;\r\n  margin: 5px;\r\n}\r\n \r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n\r\n  .text-size-9{\r\n     font-size:9px;\r\n }\r\n\r\n.amount-val{\r\n   color:darkgrey;\r\n   bottom:20px;\r\n   position:relative;\r\n}\r\n\r\n/*.watermark {*/\r\n/*    position: fixed;*/\r\n/*    top: 420px;*/\r\n/*    left: 220px;*/\r\n/*    right: 220px;*/\r\n/*    background: url(\"http://192.241.152.17/files/draft-background.png\");*/\r\n/*    background-repeat: no-repeat;*/\r\n    /*background-size: center;*/\r\n/*    height:400px;*/\r\n/*    width:50%;*/\r\n/*    background-position: center;*/\r\n/*    background-size: 100%;*/\r\n/*    color:black !important;*/\r\n/*    opacity: 0.3;*/\r\n/*    position: running(wtrmrk);*/\r\n/*    background-repeat: repeat-x;*/\r\n/*    }*/\r\n\r\n.watermark {\r\n    position: fixed;\r\n    top:70px;\r\n    left:11%;\r\n    right:10%;\r\n    background: url(\"http://192.241.152.17/files/draft-background.png\");\r\n    background-repeat: no-repeat;\r\n    height:700px;\r\n    width:80%;\r\n    /*background-position: center;*/\r\n    background-size: 100%;\r\n    opacity: 0.5;\r\n    }\r\n\r\n\r\n\r\n.days_tab {\r\n    position: relative;\r\n}\r\n\r\n.barchart-Wrapper {\r\n      display: table;\r\n      position: relative;\r\n      margin: 20px 0;\r\n      height: 120px;\r\n    }\r\n    .barChart-Container {\r\n      display: table-cell;\r\n      width: 100%;\r\n      height: 100%;\r\n      padding-left: 20px;\r\n      padding-right: 20px;\r\n    }\r\n    .barchart {\r\n     display: table;\r\n     table-layout: fixed;\r\n     height: 100%;\r\n     width: 100%;\r\n     border-bottom: 3px solid darkgrey;\r\n    }\r\n    .barchart-Col {\r\n      position: relative;\r\n      vertical-align: bottom;\r\n      display: table-cell;\r\n      height: 100%;\r\n    }\r\n    .barchart-Col + .barchart-Col {\r\n      border-left: 4px solid transparent;\r\n    }\r\n    .barchart-Bar {\r\n      position: static;\r\n      height: 0;\r\n      transition: height 0.5s 2s;\r\n      width: 10px;\r\n      margin: auto;\r\n    }\r\n    .barchart-Bar:after {\r\n      content: attr(attr-height);\r\n      color: white;\r\n      position: absolute;\r\n      text-align: center;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter {\r\n      position: absolute;\r\n      text-align: center;\r\n      left:40px;\r\n      height: 10%;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter h3 {\r\n      color: darkred;\r\n    }\r\n    .barchart-TimeCol {\r\n      position: absolute;\r\n      top: 0;\r\n      height: 100%;\r\n      width: 100%;\r\n    }\r\n    .barchart-Time {\r\n      height: 25%;\r\n      vertical-align: middle;\r\n      position: relative;\r\n    }\r\n    .barchart-Time:after {\r\n      border-bottom: 3px solid white;\r\n      content: \"\";\r\n      position: absolute;\r\n      width: 100%;\r\n      left: 0;\r\n      top: 0em;\r\n    }\r\n    .barchart-TimeText {\r\n      position: absolute;\r\n      top: -8px;\r\n      z-index: 1;\r\n      background: white;\r\n      padding-right: 5px;\r\n      color: #4d4d4d;\r\n      font-size: 15px;\r\n      font-family: 'Avenir Medium';\r\n    }\r\n    .sq1-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq1-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq2-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq2-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq3-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq3-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq4-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq4-bar {\r\n      background-color: #a61a17;\r\n    }",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Purchase Receipt",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "\r\n<div id=\"header-html\"   style = \"margin-top:-15px !important; width:95.2%; margin-left:15px !important\">\r\n    <div class = \"row\" style = \"\">\r\n        <div class = \"col-xs-10\" style = \"width:100%; float:left; border:1px solid black \">\r\n              {% set header = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1}, \"content\") %}\r\n            \r\n            <!--{% if doc.company == 'Impala Glass Industries Ltd' %}-->\r\n            <!--    {% set logo = \"/files/Impala.png\" %} {% elif doc.company == \"Impala Africa Ltd\" %} {% set logo = \"/files/impala-africa-logo.jpg\" %}-->\r\n            <!--{% endif %}-->\r\n            \r\n            \r\n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website',]) %}\r\n            \r\n            \r\n        \r\n        {% set comapny_address_line1 = '' %}        \r\n        {% set comapny_city = '' %}        \r\n        {% set comapny_counrty = '' %}        \r\n        {% set comapny_state = '' %}        \r\n        {% set phone = '' %}        \r\n\r\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\r\n\r\n        {% if company_address_name  %}\r\n            {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\r\n                \r\n\r\n        {% set comapny_address_line1 = address.address_line1 %}        \r\n        {% set comapny_city =  address.city  %}        \r\n        {% set comapny_counrty =  address.country  %}        \r\n        {% set comapny_state =  address.state  %}        \r\n\r\n        {% set phone = address.phone %}        \r\n\r\n        {% endif  %}\r\n\r\n\r\n            \r\n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \r\n            'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \r\n            'state' : comapny_state,\r\n            'phone_no' : phone, 'email' : company_details[0].email, 'pin_no': company_details[0].tax_id ,  'company_logo' : company_details[0].company_logo, 'website' : company_details[0].website,  }) %}\r\n            {{header_updated}}\r\n\r\n\r\n\r\n            {% set cost_center = frappe.db.get_value(\"Purchase Invoice Item\", {\r\n    \t\t\"cost_center\" : \"Auto - IG\",\r\n    \t\t\"parent\" : doc.service_invoice,\r\n    \t\t\"parentfield\" : \"items\",\r\n    \t\t\"parenttype\" : \"Purchase Invoice\",\r\n            }, \"cost_center\" ) %}\r\n            \r\n            {%  set po = frappe.db.get_value(\"Purchase Receipt Item\" , {\"parent\" : doc.name } , \"purchase_order\") %}\r\n            \r\n            <table  class = \"table table-sm\" style = \"width:28%; \"> \r\n                <tr>\r\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:14px\"> PURCHASE RECEIPT </b> </span> </center>  </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Date </td> <td style = 'font-size:11px'>  {{ doc.get_formatted('posting_date') }}</td>\r\n                </tr>\r\n\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Receipt # </td> <td style = \"font-size:11px\">  {{ doc.name }}</td>\r\n                </tr>\r\n                <!--<tr> -->\r\n                <!--    <td style = \"font-size:11px\"> Division </td> <td style = \"font-size:11px\"> </td>-->\r\n                <!--</tr>-->\r\n\r\n            </table>\r\n\r\n\r\n        </div>\r\n\r\n        <div class = \"col-xs-8\" style = 'float:left'>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n\r\n<table width = 100% class = \"\"  style = \"font-size:11px !important; border-bottom:1px solid black !important;\"> \r\n    <tr> \r\n        <td style = \"width:40%\">  \r\n            <div>  <b style=\"font-size:13px\"> Supplier Details: </b></div>\r\n            <div> <b> {{ doc.supplier_name }} </b> </div>\r\n            <div> {{ doc.address_display }} </div>\r\n            <!--<div> Pin No: ?? </div>-->\r\n            <div> {{ doc.contact_person }} </div>\r\n            <div> {{ doc.contact_mobile }} </div>\r\n        </td>\r\n        <td style=\"20%\">\r\n            <img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\" class=\"center\" height=100px>\r\n        </td>\r\n        <td style = \"width:35%\">  \r\n            <table class = \"table table-sm; \" style = \"width:100%; margin-top:-1px !important;\" cellspacing = '0' cellpadding = '0'> \r\n\r\n                <!--<tr>-->\r\n                <!--    <td style = 'font-size:11px'> Requested By: </td> <td style = 'font-size:11px'>  ?? </td>-->\r\n                <!--</tr>-->\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Supp. Inv No.: </td> <td style = 'font-size:11px'> </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Supp. Inv Date: </td> <td style = 'font-size:11px'>  {{ frappe.utils.formatdate(doc.get_formatted('posting_date'), \"dd-mm-yyyy\") }} </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Warehouse: </td> <td style = 'font-size:11px'>  {{doc.set_warehouse}} </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Currency: </td> <td style = 'font-size:11px'>  {{doc.currency}} </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Purchase Order: </td> <td style = 'font-size:11px'>  {{ po }}  </td>\r\n                </tr>\r\n            </table>\r\n        </td>\r\n    </tr>\r\n</table>\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr width=100% height=40px style = \"border: 1px solid black;\">\r\n        <td width=50%>Remarks:</td>\r\n    </tr>\r\n</table>\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:10px\" border = '1'> \r\n    <tr style = \"width:100%;\"> \r\n        <thead> \r\n            <th style = \"width:5%;\">  # </th>\r\n            <th style = \"width:30%;\">  Item Code </th>\r\n            <th style = \"width:35%;\">  Item Name </th>\r\n            <th style = \"width:10%;\" class=\"text-center\"> Received Qty </th>\r\n            <th style = \"width:10%;\" class=\"text-center\"> Accepted Qty </th>\r\n            <th style = \"width:10%;\" class=\"text-center\"> Rejected Qty </th>\r\n        </thead>\r\n    </tr>\r\n    \r\n    {% set tot_received_qty = {\"tot_received_qty\" : 0 } %}\r\n    {% set tot_qty = {\"tot_qty\" : 0 } %}\r\n    {% set tot_rejected_qty = {\"tot_rejected_qty\" : 0 } %}\r\n    \r\n{% for row in doc.items %}\r\n        <tr>\r\n            <td style=\"\">{{ row.idx }}</td>\r\n            <td style=\"\">\r\n                {{ row.item_code }}\r\n            </td>\r\n            <td style=\"\">\r\n                {{ row.item_name }}\r\n            </td>\r\n            <td style=\"\" class=\"text-center\">\r\n                {{ row.received_qty }}\r\n            </td>\r\n            <td style=\"\" class=\"text-center\">\r\n                {{ row.qty }}\r\n            </td>\r\n            <td style=\"\" class=\"text-center\">\r\n                {{ row.rejected_qty }}\r\n            </td>\r\n        </tr>\r\n        \r\n        {% if tot_received_qty.update({\"tot_received_qty\" : tot_received_qty[\"tot_received_qty\"] + row.received_qty}) %} {% endif %}\r\n        {% if tot_qty.update({\"tot_qty\" : tot_qty[\"tot_qty\"] + row.qty}) %} {% endif %}\r\n        {% if tot_rejected_qty.update({\"tot_rejected_qty\" : tot_rejected_qty[\"tot_rejected_qty\"] + row.rejected_qty }) %} {% endif %}\r\n        \r\n        {%- endfor -%}\r\n        <tr> \r\n            <td></td>\r\n            <td colspan=\"2\" class=\"text-right\"><b>Totals: </b>  </td>\r\n            <td class=\"text-center\"> <b>{{tot_received_qty[\"tot_received_qty\"]}}</b></td>\r\n            <td class=\"text-center\"> <b>{{tot_qty[\"tot_qty\"]}}</b></td>\r\n            <td class=\"text-center\"> <b>{{tot_rejected_qty[\"tot_rejected_qty\"]}}</b></td>\r\n        </tr>\r\n</table>\r\n{% set payment_terms = frappe.db.get_list(\"Payment Schedule\",\r\nfilters={'parent': doc.service_invoice}, \r\nfields=['payment_term', 'payment_amount', 'due_date', 'invoice_portion', 'outstanding']) %}\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr rowspan = \"4\" style = \"border-top: 1px solid black;  border-bottom: 1px solid black\">\r\n    <td  colspan = \"6\" width=60% style = \"border-top: 1px solid black\"><b></b>\r\n    <!--<br>-->\r\n    <!--<p style=\"text-indent: 30px;\">Payment Term: {{payment_terms[0].payment_term}}</p>-->\r\n    <!--<p style=\"text-indent: 30px;\">Payment Amount: {{payment_terms[0].payment_amount}}</p>-->\r\n    <!--<p style=\"text-indent: 30px;\">Due Date: {{payment_terms[0].due_date}}</p>-->\r\n    <!--<p style=\"text-indent: 30px;\">Invoice Portion: {{payment_terms[0].invoice_portion}}</p>-->\r\n    <!--<p style=\"text-indent: 30px;\">Outstanding Amount: {{payment_terms[0].outstanding}}</p>-->\r\n    </td>\r\n    <td colspan = \"2\" width=40%>\r\n        <table class=\"table table-sm\" style=\"margin-top:0px\">\r\n            <tr>\r\n                <td colspan = \"2\">  <b> Total Received Quantity: </b>  </td>\r\n                <td colspan = \"2\"> <b> {{tot_received_qty[\"tot_received_qty\"]}}  </b></td>\r\n            </tr>\r\n            <tr>\r\n                <td colspan = \"2\">  <b> Total Accepted Quantity: </b>  </td>\r\n                <td colspan = \"2\"> <b> {{tot_qty[\"tot_qty\"]}}  </b></td>\r\n            </tr>\r\n            <tr>\r\n                <td colspan = \"2\">  <b> Total Rejected Quantity: </b>  </td>\r\n                <td colspan = \"2\"> <b> {{tot_rejected_qty[\"tot_rejected_qty\"]}}  </b></td>\r\n            </tr>\r\n        </table>\r\n    </td>\r\n</tr>\r\n</table>\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr width=100% height=100px style = \"border-top:1px solid black; border-bottom:1px solid black;\">\r\n        <td width=100%><b>Terms and Conditions: </b>\r\n        <br>\r\n        {{doc.terms}}\r\n    </td>\r\n        \r\n    </tr>\r\n</table>\r\n\r\n{% if doc.docstatus==0 %}\r\n<div class ='watermark'>\r\n</div>\r\n{% endif %}\r\n\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:10px\">\r\n    <tr width=100% style=\"border:1px solid black;\">\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created By: {{ frappe.db.get_value(\"User\", doc.owner, \"full_name\") }} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created ON: {{ doc.get_formatted('creation')}} </b> </td>\r\n        \r\n    </tr>\r\n    <tr width=100% style=\"border:1px solid black;\">\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Inspected/QC By:  </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b> Authorized By:  {% if doc.docstatus==1 %} {{ frappe.db.get_value(\"User\", doc.owner, \"full_name\") }} {% endif %}  </b> </td>\r\n    </tr>\r\n</table>\r\n\r\n{% set footer = frappe.db.get_value(\"Default Letter Head\", \"Impala Glass\", \"footer\") %}\r\n{% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(), \"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user}) %}\r\n {{ footer_updated }}\r\n    <div id=\"footer-html\" class=\"visible-pdf\">\r\n        <div class=\"letter-head-footer\">\r\n            {{ footer_updated }}\r\n        </div>\r\n        <p class=\"text-center small page-number visible-pdf\">\r\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\r\n        </p>\r\n    </div>\r\n\r\n\r\n\r\n\r\n\r\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:55.782459",
  "module": "AQIQ Print Formats",
  "name": "Purchase Recipt A5",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "/*.watermark {*/\r\n/*    position: fixed;*/\r\n/*    top: 420px;*/\r\n/*    left: 220px;*/\r\n/*    right: 220px;*/\r\n/*    background: url(\"http://159.65.216.210/files/draft-background.png\");*/\r\n/*    background-repeat: no-repeat;*/\r\n    /*background-size: center;*/\r\n/*    height:400px;*/\r\n/*    width:50%;*/\r\n/*    background-position: center;*/\r\n/*    background-size: 100%;*/\r\n/*    color:black !important;*/\r\n/*    opacity: 0.3;*/\r\n/*    position: running(wtrmrk);*/\r\n/*    background-repeat: repeat-x;*/\r\n/*    }*/\r\n\r\n\r\n.watermark {\r\n    position: fixed;\r\n    top:70px;\r\n    left:11%;\r\n    right:10%;\r\n    background: url(\"http://192.241.152.17/files/draft-background.png\");\r\n    background-repeat: no-repeat;\r\n    height:700px;\r\n    width:80%;\r\n    /*background-position: center;*/\r\n    background-size: 100%;\r\n    opacity: 0.5;\r\n    }",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Purchase Receipt",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<div id=\"header-html\"   style = \"margin-top:-15px !important; width:95.2%; margin-left:15px !important\">\r\n    <div class = \"row\" style = \"\">\r\n        <div class = \"col-xs-10\" style = \"width:100%; float:left; border:1px solid black \">\r\n              {% set header = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1}, \"content\") %}\r\n            \r\n            <!--{% if doc.company == 'Impala Glass Industries Ltd' %}-->\r\n            <!--    {% set logo = \"/files/Impala.png\" %} {% elif doc.company == \"Impala Africa Ltd\" %} {% set logo = \"/files/impala-africa-logo.jpg\" %}-->\r\n            <!--{% endif %}-->\r\n            \r\n            \r\n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website',]) %}\r\n            \r\n            \r\n        \r\n        {% set comapny_address_line1 = '' %}        \r\n        {% set comapny_city = '' %}        \r\n        {% set comapny_counrty = '' %}        \r\n        {% set comapny_state = '' %}        \r\n        {% set phone = '' %}        \r\n\r\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\r\n\r\n        {% if company_address_name  %}\r\n            {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\r\n                \r\n\r\n        {% set comapny_address_line1 = address.address_line1 %}        \r\n        {% set comapny_city =  address.city  %}        \r\n        {% set comapny_counrty =  address.country  %}        \r\n        {% set comapny_state =  address.state  %}        \r\n\r\n        {% set phone = address.phone %}        \r\n\r\n        {% endif  %}\r\n\r\n\r\n            \r\n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \r\n            'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \r\n            'state' : comapny_state,\r\n            'phone_no' : phone, 'email' : company_details[0].email, 'pin_no': company_details[0].tax_id ,  'company_logo' : company_details[0].company_logo, 'website' : company_details[0].website,  }) %}\r\n            {{header_updated}}\r\n\r\n\r\n\r\n            {% set cost_center = frappe.db.get_value(\"Purchase Invoice Item\", {\r\n    \t\t\"cost_center\" : \"Auto - IG\",\r\n    \t\t\"parent\" : doc.service_invoice,\r\n    \t\t\"parentfield\" : \"items\",\r\n    \t\t\"parenttype\" : \"Purchase Invoice\",\r\n            }, \"cost_center\" ) %}\r\n            \r\n            {%  set po = frappe.db.get_value(\"Purchase Receipt Item\" , {\"parent\" : doc.name } , \"purchase_order\") %}\r\n            \r\n            <table  class = \"table table-sm\" style = \"width:28%; \"> \r\n                <tr>\r\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:14px\"> PURCHASE RECEIPT </b> </span> </center>  </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Date </td> <td style = 'font-size:11px'>  {{ frappe.utils.formatdate(doc.get_formatted('posting_date'), \"dd-mm-yyyy\") }}</td>\r\n                </tr>\r\n\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Receipt # </td> <td style = \"font-size:11px\">  {{ doc.name }}</td>\r\n                </tr>\r\n                <!--<tr> -->\r\n                <!--    <td style = \"font-size:11px\"> Division </td> <td style = \"font-size:11px\"> </td>-->\r\n                <!--</tr>-->\r\n\r\n            </table>\r\n\r\n\r\n        </div>\r\n\r\n        <div class = \"col-xs-8\" style = 'float:left'>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n\r\n<table width = 100% class = \"\"  style = \"font-size:11px !important; border-bottom:1px solid black !important;\"> \r\n    <tr> \r\n        <td style = \"width:40%\">  \r\n            <div>  <b style=\"font-size:13px\"> Supplier Details: </b></div>\r\n            <div> <b> {{ doc.supplier_name }} </b> </div>\r\n            <div> {{ doc.address_display }} </div>\r\n            <!--<div> Pin No: ?? </div>-->\r\n            <div> {{ doc.contact_person }} </div>\r\n            <div> {{ doc.contact_mobile }} </div>\r\n        </td>\r\n        <td style=\"20%\">\r\n            <img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\" class=\"center\" height=100px>\r\n        </td>\r\n        <td style = \"width:35%\">  \r\n            <table class = \"table table-sm; \" style = \"width:100%; margin-top:-1px !important;\" cellspacing = '0' cellpadding = '0'> \r\n\r\n                <!--<tr>-->\r\n                <!--    <td style = 'font-size:11px'> Requested By: </td> <td style = 'font-size:11px'>  ?? </td>-->\r\n                <!--</tr>-->\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Supp. Inv No.: </td> <td style = 'font-size:11px'> </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Supp. Inv Date: </td> <td style = 'font-size:11px'>  {{ frappe.utils.formatdate(doc.get_formatted('posting_date'), \"dd-mm-yyyy\") }} </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Warehouse: </td> <td style = 'font-size:11px'>  {{doc.set_warehouse}} </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Currency: </td> <td style = 'font-size:11px'>  {{doc.currency}} </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Purchase Order: </td> <td style = 'font-size:11px'>  {{ po }}  </td>\r\n                </tr>\r\n            </table>\r\n        </td>\r\n    </tr>\r\n</table>\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr width=100% height=40px style = \"border: 1px solid black;\">\r\n        <td width=50%>Remarks:</td>\r\n    </tr>\r\n</table>\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:10px\" border = '1'> \r\n        <thead> \r\n    <tr style = \"width:100%;\"> \r\n            <th style = \"width:5%;\">  # </th>\r\n            <th style = \"width:30%;\">  Item Code </th>\r\n            <th style = \"width:35%;\">  Item Name </th>\r\n            <th style = \"width:10%;\" class=\"text-center\"> Received Qty </th>\r\n            <th style = \"width:10%;\" class=\"text-center\"> Accepted Qty </th>\r\n            <th style = \"width:10%;\" class=\"text-center\"> Amount </th>\r\n    </tr>\r\n        </thead>\r\n    \r\n    {% set tot_received_qty = {\"tot_received_qty\" : 0 } %}\r\n    {% set tot_qty = {\"tot_qty\" : 0 } %}\r\n    {% set tot_amount = {\"tot_amount\" : 0 } %}\r\n    \r\n{% for row in doc.items %}\r\n        <tr>\r\n            <td style=\"\">{{ row.idx }}</td>\r\n            <td style=\"\">\r\n                {{ row.item_code }}\r\n            </td>\r\n            <td style=\"\">\r\n                {{ row.item_name }}\r\n            </td>\r\n            <td style=\"\" class=\"text-center\">\r\n                {{ row.received_qty }}\r\n            </td>\r\n            <td style=\"\" class=\"text-center\">\r\n                {{ row.qty }}\r\n            </td>\r\n            <td style=\"\" class=\"text-center\">\r\n            {{ '{0:,.2f}'.format(row.amount  ) }} \r\n            </td>\r\n        </tr>\r\n        \r\n        {% if tot_received_qty.update({\"tot_received_qty\" : tot_received_qty[\"tot_received_qty\"] + row.received_qty}) %} {% endif %}\r\n        {% if tot_qty.update({\"tot_qty\" : tot_qty[\"tot_qty\"] + row.qty}) %} {% endif %}\r\n        {% if tot_amount.update({\"tot_amount\" : tot_amount[\"tot_amount\"] + row.amount }) %} {% endif %}\r\n        \r\n        {%- endfor -%}\r\n        <tr> \r\n            <td></td>\r\n            <td colspan=\"2\" class=\"text-right\"><b>Totals: </b>  </td>\r\n            <td class=\"text-center\"> <b>{{tot_received_qty[\"tot_received_qty\"]}}</b></td>\r\n            <td class=\"text-center\"> <b>{{tot_qty[\"tot_qty\"]}}</b></td>\r\n            <td class=\"text-center\"> <b>{{ '{0:,.2f}'.format(tot_amount[\"tot_amount\"] ) }} </b></td>\r\n        </tr>\r\n</table>\r\n{% set payment_terms = frappe.db.get_list(\"Payment Schedule\",\r\nfilters={'parent': doc.service_invoice}, \r\nfields=['payment_term', 'payment_amount', 'due_date', 'invoice_portion', 'outstanding']) %}\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr rowspan = \"4\" style = \"border-top: 1px solid black;  border-bottom: 1px solid black\">\r\n    <td  colspan = \"6\" width=60% style = \"border-top: 1px solid black\"><b></b>\r\n    <!--<br>-->\r\n    <!--<p style=\"text-indent: 30px;\">Payment Term: {{payment_terms[0].payment_term}}</p>-->\r\n    <!--<p style=\"text-indent: 30px;\">Payment Amount: {{payment_terms[0].payment_amount}}</p>-->\r\n    <!--<p style=\"text-indent: 30px;\">Due Date: {{payment_terms[0].due_date}}</p>-->\r\n    <!--<p style=\"text-indent: 30px;\">Invoice Portion: {{payment_terms[0].invoice_portion}}</p>-->\r\n    <!--<p style=\"text-indent: 30px;\">Outstanding Amount: {{payment_terms[0].outstanding}}</p>-->\r\n    </td>\r\n    <td colspan = \"2\" width=40%>\r\n        <table class=\"table table-sm\" style=\"margin-top:0px\">\r\n            <tr>\r\n                <td colspan = \"2\">  <b> Total Received Quantity: </b>  </td>\r\n                <td colspan = \"2\"> <b> {{tot_received_qty[\"tot_received_qty\"]}}  </b></td>\r\n            </tr>\r\n            <tr>\r\n                <td colspan = \"2\">  <b> Total Accepted Quantity: </b>  </td>\r\n                <td colspan = \"2\"> <b> {{tot_qty[\"tot_qty\"]}}  </b></td>\r\n            </tr>\r\n            <tr>\r\n                <td colspan = \"2\">  <b> Total Amount: </b>  </td>\r\n                <td colspan = \"2\"> <b> {{ '{0:,.2f}'.format(tot_amount[\"tot_amount\"] ) }}   </b></td>\r\n            </tr>\r\n        </table>\r\n    </td>\r\n</tr>\r\n</table>\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr width=100% height=100px style = \"border-top:1px solid black; border-bottom:1px solid black;\">\r\n        <td width=100%><b>Terms and Conditions: </b>\r\n        <br>\r\n        {{doc.terms}}\r\n    </td>\r\n        \r\n    </tr>\r\n</table>\r\n\r\n{% if doc.docstatus==0 %}\r\n<div class ='watermark'>\r\n</div>\r\n{% endif %}\r\n\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:10px\">\r\n    <tr width=100% style=\"border:1px solid black;\">\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created By: {{ doc.owner }} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created ON: {{ doc.get_formatted('creation')}} </b> </td>\r\n        \r\n    </tr>\r\n    <tr width=100% style=\"border:1px solid black;\">\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Inspected/QC By:  </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b> Authorized By:  {% if doc.docstatus==1 %} {{doc.owner}} {% endif %}  </b> </td>\r\n    </tr>\r\n</table>\r\n\r\n{% set footer = frappe.db.get_value(\"Default Letter Head\", \"Impala Glass\", \"footer\") %}\r\n{% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(), \"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user}) %}\r\n {{ footer_updated }}\r\n    <div id=\"footer-html\" class=\"visible-pdf\">\r\n        <div class=\"letter-head-footer\">\r\n            {{ footer_updated }}\r\n        </div>\r\n        <p class=\"text-center small page-number visible-pdf\">\r\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\r\n        </p>\r\n    </div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:55.680783",
  "module": "AQIQ Print Formats",
  "name": "Purchase Recipt A4",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "@media screen {\r\n@page {\r\nmargin:5px;\r\nsize:a5;\r\n    \r\n}\r\n\r\n}\r\n@media pdf {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\n@page {\r\nmargin:5px;\r\n  size:a5;\r\n\r\n}\r\n}\r\n\r\n\r\n@media screen {\r\n @page {\r\n   margin:0px;\r\n  size:a5;\r\n\r\n}\r\n}\r\n\r\n\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n    \r\n.watermark {\r\n    position: fixed;\r\n    top: 460px;\r\n    left: 220px;\r\n    right: 220px;\r\n    background: url(\"/files/draft-icon.jpg\");\r\n    background-repeat: no-repeat;\r\n    /*background-size: center;*/\r\n    height:160px;\r\n    width:50%;\r\n    background-position: center;\r\n    background-size: 100%;\r\n    color:black !important;\r\n    opacity: 0.1;\r\n    }\r\n\r\n\r\n\r\n.days_tab {\r\n    position: relative;\r\n}\r\n\r\n.barchart-Wrapper {\r\n      display: table;\r\n      position: relative;\r\n      margin: 20px 0;\r\n      height: 120px;\r\n    }\r\n    .barChart-Container {\r\n      display: table-cell;\r\n      width: 100%;\r\n      height: 100%;\r\n      padding-left: 20px;\r\n      padding-right: 20px;\r\n    }\r\n    .barchart {\r\n     display: table;\r\n     table-layout: fixed;\r\n     height: 100%;\r\n     width: 100%;\r\n     border-bottom: 3px solid darkgrey;\r\n    }\r\n    .barchart-Col {\r\n      position: relative;\r\n      vertical-align: bottom;\r\n      display: table-cell;\r\n      height: 100%;\r\n    }\r\n    .barchart-Col + .barchart-Col {\r\n      border-left: 4px solid transparent;\r\n    }\r\n    .barchart-Bar {\r\n      position: static;\r\n      height: 0;\r\n      transition: height 0.5s 2s;\r\n      width: 10px;\r\n      margin: auto;\r\n    }\r\n    .barchart-Bar:after {\r\n      content: attr(attr-height);\r\n      color: white;\r\n      position: absolute;\r\n      text-align: center;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter {\r\n      position: absolute;\r\n      text-align: center;\r\n      left:40px;\r\n      height: 10%;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter h3 {\r\n      color: darkred;\r\n    }\r\n    .barchart-TimeCol {\r\n      position: absolute;\r\n      top: 0;\r\n      height: 100%;\r\n      width: 100%;\r\n    }\r\n    .barchart-Time {\r\n      height: 25%;\r\n      vertical-align: middle;\r\n      position: relative;\r\n    }\r\n    .barchart-Time:after {\r\n      border-bottom: 3px solid white;\r\n      content: \"\";\r\n      position: absolute;\r\n      width: 100%;\r\n      left: 0;\r\n      top: 0em;\r\n    }\r\n    .barchart-TimeText {\r\n      position: absolute;\r\n      top: -8px;\r\n      z-index: 1;\r\n      background: white;\r\n      padding-right: 5px;\r\n      color: #4d4d4d;\r\n      font-size: 15px;\r\n      font-family: 'Avenir Medium';\r\n    }\r\n    .sq1-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq1-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq2-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq2-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq3-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq3-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq4-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq4-bar {\r\n      background-color: #a61a17;\r\n    }",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Delivery Note",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "{% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website',]) %}\r\n        {% if doc.company %}\r\n            \r\n        {% set company_logo = company_details[0].company_logo %}        \r\n        {% set company_address_line1 = '' %}        \r\n        {% set company_city = '' %}        \r\n        {% set company_country = '' %}        \r\n        {% set company_state = '' %}        \r\n        {% set phone = company_details[0].phone_no %}        \r\n        {% set website = company_details[0].website %}        \r\n        {% set email = company_details[0].email %}        \r\n        {% set tax_id = company_details[0].tax_id %}        \r\n\r\n        {% endif%}\r\n\r\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\r\n\r\n        {% if company_address_name  %}\r\n        {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\r\n        {% set company_address_line1 = address.address_line1 %}        \r\n        {% set company_city =  address.city  %}        \r\n        {% set company_country =  address.country  %}        \r\n        {% set company_state =  address.state  %}        \r\n        {% set phone = address.phone %}\r\n        {% endif  %}\r\n\r\n            {% set sales_order = frappe.db.get_list(\"Sales Order\" ,\r\n            filters={\r\n            'name': doc.items[0].against_sales_order\r\n            },\r\n            fields = ['name', 'po_no']) %}\r\n            \r\n\r\n\r\n\r\n\r\n{% set tot_qty = {\"tot_qty\": 0} %}\r\n<!--{% set tot_weight = {\"tot_weight\": 0} %}-->\r\n<!--{% set tot_unit_weight = {\"tot_unit_weight\": 0} %}-->\r\n\r\n\r\n<div class = \"mainbox\" style = \"  \"> \r\n\r\n<table class = \"header\" style = \"width:100%; \" border = \"1\"  > \r\n    <thead class = \"header-html\" > \r\n    <tr style = \"border:none !important\"> \r\n        <td colspan = \"6\"  style = \"border:none !important\" class = \"text-center\" > 786  </td>\r\n    </tr>\r\n    <tr> \r\n        <td colspan = \"6\">  \r\n        <div class = \"\" style = \"float:left; width:25%\" > \r\n\r\n            <div style=\"width: 100%;\"> \r\n             <img src=\"{{ company_logo }}\" style=\"height: 120px; width: 98%;\">\r\n            </div>\r\n\r\n        </div>\r\n\r\n        <div class = \"\" style = \"float:left; width:40%\" > \r\n\r\n        <div class = \"\"> <b> {{doc.company}} </b> </div>\r\n        <div class = \"\" style = \"font-size:8px\" > {% if company_address_line1 %}{{company_address_line1}} {% endif %} </div>\r\n        <div class = \"\" style = \"font-size:8px\" > {%  if company_city  %} {{ company_city }} {% endif %}  {%  if company_state  %} {{ company_state }} {% endif %} {%  if company_country  %} {{ company_country }} {% endif %} </div>\r\n        <div class = \"\" style = \"font-size:8px\" > Phone: {{ phone or \"\" }} </div>\r\n        <div class = \"\" style = \"font-size:8px\" > Email: {{email  or \"\" }} </div>\r\n        <div class = \"\" style = \"font-size:8px\" > PIN NO: {{tax_id or \"\" }} </div>\r\n        <div class = \"\" style = \"font-size:8px\" > Website: {{website or \"\" }}</div>\r\n            \r\n\r\n\r\n        </div>\r\n        <div class = \"\" style = \"float:left; width:35%\" > \r\n\r\n            <table class = \"small table table-sm\" style = \"border:none; padding:0px; margin:0px; font-size:9px\"> \r\n                <tr> \r\n                    <td colspan = \"2\" class = \"text-center\" style = \"font-size:12px; font-weight:700\" >  {% if doc.is_return == 1 %} Delivery Return {% else %} Delivery Note {% endif %} </td>\r\n                   \r\n                </tr>\r\n    \r\n                <tr> \r\n                    <td>  Date  </td>\r\n                    <td>  {{doc.get_formatted('posting_date') }}   </td>\r\n                </tr>\r\n    \r\n                <tr> \r\n                    <td> DN #  </td>\r\n                    <td>  {{doc.name}}  </td>\r\n                </tr>\r\n                <tr> \r\n                    <td>   Division </td>\r\n                    <td> {{doc.cost_center}}  </td>\r\n                </tr>\r\n                <tr> \r\n                    <td>   Department </td>\r\n                    <td> {{doc.department}}  </td>\r\n                </tr>\r\n<tr> \r\n                    <td>   Warehouse </td>\r\n                    <td> {{doc.set_warehouse}}  </td>\r\n                </tr>\r\n\r\n            </table>\r\n\r\n\r\n        </div>\r\n\r\n        </td>\r\n    </tr>\r\n\r\n\r\n\r\n    </thead>\r\n\r\n    <tr>\r\n        <td colspan = \"6\"> \r\n                <div class = \"\" style = \"float:left; width:40%\" >  \r\n                <div>  <b style=\"font-size:14px\"> Deliver To, </b></div>\r\n                <div> <b style=\"font-size:9px\" > {{ doc.customer }} </b> </div>\r\n                <div> <b style=\"font-size:9px\" > {{ doc.customer_name }} </b> </div>\r\n                <div style=\"font-size:9px\" >  {{ doc.address_display }} </div>\r\n                \r\n                \r\n                </div>\r\n                <div class = \"\" style = \"float:left; width:25%\" >              \r\n                \r\n                <img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\" class=\"text-center\" height=\"100px\">\r\n                </div>\r\n                <div class = \"\" style = \"float:left; width:35%\" >  \r\n                \r\n            <table class = \"table table-sm \" style = \"width:100%; border:none; font-size:9px; padding:0px; margin:0px \" cellspacing = '0' cellpadding = '0'> \r\n                <tr>\r\n                    <td style = ''> PO Date </td> <td style = ''>  {{ frappe.utils.formatdate(doc.get_formatted(frappe.db.get_value('Purchase Order', doc.po_no, 'transaction_date')), \"dd-mm-yyyy\") }}  </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = ''> Customer PO#. </td> <td style = ''>  {{doc.po_no}} </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = ''> Sales Person </td>\r\n                    {% set salesman = [] %}\r\n                    {% for i in doc.sales_team %}\r\n                        {% set salesman = salesman.append(i.get(\"sales_person\")) %}\r\n                    {% endfor %}\r\n                    {% set sales_team = salesman|join(', ') %}\r\n                    <td style = ''>{{sales_team}}</td>\r\n                </tr>\r\n\r\n\r\n                <tr>\r\n                    <td style = ''> Currency </td>\r\n                    <td style = ''>{{ doc.currency }}</td>\r\n                </tr>\r\n            </table>\r\n                </div>\r\n        </td>\r\n\r\n    </tr>\r\n\r\n    <tr> \r\n    <td colspan = \"6\"> \r\n        <div class = \"\" style = \"width:25%; float:left; font-size:9px\"> Warehouse:  {{doc.items[0].warehouse or \"\"  }}  </div>\r\n        <div class = \"\" style = \"width:25%; float:left; font-size:9px  \">  Transporter: {{doc.transporter or \"\" }}   </div>\r\n        <div class = \"\" style = \"width:20%; float:left; font-size:9px \"> Project No: {{doc.project or \"\" }}  </div>\r\n        <div class = \"\" style = \"width:15%; float:left; font-size:9px \">  SI # {{ doc.items[0].against_sales_invoice or \"\" }}   </div>\r\n        <div class = \"\" style = \"width:15%; float:left; font-size:9px \">  SO # {{ doc.items[0].against_sales_order or \"\" }}   </div>\r\n    </td>\r\n    </tr>\r\n    <tr width=100% height=auto style = \" font-size:9px\">\r\n        <td colspan = \"6\" width=100%><b>Additional Notes : </b><br>\r\n        \r\n        {{doc.posa_notes or ''}}\r\n        </td>\r\n        \r\n    </tr>\r\n\r\n\r\n        <thead id=\"header\" style=\"font-size:10px\" > \r\n        <tr> \r\n            <th>  ID </th>\r\n            <th>  Item Code </th>\r\n            <th>  Item Name </th>\r\n            <th class=\"text-right\">  PCs </th>\r\n            <th class=\"text-right\">  SQMs </th>\r\n            <!--<th class=\"text-right\">  Unit Weight\t </th>-->\r\n            <!--<th class=\"text-right\">  Total Weight </th>-->\r\n        </tr>\r\n        </thead>\r\n        \r\n\r\n    {% set total_amount = {\"total_amount\": 0} %}\r\n    {% set tot_pcs = {\"tot_pcs\": 0} %}\r\n\r\n\r\n{% for row in doc.items %}\r\n    <!--{% if tot_unit_weight.update({\"tot_unit_weight\": tot_unit_weight[\"tot_unit_weight\"] + row.weight_per_unit}) %} {% endif %}-->\r\n    {% if tot_qty.update({\"tot_qty\": tot_qty[\"tot_qty\"] + row.qty}) %} {% endif %}\r\n    <!--{% if tot_weight.update({\"tot_weight\": tot_weight[\"tot_weight\"] + row.total_weight}) %} {% endif %}-->\r\n    \r\n        \r\n    {% set pcs = frappe.db.get_value(\"Sales Order Item\", row.so_detail, \"pcs\") or 0 %}\r\n    {% if tot_pcs.update({\"tot_pcs\": tot_pcs[\"tot_pcs\"] + pcs}) %} {% endif %}\r\n    \r\n        <tr>\r\n            <td style=\" font-size:9px \">{{ row.idx }}</td>\r\n            <td style=\" font-size:9px \">\r\n                {{ row.item_code }}\r\n            </td>\r\n            <td style=\" font-size:9px \">\r\n                {{ row.item_name }}\r\n            </td>\r\n            <td style=\" font-size:9px \" class=\"text-right\">\r\n                  {{ pcs }}\r\n            </td>\r\n            <td style=\" font-size:9px \" class=\"text-right\">\r\n                {{ row.qty }}\r\n            </td>\r\n            <!--<td style=\" font-size:9px \" class=\"text-right\">-->\r\n            <!--</td>-->\r\n            \r\n            \r\n            <!--<td style=\" font-size:9px \" class=\"text-right\">-->\r\n                \r\n\r\n            <!--</td>-->\r\n        </tr>\r\n        {%- endfor -%}\r\n        \r\n    \r\n    <tr> \r\n    <td colspan = \"3\"> </td>\r\n\r\n            <td style = \"font-size:9px; font-weight:600;\" class = \"text-right\" >  {{tot_pcs[\"tot_pcs\"]}} </td>\r\n            <td style = \"font-size:9px; font-weight:600;\" class = \"text-right\" >  {{tot_qty[\"tot_qty\"]}} </td>\r\n            <!--<td style = \"font-size:9px; font-weight:600\" class = \"text-right\" >  {{tot_unit_weight[\"tot_unit_weight\"]}}  </td>-->\r\n            <!--<td style = \"font-size:9px; font-weight:600\" class = \"text-right\" >  {{tot_weight[\"tot_weight\"]}}  </td>-->\r\n\r\n    </tr>\r\n<tr> \r\n    <td colspan = \"3\" style = \"font-size:9px;\">  \r\n     <div> <b>Created By:</b> {{ doc.owner }} </div>\r\n     <div> <b>Created ON:</b> {{ doc.get_formatted('creation')}}  </div>\r\n    \r\n   \r\n    \r\n    </td>\r\n    <td colspan = \"3\" class = \"text-right\" style = \"font-size:9px;\"> \r\n    <table class = \"table table-sm text-right \" style = \"width:100%; font-size:9px; border:none; margin:0px; padding:0px\">\r\n        <tr> \r\n            <td> <b>Total Qty</b>  </td>\r\n            <td>  <b>{{tot_qty[\"tot_qty\"]}}</b>  </td>\r\n        </tr>\r\n        <tr> \r\n            <td> <b>Amount Exclusive</b>  </td>\r\n            <td>  <b>{{doc.get_formatted(\"total\")}}</b>  </td>\r\n        </tr>\r\n        <!--<tr> -->\r\n        <!--    <td> <b>Total Unit</b> </td>-->\r\n        <!--    <td>  <b>{{tot_unit_weight[\"tot_unit_weight\"]}} </b> </td>-->\r\n        <!--</tr>-->\r\n\r\n        <!--<tr> -->\r\n        <!--    <td> <b>Total </b> </td>-->\r\n        <!--    <td> <b>{{tot_weight[\"tot_weight\"]}}</b>  </td>-->\r\n        <!--</tr>-->\r\n\r\n    </table>\r\n    </td>\r\n\r\n</tr>\r\n\r\n<tr> \r\n    <td colspan = \"6\" style = \"font-size:9px;\">  \r\n    <div class = \"\" style = \"font-size:9px; width:33%; float:left \"> <b>Recieved By</b>  </div>\r\n    <div class = \"\" style = \"font-size:9px; width:33%; float:left \"> <b>ID </b> </div>\r\n    <div class = \"\" style = \"font-size:9px; width:33%; float:left \"> <b>Signature</b>  </div>\r\n    </td>\r\n\r\n\r\n</tr>\r\n<div style=\"margin-top:1px; margin-bottom:1px;  border:1px solid black;\"></div>\r\n<div class = 'text-center' style = \"font-size:12px;\" >Goods sold as per our terms & condition, to view the same visit <a href=\"https://impalaglass.com/tnc/\">impalaglass.com/tnc</a></div>\r\n\r\n\r\n<tfoot> \r\n<tr>\r\n    <td colspan = \"6\" style = \"font-size:9px\">\r\n    {% set footer = frappe.db.get_value(\"Letter Head\", doc.letter_head, \"footer\") %}\r\n    \r\n    {% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(), \"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user}) %}\r\n    \r\n    {{ footer_updated }}\r\n\r\n    <div id=\"footer-html\" class=\"visible-pdf text-center  \" style = \"font-size:10px\" >\r\n        <p id=\"demo\"></p>\r\n        <div class=\"letter-head-footer text-size-10 text-center \"  style=\"font-size: 9px;\"  >\r\n            {{ footer }}\r\n        </div>\r\n        <p class=\"text-center small page-number visible-pdf\" style = \"font-size:9px\" >\r\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\r\n        </p>\r\n    </div>\r\n    </td>\r\n</tr>\r\n\r\n</tfoot>\r\n</table>\r\n\r\n</div>\r\n\r\n<table>\r\n            <tr>\r\n            <td colspan = \"2\" class=\"net_total\" style = \"float:right;\"></td>\r\n             <td colspan = \"2\"  class=\"net_total\" style = \"float:right;\"> <b> {{doc.net_total}} </b> </td>\r\n            </tr>\r\n</table>\r\n\r\n<div class = \"watermark\"></div>\r\n\r\n\r\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:55.575128",
  "module": "AQIQ Print Formats",
  "name": "Delivery Note A5",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": ".watermark {\r\n    position: fixed;\r\n    top: 420px;\r\n    left: 220px;\r\n    right: 220px;\r\n    background: url(\"http://192.241.152.17/files/draft-background.png\");\r\n    background-repeat: no-repeat;\r\n    /*background-size: center;*/\r\n    height:400px;\r\n    width:50%;\r\n    background-position: center;\r\n    background-size: 100%;\r\n    color:black !important;\r\n    opacity: 0.3;\r\n    position: running(wtrmrk);\r\n    background-repeat: repeat-x;\r\n    }",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Stock Reconciliation",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<div id=\"header-html\"   style = \"margin-top:-15px !important; width:95.2%; margin-left:15px !important\">\r\n    <div class = \"row\" style = \"\">\r\n        <div class = \"col-xs-10\" style = \"width:100%; float:left; border:1px solid black \">\r\n              {% set header = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1}, \"content\") %}\r\n            \r\n            <!--{% if doc.company == 'Impala Glass Industries Ltd' %}-->\r\n            <!--    {% set logo = \"/files/Impala.png\" %} {% elif doc.company == \"Impala Africa Ltd\" %} {% set logo = \"/files/impala-africa-logo.jpg\" %}-->\r\n            <!--{% endif %}-->\r\n            \r\n            \r\n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website',]) %}\r\n            \r\n            \r\n        \r\n        {% set comapny_address_line1 = '' %}        \r\n        {% set comapny_city = '' %}        \r\n        {% set comapny_counrty = '' %}        \r\n        {% set comapny_state = '' %}        \r\n        {% set phone = '' %}        \r\n\r\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\r\n\r\n        {% if company_address_name  %}\r\n            {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\r\n                \r\n\r\n        {% set comapny_address_line1 = address.address_line1 %}        \r\n        {% set comapny_city =  address.city  %}        \r\n        {% set comapny_counrty =  address.country  %}        \r\n        {% set comapny_state =  address.state  %}        \r\n\r\n        {% set phone = address.phone %}        \r\n\r\n        {% endif  %}\r\n\r\n\r\n            \r\n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \r\n            'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \r\n            'state' : comapny_state,\r\n            'phone_no' : phone, 'email' : company_details[0].email, 'pin_no': company_details[0].tax_id ,  'company_logo' : company_details[0].company_logo, 'website' : company_details[0].website,  }) %}\r\n            {{header_updated}}\r\n\r\n\r\n\r\n\r\n            <table  class = \"table table-sm\" style = \"width:28%; \"> \r\n                <tr>\r\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:14px\"> Material Reconciliation </b> </span> </center>  </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Date </td> <td style = 'font-size:11px'>\r\n                      {{ frappe.utils.formatdate(doc.get_formatted('posting_date'), \"dd-mm-yyyy\") }} </td>\r\n                </tr>\r\n\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> SR # </td> <td style = \"font-size:11px\">  {{doc.name}} </td>\r\n                </tr>\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Division </td> <td style = \"font-size:11px\">  {{doc.cost_center }} </td>\r\n                </tr>\r\n\r\n\r\n            </table>\r\n\r\n\r\n        </div>\r\n\r\n        <div class = \"col-xs-8\" style = 'float:left'>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n<table class = \"\"  style = \"width:100%; font-size:11px !important; border-bottom:1px solid black !important;\"> \r\n    <tr> \r\n        <td style = \"width:40%\">  \r\n            <div> <b>Purpose: </b>{{ doc.purpose }} </div>\r\n            <!--<div height=\"30px\" style=\"margin-bottom: 40px;\"> Company: {{doc.company}} </div>-->\r\n            <!--{% set warehouse = {'warehouse':' ' } %}-->\r\n            <!--{% for i in doc.items %}-->\r\n            <!--    {% if warehouse.update({\"warehouse\" : i.warehouse}) %} {% endif %}-->\r\n            <!--{% endfor %}-->\r\n            <!--<div>Warehouse: {{warehouse.get(\"warehouse\")}} </div>-->\r\n        </td>\r\n        <td style=\"20%\">\r\n            <img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\" class=\"center\" height=100px>\r\n        </td>\r\n        <td style = \"width:35%;\">\r\n            <p style=\"text-indent: 30px;\">Date :   {{ frappe.utils.formatdate(doc.get_formatted('posting_date'), \"dd-mm-yyyy\") }} </p> \r\n            <!--<table class = \"table table-sm; \" style = \"width:100%; margin-top:-1px !important;\" cellspacing = '0' cellpadding = '0'> -->\r\n            <!--    <tr>-->\r\n            <!--        <td style = 'font-size:11px'> Posting Date: </td> <td style = 'font-size:11px'>  {{doc.get_formatted(\"posting_date\")}} </td>-->\r\n            <!--    </tr>-->\r\n                <!--<tr>-->\r\n                <!--    <td style = 'font-size:11px'> Posting Time: </td> <td style = 'font-size:11px'>  {{doc.get_formatted(\"posting_time\")}} </td>-->\r\n                <!--</tr>-->\r\n                <!--<tr>-->\r\n                <!--    <td style = 'font-size:11px'> Department: </td> <td style = 'font-size:11px'>  ?? </td>-->\r\n                <!--</tr>-->\r\n                <!--<tr>-->\r\n                <!--    <td style = 'font-size:11px'> Division: </td> <td style = 'font-size:11px'>  ?? </td>-->\r\n                <!--</tr>-->\r\n            <!--</table>-->\r\n        </td>\r\n\r\n    </tr>\r\n</table>\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr width=100% height=40px style = \"border: 1px solid black;\">\r\n        <td width=50%>Remarks:</td>\r\n        \r\n    </tr>\r\n</table>\r\n<table style = \"width:100%; font-size:11px;  margin-top:5px\" border = '1'> \r\n    <tr> \r\n        <thead> \r\n            <th> # </th>\r\n            <th>  Item Code </th>\r\n            <th>  Item Name </th>\r\n            <th class=\"text-left\">  Warehouse </th>\r\n            <th class=\"text-center\">  Avail Qty </th>\r\n            <th class=\"text-center\">  Quantity </th>\r\n            <th class=\"text-center\">  Diff Qty </th>\r\n        </thead>\r\n    </tr>\r\n{% set tot_qty = {\"tot_qty\": 0} %}\r\n{% set tot_avail = {\"tot_avail\": 0} %}\r\n{% set tot_qty_diff = {\"tot_qty_diff\": 0} %}\r\n{% for row in doc.items %}\r\n    {% if tot_qty.update({\"tot_qty\": tot_qty[\"tot_qty\"] + row.qty}) %} {% endif %}\r\n    {% if tot_avail.update({\"tot_avail\": tot_avail[\"tot_avail\"] + row.current_qty}) %} {% endif %}\r\n    {% if tot_qty_diff.update({\"tot_qty_diff\": tot_qty_diff[\"tot_qty_diff\"] + row.quantity_difference|int}) %} {% endif %}\r\n\r\n    \r\n    \r\n        <tr>\r\n            <td style=\"\">{{ row.idx }}</td>\r\n            <td style=\"\">\r\n                {{ row.item_code }}\r\n            </td>\r\n            <td style=\"\">\r\n                {{ row.item_name }}\r\n            </td>\r\n            <td style=\"\" class=\"text-left\">\r\n                {{ row.warehouse }}\r\n            </td>\r\n            <td style=\"\" class=\"text-center\">\r\n                {{ row.current_qty }}\r\n            </td>\r\n            <td style=\"\" class=\"text-center\">\r\n                {{ row.qty }}\r\n            </td>\r\n            \r\n            <td style=\"\" class=\"text-center\">\r\n                {{ row.quantity_difference }}\r\n            </td>\r\n        </tr>\r\n        {%- endfor -%}\r\n        <tr> \r\n            \r\n            <td colspan=\"4\" class=\"text-right\"><b>Totals: </b>  </td>\r\n            <td class=\"text-center\"> <b>{{tot_avail[\"tot_avail\"]}}</b></td>\r\n            <td class=\"text-center\"> <b>{{tot_qty[\"tot_qty\"]}}</b></td>\r\n            <td class=\"text-center\"> <b>{{tot_qty_diff[\"tot_qty_diff\"]}}</b></td>\r\n        </tr>\r\n \r\n</table>\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr rowspan = \"4\" style = \"border-top: 1px solid black;  border-bottom: 1px solid black\">\r\n    <td  colspan = \"6\" width=60% style = \"border-top: 1px solid black\"><b> </b></td>\r\n    <td colspan = \"2\" width=40%>\r\n        <table class=\"table table-sm\" style=\"margin-top:0px\">\r\n            <tr>\r\n                <td colspan = \"2\">  <b> Available Quantity: </b>  </td>\r\n                <td colspan = \"2\"> <b> {{tot_avail[\"tot_avail\"]}}  </b></td>\r\n            </tr>\r\n            <tr>\r\n                <td colspan = \"2\">  <b> Physical Quantity: </b>  </td>\r\n                <td colspan = \"2\"> <b> {{tot_qty[\"tot_qty\"]}}  </b></td>\r\n            </tr>\r\n                <td colspan = \"2\">  <b> Difference Qty: </b>  </td>\r\n                <td colspan = \"2\"> <b> {{tot_qty_diff[\"tot_qty_diff\"]}}  </b></td>\r\n            </tr>\r\n        </table>\r\n    </td>\r\n</tr>\r\n</table>\r\n\r\n{% if doc.docstatus==0 %}\r\n<div class ='watermark'>\r\n</div>\r\n{% endif %}\r\n\r\n<table width=100% style=\"width:100%; font-size:11px;  margin-top:8px\">\r\n    <tr width=100% style=\"border:1px solid black\">\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created By: {{ doc.owner }} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b>  </b></td>\r\n        \r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created ON: {{ doc.get_formatted('creation')}} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b> Authorized By: {% if doc.docstatus==1 %} {{doc.owner}} {% endif %}   </b> </td>\r\n    </tr>\r\n</table>\r\n\r\n\r\n{% set footer = frappe.db.get_value(\"Letter Head\", \"Impala Glass\", \"footer\") %}\r\n\r\n{% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(), \"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user}) %}\r\n{{ footer_updated }}\r\n\r\n\r\n    <div id=\"footer-html\" class=\"visible-pdf\">\r\n        <div class=\"letter-head-footer\">\r\n            {{ footer }}\r\n        </div>\r\n        <p class=\"text-center small page-number visible-pdf\">\r\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\r\n        </p>\r\n    </div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:55.486788",
  "module": "AQIQ Print Formats",
  "name": "Material Reconciliation A5",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 1,
  "css": ".watermark {\r\n    position: fixed;\r\n    top: 420px;\r\n    left: 220px;\r\n    right: 220px;\r\n    background: url(\"http://192.241.152.17/files/draft-background.png\");\r\n    background-repeat: no-repeat;\r\n    /*background-size: center;*/\r\n    height:400px;\r\n    width:50%;\r\n    background-position: center;\r\n    background-size: 100%;\r\n    color:black !important;\r\n    opacity: 0.3;\r\n    position: running(wtrmrk);\r\n    background-repeat: repeat-x;\r\n    }",
  "custom_format": 0,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Pick List",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<div id=\"header-html\"   style = \"margin-top:-15px !important; width:95.2%; margin-left:15px !important\">\r\n    <div class = \"row\" style = \"\">\r\n        <div class = \"col-xs-10\" style = \"width:100%; float:left; border:1px solid black \">\r\n             {% set header = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1}, \"content\") %}\r\n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo']) %}\r\n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, 'company_address' : ' Address: House No.101 Test Street 11 Impala Town 2113 Africa', 'phone_no' : company_details[0].phone_no, 'email' : company_details[0].email, 'pin_no': company_details[0].tax_id ,  'company_logo' : company_details[0].company_logo  }) %}\r\n            {{header_updated}}\r\n\r\n\r\n            <table  class = \"table table-sm\" style = \"width:28%; \"> \r\n                <tr>\r\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:14px\"> Pick List </b> </span> </center>  </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Date </td> <td style = 'font-size:11px'>  {{doc.get_formatted(\"creation\").split(\" \")[0]}} </td>\r\n                </tr>\r\n\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Pick List # </td> <td style = \"font-size:11px\">  {{doc.name}} </td>\r\n                </tr>\r\n                <tr>\r\n                    {% set cost_center = {'cost_center':''} %}\r\n                    {% for i in doc.locations %}\r\n                        {% if cost_center.update({'cost_center': i.cost_center }) %} {% endif %}\r\n                    {% endfor %}\r\n                    <td style = \"font-size:11px\"> Division: </td> <td style = \"font-size:11px\">  {{cost_center.get('cost_center') }} </td>\r\n                </tr>\r\n\r\n\r\n            </table>\r\n\r\n\r\n        </div>\r\n\r\n        <div class = \"col-xs-8\" style = 'float:left'>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n<table class = \"\"  style = \"width:100%; font-size:11px !important; border-bottom:1px solid black !important;\"> \r\n    <tr> \r\n        <td style = \"width:40%\">\r\n            <div>Work Order No: {{doc.work_order}}</div>  \r\n            <!--<div>  <b style=\"font-size:13px\"> Bill To, </b></div>-->\r\n            <!--<div> <b> {{ doc.customer }} </b> </div>-->\r\n            <!--<div> {{ frappe.db.get_value('Customer', doc.name, 'primary_address') }} </div>-->\r\n            <!--<div> {{ frappe.db.get_value('Customer', doc.name, 'tax_id') }} </div>-->\r\n        </td>\r\n        <td style=\"20%\">\r\n            <img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\" class=\"center\" height=100px>\r\n        </td>\r\n        <td style = \"width:35%\">  \r\n            <table class = \"table table-sm; \" style = \"width:100%; margin-top:-1px !important;\" cellspacing = '0' cellpadding = '0'> \r\n                <tr>\r\n                    <td style = 'font-size:11px'> Purpose</td> <td style = 'font-size:11px'>  {{ doc.purpose }} </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Customer</td> <td style = 'font-size:11px'>  {{doc.customer}} </td>\r\n                </tr>\r\n                <!--<tr>-->\r\n                <!--    <td style = 'font-size:11px'> Material Req No.</td> <td style = 'font-size:11px'>  {{doc.material_request}} </td>-->\r\n                <!--</tr>-->\r\n                <tr>\r\n                    \r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Parent Warehouse:</td> <td style = 'font-size:11px'>  {{doc.parent_warehouse}} </td>\r\n                </tr>\r\n\r\n            </table>\r\n        </td>\r\n    </tr>\r\n</table>\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr width=100% height=40px style = \"border: 1px solid black;\">\r\n        <td width=50%>Remarks:</td>\r\n        \r\n    </tr>\r\n</table>\r\n<table style = \"width:100%; font-size:11px;  margin-top:5px\" border = '1'> \r\n    <tr> \r\n        <thead> \r\n            <th> # </th>\r\n            <th>  Item </th>\r\n            <th>  Warehouse </th>\r\n            <th class=\"text-center\">  Stock Qty </th>\r\n            <th class=\"text-center\">  Availablity </th>\r\n            <th class=\"text-center\">  Picked Qty </th>\r\n        </thead>\r\n    </tr>\r\n{% set tot_stock_qty = {\"tot_stock_qty\": 0} %}\r\n{% set avail = {\"avail\": 0} %}\r\n{% set tot_picked_qty = {\"tot_picked_qty\": 0} %}\r\n{% for row in doc.locations %}\r\n    {% if tot_stock_qty.update({\"tot_stock_qty\": tot_stock_qty[\"tot_stock_qty\"] + row.stock_qty}) %} {% endif %}\r\n    {% if avail.update({\"avail\": avail[\"avail\"] + row.availability}) %} {% endif %}\r\n    {% if tot_picked_qty.update({\"tot_picked_qty\": tot_picked_qty[\"tot_picked_qty\"] + row.picked_qty}) %} {% endif %}\r\n    \r\n        <tr>\r\n            <td style=\"\">{{ row.idx }}</td>\r\n            <td style=\"\">\r\n                {{ row.item_code }}\r\n            </td>\r\n            <td style=\"\">\r\n                {{ row.warehouse }}\r\n            </td>\r\n            <td style=\"\" class=\"text-center\">\r\n                {{ row.stock_qty }}\r\n            </td>\r\n            <td style=\"\" class=\"text-center\">\r\n                {{ row.availability }}\r\n            </td>\r\n            <td style=\"\" class=\"text-center\">\r\n                {{ row.picked_qty }}\r\n            </td>\r\n\r\n        </tr>\r\n        {%- endfor -%}\r\n        <tr> \r\n            <td colspan=\"3\" class=\"text-right\"><b>Totals: </b>  </td>\r\n            <td class=\"text-center\"> <b>{{tot_stock_qty[\"tot_stock_qty\"]}}</b></td>\r\n            <td class=\"text-center\"> <b>{{avail[\"avail\"]}}</b></td>\r\n            <td class=\"text-center\"> <b>{{tot_picked_qty[\"tot_picked_qty\"]}}</b></td>\r\n        </tr>\r\n \r\n</table>\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr rowspan = \"4\" style = \"border-top: 1px solid black;  border-bottom: 1px solid black\">\r\n    <td  colspan = \"6\" width=60% style = \"border-top: 1px solid black\"> Pick Details:  </td>\r\n    <td colspan = \"2\" width=40%>\r\n        <table class=\"table table-sm\" style=\"margin-top:0px\">\r\n            <tr>\r\n                <td colspan = \"2\">  <b> Total Stock Quantity: </b>  </td>\r\n                <td colspan = \"2\"> <b> {{tot_stock_qty[\"tot_stock_qty\"]}}  </b></td>\r\n            </tr>\r\n            <tr>\r\n                <td colspan = \"2\"> <b> Total Picked Quantity:</b> </td>\r\n                <td colspan = \"2\"> <b> {{tot_picked_qty[\"tot_picked_qty\"]}} </b> </td>\r\n            </tr>\r\n            <tr></tr>\r\n        </table>\r\n    </td>\r\n</tr>\r\n</table>\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr width=100% height=100px style = \"border-top: 1px solid black;  border-bottom: 1px solid black\">\r\n        <td width=50%>Terms and Conditions:</td>\r\n        \r\n    </tr>\r\n</table>\r\n\r\n{% if doc.docstatus==0 %}\r\n<div class ='watermark'>\r\n</div>\r\n{% endif %}\r\n\r\n<table width=100% style=\"width:100%; font-size:11px;  margin-top:8px\">\r\n    <tr width=100% style=\"border:1px solid black\">\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created By: {{ doc.owner }} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b>  </b></td>\r\n        \r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created ON: {{ doc.get_formatted('creation')}} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b> Authorized By: {% if doc.docstatus==1 %} {{doc.owner}} {% endif %}   </b> </td>\r\n    </tr>\r\n</table>\r\n\r\n{% set footer = frappe.db.get_value(\"Letter Head\",{\"is_default\"  : 1 }, \"footer\") %}\r\n\r\n{% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(), \"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user}) %}\r\n{{ footer_updated }}\r\n\r\n\r\n    <div id=\"footer-html\" class=\"visible-pdf\">\r\n        <div class=\"letter-head-footer\">\r\n            {{ footer }}\r\n        </div>\r\n        <p class=\"text-center small page-number visible-pdf\">\r\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\r\n        </p>\r\n    </div>",
  "line_breaks": 1,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:55.398495",
  "module": "AQIQ Print Formats",
  "name": "Pick List V1-A5",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 1,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "/*.watermark {*/\r\n/*    position: fixed;*/\r\n/*    top: 420px;*/\r\n/*    left: 220px;*/\r\n/*    right: 220px;*/\r\n/*    background: url(\"http://159.65.216.210/files/draft-background.png\");*/\r\n/*    background-repeat: no-repeat;*/\r\n    /*background-size: center;*/\r\n/*    height:400px;*/\r\n/*    width:50%;*/\r\n/*    background-position: center;*/\r\n/*    background-size: 100%;*/\r\n/*    color:black !important;*/\r\n/*    opacity: 0.3;*/\r\n/*    position: running(wtrmrk);*/\r\n/*    background-repeat: repeat-x;*/\r\n/*    }*/\r\n\r\n\r\n.watermark {\r\n    position: fixed;\r\n    top:70px;\r\n    left:11%;\r\n    right:10%;\r\n    background: url(\"http://192.241.152.17/files/draft-background.png\");\r\n    background-repeat: no-repeat;\r\n    height:700px;\r\n    width:80%;\r\n    /*background-position: center;*/\r\n    background-size: 100%;\r\n    opacity: 0.5;\r\n    }",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Purchase Receipt",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<div id=\"header-html\"   style = \"margin-top:-15px !important; width:95.2%; margin-left:15px !important\">\r\n    <div class = \"row\" style = \"\">\r\n        <div class = \"col-xs-10\" style = \"width:100%; float:left; border:1px solid black \">\r\n              {% set header = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1}, \"content\") %}\r\n            \r\n            <!--{% if doc.company == 'Impala Glass Industries Ltd' %}-->\r\n            <!--    {% set logo = \"/files/Impala.png\" %} {% elif doc.company == \"Impala Africa Ltd\" %} {% set logo = \"/files/impala-africa-logo.jpg\" %}-->\r\n            <!--{% endif %}-->\r\n            \r\n            \r\n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website',]) %}\r\n            \r\n            \r\n        \r\n        {% set comapny_address_line1 = '' %}        \r\n        {% set comapny_city = '' %}        \r\n        {% set comapny_counrty = '' %}        \r\n        {% set comapny_state = '' %}        \r\n        {% set phone = '' %}        \r\n\r\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\r\n\r\n        {% if company_address_name  %}\r\n            {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\r\n                \r\n\r\n        {% set comapny_address_line1 = address.address_line1 %}        \r\n        {% set comapny_city =  address.city  %}        \r\n        {% set comapny_counrty =  address.country  %}        \r\n        {% set comapny_state =  address.state  %}        \r\n\r\n        {% set phone = address.phone %}        \r\n\r\n        {% endif  %}\r\n\r\n\r\n            \r\n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \r\n            'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \r\n            'state' : comapny_state,\r\n            'phone_no' : phone, 'email' : company_details[0].email, 'pin_no': company_details[0].tax_id ,  'company_logo' : company_details[0].company_logo, 'website' : company_details[0].website,  }) %}\r\n            {{header_updated}}\r\n\r\n\r\n\r\n            {% set cost_center = frappe.db.get_value(\"Purchase Invoice Item\", {\r\n    \t\t\"cost_center\" : \"Auto - IG\",\r\n    \t\t\"parent\" : doc.service_invoice,\r\n    \t\t\"parentfield\" : \"items\",\r\n    \t\t\"parenttype\" : \"Purchase Invoice\",\r\n            }, \"cost_center\" ) %}\r\n            \r\n            {%  set po = frappe.db.get_value(\"Purchase Receipt Item\" , {\"parent\" : doc.name } , \"purchase_order\") %}\r\n            \r\n            <table  class = \"table table-sm\" style = \"width:28%; \"> \r\n                <tr>\r\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:14px\"> PURCHASE RECEIPT </b> </span> </center>  </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Date </td> <td style = 'font-size:11px'>  {{ doc.get_formatted('posting_date') }}</td>\r\n                </tr>\r\n\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Receipt # </td> <td style = \"font-size:11px\">  {{ doc.name }}</td>\r\n                </tr>\r\n                <!--<tr> -->\r\n                <!--    <td style = \"font-size:11px\"> Division </td> <td style = \"font-size:11px\"> </td>-->\r\n                <!--</tr>-->\r\n\r\n            </table>\r\n\r\n\r\n        </div>\r\n\r\n        <div class = \"col-xs-8\" style = 'float:left'>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n\r\n<table width = 100% class = \"\"  style = \"font-size:11px !important; border-bottom:1px solid black !important;\"> \r\n    <tr> \r\n        <td style = \"width:40%\">  \r\n            <div>  <b style=\"font-size:13px\"> Supplier Details: </b></div>\r\n            <div> <b> {{ doc.supplier_name }} </b> </div>\r\n            <div> {{ doc.address_display }} </div>\r\n            <!--<div> Pin No: ?? </div>-->\r\n            <div> {{ doc.contact_person }} </div>\r\n            <div> {{ doc.contact_mobile }} </div>\r\n        </td>\r\n        <td style=\"20%\">\r\n            <img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\" class=\"center\" height=100px>\r\n        </td>\r\n        <td style = \"width:35%\">  \r\n            <table class = \"table table-sm; \" style = \"width:100%; margin-top:-1px !important;\" cellspacing = '0' cellpadding = '0'> \r\n\r\n                <!--<tr>-->\r\n                <!--    <td style = 'font-size:11px'> Requested By: </td> <td style = 'font-size:11px'>  ?? </td>-->\r\n                <!--</tr>-->\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Supp. Inv No.: </td> <td style = 'font-size:11px'> </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Supp. Inv Date: </td> <td style = 'font-size:11px'>  {{ frappe.utils.formatdate(doc.get_formatted('posting_date'), \"dd-mm-yyyy\") }} </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Warehouse: </td> <td style = 'font-size:11px'>  {{doc.set_warehouse}} </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Currency: </td> <td style = 'font-size:11px'>  {{doc.currency}} </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Purchase Order: </td> <td style = 'font-size:11px'>  {{ po }}  </td>\r\n                </tr>\r\n            </table>\r\n        </td>\r\n    </tr>\r\n</table>\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr width=100% height=40px style = \"border: 1px solid black;\">\r\n        <td width=50%>Remarks:</td>\r\n    </tr>\r\n</table>\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:10px\" border = '1'> \r\n    <tr style = \"width:100%;\"> \r\n        <thead> \r\n            <th style = \"width:5%;\">  # </th>\r\n            <th style = \"width:30%;\">  Item Code </th>\r\n            <th style = \"width:35%;\">  Item Name </th>\r\n            <th style = \"width:10%;\" class=\"text-center\"> Received Qty </th>\r\n            <th style = \"width:10%;\" class=\"text-center\"> Accepted Qty </th>\r\n            <th style = \"width:10%;\" class=\"text-center\"> Rejected Qty </th>\r\n        </thead>\r\n    </tr>\r\n    \r\n    {% set tot_received_qty = {\"tot_received_qty\" : 0 } %}\r\n    {% set tot_qty = {\"tot_qty\" : 0 } %}\r\n    {% set tot_rejected_qty = {\"tot_rejected_qty\" : 0 } %}\r\n    \r\n{% for row in doc.items %}\r\n        <tr>\r\n            <td style=\"\">{{ row.idx }}</td>\r\n            <td style=\"\">\r\n                {{ row.item_code }}\r\n            </td>\r\n            <td style=\"\">\r\n                {{ row.item_name }}\r\n            </td>\r\n            <td style=\"\" class=\"text-center\">\r\n                {{ row.received_qty }}\r\n            </td>\r\n            <td style=\"\" class=\"text-center\">\r\n                {{ row.qty }}\r\n            </td>\r\n            <td style=\"\" class=\"text-center\">\r\n                {{ row.rejected_qty }}\r\n            </td>\r\n        </tr>\r\n        \r\n        {% if tot_received_qty.update({\"tot_received_qty\" : tot_received_qty[\"tot_received_qty\"] + row.received_qty}) %} {% endif %}\r\n        {% if tot_qty.update({\"tot_qty\" : tot_qty[\"tot_qty\"] + row.qty}) %} {% endif %}\r\n        {% if tot_rejected_qty.update({\"tot_rejected_qty\" : tot_rejected_qty[\"tot_rejected_qty\"] + row.rejected_qty }) %} {% endif %}\r\n        \r\n        {%- endfor -%}\r\n        <tr> \r\n            <td></td>\r\n            <td colspan=\"2\" class=\"text-right\"><b>Totals: </b>  </td>\r\n            <td class=\"text-center\"> <b>{{tot_received_qty[\"tot_received_qty\"]}}</b></td>\r\n            <td class=\"text-center\"> <b>{{tot_qty[\"tot_qty\"]}}</b></td>\r\n            <td class=\"text-center\"> <b>{{tot_rejected_qty[\"tot_rejected_qty\"]}}</b></td>\r\n        </tr>\r\n</table>\r\n{% set payment_terms = frappe.db.get_list(\"Payment Schedule\",\r\nfilters={'parent': doc.service_invoice}, \r\nfields=['payment_term', 'payment_amount', 'due_date', 'invoice_portion', 'outstanding']) %}\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr rowspan = \"4\" style = \"border-top: 1px solid black;  border-bottom: 1px solid black\">\r\n    <td  colspan = \"6\" width=60% style = \"border-top: 1px solid black\"><b></b>\r\n    <!--<br>-->\r\n    <!--<p style=\"text-indent: 30px;\">Payment Term: {{payment_terms[0].payment_term}}</p>-->\r\n    <!--<p style=\"text-indent: 30px;\">Payment Amount: {{payment_terms[0].payment_amount}}</p>-->\r\n    <!--<p style=\"text-indent: 30px;\">Due Date: {{payment_terms[0].due_date}}</p>-->\r\n    <!--<p style=\"text-indent: 30px;\">Invoice Portion: {{payment_terms[0].invoice_portion}}</p>-->\r\n    <!--<p style=\"text-indent: 30px;\">Outstanding Amount: {{payment_terms[0].outstanding}}</p>-->\r\n    </td>\r\n    <td colspan = \"2\" width=40%>\r\n        <table class=\"table table-sm\" style=\"margin-top:0px\">\r\n            <tr>\r\n                <td colspan = \"2\">  <b> Total Received Quantity: </b>  </td>\r\n                <td colspan = \"2\"> <b> {{tot_received_qty[\"tot_received_qty\"]}}  </b></td>\r\n            </tr>\r\n            <tr>\r\n                <td colspan = \"2\">  <b> Total Accepted Quantity: </b>  </td>\r\n                <td colspan = \"2\"> <b> {{tot_qty[\"tot_qty\"]}}  </b></td>\r\n            </tr>\r\n            <tr>\r\n                <td colspan = \"2\">  <b> Total Rejected Quantity: </b>  </td>\r\n                <td colspan = \"2\"> <b> {{tot_rejected_qty[\"tot_rejected_qty\"]}}  </b></td>\r\n            </tr>\r\n        </table>\r\n    </td>\r\n</tr>\r\n</table>\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr width=100% height=100px style = \"border-top:1px solid black; border-bottom:1px solid black;\">\r\n        <td width=100%><b>Terms and Conditions: </b>\r\n        <br>\r\n        {{doc.terms}}\r\n    </td>\r\n        \r\n    </tr>\r\n</table>\r\n\r\n{% if doc.docstatus==0 %}\r\n<div class ='watermark'>\r\n</div>\r\n{% endif %}\r\n\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:10px\">\r\n    <tr width=100% style=\"border:1px solid black;\">\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created By: {{ doc.owner }} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created ON: {{ doc.get_formatted('creation')}} </b> </td>\r\n        \r\n    </tr>\r\n    <tr width=100% style=\"border:1px solid black;\">\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Inspected/QC By:  </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b> Authorized By:  {% if doc.docstatus==1 %} {{doc.owner}} {% endif %}  </b> </td>\r\n    </tr>\r\n</table>\r\n\r\n{% set footer = frappe.db.get_value(\"Default Letter Head\", \"Impala Glass\", \"footer\") %}\r\n{% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(), \"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user}) %}\r\n {{ footer_updated }}\r\n    <div id=\"footer-html\" class=\"visible-pdf\">\r\n        <div class=\"letter-head-footer\">\r\n            {{ footer_updated }}\r\n        </div>\r\n        <p class=\"text-center small page-number visible-pdf\">\r\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\r\n        </p>\r\n    </div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:55.226626",
  "module": "AQIQ Print Formats",
  "name": "GRN Purchase Receipt  V1",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": ".watermark {\r\n    position: fixed;\r\n    top: 420px;\r\n    left: 220px;\r\n    right: 220px;\r\n    background: url(\"http://192.241.152.17/files/draft-background.png\");\r\n    background-repeat: no-repeat;\r\n    /*background-size: center;*/\r\n    height:400px;\r\n    width:50%;\r\n    background-position: center;\r\n    background-size: 100%;\r\n    color:black !important;\r\n    opacity: 0.3;\r\n    position: running(wtrmrk);\r\n    background-repeat: repeat-x;\r\n    }",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Stock Reconciliation",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<div id=\"header-html\"   style = \"margin-top:-15px !important; width:95.2%; margin-left:15px !important\">\r\n    <div class = \"row\" style = \"\">\r\n        <div class = \"col-xs-10\" style = \"width:100%; float:left; border:1px solid black \">\r\n              {% set header = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1}, \"content\") %}\r\n            \r\n            <!--{% if doc.company == 'Impala Glass Industries Ltd' %}-->\r\n            <!--    {% set logo = \"/files/Impala.png\" %} {% elif doc.company == \"Impala Africa Ltd\" %} {% set logo = \"/files/impala-africa-logo.jpg\" %}-->\r\n            <!--{% endif %}-->\r\n            \r\n            \r\n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website',]) %}\r\n            \r\n            \r\n        \r\n        {% set comapny_address_line1 = '' %}        \r\n        {% set comapny_city = '' %}        \r\n        {% set comapny_counrty = '' %}        \r\n        {% set comapny_state = '' %}        \r\n        {% set phone = '' %}        \r\n\r\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\r\n\r\n        {% if company_address_name  %}\r\n            {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\r\n                \r\n\r\n        {% set comapny_address_line1 = address.address_line1 %}        \r\n        {% set comapny_city =  address.city  %}        \r\n        {% set comapny_counrty =  address.country  %}        \r\n        {% set comapny_state =  address.state  %}        \r\n\r\n        {% set phone = address.phone %}        \r\n\r\n        {% endif  %}\r\n\r\n\r\n            \r\n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \r\n            'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \r\n            'state' : comapny_state,\r\n            'phone_no' : phone, 'email' : company_details[0].email, 'pin_no': company_details[0].tax_id ,  'company_logo' : company_details[0].company_logo, 'website' : company_details[0].website,  }) %}\r\n            {{header_updated}}\r\n\r\n\r\n\r\n\r\n            <table  class = \"table table-sm\" style = \"width:28%; \"> \r\n                <tr>\r\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:14px\"> Material Reconciliation </b> </span> </center>  </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Date </td> <td style = 'font-size:11px'>\r\n                      {{ frappe.utils.formatdate(doc.get_formatted('posting_date'), \"dd-mm-yyyy\") }} </td>\r\n                </tr>\r\n\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> SR # </td> <td style = \"font-size:11px\">  {{doc.name}} </td>\r\n                </tr>\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Division </td> <td style = \"font-size:11px\">  {{doc.cost_center }} </td>\r\n                </tr>\r\n\r\n\r\n            </table>\r\n\r\n\r\n        </div>\r\n\r\n        <div class = \"col-xs-8\" style = 'float:left'>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n<table class = \"\"  style = \"width:100%; font-size:11px !important; border-bottom:1px solid black !important;\"> \r\n    <tr> \r\n        <td style = \"width:40%\">  \r\n            <div> <b>Purpose: </b>{{ doc.purpose }} </div>\r\n            <!--<div height=\"30px\" style=\"margin-bottom: 40px;\"> Company: {{doc.company}} </div>-->\r\n            <!--{% set warehouse = {'warehouse':' ' } %}-->\r\n            <!--{% for i in doc.items %}-->\r\n            <!--    {% if warehouse.update({\"warehouse\" : i.warehouse}) %} {% endif %}-->\r\n            <!--{% endfor %}-->\r\n            <!--<div>Warehouse: {{warehouse.get(\"warehouse\")}} </div>-->\r\n        </td>\r\n        <td style=\"20%\">\r\n            <img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\" class=\"center\" height=100px>\r\n        </td>\r\n        <td style = \"width:35%;\">\r\n            <p style=\"text-indent: 30px;\">Date :   {{ frappe.utils.formatdate(doc.get_formatted('posting_date'), \"dd-mm-yyyy\") }} </p> \r\n            <!--<table class = \"table table-sm; \" style = \"width:100%; margin-top:-1px !important;\" cellspacing = '0' cellpadding = '0'> -->\r\n            <!--    <tr>-->\r\n            <!--        <td style = 'font-size:11px'> Posting Date: </td> <td style = 'font-size:11px'>  {{doc.get_formatted(\"posting_date\")}} </td>-->\r\n            <!--    </tr>-->\r\n                <!--<tr>-->\r\n                <!--    <td style = 'font-size:11px'> Posting Time: </td> <td style = 'font-size:11px'>  {{doc.get_formatted(\"posting_time\")}} </td>-->\r\n                <!--</tr>-->\r\n                <!--<tr>-->\r\n                <!--    <td style = 'font-size:11px'> Department: </td> <td style = 'font-size:11px'>  ?? </td>-->\r\n                <!--</tr>-->\r\n                <!--<tr>-->\r\n                <!--    <td style = 'font-size:11px'> Division: </td> <td style = 'font-size:11px'>  ?? </td>-->\r\n                <!--</tr>-->\r\n            <!--</table>-->\r\n        </td>\r\n\r\n    </tr>\r\n</table>\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr width=100% height=40px style = \"border: 1px solid black;\">\r\n        <td width=50%>Remarks:</td>\r\n        \r\n    </tr>\r\n</table>\r\n<table style = \"width:100%; font-size:11px;  margin-top:5px\" border = '1'> \r\n    <tr> \r\n        <thead> \r\n            <th> # </th>\r\n            <th>  Item Code </th>\r\n            <th>  Item Name </th>\r\n            <th class=\"text-left\">  Warehouse </th>\r\n            <th class=\"text-center\">  Avail Qty </th>\r\n            <th class=\"text-center\">  Quantity </th>\r\n            <th class=\"text-center\">  Diff Qty </th>\r\n        </thead>\r\n    </tr>\r\n{% set tot_qty = {\"tot_qty\": 0} %}\r\n{% set tot_avail = {\"tot_avail\": 0} %}\r\n{% set tot_qty_diff = {\"tot_qty_diff\": 0} %}\r\n{% for row in doc.items %}\r\n    {% if tot_qty.update({\"tot_qty\": tot_qty[\"tot_qty\"] + row.qty}) %} {% endif %}\r\n    {% if tot_avail.update({\"tot_avail\": tot_avail[\"tot_avail\"] + row.current_qty}) %} {% endif %}\r\n    {% if tot_qty_diff.update({\"tot_qty_diff\": tot_qty_diff[\"tot_qty_diff\"] + row.quantity_difference|int}) %} {% endif %}\r\n\r\n    \r\n    \r\n        <tr>\r\n            <td style=\"\">{{ row.idx }}</td>\r\n            <td style=\"\">\r\n                {{ row.item_code }}\r\n            </td>\r\n            <td style=\"\">\r\n                {{ row.item_name }}\r\n            </td>\r\n            <td style=\"\" class=\"text-left\">\r\n                {{ row.warehouse }}\r\n            </td>\r\n            <td style=\"\" class=\"text-center\">\r\n                {{ row.current_qty }}\r\n            </td>\r\n            <td style=\"\" class=\"text-center\">\r\n                {{ row.qty }}\r\n            </td>\r\n            \r\n            <td style=\"\" class=\"text-center\">\r\n                {{ row.quantity_difference }}\r\n            </td>\r\n        </tr>\r\n        {%- endfor -%}\r\n        <tr> \r\n            \r\n            <td colspan=\"4\" class=\"text-right\"><b>Totals: </b>  </td>\r\n            <td class=\"text-center\"> <b>{{tot_avail[\"tot_avail\"]}}</b></td>\r\n            <td class=\"text-center\"> <b>{{tot_qty[\"tot_qty\"]}}</b></td>\r\n            <td class=\"text-center\"> <b>{{tot_qty_diff[\"tot_qty_diff\"]}}</b></td>\r\n        </tr>\r\n \r\n</table>\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr rowspan = \"4\" style = \"border-top: 1px solid black;  border-bottom: 1px solid black\">\r\n    <td  colspan = \"6\" width=60% style = \"border-top: 1px solid black\"><b> </b></td>\r\n    <td colspan = \"2\" width=40%>\r\n        <table class=\"table table-sm\" style=\"margin-top:0px\">\r\n            <tr>\r\n                <td colspan = \"2\">  <b> Available Quantity: </b>  </td>\r\n                <td colspan = \"2\"> <b> {{tot_avail[\"tot_avail\"]}}  </b></td>\r\n            </tr>\r\n            <tr>\r\n                <td colspan = \"2\">  <b> Physical Quantity: </b>  </td>\r\n                <td colspan = \"2\"> <b> {{tot_qty[\"tot_qty\"]}}  </b></td>\r\n            </tr>\r\n                <td colspan = \"2\">  <b> Difference Qty: </b>  </td>\r\n                <td colspan = \"2\"> <b> {{tot_qty_diff[\"tot_qty_diff\"]}}  </b></td>\r\n            </tr>\r\n        </table>\r\n    </td>\r\n</tr>\r\n</table>\r\n\r\n{% if doc.docstatus==0 %}\r\n<div class ='watermark'>\r\n</div>\r\n{% endif %}\r\n\r\n<table width=100% style=\"width:100%; font-size:11px;  margin-top:8px\">\r\n    <tr width=100% style=\"border:1px solid black\">\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created By: {{ doc.owner }} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b>  </b></td>\r\n        \r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created ON: {{ doc.get_formatted('creation')}} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b> Authorized By: {% if doc.docstatus==1 %} {{doc.owner}} {% endif %}   </b> </td>\r\n    </tr>\r\n</table>\r\n\r\n\r\n{% set footer = frappe.db.get_value(\"Letter Head\", \"Impala Glass\", \"footer\") %}\r\n\r\n{% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(), \"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user}) %}\r\n{{ footer_updated }}\r\n\r\n\r\n    <div id=\"footer-html\" class=\"visible-pdf\">\r\n        <div class=\"letter-head-footer\">\r\n            {{ footer }}\r\n        </div>\r\n        <p class=\"text-center small page-number visible-pdf\">\r\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\r\n        </p>\r\n    </div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:55.067700",
  "module": "AQIQ Print Formats",
  "name": "Material Reconciliation",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": ".watermark {\r\n    position: fixed;\r\n    top: 420px;\r\n    left: 220px;\r\n    right: 220px;\r\n    background: url(\"http://192.241.152.17/files/draft-background.png\");\r\n    background-repeat: no-repeat;\r\n    /*background-size: center;*/\r\n    height:400px;\r\n    width:50%;\r\n    background-position: center;\r\n    background-size: 100%;\r\n    color:black !important;\r\n    opacity: 0.3;\r\n    position: running(wtrmrk);\r\n    background-repeat: repeat-x;\r\n    }",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Material Request",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<div id=\"header-html\"   style = \"margin-top:-15px !important; width:95.2%; margin-left:15px !important\">\r\n    <div class = \"row\" style = \"\"> \r\n        <div class = \"col-xs-10\" style = \"width:100%; float:left; border:1px solid black \">\r\n\r\n                  {% set header = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1}, \"content\") %}\r\n            \r\n            <!--{% if doc.company == 'Impala Glass Industries Ltd' %}-->\r\n            <!--    {% set logo = \"/files/Impala.png\" %} {% elif doc.company == \"Impala Africa Ltd\" %} {% set logo = \"/files/impala-africa-logo.jpg\" %}-->\r\n            <!--{% endif %}-->\r\n            \r\n            \r\n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website',]) %}\r\n            \r\n            \r\n        \r\n        {% set comapny_address_line1 = '' %}        \r\n        {% set comapny_city = '' %}        \r\n        {% set comapny_counrty = '' %}        \r\n        {% set comapny_state = '' %}        \r\n        {% set phone = '' %}        \r\n\r\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\r\n\r\n        {% if company_address_name  %}\r\n            {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\r\n                \r\n\r\n        {% set comapny_address_line1 = address.address_line1 %}        \r\n        {% set comapny_city =  address.city  %}        \r\n        {% set comapny_counrty =  address.country  %}        \r\n        {% set comapny_state =  address.state  %}        \r\n\r\n        {% set phone = address.phone %}        \r\n\r\n        {% endif  %}\r\n\r\n\r\n            \r\n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \r\n            'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \r\n            'state' : comapny_state,\r\n            'phone_no' : phone, 'email' : company_details[0].email, 'pin_no': company_details[0].tax_id ,  'company_logo' : company_details[0].company_logo, 'website' : company_details[0].website,  }) %}\r\n            {{header_updated}}\r\n\r\n\r\n\r\n            <table  class = \"table table-sm\" style = \"width:28%; \"> \r\n                <tr>\r\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:14px\"> MATERIAL REQUEST </b> </span> </center>  </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Date </td> <td style = 'font-size:11px'>\r\n                    {{ frappe.utils.formatdate(doc.get_formatted('transaction_date'), \"dd-mm-yyyy\") }}</td>\r\n                </tr>\r\n\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> MR # </td> <td style = \"font-size:11px\">  {{doc.name}} </td>\r\n                </tr>\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Division </td> <td style = \"font-size:11px\">  {{doc.items[0].cost_center }} </td>\r\n                </tr>\r\n\r\n\r\n            </table>\r\n\r\n\r\n        </div>\r\n\r\n        <div class = \"col-xs-8\" style = 'float:left'>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n<table class = \"\"  style = \"width:100%; font-size:11px !important; border-bottom:1px solid black !important;\"> \r\n    <tr> \r\n        <td style = \"width:40%\">  \r\n            <div> <b>Purpose:</b> {{ doc.material_request_type }} </div>\r\n            <div> <b>Required By:</b>\r\n             {{ frappe.utils.formatdate(doc.get_formatted('schedule_date'), \"dd-mm-yyyy\") }}</div>\r\n            <div> <b>Priority:</b> {{ doc.priority }} </div>\r\n            <div> <b>Target Warehouse:</b> {{doc.items[0].warehouse}} </div>\r\n        </td>\r\n        <td style=\"20%\">\r\n            <!--<img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\" class=\"center\" height=100px>-->\r\n        </td>\r\n        <td style = \"width:40%\">  \r\n            <table class = \"table table-sm; \" style = \"width:100%; margin-top:-1px !important;\" cellspacing = '0' cellpadding = '0'> \r\n                <tr>\r\n                    <td style = 'font-size:11px'> Production Plan No.: </td> <td style = 'font-size:11px'> {{doc.items[0].production_plan}} </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> BOM No.: </td> <td style = 'font-size:11px'>  {{doc.items[0].bom_no}} </td>\r\n                </tr>\r\n            </table>\r\n        </td>\r\n\r\n    </tr>\r\n</table>\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr width=100% height=40px style = \"border: 1px solid black;\">\r\n        <td width=100%><p>Additional Notes:</p> <p>{{doc.additional_notes}}</p></td>\r\n    </tr>\r\n</table>\r\n<table style = \"width:100%; font-size:11px;  margin-top:5px\" border = '1'> \r\n    <tr> \r\n        <thead> \r\n            <th> # </th>\r\n            <th>  Item Code </th>\r\n            <th>  Item Name </th>\r\n            <th class=\"text-center\">  Qty </th>\r\n            <th class=\"text-center\">  UOM </th>\r\n        </thead>\r\n    </tr>\r\n{% set tot_qty = {\"tot_qty\": 0} %}\r\n{% set tot_rate = {\"tot_rate\": 0} %}\r\n{% set tot_amount = {\"tot_amount\": 0} %}\r\n{% for row in doc.items %}\r\n    {% if tot_qty.update({\"tot_qty\": tot_qty[\"tot_qty\"] + row.qty}) %} {% endif %}\r\n\r\n    \r\n    \r\n        <tr>\r\n            <td style=\"\">{{ row.idx }}</td>\r\n            <td style=\"\">\r\n                {{ row.item_code }}\r\n            </td>\r\n            <td style=\"\">\r\n                {{ row.item_name }}\r\n            </td>\r\n            <td style=\"\" class=\"text-center\">\r\n                {{ row.qty }}\r\n            </td>\r\n            <td style=\"\" class=\"text-center\">\r\n                {{ row.uom }}\r\n            </td>\r\n        </tr>\r\n        {%- endfor -%}\r\n        <tr> \r\n            <td colspan=\"3\" class=\"text-right\"><b>Totals: </b>  </td>\r\n            <td class=\"text-center\"> <b>{{tot_qty[\"tot_qty\"]}}</b></td>\r\n        </tr>\r\n \r\n</table>\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr rowspan = \"4\" style = \"border-top: 1px solid black;  border-bottom: 1px solid black\">\r\n    <td  colspan = \"6\" width=60% style = \"border-top: 1px solid black\"><b> </b></td>\r\n    <td colspan = \"2\" width=40%>\r\n        <table class=\"table table-sm\" style=\"margin-top:0px\">\r\n            <tr>\r\n                <td colspan = \"2\">  <b> Total Quantity: </b>  </td>\r\n                <td colspan = \"2\"> <b> {{tot_qty[\"tot_qty\"]}}  </b></td>\r\n            </tr>\r\n            <tr>\r\n                <td colspan = \"2\">  <b> Total Amount: </b>  </td>\r\n                <td colspan = \"2\"> <b> {{tot_amount[\"tot_amount\"]}}  </b></td>\r\n            </tr>\r\n        </table>\r\n    </td>\r\n</tr>\r\n</table>\r\n\r\n{% if doc.docstatus==0 %}\r\n<div class ='watermark'>\r\n</div>\r\n{% endif %}\r\n\r\n<table width=100% style=\"width:100%; font-size:11px;  margin-top:8px\">\r\n    <tr width=100% style=\"border:1px solid black\">\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created By: {{ doc.owner }} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b>  </b></td>\r\n        \r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created ON: {{ doc.get_formatted('creation')}} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b> Authorized By:  {% if doc.docstatus==1 %} {{doc.owner}} {% endif %}  </b> </td>\r\n    </tr>\r\n</table>\r\n\r\n\r\n\r\n{% set footer = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1 }, \"footer\") %}\r\n\r\n{% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(), \"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user}) %}\r\n{{ footer_updated }}\r\n\r\n    <div id=\"footer-html\" class=\"visible-pdf\">\r\n        <div class=\"letter-head-footer\">\r\n            {{ footer }}\r\n        </div>\r\n        <p class=\"text-center small page-number visible-pdf\">\r\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\r\n        </p>\r\n    </div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:54.926007",
  "module": "AQIQ Print Formats",
  "name": "Material Request",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": ".watermark {\r\n    position: fixed;\r\n    top: 420px;\r\n    left: 220px;\r\n    right: 220px;\r\n    background: url(\"http://192.241.152.17/files/draft-background.png\");\r\n    background-repeat: no-repeat;\r\n    /*background-size: center;*/\r\n    height:400px;\r\n    width:50%;\r\n    background-position: center;\r\n    background-size: 100%;\r\n    color:black !important;\r\n    opacity: 0.3;\r\n    position: running(wtrmrk);\r\n    background-repeat: repeat-x;\r\n    }",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Pick List",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<div id=\"header-html\"   style = \"margin-top:-15px !important; width:95.2%; margin-left:15px !important\">\r\n    <div class = \"row\" style = \"\">\r\n        <div class = \"col-xs-10\" style = \"width:100%; float:left; border:1px solid black \">\r\n\r\n              {% set header = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1}, \"content\") %}\r\n            \r\n            <!--{% if doc.company == 'Impala Glass Industries Ltd' %}-->\r\n            <!--    {% set logo = \"/files/Impala.png\" %} {% elif doc.company == \"Impala Africa Ltd\" %} {% set logo = \"/files/impala-africa-logo.jpg\" %}-->\r\n            <!--{% endif %}-->\r\n            \r\n            \r\n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website',]) %}\r\n            \r\n            \r\n        \r\n        {% set comapny_address_line1 = '' %}        \r\n        {% set comapny_city = '' %}        \r\n        {% set comapny_counrty = '' %}        \r\n        {% set comapny_state = '' %}        \r\n        {% set phone = '' %}        \r\n\r\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\r\n\r\n        {% if company_address_name  %}\r\n            {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\r\n                \r\n\r\n        {% set comapny_address_line1 = address.address_line1 %}        \r\n        {% set comapny_city =  address.city  %}        \r\n        {% set comapny_counrty =  address.country  %}        \r\n        {% set comapny_state =  address.state  %}        \r\n\r\n        {% set phone = address.phone %}        \r\n\r\n        {% endif  %}\r\n\r\n\r\n            \r\n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \r\n            'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \r\n            'state' : comapny_state,\r\n            'phone_no' : phone, 'email' : company_details[0].email, 'pin_no': company_details[0].tax_id ,  'company_logo' : company_details[0].company_logo, 'website' : company_details[0].website,  }) %}\r\n            {{header_updated}}\r\n\r\n\r\n\r\n            <table  class = \"table table-sm\" style = \"width:28%; \"> \r\n                <tr>\r\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:14px\"> Pick List </b> </span> </center>  </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Date </td> <td style = 'font-size:11px'>  {{doc.get_formatted(\"creation\").split(\" \")[0]}} </td>\r\n                </tr>\r\n\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Pick List # </td> <td style = \"font-size:11px\">  {{doc.name}} </td>\r\n                </tr>\r\n                <tr>\r\n                    {% set cost_center = {'cost_center':''} %}\r\n                    {% for i in doc.locations %}\r\n                        {% if cost_center.update({'cost_center': i.cost_center }) %} {% endif %}\r\n                    {% endfor %}\r\n                    <td style = \"font-size:11px\"> Division: </td> <td style = \"font-size:11px\">  {{cost_center.get('cost_center') }} </td>\r\n                </tr>\r\n\r\n\r\n            </table>\r\n\r\n\r\n        </div>\r\n\r\n        <div class = \"col-xs-8\" style = 'float:left'>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n<table class = \"\"  style = \"width:100%; font-size:11px !important; border-bottom:1px solid black !important;\"> \r\n    <tr> \r\n        <td style = \"width:40%\">\r\n            <div>Work Order No: {{doc.work_order}}</div>  \r\n            <!--<div>  <b style=\"font-size:13px\"> Bill To, </b></div>-->\r\n            <!--<div> <b> {{ doc.customer }} </b> </div>-->\r\n            <!--<div> {{ frappe.db.get_value('Customer', doc.name, 'primary_address') }} </div>-->\r\n            <!--<div> {{ frappe.db.get_value('Customer', doc.name, 'tax_id') }} </div>-->\r\n        </td>\r\n        <td style=\"20%\">\r\n            <img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\" class=\"center\" height=100px>\r\n        </td>\r\n        <td style = \"width:35%\">  \r\n            <table class = \"table table-sm; \" style = \"width:100%; margin-top:-1px !important;\" cellspacing = '0' cellpadding = '0'> \r\n                <tr>\r\n                    <td style = 'font-size:11px'> Purpose</td> <td style = 'font-size:11px'>  {{ doc.purpose }} </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Customer</td> <td style = 'font-size:11px'>  {{doc.customer}} </td>\r\n                </tr>\r\n                <!--<tr>-->\r\n                <!--    <td style = 'font-size:11px'> Material Req No.</td> <td style = 'font-size:11px'>  {{doc.material_request}} </td>-->\r\n                <!--</tr>-->\r\n                <tr>\r\n                    \r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Parent Warehouse:</td> <td style = 'font-size:11px'>  {{doc.parent_warehouse}} </td>\r\n                </tr>\r\n\r\n            </table>\r\n        </td>\r\n    </tr>\r\n</table>\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr width=100% height=40px style = \"border: 1px solid black;\">\r\n        <td width=50%>Remarks:</td>\r\n        \r\n    </tr>\r\n</table>\r\n<table style = \"width:100%; font-size:11px;  margin-top:5px\" border = '1'> \r\n    <tr> \r\n        <thead> \r\n            <th> # </th>\r\n            <th>  Item </th>\r\n            <th>  Warehouse </th>\r\n            <th class=\"text-center\">  Stock Qty </th>\r\n            <th class=\"text-center\">  Availablity </th>\r\n            <th class=\"text-center\">  Picked Qty </th>\r\n        </thead>\r\n    </tr>\r\n{% set tot_stock_qty = {\"tot_stock_qty\": 0} %}\r\n{% set avail = {\"avail\": 0} %}\r\n{% set tot_picked_qty = {\"tot_picked_qty\": 0} %}\r\n{% for row in doc.locations %}\r\n    {% if tot_stock_qty.update({\"tot_stock_qty\": tot_stock_qty[\"tot_stock_qty\"] + row.stock_qty}) %} {% endif %}\r\n    {% if avail.update({\"avail\": avail[\"avail\"] + row.availability}) %} {% endif %}\r\n    {% if tot_picked_qty.update({\"tot_picked_qty\": tot_picked_qty[\"tot_picked_qty\"] + row.picked_qty}) %} {% endif %}\r\n    \r\n        <tr>\r\n            <td style=\"\">{{ row.idx }}</td>\r\n            <td style=\"\">\r\n                {{ row.item_code }}\r\n            </td>\r\n            <td style=\"\">\r\n                {{ row.warehouse }}\r\n            </td>\r\n            <td style=\"\" class=\"text-center\">\r\n                {{ row.stock_qty }}\r\n            </td>\r\n            <td style=\"\" class=\"text-center\">\r\n                {{ row.availability }}\r\n            </td>\r\n            <td style=\"\" class=\"text-center\">\r\n                {{ row.picked_qty }}\r\n            </td>\r\n\r\n        </tr>\r\n        {%- endfor -%}\r\n        <tr> \r\n            <td colspan=\"3\" class=\"text-right\"><b>Totals: </b>  </td>\r\n            <td class=\"text-center\"> <b>{{tot_stock_qty[\"tot_stock_qty\"]}}</b></td>\r\n            <td class=\"text-center\"> <b>{{avail[\"avail\"]}}</b></td>\r\n            <td class=\"text-center\"> <b>{{tot_picked_qty[\"tot_picked_qty\"]}}</b></td>\r\n        </tr>\r\n \r\n</table>\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr rowspan = \"4\" style = \"border-top: 1px solid black;  border-bottom: 1px solid black\">\r\n    <td  colspan = \"6\" width=60% style = \"border-top: 1px solid black\"> Pick Details:  </td>\r\n    <td colspan = \"2\" width=40%>\r\n        <table class=\"table table-sm\" style=\"margin-top:0px\">\r\n            <tr>\r\n                <td colspan = \"2\">  <b> Total Stock Quantity: </b>  </td>\r\n                <td colspan = \"2\"> <b> {{tot_stock_qty[\"tot_stock_qty\"]}}  </b></td>\r\n            </tr>\r\n            <tr>\r\n                <td colspan = \"2\"> <b> Total Picked Quantity:</b> </td>\r\n                <td colspan = \"2\"> <b> {{tot_picked_qty[\"tot_picked_qty\"]}} </b> </td>\r\n            </tr>\r\n            <tr></tr>\r\n        </table>\r\n    </td>\r\n</tr>\r\n</table>\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr width=100% height=100px style = \"border-top: 1px solid black;  border-bottom: 1px solid black\">\r\n        <td width=50%>Terms and Conditions:</td>\r\n        \r\n    </tr>\r\n</table>\r\n\r\n{% if doc.docstatus==0 %}\r\n<div class ='watermark'>\r\n</div>\r\n{% endif %}\r\n\r\n<table width=100% style=\"width:100%; font-size:11px;  margin-top:8px\">\r\n    <tr width=100% style=\"border:1px solid black\">\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created By: {{ doc.owner }} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b>  </b></td>\r\n        \r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created ON: {{ doc.get_formatted('creation')}} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b> Authorized By: {% if doc.docstatus==1 %} {{doc.owner}} {% endif %}   </b> </td>\r\n    </tr>\r\n</table>\r\n\r\n{% set footer = frappe.db.get_value(\"Letter Head\",{\"is_default\"  : 1 }, \"footer\") %}\r\n\r\n{% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(), \"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user}) %}\r\n{{ footer_updated }}\r\n\r\n\r\n    <div id=\"footer-html\" class=\"visible-pdf\">\r\n        <div class=\"letter-head-footer\">\r\n            {{ footer }}\r\n        </div>\r\n        <p class=\"text-center small page-number visible-pdf\">\r\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\r\n        </p>\r\n    </div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:54.780727",
  "module": "AQIQ Print Formats",
  "name": "Pick List V1",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": ".li_high{\r\n    line-height: 1 !important;\r\n}\r\n\r\n@media screen,pdf{\r\n\t\t.print-format {\r\n\t\t}\r\n\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n \r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n \r\n#main_tab *{\r\nline-height:1.4;\r\nmargin:0px !important;\r\npadding:2px !important;\r\nfont-size:9px;\r\n}\r\n margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\nmargin-top-15{\r\n    margin-top:15px;\r\n}\r\n \r\n   .text-size-9{\r\n     font-size:9px;\r\n }\r\n \r\n    }\r\n    \r\n@media print{\r\n\t\t.print-format {\r\n\t\t}\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n \r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n  .text-size-9{\r\n     font-size:9px;\r\n }\r\n \r\n table.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n \r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n@media screen {\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n\r\n  .text-size-9{\r\n     font-size:9px;\r\n }\r\n\r\n.amount-val{\r\n   color:darkgrey;\r\n   bottom:20px;\r\n   position:relative;\r\n}\r\n\r\n/*.watermark {*/\r\n/*    position: fixed;*/\r\n/*    top: 420px;*/\r\n/*    left: 220px;*/\r\n/*    right: 220px;*/\r\n/*    background: url(\"http://192.241.152.17/files/draft-background.png\");*/\r\n/*    background-repeat: no-repeat;*/\r\n    /*background-size: center;*/\r\n/*    height:400px;*/\r\n/*    width:50%;*/\r\n/*    background-position: center;*/\r\n/*    background-size: 100%;*/\r\n/*    color:black !important;*/\r\n/*    opacity: 0.3;*/\r\n/*    position: running(wtrmrk);*/\r\n/*    background-repeat: repeat-x;*/\r\n/*    }*/\r\n\r\n.watermark {\r\n    position: fixed;\r\n    top:70px;\r\n    left:11%;\r\n    right:10%;\r\n    background: url(\"http://192.241.152.17/files/draft-background.png\");\r\n    background-repeat: no-repeat;\r\n    height:700px;\r\n    width:80%;\r\n    /*background-position: center;*/\r\n    background-size: 100%;\r\n    opacity: 0.5;\r\n    }\r\n\r\n\r\n.days_tab {\r\n    position: relative;\r\n}\r\n\r\n.barchart-Wrapper {\r\n      display: table;\r\n      position: relative;\r\n      margin: 20px 0;\r\n      height: 120px;\r\n    }\r\n    .barChart-Container {\r\n      display: table-cell;\r\n      width: 100%;\r\n      height: 100%;\r\n      padding-left: 20px;\r\n      padding-right: 20px;\r\n    }\r\n    .barchart {\r\n     display: table;\r\n     table-layout: fixed;\r\n     height: 100%;\r\n     width: 100%;\r\n     border-bottom: 3px solid darkgrey;\r\n    }\r\n    .barchart-Col {\r\n      position: relative;\r\n      vertical-align: bottom;\r\n      display: table-cell;\r\n      height: 100%;\r\n    }\r\n    .barchart-Col + .barchart-Col {\r\n      border-left: 4px solid transparent;\r\n    }\r\n    .barchart-Bar {\r\n      position: static;\r\n      height: 0;\r\n      transition: height 0.5s 2s;\r\n      width: 10px;\r\n      margin: auto;\r\n    }\r\n    .barchart-Bar:after {\r\n      content: attr(attr-height);\r\n      color: white;\r\n      position: absolute;\r\n      text-align: center;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter {\r\n      position: absolute;\r\n      text-align: center;\r\n      left:40px;\r\n      height: 10%;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter h3 {\r\n      color: darkred;\r\n    }\r\n    .barchart-TimeCol {\r\n      position: absolute;\r\n      top: 0;\r\n      height: 100%;\r\n      width: 100%;\r\n    }\r\n    .barchart-Time {\r\n      height: 25%;\r\n      vertical-align: middle;\r\n      position: relative;\r\n    }\r\n    .barchart-Time:after {\r\n      border-bottom: 3px solid white;\r\n      content: \"\";\r\n      position: absolute;\r\n      width: 100%;\r\n      left: 0;\r\n      top: 0em;\r\n    }\r\n    .barchart-TimeText {\r\n      position: absolute;\r\n      top: -8px;\r\n      z-index: 1;\r\n      background: white;\r\n      padding-right: 5px;\r\n      color: #4d4d4d;\r\n      font-size: 15px;\r\n      font-family: 'Avenir Medium';\r\n    }\r\n    .sq1-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq1-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq2-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq2-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq3-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq3-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq4-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq4-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    \r\n}\r\n\r\n",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "BOQ",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<style>\n</style>\n\n<div id=\"header-html\" class = \"margin-top-15\"   style = \" margin-top:-20px  !important; width:92.2%; margin-left:15px !important\">\n    <div class = \"row\" style = \"\">\n\n        <div class = \"col-xs-10\" style = \"width:100%;   float:left; border:1px solid black \">\n             {% set header = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1}, \"content\") %}\n\n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website',]) %}\n            \n            \n        \n        {% set comapny_address_line1 = '' %}        \n        {% set comapny_city = '' %}        \n        {% set comapny_counrty = '' %}        \n        {% set comapny_state = '' %}        \n        {% set phone = '' %}        \n\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\n\n        {% if company_address_name  %}\n            {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\n                \n\n        {% set comapny_address_line1 = address.address_line1 %}        \n        {% set comapny_city =  address.city  %}        \n        {% set comapny_counrty =  address.country  %}        \n        {% set comapny_state =  address.state  %}        \n\n        {% set phone = address.phone %}        \n\n        {% endif  %}\n\n\n            \n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \n            'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \n            'state' : comapny_state,\n            'phone_no' : phone, 'email' : company_details[0].email, 'pin_no': company_details[0].tax_id ,  'company_logo' : company_details[0].company_logo, 'website' : company_details[0].website,  }) %}\n            {{header_updated}}\n            \n\n            <table  class = \"table table-sm\" style = \"width:28%; font-size:10px  \"> \n                <!--<tr>-->\n                <!--    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:11px\"> SALES QUOTATION </b> </span> </center>  </td>-->\n                <!--</tr>-->\n                  \n                <tr>\n                    <td style = 'font-size:10px'> Date </td> <td style = 'font-size:10px'> \n                    {{ doc.get_formatted('date')}}\n                </tr>\n\n                <tr> \n                    <td style = \"font-size:10px\"> BOQ# </td> <td style = \"font-size:10px\">  {{ doc.name }}</td>\n                </tr>\n                <tr> \n                    <td style = \"font-size:10px\"> Division </td> <td style = \"font-size:10px\">  {{ doc.cost_center }} </td>\n                </tr>\n                <tr> \n                    <td style = \"font-size:10px\"> Department </td> <td style = \"font-size:10px\">  {{ doc.department }} </td>\n                </tr>\n\n\n            </table>\n\n\n        </div>\n</div>\n\n\n</div>\n\n<table class = \"margin-top-15\"  style = \"width:100%; font-size:10px !important; border-bottom:1px solid black !important;\"> \n    <tr> \n        <td style = \"width:35%\">  \n            <div>  <b style=\"font-size:10px\"> Bill To, </b></div>\n            <div> <b style = \"font-size:10px\" > {{ doc.customer_name }} </b> </div>\n        </td>\n        <td style=\"20%\">\n            <img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\" class=\"center\" height=80px>\n        </td>\n        <td style = \"width:45%\">  \n            <table class = \" text-size-10\" style = \"width:100%; margin-top:-1px !important;\" cellspacing = '0' cellpadding = '0'> \n                <tr>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'> Currency </td>\n                    <td class = \"text-size-10\"  style = 'font-size:10px'>{{ doc.currency }}</td>\n                </tr>\n\n\n            </table>\n        </td>\n    </tr>\n</table>\n<div style=\"margin-top:2px; height:40px; border:1px solid black;\">\n   Additional Notes:\n    <p>\n        {% if doc.additional_notes %}\n        {{doc.additional_notes}} \n        {% endif %}\n    </p>\n</div>\n\n\n    \n<!---new table start  from here for item componet v2-->    \n    \n    <div class = \"\" style = \"width:100%\">\n{% set total_ex_vat = {\"total_ex_vat\": 0.0} %}\n{% set tot_qty = {\"tot_qty\": 0.0} %}\n{% set tot_pcs = {\"tot_pcs\": 0.0} %}\n{% set total_in_vat = {\"total_in_vat\": 0.0} %}\n{% set total_amount = {\"total_amount\": 0} %}\n{% set total_vat = {\"total_vat\": 0} %}\n{% set total_inclusive = {\"total_inclusive\": 0} %}\n\n<div style=\"margin-top:2px; height:; border:1px solid black; margin-top:10px; font-size:10px;\">\n<p><b>Check List for Order</b></p>\n <table  class = \"\" style = \"width:95%; font-size:10px; \"> \n                <tr>\n                    <td colspan = \"\"> <center>  <span style = \"\"> <b style = \"font-size:10px; line-height:0.6\"> Shape Description: </b></span> </center>  </td>\n                    <td colspan = \"\"> <center>  <span style = \"\"> <b style = \"font-size:10px; line-height:0.6\">Packing Description:</b> </span> </center>  </td>\n                    <td colspan = \"\"> <center>  <span style = \"\"> <b style = \"font-size:10px; line-height:0.6\">Wastage Charges: </b></span> </center>  </td>\n                    <td colspan = \"\"> <center>  <span style = \"\"> <b style = \"font-size:10px; line-height:0.6\"> Fittings Information:</b></span> </center>  </td>\n                    \n                </tr>\n                <tr>\n                     <td colspan = \"\"> <center>  <span style = \"font-size:10px; line-height:0.6\">{% for d in doc.shape_description %}{{ d.option }}{% if not loop.last %}, {% endif%} {% endfor %}</span> </center>  </td>\n                    <td colspan = \"\"> <center>  <span style = \"font-size:10px; line-height:0.6\"> {{ doc.packing_description or ''}}</span> </center>  </td>\n                    <td colspan = \"\"> <center>  <span style = \"font-size:10px; line-height:0.6\">{{ doc.wastage_charges or ''}} </span> </center>  </td>\n                    <td colspan = \"\"> <center>  <span style = \"font-size:10px; line-height:0.6\"> {{ doc.fittings_information or ''}}</span> </center>  </td>\n                </tr>\n              \n              \n                <tr> \n                    <td colspan = \"\"> <center>  <span style = \"\"> <b style = \"font-size:10px; line-height:0.6\">Product Description:</b></span> </center>  </td>\n                    <td colspan = \"\"> <center>  <span style = \"\"> <b style = \"font-size:10px; line-height:0.6\">Measurements: </b> </span> </center>  </td>\n                    <td colspan = \"\"> <center>  <span style = \"\"> <b style = \"font-size:10px; line-height:0.6\">Wastage Percentage:</b>   </span> </center> </td>\n                    <td colspan = \"\"> <center>  <span style = \"\"> <b style = \"font-size:10px; line-height:0.6\">Coating Position:</b>   </span> </center> </td>\n                    \n                </tr>\n                <tr>\n                    <td colspan = \"\"> <center>  <span style = \"font-size:10px; line-height:0.6\">{% for d in doc.product_description %} {{ d.option }} {% if not loop.last %}, {% endif%} {% endfor %}</span> </center>  </td>\n                    <td colspan = \"\"> <center>  <span style = \"font-size:10px; line-height:0.6\"> {% for d in doc.measurements %} {{ d.option }} {% if not loop.last %}, {% endif%} {% endfor %}</span> </center>  </td>\n                    <td colspan = \"\"> <center>  <span style = \"font-size:10px; line-height:0.6\">{{ doc.wastage_percentage }}</span> </center>  </td>\n                    <td colspan = \"\"> <center>  <span style = \"font-size:10px; line-height:0.6\">{{ doc.coating_position }}</span> </center>  </td>\n                </tr>\n\n            </table>\n    </div>\n\n<table class = \"custom_print table table-sm table-bordered \" style = \"width:100%\" border = \"1\" id=\"main_tab\"> \n\n\n    <thead> \n        <tr style = \"background-color:#FBFCFC;color:black \" > \n            <th style=\"width:3%;\"> <b>No</b> </th>\n            <th style=\"width:5%;\"> <b>Item Code</b> </th>\n            <th style=\"width:15%;\"> <b>Item Name</b> </th>\n            <th  class=\"text-center\" style=\"width:6%;\"><b> Width </b></th>\n            <th  class=\"text-center\" style=\"width:6%;\"><b> Height </b></th>\n            <th  class=\"text-center\" style=\"width:5%;\"><b> Pcs </b></th>\n            <th  class=\"text-center\" style=\"width:5%;\"><b> Qty </b></th>\n            <th  class=\"text-center\" style=\"width:10%;\"><b> Rate </b></th>\n            <th  class=\"text-center\" style=\"width:8%;\"><b> Amount </b></th>\n            <th  class=\"text-center\" style=\"width:6%;\"><b> Chargeable Size </b></th>\n            <th  class=\"text-center\" style=\"width:5%;\"><b> Wastage</b></th>\n            <th  class=\"text-center\" style=\"width:5%;\"><b> Inc Wastage</b></th>\n            <th style=\"width:16%;\"> <b>Additional Notes</b> </th>\n            \n        </tr>\n    </thead>\n    <thead> \n         <tr> \n                            <th class=\"li_high\"><b>Item Group</b> </th>\n                            <th colspan=\"5\" class=\"li_high\"><b>Item Code </b> </th>\n                            <th colspan=\"5\" class=\"li_high\"> <b>Item Name</b> </th>\n                            <th class=\"li_high\"><b> Qty</b> </th>\n                            <th class=\"li_high\"><b> Price Type</b> </th>\n                        </tr>\n    </thead>\n{% for i in doc.material_boq %}\n        <tr>\n            <td style=\"\"> <b> {{i.idx}} </b>  </td>\n            <td style=\"\"> <b>{{i.item_code}}  </b> </td>\n            <td style=\"\"><b> {{i.item_name}}   </b></td>\n            <td style=\"\"><b> {{i.width }}  </b></td>\n            <td style=\"\"><b> {{i.height }} </b> </td>\n            <td style=\"\"><b> {{i.pcs }} </b> </td>\n            {% if tot_pcs.update({\"tot_pcs\": tot_pcs[\"tot_pcs\"] + i.pcs}) %} {% endif %}\n            <td style=\"\"><b> {{i.qty }}</b> </td>\n            {% if tot_qty.update({\"tot_qty\": tot_qty[\"tot_qty\"] + i.qty}) %} {% endif %}\n            <td style=\"\"><b> {{i.get_formatted(\"rate\") }} </b> </td>\n            \n             {% set in_vat = '' %}\n\n        {% set total_tax_percentage = i.total_tax_percentage |replace(\"%\", \"\")  %}   \n        {% set ex_vat  =  ((i.amount|float / 100) * total_tax_percentage|int)  %}\n        \n        \n        {% set in_vat  =  i.amount  / 100 * total_tax_percentage | int  %}\n        <td style=\"\"><b>\n\n    \n  {{ '{0:,.2f}'.format(i.amount | float ) }} \n\n                {% if total_amount.update({\"total_amount\": total_amount[\"total_amount\"] + i.amount}) %} {% endif %}\n            </b></td>\n            <td style=\"\"><b> {{i.chargeable_size }} </b></td>\n           \n            {% set westage = i.wastage_rate * i.qty%}\n            \n               <td style=\"\"> <b>{{'{0:,.2f}'.format(westage)}}</b> </td>\n            \n            {% set inc_westage = i.wastage_per /(i.wastage_per+100) %}\n            \n            <td style=\"\"> <b>{{'{0:,.2f}'.format(inc_westage)}} </b></td>\n            <td style=\"\"><b> posa notes   </b></td>\n                \n            \n        </tr>\n    \n\n{% set unique_groups = [] %} \n{% for li in doc.components %}\n{% if li.item_group %}\n{% set grps = li.item_group  %} \n{% else %}\n{% set grps = frappe.db.get_value(\"Item\", li.item_code, \"item_group\")  %} \n{% endif %}\n{% if not grps in unique_groups %}\n{% if li.item_detail == i.name %}\n{% set gg = unique_groups.append(grps) %}\n{% endif %}\n{% endif %}\n{% endfor %}\n            {% for ug in unique_groups %}\n            \n            {% set final = [] %}\n            {% set final_detail = [] %}\n                \t\t{% set count = 0 %}\n                \t\t{% for c in doc.components %}\n                \t\t\n                \t\t{% if c.item_group %}\n                        {% set grp = c.item_group  %} \n                        {% else %}\n                        {% set grp = frappe.db.get_value(\"Item\", c.item_code, \"item_group\")  %} \n                        {% endif %}\n                        \n                        {% set item_detailing = dict() %}\n                       \n                        {% if (ug == grp) and (c.item_detail == i.name)  %}\n                    \t{% set mum = item_detailing.update( {\"item_code\":c.item_code,\"item_name\":c.item_name, \"qty\":c.qty,\"price_type\":c.price_type} ) %}\n                \t\t{% set mum = final_detail.append(item_detailing) %}\n                \t\t{% endif %}\n\n                \t\t{% endfor %}\n                \t\t{% set mum = final_detail.append({\"item_code\" : \"\", \"qty\" : \"\", \"price_type\" : \"\"}) %}\n                \t\t\n                \t\t{% set total_qty = {\"total_qty\": 0} %}\n                \t\t{% for y in range((final_detail|length) -1) %}\n                \t\t{% if ((final_detail[y].item_code == final_detail[y+1].item_code) or (final_detail[y].item_code == final_detail[y-1].item_code)) %}\n                             {% if total_qty.update({\"total_qty\": total_qty[\"total_qty\"] + final_detail[y].qty }) %} {% endif %}\n                             \n                        {% endif %}\n                \t\t{% endfor %}\n                \t\t\n                \t\t{% if (total_qty.total_qty) %}\n                        {% set mum = final.append({\"item_code\" : final_detail[0].item_code, \"qty\" : total_qty.total_qty, \"price_type\" : final_detail[0].price_type}) %}\n                        {% endif %}\n                    \n                \t\t{% for z in range((final_detail|length) -1) %}\n                \t\t{% if (final_detail[z].item_code != final_detail[z+1].item_code) and (final_detail[z].item_code != final_detail[z-1].item_code) %}\n                \t\t{% if (final_detail[z].item_code) %}\n    \n                \t\t\n                             {% set mum = final.append({\"item_code\" : final_detail[z].item_code, \"qty\" : final_detail[z].qty, \"price_type\" : final_detail[z].price_type}) %}\n                    \n\n                        {% endif %}\n                        {% endif %}\n                \t\t{% endfor %}\n                \t\t\n                \t\t\n                \t{% for n in range((final|length)) %}\n                \t\t  <tr>\n                \t\t      {% if final[n].item_group %}\n                                {% set grps = final[n].item_group  %} \n                                {% else %}\n                                {% set grps = frappe.db.get_value(\"Item\",final[n].item_code,\"item_group\" )  %} \n                            {% endif %}\n                \t\t    <td class=\"li_high\" style=\"border:none !important;\">{{grps}} </td>\n                            <td class=\"li_high\" colspan=\"5\" style=\"border:none !important;\"> {{ final[n].item_code }}  </td>\n                            <td class=\"li_high\" colspan=\"5\" style=\"border:none !important;\">{{frappe.db.get_value(\"Item\",final[n].item_code,\"item_name\" )}}  </td>\n                            <td class=\"li_high\" style=\"border:none !important;\">{{final[n].qty}} </td>\n                            <td class=\"li_high\"  style=\"border:none !important;\">{{final[n].price_type }} </td>\n                        </tr>\n                \t\t{% endfor %}\n                \t\t\n                \t\t\n                \t\t{% endfor %}\n                 \n\n\n\n\n\n\n\n\n{% endfor %}\n                </table>\n\n    \n\n</div>\n\n        \n        \n        \n        \n        <table class = \"table table-sm\" >\n        \n        <tr> \n        <td colspan = \"\"> \n        <p  class = \"text-size-10\" > Created By: {{ doc.owner }} </p> \n        \n        <p  class = \"text-size-10\" > Created ON: {{ doc.get_formatted('creation')}} </p> \n        <p  class = \"text-size-10\" > \n    Authorized By:  {% if doc.docstatus==1 %} {{doc.owner}} {% endif %} \n    </p>\n\n        \n        </td>\n        <td colspan = \"4\" class = \"text-right\" > \n        \n        <table class = \"text-right\" style = '; width:100%; border:none' > \n            <tr class = \"text-right\" > \n                <td colspan = \"\" class = \"text-size-10 text-right\"  style=\"font-size:10px; font-weight:bold;\"> <b>  Total Qty </b> </td>\n                <td colspan = \"\" class = \"text-size-10 text-right\" style=\"font-size:10px; font-weight:bold;\"><b> \n                \n\n                                                 {{tot_qty.tot_qty}}\n                </b> </td>\n\n\n            </tr>\n            <tr class = \"text-right\" > \n                <td colspan = \"\" class = \"text-size-10 text-right\"  style=\"font-size:10px; font-weight:bold;\"> <b>  Total Pcs </b> </td>\n                <td colspan = \"\" class = \"text-size-10 text-right\" style=\"font-size:10px; font-weight:bold;\"><b> \n                \n\n                                                 {{ tot_pcs.tot_pcs }} \n                </b> </td>\n\n\n            </tr>\n            \n            <tr class = \"text-right\" > \n                <td colspan = \"\" class = \"text-size-10 text-right \" style=\"font-size:10px; font-weight:bold;\">  <b> Total Amount: </b>  </td>\n                <td colspan = \"\" class = \"text-size-10 text-right \" style=\"font-size:10px; font-weight:bold;\"> \n                \n                \n                <b>  \n                                                    {{ '{0:,.2f}'.format(total_amount.total_amount) }} \n\n                \n\n                \n                </b></td>\n            </tr>\n        </table>\n\n\n        </td>\n        </tr>\n        \n        \n</table>\n\n<div style=\"margin-top:1px; margin-bottom:1px;  border:1px solid black;\">\n     \n</div>\n{% if doc.docstatus==0 %}\n<div class ='watermark'>\n</div>\n{% endif %}\n\n\n\n\n{% set footer = frappe.db.get_value(\"Letter Head\", doc.letter_head, \"footer\") %}\n\n{% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(), \"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user}) %}\n{{ footer_updated }}\n\n\n    <div id=\"footer-html\" class=\"visible-pdf text-center  \" style = \"font-size:10px\" >\n        <p id=\"demo\"></p>\n        <div class=\"letter-head-footer text-size-10 text-center \"  style=\"font-size: 10px;\"  >\n            {{ footer }}\n        </div>\n        <p class=\"text-center small page-number visible-pdf\" style = \"font-size:10px\" >\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\n        </p>\n    </div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:54.647857",
  "module": "AQIQ Print Formats",
  "name": "BOQ Items Group by Components",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": ".watermark {\r\n    position: fixed;\r\n    top: 460px;\r\n    left: 220px;\r\n    right: 220px;\r\n    background: url(\"/files/draft-icon.jpg\");\r\n    background-repeat: no-repeat;\r\n    /*background-size: center;*/\r\n    height:160px;\r\n    width:50%;\r\n    background-position: center;\r\n    background-size: 100%;\r\n    color:black !important;\r\n    opacity: 0.1;\r\n    }\r\n@media print {\r\n    .watermark {\r\n    position: fixed;\r\n    top: 460px;\r\n    left: 220px;\r\n    right: 220px;\r\n    background: url(\"/files/draft-icon.jpg\");\r\n    background-repeat: repeat;\r\n    /*background-size: contain;*/\r\n    height:160px;\r\n    width:50%;\r\n    background-position: center;\r\n    background-size: 100%;\r\n    color:black !important;\r\n    opacity: 0.1;\r\n    }\r\n\r\n}\r\n\r\n",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "BOQ",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<div id=\"header-html\"   style = \"margin-top:-15px !important; width:95.2%; margin-left:15px !important\">\r\n    <div class = \"row\" style = \"\">\r\n        <div class = \"col-xs-10\" style = \"width:100%; float:left; border:1px solid black \">\r\n\r\n\r\n             {% set header = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1}, \"content\") %}\r\n            \r\n            <!--{% if doc.company == 'Impala Glass Industries Ltd' %}-->\r\n            <!--    {% set logo = \"/files/Impala.png\" %} {% elif doc.company == \"Impala Africa Ltd\" %} {% set logo = \"/files/impala-africa-logo.jpg\" %}-->\r\n            <!--{% endif %}-->\r\n            \r\n            \r\n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website',]) %}\r\n            \r\n            \r\n        \r\n        {% set comapny_address_line1 = '' %}        \r\n        {% set comapny_city = '' %}        \r\n        {% set comapny_counrty = '' %}        \r\n        {% set comapny_state = '' %}        \r\n        {% set phone = '' %}        \r\n\r\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\r\n\r\n        {% if company_address_name  %}\r\n            {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\r\n                \r\n\r\n        {% set comapny_address_line1 = address.address_line1 %}        \r\n        {% set comapny_city =  address.city  %}        \r\n        {% set comapny_counrty =  address.country  %}        \r\n        {% set comapny_state =  address.state  %}        \r\n\r\n        {% set phone = address.phone %}        \r\n\r\n        {% endif  %}\r\n\r\n\r\n            \r\n            \r\n            \r\n\r\n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \r\n            'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \r\n            'state' : comapny_state,\r\n            'phone_no' : phone, 'email' : company_details[0].email, 'pin_no': company_details[0].tax_id ,  'company_logo' : company_details[0].company_logo, 'website' : company_details[0].website,  }) %}\r\n            {{header_updated}}\r\n\r\n            \r\n            <table  class = \"table table-sm\" style = \"width:28%; \"> \r\n                <tr>\r\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:14px\"> BOQ</b> </span> </center>  </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Date </td> <td style = 'font-size:11px'>  \r\n                    \r\n\r\n                                                            {{ doc.get_formatted('date') }} \r\n                    \r\n                    </td>\r\n                </tr>\r\n\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> BOQ # </td> <td style = \"font-size:11px\"> {{doc.name}} </td>\r\n                </tr>\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Division </td> <td style = \"font-size:11px\">  {{doc.cost_center}} </td>\r\n                </tr>\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Project </td> <td style = \"font-size:11px\">  {{doc.project}} </td>\r\n                </tr>\r\n\r\n\r\n            </table>\r\n\r\n\r\n        </div>\r\n\r\n        <div class = \"col-xs-8\" style = 'float:left'>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n<table class = \"\"  style = \"width:100%; font-size:11px !important; border-bottom:0px solid black !important; margin-bottom: 0px;\"> \r\n    <tr> \r\n        <td style = \"width:40%\">  \r\n            <div style=\"font-size:13px; margin-bottom: 10px;\">  <b> Deliver To, </b></div>\r\n            <div><b>{{doc.customer_name}}</b></div>\r\n \r\n        </td>\r\n        <td style=\"20%\">\r\n            <img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\" class=\"center\" height=80px>\r\n        </td>\r\n        <td style = \"width:35%\">  \r\n            <table class = \"table table-sm; \" style = \"width:100%; margin-top:-1px !important;\" cellspacing = '0' cellpadding = '0'> \r\n            </table>\r\n        </td>\r\n    </tr>\r\n</table>\r\n\r\n\r\n{% if doc.docstatus==0 %}\r\n<div class ='watermark'>\r\n</div>\r\n{% endif %}\r\n\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:5px\" border = '1'> \r\n        <thead> \r\n    <tr> \r\n            <th style=\"width:2%\"> # </th>\r\n            <th style=\"width:13%\">  Item Code </th>\r\n            <th style=\"width:25%\">  Item Name </th>\r\n            <th style=\"\" class=\"text-center\">  Width </th>\r\n            <th style=\"\" class=\"text-center\">  Height </th>\r\n            <th style=\"\" class=\"text-center\">  PCS </th>\r\n            <th style=\"\" class=\"text-center\">  Qty </th>\r\n            <th style=\"\" class=\"text-center\">  UOM </th>\r\n            <th style=\"\" class=\"text-center\">  Project Activity </th>\r\n            <th style=\"\" class=\"text-center\">  Unit Section </th>\r\n            \r\n    </tr>\r\n        </thead>\r\n{% set tot_qty = {\"tot_qty\": 0} %}\r\n{% set tot_pcs = {\"tot_pcs\": 0} %}\r\n\r\n{% set total_sqms = {\"total_sqms\": 0.0} %}\r\n{% set total_pcs = {\"total_pcs\": 0.0} %}\r\n{% set total_meter = {\"total_meter\": 0.0} %}\r\n\r\n\r\n{% set uoms_object = {} %}\r\n{% for entry in doc.material_boq %}\r\n    {% if entry.uom not in uoms_object.keys() %}\r\n        {% set uoms_object = uoms_object.update({entry.uom: 0.0}) %} \r\n    {% endif %}\r\n{% endfor %}\r\n\r\n\r\n{% for row in doc.material_boq %}\r\n    {% if tot_qty.update({\"tot_qty\": tot_qty[\"tot_qty\"] + row.qty}) %} {% endif %}\r\n    \r\n    {% set pcs = frappe.db.get_value(\"Sales Order Item\", row.so_detail, \"pcs\") or 0.0 %}\r\n    {% if tot_pcs.update({\"tot_pcs\": tot_pcs[\"tot_pcs\"] + row.pcs}) %} {% endif %}\r\n    \r\n    {% set uoms_object = uoms_object.update({row.uom : uoms_object[row.uom] + row.qty})%}\r\n    \r\n    \r\n    \r\n    \r\n    \r\n        <tr>\r\n            <td style=\"\">{{ row.idx }}</td>\r\n            <td style=\"\">\r\n                {{ row.item_code }}\r\n            </td>\r\n            <td style=\"\">\r\n                {{ row.item_name }}\r\n            </td>\r\n            <td style=\"\" class=\"text-center\">\r\n                {{ row.width }}\r\n            </td>\r\n            <td style=\"\" class=\"text-center\">\r\n                {{ row.height }}\r\n            </td>\r\n            <td style=\"\" class=\"text-center\">\r\n                {{ row.pcs }}\r\n            </td>\r\n            <td style=\"\" class=\"text-center\">\r\n               \r\n                {{ row.qty }}\r\n            </td>\r\n            <td style=\"\" class=\"text-center\">\r\n                {{ row.uom }}\r\n            </td>\r\n            <td style=\"\" class=\"text-center\">\r\n                {{ row.project_activity }}\r\n            </td>\r\n            <td style=\"\" class=\"text-center\">\r\n                {{ row.unit_secession }}\r\n            </td>\r\n            \r\n\r\n        </tr>\r\n        \r\n        \r\n        {%- endfor -%}\r\n        <tr> \r\n            <td colspan=\"3\" class=\"text-right\"><b>Totals: </b>  </td>\r\n            <td class=\"text-center\"> <b></b></td>\r\n            <td class=\"text-center\"> <b></b></td>\r\n            <td class=\"text-center\"> <b>{{tot_pcs[\"tot_pcs\"]}}</b></td>\r\n            <td class=\"text-center\"> <b>{{tot_qty[\"tot_qty\"]|round(2)}}</b></td>\r\n            <td class=\"text-center\"> <b></b></td>\r\n            <td class=\"text-center\"> <b></b></td>\r\n            <td class=\"text-center\"> <b></b></td>\r\n        </tr>\r\n \r\n</table>\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr rowspan = \"1\" style = \"border-top: 1px solid black;  border-bottom: 1px solid black\">\r\n                \r\n                <!--<td colspan = \"1\" style='border: 1px solid black'> <b></b> </td>-->\r\n                {% for key, val in uoms_object.items() %}\r\n                <td colspan = \"2\" style='border: 1px solid black'> <b>Total {{key}} : {{val | round(2)}} </b> </td>\r\n                {% endfor %}\r\n    </tr>\r\n</table>\r\n\r\n{% if doc.docstatus==0 %}\r\n<div class ='watermark'>\r\n</div>\r\n{% endif %}\r\n\r\n<table width=100% style=\"width:100%; font-size:11px;  margin-top:8px\">\r\n    <tr width=100% style=\"border:1px solid black\">\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created By: {{ doc.owner }} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b>  </b></td>\r\n        \r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created ON: {{ doc.get_formatted('creation')}} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b> Authorized By:  {% if doc.docstatus==1 %} {{doc.owner}} {% endif %}  </b> </td>\r\n    </tr>\r\n    <tr width=100%>\r\n        <td colspan=\"2\" style=\"border:1px solid black; padding:0px !important; margin:0px !important;\"> \r\n        <div class = \"\" style. =\"padding:0px !important; margin:0px !important;\">\r\n    <table width=100% style=\"width:100%; padding:0px !important; margin:0px !important; font-size:11px;  margin-top:8px\">\r\n    \r\n    <tr width=100%>\r\n        <td width=100% style=\"font-size:11px; font-weight:bold; padding:0px !important; margin:0px !important;\"> <b> Vehicle Reg:  </b> </td>\r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=100% style=\" font-size:11px; font-weight:bold; padding:0px !important; margin:0px !important;\"><b> Collector Tel No:  </b> </td>\r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=100% style=\" font-size:11px; font-weight:bold; padding:0px !important; margin:0px !important;\"><b> Date:  </b> </td>\r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=100% style=\" font-size:11px; padding:0px !important; margin:0px !important;\"><b>[Goods Checked & Received in good order and condition] </b> </td>\r\n    </tr>\r\n</table>\r\n</div>\r\n        </td>\r\n        </tr>\r\n</table>\r\n\r\n\r\n<table width=100% style=\"width:100%; font-size:11px;  margin-top:8px\">\r\n    <tr width=100% style=\"border: 0 \">\r\n    <td colspan=\"2\" width=100%><i>To be filled by the customer:</i></td>\r\n    </tr>\r\n    <tr width=100% style=\"border:1px solid black\">\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Received By:  </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b> ID No.: </b></td>\r\n        \r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=50% height=60px style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Signature:  </b> </td>\r\n        <td width=50% height=60px style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b>     </b> </td>\r\n    </tr>\r\n\r\n    \r\n</table>\r\n\r\n\r\n    <!--<div  id = \"\" style = 'page-break-after :always;  ' >  </div>-->\r\n\r\n    <div class = 'text-center' style = \"font-size:12px; font-weight:600\" >General Terms and Conditions </div>\r\n\r\n<div class = \"\" style. =\"margin-top:-20px\">\r\n{{ doc.terms or \"\" }}\r\n</div>\r\n\r\n\r\n\r\n\r\n{% set footer = frappe.db.get_value(\"Letter Head\", doc.letter_head, \"footer\") %}\r\n\r\n{% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(), \"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user}) %}\r\n{{ footer_updated }}\r\n\r\n\r\n    <div id=\"footer-html\" class=\"visible-pdf text-center  \" style = \"font-size:10px\" >\r\n        <p id=\"demo\"></p>\r\n        <div class=\"letter-head-footer text-size-10 text-center \"  style=\"font-size: 10px;\"  >\r\n            {{ footer }}\r\n        </div>\r\n        <p class=\"text-center small page-number visible-pdf\" style = \"font-size:10px\" >\r\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\r\n        </p>\r\n    </div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:54.541946",
  "module": "AQIQ Print Formats",
  "name": "BOQ",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "",
  "custom_format": 0,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Work Order",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": "[{\"fieldname\": \"print_heading_template\", \"fieldtype\": \"Custom HTML\", \"options\": \"<div class=\\\"print-heading\\\">\\t\\t\\t\\t<h2><div>Work Order</div><br><small class=\\\"sub-heading\\\">{{ doc.name }}</small>\\t\\t\\t\\t</h2></div>\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"company\", \"print_hide\": 0, \"label\": \"Company\"}, {\"fieldname\": \"production_item\", \"print_hide\": 0, \"label\": \"Item To Manufacture\"}, {\"fieldname\": \"produced_qty\", \"print_hide\": 0, \"label\": \"Manufactured Qty\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"priority\", \"print_hide\": 0, \"label\": \"Priority\"}, {\"fieldname\": \"item_name\", \"print_hide\": 0, \"label\": \"Item Name\"}, {\"fieldname\": \"qty\", \"print_hide\": 0, \"label\": \"Qty To Manufacture\"}, {\"fieldtype\": \"Section Break\", \"label\": \"SO wise Items\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"so_items\", \"print_hide\": 0, \"label\": \"SO Items\", \"visible_columns\": [{\"fieldname\": \"item_code\", \"print_width\": \"150px\", \"print_hide\": 0}, {\"fieldname\": \"warehouse\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"planned_qty\", \"print_width\": \"100px\", \"print_hide\": 0}, {\"fieldname\": \"reserved_qty\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"pending_qty\", \"print_width\": \"100px\", \"print_hide\": 0}, {\"fieldname\": \"stock_uom\", \"print_width\": \"80px\", \"print_hide\": 0}, {\"fieldname\": \"produced_qty\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"sales_order\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"material_request\", \"print_width\": \"\", \"print_hide\": 0}]}, {\"fieldtype\": \"Section Break\", \"label\": \"Operations\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"transfer_material_against\", \"print_hide\": 0, \"label\": \"Transfer Material Against\"}, {\"fieldname\": \"operations\", \"print_hide\": 0, \"label\": \"Operations\", \"visible_columns\": [{\"fieldname\": \"operation\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"status\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"completed_qty\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"workstation\", \"print_width\": \"\", \"print_hide\": 0}]}, {\"fieldtype\": \"Section Break\", \"label\": \"More Information\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"stock_uom\", \"print_hide\": 0, \"label\": \"Stock UOM\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"material_request\", \"print_hide\": 0, \"label\": \"Material Request\"}]",
  "html": "",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:54.465245",
  "module": "AQIQ Print Formats",
  "name": "Work Order New",
  "page_number": "Hide",
  "print_format_builder": 1,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "    .qr-code-container {\r\n    width: 200px;\r\n    height: 200px;\r\n    border: 1px solid #000;\r\n    text-align: center;\r\n    margin: 0 auto;\r\n    padding: 10px;\r\n}",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Sales Invoice",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<style>\r\n    .print-format table, .print-format tr, \r\n    .print-format td, .print-format div, .print-format p {\r\n        line-height: 150%;\r\n        vertical-align: middle;\r\n    }\r\n\r\n\r\n    @media screen {\r\n        .print-format {\r\n            width: 80mm;\r\n            padding: 0.25in;\r\n            min-height: 8in;\r\n        }\r\n    }\r\n</style>\r\n\r\n<!--{% if letter_head %}-->\r\n<!--    {{ letter_head }}-->\r\n<!--{% endif %}-->\r\n\r\n\r\n\r\n\r\n            <!--{% if doc.company == 'Impala Glass Industries Ltd' %}-->\r\n            <!--    {% set logo = \"/files/Impala.png\" %} {% elif doc.company == \"Impala Africa Ltd\" %} {% set logo = \"/files/impala-africa-logo.jpg\" %}-->\r\n            <!--{% endif %}-->\r\n            \r\n            \r\n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'company_logo', 'esd_no']) %}\r\n            \r\n            {% set address = '' %}        \r\n            {% set shop_name = '' %}\r\n            {% set phone = '' %}\r\n            {% set tax_registration = '' %}\r\n            {% set company = doc.company %}   \r\n            {% set company_logo =  '' %} \r\n            {% set email =  '' %} \r\n            \r\n            {% if company_details %} {% set company_logo =  company_details[0].company_logo %}  {% endif %}\r\n            \r\n            \r\n            {% if doc.pos_profile %}\r\n\r\n\r\n{% set pos_profile = frappe.db.get_value(\"POS Profile\", {\"name\" : doc.pos_profile }, [\"address\",\"name\",\"phone\",\"phone_2\",\"tax_registration\" , \"email\"] , as_dict = 1) %}\r\n            {% if pos_profile %}             \r\n                    {% set address = pos_profile.address %}        \r\n                    {% set shop_name = pos_profile.name %}\r\n                    {% set phone = pos_profile.phone %}\r\n                    {% set phone_2 = pos_profile.phone_2 %}\r\n                    {% set email = pos_profile.email %}\r\n                    {% set tax_registration = pos_profile.tax_registration %}\r\n\r\n            {% endif %}             \r\n            \r\n    \r\n        {% endif %}             \r\n    \r\n\r\n\r\n<div class=\"text-center\"> 786 </div>\r\n\r\n<div class=\"\">\r\n     <img src=\"{{ company_logo }}\" style=\"height: 180px; width: 90%;\">\r\n</div>\r\n<div class=\"text-center text-upper\" style=\"text-transform: uppercase ; font-size: 13px; font-weight: 900;\"> \r\n{{ shop_name }}\r\n</div>\r\n<p class=\"text-center\"> {{ address  }} </p>\r\n\r\n<table class=\"table table-condensed\" style=\"margin: 0px; border-collapse: collapse; padding: 0px;\">\r\n    <tbody><tr> \r\n        <td> Tax Registration </td> <td> {{  doc.company_tax_id }}  </td>\r\n    </tr>\r\n</tbody></table>\r\n\r\n\r\n<div class=\"text-center\" style=\"font-size: 15px; font-weight: 900;\">\r\n{% if doc.is_return!=1 %}\r\n{{\"Cash Receipt\"}}\r\n{% else %}\r\n{{ \"Return\" }}\r\n{% endif %}\r\n</div>\r\n\r\n<p>\r\n    <b>{{ _(\"Date\") }}:</b> {{ doc.get_formatted(\"posting_date\") }} : {{  doc.get_formatted(\"posting_time\") }}<br>\r\n    <b>{{ _(\"Customer Code\") }}:</b> {{ doc.customer }}<br>\r\n    <b>{{ _(\"Customer\") }}:</b> {{ doc.customer_name }}<br>\r\n    {% if doc.tax_id %}\r\n        <b>{{ _(\"Pin\") }}:</b> {{ doc.tax_id }}<br>\r\n\r\n    {% endif %}\r\n    <b>{{ _(\"Invoice No\") }}:</b> {{ doc.name }}<br>\r\n    {% if doc.is_return==1%}\r\n    <b>{{ _(\"Tims Code\") }}:</b>{{ doc.tims_code or \"\" }}<br>\r\n    {% endif %}\r\n</p>\r\n    <div class=\"text-center\">\r\n    <img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\">\r\n    </div>\r\n\r\n<table class=\"table table-condensed\" style=\"margin: 0px; border-collapse: collapse; padding: 0px;\" >\r\n\r\n    <thead>\r\n        <tr>\r\n            <th width=\"40%\">{{ _(\"Item\") }}</th>\r\n            <th width=\"20%\" class=\"text-center\">{{ _(\"Qty\") }}</th>\r\n            <!--<th width=\"20%\" class=\"text-center\">{{ _(\"Unit\") }}</th>-->\r\n            <!--<th width=\"20%\" class=\"text-right\">{{ _(\"Amount\") }}</th>-->\r\n        </tr>\r\n    </thead>\r\n    <tbody>\r\n        {%- for item in doc.items -%}\r\n        <tr>\r\n            <td>\r\n                \r\n                {%- if item.item_name != item.item_code -%}\r\n                    {{ item.item_name }}\r\n                {%- endif -%}\r\n                {%- if item.serial_no -%}\r\n                    <br><b>{{ _(\"SR.No\") }}:</b><br>\r\n                    {{ item.serial_no | replace(\"\\n\", \", \") }}\r\n                {%- endif -%} \r\n                &nbsp;{{ item.item_code }}\r\n            </td>\r\n            <td class=\"text-center\">{{ item.qty }}</td>\r\n            <!--<td class=\"text-right\">{{ '{0:,.2f}'.format(item.rate  ) }}</td>-->\r\n            <!--<td class=\"text-right\">-->\r\n            <!--{{ '{0:,.2f}'.format(item.amount  ) }}-->\r\n                \r\n            <!--    </td>-->\r\n        </tr>\r\n        {%- endfor -%}\r\n    </tbody>\r\n</table>\r\n<table class=\"table table-condensed no-border\">\r\n    <tbody>\r\n         {% if doc.currency == 'KES' %}\r\n        <tr>\r\n                <td class=\"text-right\" style=\"width: 70%\">\r\n                    {{ _(\" Sub Total\") }}\r\n                </td>\r\n                <td class=\"text-right\">\r\n                {{ '{0:,.2f}'.format(doc.net_total ) }} \r\n                </td>\r\n        </tr>\r\n        <tr>\r\n                <td class=\"text-right\" style=\"width: 70%\">\r\n                    {{ _(\"Tax Amount\") }}\r\n                </td>\r\n                <td class=\"text-right\">\r\n                 {{ '{0:,.2f}'.format(doc.total_taxes_and_charges ) }}  \r\n                </td>\r\n        </tr>\r\n\r\n        \r\n        <tr>\r\n            <td class=\"text-right\" style=\"width: 75%\">\r\n                <b>{{ _(\"Grand Total\") }}</b>\r\n            </td>\r\n            <td class=\"text-right\">\r\n\r\n                                {{ '{0:,.2f}'.format(doc.grand_total  ) }}\r\n\r\n            </td>\r\n        </tr>\r\n    \r\n    \r\n\r\n        {%- else -%}\r\n        <tr>\r\n            {% if doc.flags.show_inclusive_tax_in_print %}\r\n                <td class=\"text-right\" style=\"width: 70%\">\r\n                    {{ _(\"Total Excl. Tax in KES\") }}\r\n                </td>\r\n                <td class=\"text-right\">\r\n\r\n                    \r\n                                {{ '{0:,.2f}'.format(doc.base_net_total  ) }}\r\n\r\n                </td>\r\n            {% else %}\r\n                <td class=\"text-right\" style=\"width: 70%\">\r\n                    {{ _(\"Total in KES\") }}\r\n                </td>\r\n                <td class=\"text-right\">\r\n\r\n                                {{ '{0:,.2f}'.format(doc.base_total  ) }}\r\n\r\n                </td>\r\n            {% endif %}\r\n        </tr>\r\n       \r\n\r\n        {%- if doc.base_discount_amount -%}\r\n        <tr>\r\n            <td class=\"text-right\" style=\"width: 75%\">\r\n                {{ _(\"Discount\") }}\r\n            </td>\r\n            <td class=\"text-right\">\r\n                                {{ '{0:,.2f}'.format(doc.base_discount_amount  ) }}\r\n\r\n\r\n            </td>\r\n        </tr>\r\n        {%- endif -%}\r\n        <tr>\r\n            <td class=\"text-right\" style=\"width: 75%\">\r\n                <b>{{ _(\"Grand Total\") }}</b>\r\n            </td>\r\n            <td class=\"text-right\">\r\n\r\n                                {{ '{0:,.2f}'.format(doc.base_grand_total  ) }}\r\n\r\n            </td>\r\n        </tr>\r\n    \r\n        {%- endif -%}\r\n    </tbody>\r\n</table>\r\n<p class=\"text-center\"><b>Note: </b>\r\n        {% if doc.posa_notes %}\r\n        {{doc.posa_notes}} \r\n        {% endif %}\r\n</p>\r\n\r\n{% set mode_of_payment = {'mode_of_payment' : '' } %}\r\n{% for row in doc.payments %}\r\n{% if row.amount!= 0.0 %}\r\n{% if mode_of_payment.update({'mode_of_payment' : mode_of_payment['mode_of_payment'] + row.mode_of_payment + ', '}) %} {% endif %}\r\n{% endif %}\r\n{% endfor %}\r\n<p class=\"text-left\"><b>Mode of Payment: </b>{{mode_of_payment['mode_of_payment']}}</p>\r\n<hr>\r\n\r\n    <div style=\"display: flex; align-items: center; margin-right: 10px;\">\r\n        <div style=\"width: 100px; height: 100px; margin-right: 10px;\">\r\n         \r\n            <img src=\"{{doc.kra_qr_code}}\" alt=\"KRA QR Code here\" width=\"100\" height=\"100\">\r\n        </div>\r\n        <div style=\"position: relative; bottom:0\">\r\n            <p style=\"margin: 0;\"><br><br><br><br>\r\n            {{ doc.tsin or ''}}, {{ doc.cusn or '' }}, {{ doc.signing_time or ''}} <br> {{ doc.cuin   or ''}}\r\n            </p>\r\n        </div>\r\n    </div>\r\n\r\n<div style=\"margin-top:1px; margin-bottom:1px;  border:1px solid black;\"></div>\r\n<div class = 'text-center' style = \"font-size:12px;\" >Goods sold as per our terms & condition, to view the same visit <a href=\"https://impalaglass.com/tnc/\">impalaglass.com/tnc</a></div>\r\n\r\n\r\n\r\n{% if doc.is_return!=1 %}\r\n<div style = \"font-size:13px\"> \r\n    <center>\r\n        <p> Please Come Again </p>\r\n        <p>  <span>{{ phone or \"\"}}</span>  <span>{{ phone_2 or \"\"}}</span> </p>\r\n\r\n        <p class=\"text-center\"> {{ email  }} </p>\r\n\r\n        <p> <b>\r\n        Goods Once Sold Cannot Be Returned\r\n </b>        \r\n        </p>\r\n    </center>\r\n</div>\r\n{% endif %}",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:54.362479",
  "module": "AQIQ Print Formats",
  "name": "VAN POS Sales",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "    .qr-code-container {\r\n    width: 200px;\r\n    height: 200px;\r\n    border: 1px solid #000;\r\n    text-align: center;\r\n    margin: 0 auto;\r\n    padding: 10px;\r\n}",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "POS Invoice",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<style>\r\n    .print-format table, .print-format tr, \r\n    .print-format td, .print-format div, .print-format p {\r\n        line-height: 150%;\r\n        vertical-align: middle;\r\n    }\r\n\r\n\r\n    @media screen {\r\n        .print-format {\r\n            width: 80mm;\r\n            padding: 0.25in;\r\n            min-height: 8in;\r\n        }\r\n    }\r\n</style>\r\n\r\n<!--{% if letter_head %}-->\r\n<!--    {{ letter_head }}-->\r\n<!--{% endif %}-->\r\n\r\n\r\n\r\n\r\n            <!--{% if doc.company == 'Impala Glass Industries Ltd' %}-->\r\n            <!--    {% set logo = \"/files/Impala.png\" %} {% elif doc.company == \"Impala Africa Ltd\" %} {% set logo = \"/files/impala-africa-logo.jpg\" %}-->\r\n            <!--{% endif %}-->\r\n            \r\n            \r\n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'company_logo', 'esd_no']) %}\r\n            \r\n            {% set address = '' %}        \r\n            {% set shop_name = '' %}\r\n            {% set phone = '' %}\r\n            {% set tax_registration = '' %}\r\n            {% set company = doc.company %}   \r\n            {% set company_logo =  '' %} \r\n            {% set email =  '' %} \r\n            \r\n            {% if company_details %} {% set company_logo =  company_details[0].company_logo %}  {% endif %}\r\n            \r\n            \r\n            {% if doc.pos_profile %}\r\n\r\n\r\n{% set pos_profile = frappe.db.get_value(\"POS Profile\", {\"name\" : doc.pos_profile }, [\"address\",\"name\",\"phone\",\"phone_2\",\"tax_registration\" , \"email\"] , as_dict = 1) %}\r\n            {% if pos_profile %}             \r\n                    {% set address = pos_profile.address %}        \r\n                    {% set shop_name = pos_profile.name %}\r\n                    {% set phone = pos_profile.phone %}\r\n                    {% set phone_2 = pos_profile.phone_2 %}\r\n                    {% set email = pos_profile.email %}\r\n                    {% set tax_registration = pos_profile.tax_registration %}\r\n\r\n            {% endif %}             \r\n            \r\n    \r\n        {% endif %}             \r\n    \r\n\r\n\r\n<div class=\"text-center\"> 786 </div>\r\n\r\n<div class=\"\">\r\n     <img src=\"{{ company_logo }}\" style=\"height: 180px; width: 90%;\">\r\n</div>\r\n<div class=\"text-center text-upper\" style=\"text-transform: uppercase ; font-size: 13px; font-weight: 900;\"> \r\n{{ shop_name }}\r\n</div>\r\n<p class=\"text-center\"> {{ address  }} </p>\r\n\r\n<table class=\"table table-condensed\" style=\"margin: 0px; border-collapse: collapse; padding: 0px;\">\r\n    <tbody><tr> \r\n        <td> Tax Registration </td> <td> {{  doc.company_tax_id }}  </td>\r\n    </tr>\r\n</tbody></table>\r\n\r\n\r\n<div class=\"text-center\" style=\"font-size: 15px; font-weight: 900;\">\r\n{% if doc.is_return!=1 %}\r\n{{\"Cash Receipt\"}}\r\n{% else %}\r\n{{ \"Return\" }}\r\n{% endif %}\r\n</div>\r\n\r\n<p>\r\n    <b>{{ _(\"Date\") }}:</b> {{ doc.get_formatted(\"posting_date\") }} : {{  doc.get_formatted(\"posting_time\") }}<br>\r\n    <b>{{ _(\"Customer\") }}:</b> {{ doc.customer_name }}<br>\r\n    {% if doc.tax_id %}\r\n        <b>{{ _(\"Pin\") }}:</b> {{ doc.tax_id }}<br>\r\n\r\n    {% endif %}\r\n    <b>{{ _(\"Invoice No\") }}:</b> {{ doc.name }}<br>\r\n    {% if doc.is_return==1%}\r\n    <b>{{ _(\"Tims Code\") }}:</b>{{ doc.tims_code or \"\" }}<br>\r\n    {% endif %}\r\n</p>\r\n    <div class=\"text-center\">\r\n    <img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\">\r\n    </div>\r\n\r\n<table class=\"table table-condensed\" style=\"margin: 0px; border-collapse: collapse; padding: 0px;\" >\r\n\r\n    <thead>\r\n        <tr>\r\n            <th width=\"40%\">{{ _(\"Item\") }}</th>\r\n            <th width=\"20%\" class=\"text-center\">{{ _(\"Qty\") }}</th>\r\n            <!--<th width=\"20%\" class=\"text-center\">{{ _(\"Unit\") }}</th>-->\r\n            <!--<th width=\"20%\" class=\"text-right\">{{ _(\"Amount\") }}</th>-->\r\n        </tr>\r\n    </thead>\r\n    <tbody>\r\n        {%- for item in doc.items -%}\r\n        <tr>\r\n            <td>\r\n                \r\n                {%- if item.item_name != item.item_code -%}\r\n                    {{ item.item_name }}\r\n                {%- endif -%}\r\n                {%- if item.serial_no -%}\r\n                    <br><b>{{ _(\"SR.No\") }}:</b><br>\r\n                    {{ item.serial_no | replace(\"\\n\", \", \") }}\r\n                {%- endif -%} \r\n                &nbsp;{{ item.item_code }}\r\n            </td>\r\n            <td class=\"text-center\">{{ item.qty }}</td>\r\n            <!--<td class=\"text-right\">{{ '{0:,.2f}'.format(item.rate  ) }}</td>-->\r\n            <!--<td class=\"text-right\">-->\r\n            <!--{{ '{0:,.2f}'.format(item.amount  ) }}-->\r\n                \r\n            <!--    </td>-->\r\n        </tr>\r\n        {%- endfor -%}\r\n    </tbody>\r\n</table>\r\n<table class=\"table table-condensed no-border\">\r\n    <tbody>\r\n         {% if doc.currency == 'KES' %}\r\n        <tr>\r\n                <td class=\"text-right\" style=\"width: 70%\">\r\n                    {{ _(\" Sub Total\") }}\r\n                </td>\r\n                <td class=\"text-right\">\r\n                {{ '{0:,.2f}'.format(doc.net_total ) }} \r\n                </td>\r\n        </tr>\r\n        <tr>\r\n                <td class=\"text-right\" style=\"width: 70%\">\r\n                    {{ _(\"Tax Amount\") }}\r\n                </td>\r\n                <td class=\"text-right\">\r\n                 {{ '{0:,.2f}'.format(doc.total_taxes_and_charges ) }}  \r\n                </td>\r\n        </tr>\r\n\r\n        \r\n        <tr>\r\n            <td class=\"text-right\" style=\"width: 75%\">\r\n                <b>{{ _(\"Grand Total\") }}</b>\r\n            </td>\r\n            <td class=\"text-right\">\r\n\r\n                                {{ '{0:,.2f}'.format(doc.grand_total  ) }}\r\n\r\n            </td>\r\n        </tr>\r\n    \r\n    \r\n\r\n        {%- else -%}\r\n        <tr>\r\n            {% if doc.flags.show_inclusive_tax_in_print %}\r\n                <td class=\"text-right\" style=\"width: 70%\">\r\n                    {{ _(\"Total Excl. Tax in KES\") }}\r\n                </td>\r\n                <td class=\"text-right\">\r\n\r\n                    \r\n                                {{ '{0:,.2f}'.format(doc.base_net_total  ) }}\r\n\r\n                </td>\r\n            {% else %}\r\n                <td class=\"text-right\" style=\"width: 70%\">\r\n                    {{ _(\"Total in KES\") }}\r\n                </td>\r\n                <td class=\"text-right\">\r\n\r\n                                {{ '{0:,.2f}'.format(doc.base_total  ) }}\r\n\r\n                </td>\r\n            {% endif %}\r\n        </tr>\r\n       \r\n\r\n        {%- if doc.base_discount_amount -%}\r\n        <tr>\r\n            <td class=\"text-right\" style=\"width: 75%\">\r\n                {{ _(\"Discount\") }}\r\n            </td>\r\n            <td class=\"text-right\">\r\n                                {{ '{0:,.2f}'.format(doc.base_discount_amount  ) }}\r\n\r\n\r\n            </td>\r\n        </tr>\r\n        {%- endif -%}\r\n        <tr>\r\n            <td class=\"text-right\" style=\"width: 75%\">\r\n                <b>{{ _(\"Grand Total\") }}</b>\r\n            </td>\r\n            <td class=\"text-right\">\r\n\r\n                                {{ '{0:,.2f}'.format(doc.base_grand_total  ) }}\r\n\r\n            </td>\r\n        </tr>\r\n    \r\n        {%- endif -%}\r\n    </tbody>\r\n</table>\r\n<p class=\"text-center\"><b>Note: </b>\r\n        {% if doc.posa_notes %}\r\n        {{doc.posa_notes}} \r\n        {% endif %}\r\n</p>\r\n\r\n{% set mode_of_payment = {'mode_of_payment' : '' } %}\r\n{% for row in doc.payments %}\r\n{% if row.amount!= 0.0 %}\r\n{% if mode_of_payment.update({'mode_of_payment' : mode_of_payment['mode_of_payment'] + row.mode_of_payment + ', '}) %} {% endif %}\r\n{% endif %}\r\n{% endfor %}\r\n<p class=\"text-left\"><b>Mode of Payment: </b>{{mode_of_payment['mode_of_payment']}}</p>\r\n<hr>\r\n\r\n    <div style=\"display: flex; align-items: center; margin-right: 10px;\">\r\n        <div style=\"width: 100px; height: 100px; margin-right: 10px;\">\r\n         \r\n            <img src=\"{{doc.kra_qr_code}}\" alt=\"KRA QR Code here\" width=\"100\" height=\"100\">\r\n        </div>\r\n        <div style=\"position: relative; bottom:0\">\r\n            <p style=\"margin: 0;\"><br><br><br><br>\r\n            {{ doc.tsin or ''}}, {{ doc.cusn or '' }}, {{ doc.signing_time or ''}} <br> {{ doc.cuin   or ''}}\r\n            </p>\r\n        </div>\r\n    </div>\r\n\r\n\r\n\r\n\r\n{% if doc.is_return!=1 %}\r\n<div style = \"font-size:13px\"> \r\n    <center>\r\n        <p> Please Come Again </p>\r\n        <p>  <span>{{ phone or \"\"}}</span>  <span>{{ phone_2 or \"\"}}</span> </p>\r\n\r\n        <p class=\"text-center\"> {{ email  }} </p>\r\n\r\n        <p> <b>\r\n        Goods Once Sold Cannot Be Returned\r\n </b>        \r\n        </p>\r\n    </center>\r\n</div>\r\n{% endif %}",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:54.259411",
  "module": "AQIQ Print Formats",
  "name": "VAN Sales POS",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "@media screen,pdf {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n \r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\nmargin-top-15{\r\n    margin-top:15px;\r\n}\r\n \r\n   .text-size-9{\r\n     font-size:9px;\r\n }\r\n \r\n    }\r\n    \r\n@media print {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n }\r\n \r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n  .text-size-9{\r\n     font-size:9px;\r\n }\r\n \r\n table.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n \r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n@media screen {\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n\r\n  .text-size-9{\r\n     font-size:11px;\r\n }\r\n}\r\n\r\n.amount-val{\r\n   color:darkgrey;\r\n   bottom:20px;\r\n   position:relative;\r\n}\r\n\r\n.watermark {\r\n  position: relative;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  overflow: hidden;\r\n}\r\n\r\n.watermark::before {\r\n  content: \"DRAFT\";\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%) rotate(-45deg);\r\n  font-size: 100px;\r\n  color: rgba(255, 0, 0, 0.2); \r\n  font-family: \"Helvetica Neue\", sans-serif;\r\n  pointer-events: none;\r\n}\r\n\r\n.watermark {\r\n    position: fixed;\r\n    top:70px;\r\n    left:11%;\r\n    right:10%;\r\n    background: url(\"http://192.241.152.17/files/draft-background.png\");\r\n    background-repeat: no-repeat;\r\n    height:700px;\r\n    width:80%;\r\n    /*background-position: center;*/\r\n    background-size: 100%;\r\n    opacity: 0.5;\r\n    }\r\n\r\n\r\n.days_tab {\r\n    position: relative;\r\n}\r\n\r\n.barchart-Wrapper {\r\n      display: table;\r\n      position: relative;\r\n      margin: 20px 0;\r\n      height: 120px;\r\n    }\r\n    .barChart-Container {\r\n      display: table-cell;\r\n      width: 100%;\r\n      height: 100%;\r\n      padding-left: 20px;\r\n      padding-right: 20px;\r\n    }\r\n    .barchart {\r\n     display: table;\r\n     table-layout: fixed;\r\n     height: 100%;\r\n     width: 100%;\r\n     border-bottom: 3px solid darkgrey;\r\n    }\r\n    .barchart-Col {\r\n      position: relative;\r\n      vertical-align: bottom;\r\n      display: table-cell;\r\n      height: 100%;\r\n    }\r\n    .barchart-Col + .barchart-Col {\r\n      border-left: 4px solid transparent;\r\n    }\r\n    .barchart-Bar {\r\n      position: static;\r\n      height: 0;\r\n      transition: height 0.5s 2s;\r\n      width: 10px;\r\n      margin: auto;\r\n    }\r\n    .barchart-Bar:after {\r\n      content: attr(attr-height);\r\n      color: white;\r\n      position: absolute;\r\n      text-align: center;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter {\r\n      position: absolute;\r\n      text-align: center;\r\n      left:40px;\r\n      height: 10%;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter h3 {\r\n      color: darkred;\r\n    }\r\n    .barchart-TimeCol {\r\n      position: absolute;\r\n      top: 0;\r\n      height: 100%;\r\n      width: 100%;\r\n    }\r\n    .barchart-Time {\r\n      height: 25%;\r\n      vertical-align: middle;\r\n      position: relative;\r\n    }\r\n    .barchart-Time:after {\r\n      border-bottom: 3px solid white;\r\n      content: \"\";\r\n      position: absolute;\r\n      width: 100%;\r\n      left: 0;\r\n      top: 0em;\r\n    }\r\n    .barchart-TimeText {\r\n      position: absolute;\r\n      top: -8px;\r\n      z-index: 1;\r\n      background: white;\r\n      padding-right: 5px;\r\n      color: #4d4d4d;\r\n      font-size: 15px;\r\n      font-family: 'Avenir Medium';\r\n    }\r\n    .sq1-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq1-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq2-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq2-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq3-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq3-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq4-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq4-bar {\r\n      background-color: #a61a17;\r\n    }",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Sales Invoice",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "{% if doc.is_return == 1 %}\r\n\r\n<div id=\"header-html\"   style = \"margin-top:5px !important; width:95.2%; margin-left:15px !important\">\r\n    <div class = \"row\" style = \"\">\r\n        <div class = \"col-xs-10\" style = \"width:100%; float:left; border:1px solid black \">\r\n{% set header = frappe.db.get_value(\"Letter Head\", \"Ezzy Letter Head\", \"content\") %}\r\n            \r\n            <!--{% if doc.company == 'Impala Glass Industries Ltd' %}-->\r\n            <!--    {% set logo = \"/files/Impala.png\" %} {% elif doc.company == \"Impala Africa Ltd\" %} {% set logo = \"/files/impala-africa-logo.jpg\" %}-->\r\n            <!--{% endif %}-->\r\n            \r\n            \r\n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company},\r\n            fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website', 'esd_no' ]) %}\r\n            \r\n            \r\n        \r\n        {% set comapny_address_line1 = '' %}        \r\n        {% set comapny_city = '' %}        \r\n        {% set comapny_counrty = '' %}        \r\n        {% set comapny_state = '' %}        \r\n        {% set phone = '' %}        \r\n\r\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\r\n\r\n        {% if company_address_name  %}\r\n            {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\r\n                \r\n\r\n        {% set comapny_address_line1 = address.address_line1 %}        \r\n        {% set comapny_city =  address.city  %}        \r\n        {% set comapny_counrty =  address.country  %}        \r\n        {% set comapny_state =  address.state  %}        \r\n\r\n        {% set phone = address.phone %}        \r\n\r\n        {% endif  %}\r\n\r\n            {% set new_company_logo = \"https://impala.aqiq.net/files/Ezzy.png\" %}\r\n            {% set email = \" finance@impala.co.ke\" %}\r\n            {% if company_details %}\r\n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \r\n            'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \r\n            'state' : comapny_state,\r\n            'phone_no' : phone, 'email' : email, 'pin_no': company_details[0].tax_id ,  'company_logo' : new_company_logo,\r\n            'website' : company_details[0].website,  }) %}\r\n            {{header_updated}}\r\n            {% endif %}\r\n            \r\n            \r\n            <table  class = \"table table-sm\" style = \"width:28%; \"> \r\n                <tr>\r\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:14px\"> CREDIT NOTE </b> </span> </center>  </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Date </td> <td style = 'font-size:11px'>  {{ frappe.utils.formatdate(doc.get_formatted('posting_date'), \"dd-mm-yyyy\") }}  </td>\r\n                </tr>\r\n\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> CR # </td> <td style = \"font-size:10px\">  {{ doc.name }}</td>\r\n                </tr>\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Division </td> <td style = \"font-size:11px\">  {{ doc.cost_center }} </td>\r\n                </tr>\r\n            </table>\r\n\r\n        </div>\r\n\r\n        <div class = \"col-xs-8\" style = 'float:left'>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n\r\n\r\n<table class = \"\"  style = \"width:100%; font-size:11px !important; border-bottom:1px solid black !important;\"> \r\n    <tr> \r\n        <td style = \"width:40%;\" >  \r\n            <div>  <b style=\"font-size:13px\"> Return From: </b></div>\r\n            <div> <b> {{ doc.customer }} </b> </div>\r\n            <div> <b> {{ doc.customer_name }} </b> </div>\r\n            <div style = \"height:80px;\"> {{ doc.address_display }} </div>\r\n            <div> \r\n            <div class=\"\" style = 'font-size:11px;'> Customer Pin # : <span style = 'visibility:hidden;' >______</span> <b class=\"\" style = 'font-size:11px'> {{ doc.tax_id or \"\" }}  </b></div>\r\n            </div>\r\n           \r\n        </td>\r\n        <td style=\"20%\">\r\n            <img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\" class=\"center\" height=100px>\r\n        </td>\r\n        <td style = \"width:35%;\">\r\n            <table class = \"table table-sm; \" style = \"width:100%; margin-top:-1px !important;\" cellspacing = '0' cellpadding = '0'> \r\n                <!--<tr>-->\r\n                <!--    <td style = 'font-size:11px'> INV Date: </td> <td style = 'font-size:11px'>  {{ doc.posting_date }} </td>-->\r\n                <!--</tr>-->\r\n                <!--<tr>-->\r\n                <!--    <td style = 'font-size:11px'> INV #. </td> <td style = 'font-size:11px'>  {{ doc.name }} </td>-->\r\n                <!--</tr>-->\r\n                <!--<tr>-->\r\n                <!--    <td style = 'font-size:11px'> SR #. </td> <td style = 'font-size:11px'>  {{doc.name}} </td>-->\r\n                <!--</tr>-->\r\n                <tr>\r\n                    <td style = 'font-size:11px'> RINV #. </td> <td style = 'font-size:11px'> {{doc.return_against}} </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Sales Person </td>\r\n                    {% set salesman = [] %}\r\n                    {% for i in doc.sales_team %}\r\n                        {% set salesman = salesman.append(i.get(\"sales_person\")) %}\r\n                    {% endfor %}\r\n                    {% set sales_team = salesman|join(', ') %}\r\n                    \r\n                    <td style = 'font-size:11px'>{{sales_team}}</td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Currency: </td> <td style = 'font-size:11px'> {{doc.currency}} </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> TIMS Code: </td> <td style = 'font-size:11px'> {{doc.tims_code}} </td>\r\n                </tr>\r\n            </table>\r\n        </td>\r\n    </tr>\r\n</table>\r\n<table class=\"table table-sm\" style=\"width: 100%; font-size: 9px; margin-top: 10px; border-collapse: collapse;\">\r\n    <tr style=\"height: 40px; border: 1px solid black;\">\r\n        <td style=\"\"><b>Return Reason:</b></td>\r\n        <td style=\"text-align: left; border-left: none;\">{{doc.return_reason}}</td>\r\n        <td style=\"\"><b>Return Against:</b></td>\r\n        <td style=\"text-align: left; border-left: none;\">{{doc.return_against or ''}}</td>\r\n    </tr>\r\n    <tr style=\"height: 40px; border: 1px solid black;\">\r\n        <td style=\"border-left: none;\"><b>Additional Notes:</b></td>\r\n        <td colspan=\"3\"><p style=\"text-align: left;\">{{doc.posa_notes}}</p></td>\r\n    </tr>\r\n</table>\r\n\r\n\r\n<table  class = 'table table-sm' style = \"width:100%; font-size:9px;  margin-top:10px\" border = '1'> \r\n    <tr> \r\n        <thead> \r\n            <th class=\"text-left text-size-9 \" style = \"\"  >  # </th>\r\n            <th class=\"text-left text-size-9 \">  Item Code </th>\r\n            <th class=\"text-left text-size-9 \">  Item Name </th>\r\n            <th class=\"text-right text-size-9 \">  Qty </th>\r\n\r\n            <th class=\"text-right text-size-9 \">  Unit Price </th>\r\n            <th class=\"text-right text-size-9 \">  Total Amount </th>\r\n\r\n        </thead>\r\n    </tr>\r\n{% set total_ex_vat = {\"total_ex_vat\": 0.0} %}\r\n{% set total_in_vat = {\"total_in_vat\": 0.0} %}\r\n{% set total_amount = {\"total_amount\": 0} %}\r\n{% set total_rate = {\"total_rate\": 0} %}\r\n{% set gross_total = {\"gross_total\": 0} %}\r\n{% set total_inclusive = {\"total_inclusive\": 0} %}\r\n{% set tax_type = doc.tax_type  %}\r\n\r\n{% for row in doc.items %}\r\n    {% if total_amount.update({\"total_amount\": total_amount[\"total_amount\"] + row.qty * row.rate}) %} {% endif %}\r\n    \r\n        <tr>\r\n            <td style=\"\" class=\"text-left text-size-9 \">{{ row.idx }}</td>\r\n            <td style=\"\" class=\"text-left text-size-9 \">\r\n                {{ row.item_code }}\r\n            </td>\r\n            <td style=\"\" class=\"text-left text-size-9 \">\r\n                {{ row.item_name }}\r\n            </td>\r\n            <td style=\"\" class=\"text-right text-size-9 \">\r\n                {{ row.qty|abs }}\r\n            </td>\r\n    \r\n\r\n            <td style=\"\" class=\"text-right text-size-9 \">\r\n\r\n  {{ '{0:,.2f}'.format(row.rate  ) }} \r\n\r\n        {% if total_rate.update({\"total_rate\": total_rate[\"total_rate\"] + row.rate }) %} {% endif %}\r\n            </td>\r\n        \r\n        {% set in_vat = '' %}\r\n\r\n        {% set total_tax_percentage = row.total_tax_percentage |replace(\"%\", \"\")  %}   \r\n        {% set ex_vat  =  ((row.net_amount|float / 100) * total_tax_percentage|int)  %}\r\n        \r\n        \r\n        {% set in_vat  =  row.net_amount  / 100 * total_tax_percentage | int  %}\r\n           \r\n            <td style=\"\" class=\"text-right text-size-9 \">\r\n            {% set total_inlusive_temp = ''  %}\r\n\r\n            {% if tax_type == 'Exclusive' %}\r\n\r\n                {% set total_inlusive_temp = ex_vat + row.net_amount  %}\r\n            \r\n                  {{ '{0:,.2f}'.format(total_inlusive_temp|abs ) }} \r\n\r\n                \r\n                {% if total_inclusive.update({\"total_inclusive\": total_inclusive[\"total_inclusive\"] + total_inlusive_temp}) %} {% endif %}\r\n                \r\n\r\n            {% else  %}\r\n\r\n                {% set total_inlusive_temp =  row.net_amount + in_vat   %}\r\n                {% if total_inclusive.update({\"total_inclusive\": total_inclusive[\"total_inclusive\"] + total_inlusive_temp}) %} {% endif %}\r\n\r\n\r\n                  {{ '{0:,.2f}'.format(total_inlusive_temp|abs  ) }} \r\n\r\n            {% endif  %}\r\n            </td>\r\n\r\n        </tr>\r\n        {%- endfor -%}\r\n        <tr> \r\n            <td colspan=\"3\" class=\"text-right\"><b>Totals:</b>   </td>\r\n            <td class=\"text-right\"> <b>\r\n                {{doc.total_qty|abs}}</b></td>\r\n\r\n            <td class=\"text-right small \">  <b>\r\n                \r\n                                  {{ '{0:,.2f}'.format(total_rate.total_rate  ) }} \r\n\r\n                \r\n                </b> </td>\r\n\r\n            <td class=\"text-right small \">  <b>\r\n                                 {{ '{0:,.2f}'.format( total_inclusive.total_inclusive|abs ) }} \r\n                \r\n                </b> </td>\r\n        </tr>\r\n        \r\n        <tr> \r\n            <td colspan = \"9\"> \r\n            <b class = \"text-size-10\" >Total Amount in words:   {{ frappe.utils.money_in_words(total_inclusive.total_inclusive ) }}  </b>\r\n\r\n            </td>\r\n        </tr>\r\n        </table  >\r\n\r\n\r\n<table width=100%>\r\n    <tr width=100% style=\"border-top:0.5px solid black; border-bottom:0.5px solid black;\">\r\n    <td width=60% style=\"font-size:11px; font-weight:bold;\"> Return Checks:  </td>\r\n    <td width=40%>\r\n        <table class = \"text-right\" style = '; width:100%; border:none' > \r\n            {% if doc.currency == 'KES' %}\r\n            <tr class = \"text-right\" > \r\n                <td colspan = \"\" class = \"text-size-10 text-right\"  style=\"font-size:10px; font-weight:bold;\"> <b> Total Excl.</b> </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right\" style=\"font-size:10px; font-weight:bold;\"><b> \r\n                \r\n\r\n                                                 {{ '{0:,.2f}'.format(doc.net_total ) }} \r\n                </b> </td>\r\n\r\n\r\n            </tr>\r\n            <tr class = \"text-right\" > \r\n                <td colspan = \"\" class = \"text-size-10 text-right\"  style=\"font-size:10px; font-weight:bold;\"> <b>  Tax Amount </b> </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right\" style=\"font-size:10px; font-weight:bold;\"><b> \r\n                \r\n\r\n                                                 {{ '{0:,.2f}'.format(doc.total_taxes_and_charges ) }} \r\n                </b> </td>\r\n\r\n\r\n            </tr>\r\n\r\n            <tr class = \"text-right\" > \r\n                <td colspan = \"\" class = \"text-size-10 text-right \" style=\"font-size:10px; font-weight:bold;\">  <b> Total Amount: </b>  </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right \" style=\"font-size:10px; font-weight:bold;\"> \r\n                \r\n                \r\n                <b>  \r\n                                                    {{ '{0:,.2f}'.format(total_inclusive.total_inclusive) }} \r\n\r\n                \r\n\r\n                \r\n                </b></td>\r\n            </tr>\r\n            {% else %}\r\n            \r\n            <tr class = \"text-right\" > \r\n                <td colspan = \"\" class = \"text-size-10 text-right\"  style=\"font-size:10px; font-weight:bold;\"> <b> Exchange Rate.</b> </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right\" style=\"font-size:10px; font-weight:bold;\"><b> \r\n                \r\n\r\n                                                 {{ '{0:,.2f}'.format(doc.conversion_rate ) }} \r\n                </b> </td>\r\n\r\n\r\n            </tr>\r\n            <tr class = \"text-right\" > \r\n                <td colspan = \"\" class = \"text-size-10 text-right\"  style=\"font-size:10px; font-weight:bold;\"> <b> Sub Total in KES.</b> </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right\" style=\"font-size:10px; font-weight:bold;\"><b> \r\n                \r\n\r\n                                                 {{ '{0:,.2f}'.format(doc.base_net_total|abs ) }} \r\n                </b> </td>\r\n\r\n\r\n            </tr>\r\n\r\n\r\n            <tr class = \"text-right\" > \r\n                <td colspan = \"\" class = \"text-size-10 text-right \" style=\"font-size:10px; font-weight:bold;\">  <b> Total in KES: </b>  </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right \" style=\"font-size:10px; font-weight:bold;\"> \r\n                \r\n                \r\n                <b>  \r\n                                                    {{ '{0:,.2f}'.format(doc.base_grand_total) }} \r\n\r\n                \r\n\r\n                \r\n                </b></td>\r\n            </tr>\r\n            \r\n            \r\n            {% endif %}\r\n        </table>\r\n\r\n    </td>\r\n</tr>\r\n</table>\r\n<div style=\"margin-top:2px; margin-bottom:2px; height:100px;  border-top:0.5px solid black; border-bottom:0.5px solid black;\">\r\n    <b>Terms and Conditions</b>\r\n<div class = 'text-center' style = \"font-size:12px;\" >Goods sold as per our terms & condition, to view the same visit <a href=\"https://impalaglass.com/tnc/\">impalaglass.com/tnc</a></div>\r\n\r\n</div>\r\n{% if doc.docstatus==0 %}\r\n<div class ='watermark'>\r\n</div>\r\n{% endif %}\r\n<table width=100%>\r\n    <tr width=100% style=\"border:1px solid black;\">\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created By: {{ doc.owner }} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b>  </b></td>\r\n        \r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created ON: {{ doc.get_formatted('creation')}} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b> Authorized By:  {% if doc.docstatus==1 %} {{doc.owner}} {% endif %}  </b> </td>\r\n    </tr>\r\n</table>\r\n\r\n\r\n{% set times_printed = doc.times_printed or 0 %}\r\n{% if times_printed >= 1 %} {% set duplicate = 'DUPLICATE'%} {% endif %}\r\n\r\n{% set footer = frappe.db.get_value(\"Letter Head\", doc.letter_head, \"footer\") %}\r\n\r\n{% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(), \"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user, \"is_return\": doc.is_return, \"tims_code\": doc.tims_code, \"return_against\" : doc.return_against or \"\", 'times_printed' : times_printed, 'duplicate': duplicate or ''}) %}\r\n{{ footer_updated }}\r\n\r\n<div style=\"display: flex; align-items: center; margin-right: 10px;\">\r\n        <div style=\"width: 100px; height: 100px; margin-right: 10px;\">\r\n         \r\n            <img src=\"{{doc.kra_qr_code}}\" alt=\"QR Code here\" width=\"100\" height=\"100\">\r\n        </div>\r\n        <div style=\"position: relative; bottom:0\">\r\n            <p style=\"margin: 0;\"><br><br><br><br>\r\n                {{ doc.cuin}}, {{ doc.signing_time }} <br> {{ doc.cusn }}\r\n            </p>\r\n        </div>\r\n    </div>\r\n    <div id=\"footer-html\" class=\"visible-pdf\">\r\n        <div class=\"letter-head-footer\">\r\n            \r\n            {{ footer }}\r\n        </div>\r\n        <p class=\"text-center small page-number visible-pdf\">\r\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\r\n        </p>\r\n    </div>\r\n{% endif %}",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:54.147967",
  "module": "AQIQ Print Formats",
  "name": "Sales Return - Ezzy",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "@media screen,pdf {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n \r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\nmargin-top-15{\r\n    margin-top:15px;\r\n}\r\n \r\n   .text-size-9{\r\n     font-size:9px;\r\n }\r\n \r\n    }\r\n    \r\n@media print {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n }\r\n \r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n  .text-size-9{\r\n     font-size:9px;\r\n }\r\n \r\n table.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n \r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n@media screen {\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n\r\n  .text-size-9{\r\n     font-size:11px;\r\n }\r\n}\r\n\r\n.amount-val{\r\n   color:darkgrey;\r\n   bottom:20px;\r\n   position:relative;\r\n}\r\n\r\n.watermark {\r\n  position: relative;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  overflow: hidden;\r\n}\r\n\r\n.watermark::before {\r\n  content: \"DRAFT\";\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%) rotate(-45deg);\r\n  font-size: 100px;\r\n  color: rgba(255, 0, 0, 0.2); \r\n  font-family: \"Helvetica Neue\", sans-serif;\r\n  pointer-events: none;\r\n}\r\n\r\n.watermark {\r\n    position: fixed;\r\n    top:70px;\r\n    left:11%;\r\n    right:10%;\r\n    background: url(\"http://192.241.152.17/files/draft-background.png\");\r\n    background-repeat: no-repeat;\r\n    height:700px;\r\n    width:80%;\r\n    /*background-position: center;*/\r\n    background-size: 100%;\r\n    opacity: 0.5;\r\n    }\r\n\r\n\r\n.days_tab {\r\n    position: relative;\r\n}\r\n\r\n.barchart-Wrapper {\r\n      display: table;\r\n      position: relative;\r\n      margin: 20px 0;\r\n      height: 120px;\r\n    }\r\n    .barChart-Container {\r\n      display: table-cell;\r\n      width: 100%;\r\n      height: 100%;\r\n      padding-left: 20px;\r\n      padding-right: 20px;\r\n    }\r\n    .barchart {\r\n     display: table;\r\n     table-layout: fixed;\r\n     height: 100%;\r\n     width: 100%;\r\n     border-bottom: 3px solid darkgrey;\r\n    }\r\n    .barchart-Col {\r\n      position: relative;\r\n      vertical-align: bottom;\r\n      display: table-cell;\r\n      height: 100%;\r\n    }\r\n    .barchart-Col + .barchart-Col {\r\n      border-left: 4px solid transparent;\r\n    }\r\n    .barchart-Bar {\r\n      position: static;\r\n      height: 0;\r\n      transition: height 0.5s 2s;\r\n      width: 10px;\r\n      margin: auto;\r\n    }\r\n    .barchart-Bar:after {\r\n      content: attr(attr-height);\r\n      color: white;\r\n      position: absolute;\r\n      text-align: center;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter {\r\n      position: absolute;\r\n      text-align: center;\r\n      left:40px;\r\n      height: 10%;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter h3 {\r\n      color: darkred;\r\n    }\r\n    .barchart-TimeCol {\r\n      position: absolute;\r\n      top: 0;\r\n      height: 100%;\r\n      width: 100%;\r\n    }\r\n    .barchart-Time {\r\n      height: 25%;\r\n      vertical-align: middle;\r\n      position: relative;\r\n    }\r\n    .barchart-Time:after {\r\n      border-bottom: 3px solid white;\r\n      content: \"\";\r\n      position: absolute;\r\n      width: 100%;\r\n      left: 0;\r\n      top: 0em;\r\n    }\r\n    .barchart-TimeText {\r\n      position: absolute;\r\n      top: -8px;\r\n      z-index: 1;\r\n      background: white;\r\n      padding-right: 5px;\r\n      color: #4d4d4d;\r\n      font-size: 15px;\r\n      font-family: 'Avenir Medium';\r\n    }\r\n    .sq1-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq1-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq2-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq2-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq3-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq3-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq4-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq4-bar {\r\n      background-color: #a61a17;\r\n    }",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Sales Invoice",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<div id=\"header-html\" class = \"margin-top-15\"   style = \" margin-top:5px  !important; width:92.2%; margin-left:15px !important\">\r\n    <div class = \"row\" style = \"\">\r\n\r\n        <div class = \"col-xs-10\" style = \"width:100%;   float:left; border:1px solid black \">\r\n             {% set header = frappe.db.get_value(\"Letter Head\", \"Ezzy Letter Head\", \"content\") %}\r\n            \r\n            <!--{% if doc.company == 'Impala Glass Industries Ltd' %}-->\r\n            <!--    {% set logo = \"/files/Impala.png\" %} {% elif doc.company == \"Impala Africa Ltd\" %} {% set logo = \"/files/impala-africa-logo.jpg\" %}-->\r\n            <!--{% endif %}-->\r\n            \r\n            \r\n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company},\r\n            fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website', 'esd_no' ]) %}\r\n            \r\n            \r\n        \r\n        {% set comapny_address_line1 = '' %}        \r\n        {% set comapny_city = '' %}        \r\n        {% set comapny_counrty = '' %}        \r\n        {% set comapny_state = '' %}        \r\n        {% set phone = '' %}        \r\n\r\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\r\n\r\n        {% if company_address_name  %}\r\n            {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\r\n                \r\n\r\n        {% set comapny_address_line1 = address.address_line1 %}        \r\n        {% set comapny_city =  address.city  %}        \r\n        {% set comapny_counrty =  address.country  %}        \r\n        {% set comapny_state =  address.state  %}        \r\n\r\n        {% set phone = address.phone %}        \r\n\r\n        {% endif  %}\r\n\r\n            {% set new_company_logo = \"https://impala.aqiq.net/files/Ezzy.png\" %}\r\n            {% set email = \" finance@impala.co.ke\" %}\r\n            {% if company_details %}\r\n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \r\n            'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \r\n            'state' : comapny_state,\r\n            'phone_no' : phone, 'email' : email, 'pin_no': company_details[0].tax_id ,  'company_logo' : new_company_logo,\r\n            'website' : company_details[0].website,  }) %}\r\n            {{header_updated}}\r\n            {% endif %}\r\n            \r\n\r\n            <table  class = \"table table-sm\" style = \"width:28%; font-size:10px  \"> \r\n                <tr>\r\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:13px\"> SALES INVOICE </b> </span> </center>  </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <td style = 'font-size:10px'> Date </td> <td style = 'font-size:10px'> \r\n                    {{ doc.get_formatted('posting_date') }} \r\n                </tr>\r\n\r\n                <tr> \r\n                    <td style = \"font-size:10px\"><b> INV# </b></td> <td style = \"font-size:10px\"> <b> {{ doc.name }}</b></td>\r\n                </tr>\r\n                <tr> \r\n                    <td style = \"font-size:10px\"> Division </td> <td style = \"font-size:10px\">  {{ doc.cost_center }} </td>\r\n                </tr>\r\n                <tr> \r\n                    <td style = \"font-size:10px\"> Department </td> <td style = \"font-size:10px\">  {{ doc.department }} </td>\r\n                </tr>\r\n\r\n            </table>\r\n\r\n\r\n        </div>\r\n</div>\r\n\r\n\r\n</div>\r\n\r\n<table class = \"margin-top-15\"  style = \"width:100%; font-size:10px !important;\"> \r\n    <tr> \r\n        <td style = \"width:35%\">  \r\n            <div>  <b style=\"font-size:10px\"> Bill To, </b></div>\r\n            <div> <b style = \"font-size:10px\" > {{ doc.customer }} </b> </div>\r\n            <div> <b style = \"font-size:10px\" > {{ doc.customer_name }} </b> </div>\r\n            <div style = \"font-size:10px\" > {{ doc.address_display or \"\"  }}  </div>\r\n        </td>\r\n        <td style=\"20%\">\r\n            <img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\" class=\"center\" height=80px>\r\n        </td>\r\n        <td style = \"width:45%\">  \r\n            <table class = \" text-size-10\" style = \"width:100%; margin-top:-1px !important;\" cellspacing = '0' cellpadding = '0'> \r\n                <tr>\r\n\r\n                    <td class = \"text-size-10\"  style = 'font-size:10px; padding-top:3px;'> PO Date </td> <td class = \"text-size-10\"  style = 'font-size:11px; padding-top:3px;'>  {{ doc.get_formatted(\"po_date\") or 'NA' }} </td>\r\n                </tr>\r\n                <tr>\r\n                    <td class = \"text-size-10\"  style = 'font-size:10px; padding-top:3px;'> Customer PO#. </td> <td class = \"text-size-10\"  style = 'font-size:11px; padding-top:3px;'>  {{doc.po_no or 'NA'}} </td>\r\n                </tr>\r\n                <tr>\r\n                    <td class = \"text-size-10\"  style = 'font-size:10px; padding-top:3px;'> Sales Person </td>\r\n                    {% set salesman = [] %}\r\n                    {% for i in doc.sales_team %}\r\n                        {% set salesman = salesman.append(i.get(\"sales_person\")) %}\r\n                        \r\n                    {% endfor %}\r\n                    {% set sales_team = salesman|join(', ') %}\r\n                    \r\n                    <td class = \"text-size-10\"  style = 'font-size:10px; padding-top:3px;'>{{sales_team}}</td>\r\n                </tr>\r\n                <tr>\r\n                    <td class = \"text-size-10\"  style = 'font-size:10px; padding-top:3px;'> Currency </td>\r\n                    <td class = \"text-size-10\"  style = 'font-size:10px; padding-top:3px;'>{{ doc.currency }}</td>\r\n                </tr>\r\n\r\n\r\n                <tr >\r\n                    <td class = \"text-size-10\"  style = 'font-size:10px; padding-top:3px;'> Customer Pin </td>\r\n                    <td class = \"text-size-10\"  style = 'font-size:10px; padding-top:3px;'>{{ doc.tax_id or \"\"}}</td>\r\n                </tr>\r\n\r\n\r\n                <tr>\r\n                    <td class = \"text-size-10\"  style = 'font-size:10px'>  DN # {{ doc.items[0].delivery_note or \"\" }}   </td>\r\n                    <td class = \"text-size-10\"  style = 'font-size:10px'>  SO # {{ doc.items[0].sales_order or \"\" }}   </td>\r\n                    \r\n                </tr>\r\n\r\n\r\n            </table>\r\n        </td>\r\n    </tr>\r\n</table>\r\n<div style=\"margin-top:2px; height:40px; border:1px solid black;\">\r\n    Additional Notes:\r\n    <p>\r\n        {% if doc.posa_notes %}\r\n        {{doc.posa_notes}} \r\n        {% endif %}\r\n    </p>\r\n</div>\r\n<table  class = 'table table-sm' style = \"width:100%; font-size:9px;  margin-top:10px\" border = '1'> \r\n    <tr> \r\n        <thead> \r\n            <th class=\"text-left text-size-9 \" style = \"\"  >  # </th>\r\n            <th class=\"text-left text-size-9 \">  Item Code </th>\r\n            <th class=\"text-left text-size-9 \">  Item Name </th>\r\n            <th class=\"text-right text-size-9 \">  Qty </th>\r\n\r\n            <th class=\"text-right text-size-9 \">  Unit Price </th>\r\n            <th class=\"text-right text-size-9 \">  Total Amount </th>\r\n\r\n        </thead>\r\n    </tr>\r\n{% set total_ex_vat = {\"total_ex_vat\": 0.0} %}\r\n{% set total_in_vat = {\"total_in_vat\": 0.0} %}\r\n{% set total_amount = {\"total_amount\": 0} %}\r\n{% set total_rate = {\"total_rate\": 0} %}\r\n{% set gross_total = {\"gross_total\": 0} %}\r\n{% set total_inclusive = {\"total_inclusive\": 0} %}\r\n{% set tax_type = doc.tax_type  %}\r\n\r\n{% for row in doc.items %}\r\n    {% if total_amount.update({\"total_amount\": total_amount[\"total_amount\"] + row.qty * row.rate}) %} {% endif %}\r\n    \r\n        <tr>\r\n            <td style=\"\" class=\"text-left text-size-9 \">{{ row.idx }}</td>\r\n            <td style=\"\" class=\"text-left text-size-9 \">\r\n                {{ row.item_code }}\r\n            </td>\r\n            <td style=\"\" class=\"text-left text-size-9 \">\r\n                {{ row.item_name }}\r\n            </td>\r\n            <td style=\"\" class=\"text-right text-size-9 \">\r\n                {{ row.qty }}\r\n            </td>\r\n    \r\n\r\n            <td style=\"\" class=\"text-right text-size-9 \">\r\n\r\n  {{ '{0:,.2f}'.format(row.rate  ) }} \r\n\r\n        {% if total_rate.update({\"total_rate\": total_rate[\"total_rate\"] + row.rate }) %} {% endif %}\r\n            </td>\r\n        \r\n        {% set in_vat = '' %}\r\n\r\n        {% set total_tax_percentage = row.total_tax_percentage |replace(\"%\", \"\")  %}   \r\n        {% set ex_vat  =  ((row.net_amount|float / 100) * total_tax_percentage|int)  %}\r\n        \r\n        \r\n        {% set in_vat  =  row.net_amount  / 100 * total_tax_percentage | int  %}\r\n           \r\n            <td style=\"\" class=\"text-right text-size-9 \">\r\n            {% set total_inlusive_temp = ''  %}\r\n\r\n            {% if tax_type == 'Exclusive' %}\r\n\r\n                {% set total_inlusive_temp = ex_vat + row.net_amount  %}\r\n            \r\n                  {{ '{0:,.2f}'.format(total_inlusive_temp  ) }} \r\n\r\n                \r\n                {% if total_inclusive.update({\"total_inclusive\": total_inclusive[\"total_inclusive\"] + total_inlusive_temp}) %} {% endif %}\r\n                \r\n\r\n            {% else  %}\r\n\r\n                {% set total_inlusive_temp =  row.net_amount + in_vat   %}\r\n                {% if total_inclusive.update({\"total_inclusive\": total_inclusive[\"total_inclusive\"] + total_inlusive_temp}) %} {% endif %}\r\n\r\n\r\n                  {{ '{0:,.2f}'.format(total_inlusive_temp  ) }} \r\n\r\n            {% endif  %}\r\n            </td>\r\n\r\n        </tr>\r\n        {%- endfor -%}\r\n        <tr> \r\n            <td colspan=\"3\" class=\"text-right\"><b>Totals:</b>   </td>\r\n            <td class=\"text-right\"> <b>\r\n                {{doc.total_qty}}</b></td>\r\n\r\n            <td class=\"text-right small \">  <b>\r\n                \r\n                                  <!--{{ '{0:,.2f}'.format(total_rate.total_rate  ) }} -->\r\n\r\n                \r\n                </b> </td>\r\n\r\n            <td class=\"text-right small \">  <b>\r\n                                 <!--{{ '{0:,.2f}'.format( total_inclusive.total_inclusive  ) }} -->\r\n                \r\n                </b> </td>\r\n        </tr>\r\n        \r\n        <tr> \r\n            <td colspan = \"9\"> \r\n            <b class = \"text-size-10\" >Total Amount in words:   {{ frappe.utils.money_in_words(total_inclusive.total_inclusive, doc.currency ) }}  </b>\r\n\r\n            </td>\r\n        </tr>\r\n        </table  >\r\n        <table class = \"table table-sm\" >\r\n        \r\n        <tr> \r\n        <td colspan = \"\"> \r\n        <p  class = \"text-size-10\" > Created By: {{ doc.owner }} </p> \r\n        \r\n        <p  class = \"text-size-10\" > Created ON: {{ doc.get_formatted('creation')}} </p> \r\n        <p  class = \"text-size-10\" > \r\n    Authorized By:  {% if doc.docstatus==1 %} {{doc.owner}} {% endif %} \r\n    </p>\r\n\r\n        \r\n        </td>\r\n        <td colspan = \"4\" class = \"text-right\" > \r\n        \r\n        <table class = \"text-right\" style = '; width:100%; border:none' > \r\n            {% if doc.currency == 'KES' %}\r\n            <tr class = \"text-right\" > \r\n                <td colspan = \"\" class = \"text-size-10 text-right\"  style=\"font-size:10px; font-weight:bold;\"> <b> Total Excl.</b> </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right\" style=\"font-size:10px; font-weight:bold;\"><b> \r\n                \r\n\r\n                                                 {{ '{0:,.2f}'.format(doc.net_total ) }} \r\n                </b> </td>\r\n\r\n\r\n            </tr>\r\n            <tr class = \"text-right\" > \r\n                <td colspan = \"\" class = \"text-size-10 text-right\"  style=\"font-size:10px; font-weight:bold;\"> <b>  Tax Amount </b> </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right\" style=\"font-size:10px; font-weight:bold;\"><b> \r\n                \r\n\r\n                                                 {{ '{0:,.2f}'.format(doc.total_taxes_and_charges ) }} \r\n                </b> </td>\r\n\r\n\r\n            </tr>\r\n\r\n            <tr class = \"text-right\" > \r\n                <td colspan = \"\" class = \"text-size-10 text-right \" style=\"font-size:10px; font-weight:bold;\">  <b> Total Amount: </b>  </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right \" style=\"font-size:10px; font-weight:bold;\"> \r\n                \r\n                \r\n                <b>  \r\n                                                    {{ '{0:,.2f}'.format(total_inclusive.total_inclusive) }} \r\n\r\n                \r\n\r\n                \r\n                </b></td>\r\n            </tr>\r\n            {% else %}\r\n            \r\n            <tr class = \"text-right\" > \r\n                <td colspan = \"\" class = \"text-size-10 text-right\"  style=\"font-size:10px; font-weight:bold;\"> <b> Exchange Rate.</b> </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right\" style=\"font-size:10px; font-weight:bold;\"><b> \r\n                \r\n\r\n                                                 {{ '{0:,.2f}'.format(doc.conversion_rate ) }} \r\n                </b> </td>\r\n\r\n\r\n            </tr>\r\n            <tr class = \"text-right\" > \r\n                <td colspan = \"\" class = \"text-size-10 text-right\"  style=\"font-size:10px; font-weight:bold;\"> <b> Sub Total in KES.</b> </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right\" style=\"font-size:10px; font-weight:bold;\"><b> \r\n                \r\n\r\n                                                 {{ '{0:,.2f}'.format(doc.base_net_total ) }} \r\n                </b> </td>\r\n\r\n\r\n            </tr>\r\n\r\n\r\n            <tr class = \"text-right\" > \r\n                <td colspan = \"\" class = \"text-size-10 text-right \" style=\"font-size:10px; font-weight:bold;\">  <b> Total in KES: </b>  </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right \" style=\"font-size:10px; font-weight:bold;\"> \r\n                \r\n                \r\n                <b>  \r\n                                                    {{ '{0:,.2f}'.format(doc.base_grand_total) }} \r\n\r\n                \r\n\r\n                \r\n                </b></td>\r\n            </tr>\r\n            \r\n            \r\n            {% endif %}\r\n        </table>\r\n\r\n\r\n        </td>\r\n        </tr>\r\n        \r\n        \r\n</table>\r\n<div style=\"margin-top:1px; margin-bottom:1px;  border:1px solid black;\">\r\n     \r\n</div>\r\n{% if doc.docstatus==0 %}\r\n<div class ='watermark'>\r\n</div>\r\n{% endif %}\r\n\r\n\r\n<div style=\"display: flex; align-items: center; margin-right: 10px;\">\r\n        <div style=\"width: 100px; height: 100px; margin-right: 10px;\">\r\n         \r\n            <img src=\"{{doc.kra_qr_code}}\" alt=\"QR Code here\" width=\"100\" height=\"100\">\r\n        </div>\r\n        <div style=\"position: relative; bottom:0\">\r\n            <p style=\"margin: 0;\"><br><br><br><br>\r\n                {{ doc.cuin}}, {{ doc.signing_time }} <br> {{ doc.cusn }}\r\n            </p>\r\n        </div>\r\n    </div>\r\n\r\n\r\n\r\n\r\n    <!--<div class = 'text-center' style = \"font-size:12px; font-weight:600\" >General Terms and Conditions </div>-->\r\n\r\n    <!--<div  id = \"\" style = 'page-break-after :always;  ' >  </div>-->\r\n\r\n<div style=\"margin-top:1px; margin-bottom:1px;  border:1px solid black;\"></div>\r\n<div class = 'text-center' style = \"font-size:12px;\" >Goods sold as per our terms & condition, to view the same visit <a href=\"https://impalaglass.com/tnc/\">impalaglass.com/tnc</a></div>\r\n\r\n\r\n\r\n{% set times_printed = doc.times_printed or 0 %}\r\n{% if times_printed >= 1 %} {% set duplicate = 'DUPLICATE'%} {% endif %}\r\n\r\n{% set footer = frappe.db.get_value(\"Letter Head\", doc.letter_head, \"footer\") %}\r\n\r\n{% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(), \"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user, \"is_return\": doc.is_return, \"tims_code\": doc.tims_code, \"return_against\" : doc.return_against or \"\", 'times_printed' : times_printed, 'duplicate': duplicate or ''}) %}\r\n{{ footer_updated }}\r\n\r\n\r\n    <div id=\"footer-html\" class=\"visible-pdf text-center  \" style = \"font-size:10px\" >\r\n        <p id=\"demo\"></p>\r\n        <div class=\"letter-head-footer text-size-10 text-center \"  style=\"font-size: 10px;\"  >\r\n            {{ footer }}\r\n        </div>\r\n        <p class=\"text-center small page-number visible-pdf\" style = \"font-size:10px\" >\r\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\r\n        </p>\r\n    </div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:54.017581",
  "module": "AQIQ Print Formats",
  "name": "Sales Invoice Ezzy",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "@media screen,pdf {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n \r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\nmargin-top-15{\r\n    margin-top:15px;\r\n}\r\n \r\n   .text-size-9{\r\n     font-size:9px;\r\n }\r\n \r\n    }\r\n    \r\n@media print {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n \r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n  .text-size-9{\r\n     font-size:9px;\r\n }\r\n \r\n table.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n \r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n@media screen {\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n\r\n  .text-size-9{\r\n     font-size:9px;\r\n }\r\n\r\n.amount-val{\r\n   color:darkgrey;\r\n   bottom:20px;\r\n   position:relative;\r\n}\r\n\r\n/*.watermark {*/\r\n/*    position: fixed;*/\r\n/*    top: 420px;*/\r\n/*    left: 220px;*/\r\n/*    right: 220px;*/\r\n/*    background: url(\"http://192.241.152.17/files/draft-background.png\");*/\r\n/*    background-repeat: no-repeat;*/\r\n    /*background-size: center;*/\r\n/*    height:400px;*/\r\n/*    width:50%;*/\r\n/*    background-position: center;*/\r\n/*    background-size: 100%;*/\r\n/*    color:black !important;*/\r\n/*    opacity: 0.3;*/\r\n/*    position: running(wtrmrk);*/\r\n/*    background-repeat: repeat-x;*/\r\n/*    }*/\r\n\r\n.watermark {\r\n    position: fixed;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%) rotate(-45deg);\r\n    opacity: 0.5;\r\n    font-size: 100px;\r\n    color: rgba(255, 0, 0, 0.3);\r\n}\r\n\r\n\r\n.days_tab {\r\n    position: relative;\r\n}\r\n\r\n.barchart-Wrapper {\r\n      display: table;\r\n      position: relative;\r\n      margin: 20px 0;\r\n      height: 120px;\r\n    }\r\n    .barChart-Container {\r\n      display: table-cell;\r\n      width: 100%;\r\n      height: 100%;\r\n      padding-left: 20px;\r\n      padding-right: 20px;\r\n    }\r\n    .barchart {\r\n     display: table;\r\n     table-layout: fixed;\r\n     height: 100%;\r\n     width: 100%;\r\n     border-bottom: 3px solid darkgrey;\r\n    }\r\n    .barchart-Col {\r\n      position: relative;\r\n      vertical-align: bottom;\r\n      display: table-cell;\r\n      height: 100%;\r\n    }\r\n    .barchart-Col + .barchart-Col {\r\n      border-left: 4px solid transparent;\r\n    }\r\n    .barchart-Bar {\r\n      position: static;\r\n      height: 0;\r\n      transition: height 0.5s 2s;\r\n      width: 10px;\r\n      margin: auto;\r\n    }\r\n    .barchart-Bar:after {\r\n      content: attr(attr-height);\r\n      color: white;\r\n      position: absolute;\r\n      text-align: center;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter {\r\n      position: absolute;\r\n      text-align: center;\r\n      left:40px;\r\n      height: 10%;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter h3 {\r\n      color: darkred;\r\n    }\r\n    .barchart-TimeCol {\r\n      position: absolute;\r\n      top: 0;\r\n      height: 100%;\r\n      width: 100%;\r\n    }\r\n    .barchart-Time {\r\n      height: 25%;\r\n      vertical-align: middle;\r\n      position: relative;\r\n    }\r\n    .barchart-Time:after {\r\n      border-bottom: 3px solid white;\r\n      content: \"\";\r\n      position: absolute;\r\n      width: 100%;\r\n      left: 0;\r\n      top: 0em;\r\n    }\r\n    .barchart-TimeText {\r\n      position: absolute;\r\n      top: -8px;\r\n      z-index: 1;\r\n      background: white;\r\n      padding-right: 5px;\r\n      color: #4d4d4d;\r\n      font-size: 15px;\r\n      font-family: 'Avenir Medium';\r\n    }\r\n    .sq1-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq1-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq2-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq2-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq3-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq3-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq4-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq4-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    \r\n        \r\n    .qr-code-container {\r\n    width: 200px;\r\n    height: 200px;\r\n    border: 1px solid #000;\r\n    text-align: center;\r\n    margin: 0 auto;\r\n    padding: 10px;\r\n}",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Sales Invoice",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<div id=\"header-html\"   style = \"margin-top:-15px !important; width:95.2%; margin-left:15px !important\">\r\n    <div class = \"row\" style = \"\">\r\n        <div class = \"col-xs-10\" style = \"width:100%; float:left; border:1px solid black \">\r\n         {% set header = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1}, \"content\") %}\r\n            \r\n            <!--{% if doc.company == 'Impala Glass Industries Ltd' %}-->\r\n            <!--    {% set logo = \"/files/Impala.png\" %} {% elif doc.company == \"Impala Africa Ltd\" %} {% set logo = \"/files/impala-africa-logo.jpg\" %}-->\r\n            <!--{% endif %}-->\r\n            \r\n            \r\n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website', 'esd_no']) %}\r\n            \r\n            \r\n        \r\n        {% set comapny_address_line1 = '' %}        \r\n        {% set comapny_city = '' %}        \r\n        {% set comapny_counrty = '' %}        \r\n        {% set comapny_state = '' %}        \r\n        {% set phone = '' %}        \r\n\r\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\r\n\r\n        {% if company_address_name  %}\r\n            {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\r\n                \r\n\r\n        {% set comapny_address_line1 = address.address_line1 %}        \r\n        {% set comapny_city =  address.city  %}        \r\n        {% set comapny_counrty =  address.country  %}        \r\n        {% set comapny_state =  address.state  %}        \r\n\r\n        {% set phone = address.phone %}        \r\n\r\n        {% endif  %}\r\n\r\n\r\n            \r\n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \r\n            'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \r\n            'state' : comapny_state,\r\n            'phone_no' : phone, 'email' : company_details[0].email, 'pin_no': company_details[0].tax_id ,  'company_logo' : company_details[0].company_logo, 'website' : company_details[0].website,  }) %}\r\n            {{header_updated}}\r\n            \r\n           \r\n           <table  class = \"table table-sm\" style = \"width:28%; \"> \r\n                <tr>\r\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:12px\"> SALES INVOICE </b> </span> </center>  </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Date </td> <td style = 'font-size:11px'>\r\n                     {{ frappe.utils.formatdate(doc.get_formatted('posting_date'), \"dd-mm-yyyy\") }} </td>\r\n                </tr>\r\n\r\n                <tr> \r\n                    <td style = \"font-size:14px\"><b> Invoice # </b></td> <td style = \"font-size:14px\"><b>  {{ doc.name }}</b></td>\r\n                </tr>\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Division </td> <td style = \"font-size:11px\">  {{ doc.cost_center }} </td>\r\n                </tr>\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Department </td> <td style = \"font-size:11px\">  {{ doc.department }} </td>\r\n                </tr>\r\n                \r\n\r\n\r\n            </table>\r\n\r\n\r\n        </div>\r\n\r\n        <div class = \"col-xs-8\" style = 'float:left'>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n<table class = \"\"  style = \"width:100%; font-size:11px !important; border-bottom:1px solid black !important;\"> \r\n    <tr> \r\n        <td style = \"width:40%\">  \r\n            <div>  <b style=\"font-size:13px\"> Bill To, </b></div>\r\n            <div> <b> {{ doc.customer }} </b> </div>\r\n            <div> <b> {{ doc.customer_name }} </b> </div>\r\n            <div> {{ doc.address_display }} </div>\r\n        </td>\r\n        <td style=\"20%\">\r\n            <img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\" class=\"center\" height=100px>\r\n        </td>\r\n        <td style = \"width:35%\">  \r\n            <table class = \"table table-sm; \" style = \"width:100%; margin-top:-1px !important;\" cellspacing = '0' cellpadding = '0'> \r\n                <tr>\r\n                    <td style = 'font-size:11px'> PO Date </td> <td style = 'font-size:11px'>  {{ frappe.utils.formatdate(doc.get_formatted('po_date'), \"dd-mm-yyyy\") }}  </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Customer PO#. </td> <td style = 'font-size:11px'>  {{doc.po_no}} </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Sales Person </td>\r\n                    {% set salesman = [] %}\r\n                    {% for i in doc.sales_team %}\r\n                        {% set salesman = salesman.append(i.get(\"sales_person\")) %}\r\n                    {% endfor %}\r\n                    {% set sales_team = salesman|join(', ') %}\r\n                    <td style = 'font-size:11px'>{{sales_team}}</td>\r\n                </tr>\r\n\r\n\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Currency </td>\r\n                    <td style = 'font-size:11px'>{{ doc.currency }}</td>\r\n                </tr>\r\n                <tr>\r\n                    <td class = \"text-size-11\"  style = 'font-size:10px'>  DN # {{ doc.items[0].delivery_note or \"\" }}   </td>\r\n                    <td class = \"text-size-11\"  style = 'font-size:10px'>  SO # {{ doc.items[0].sales_order or \"\" }}   </td>\r\n                    \r\n                </tr>\r\n                <tr>\r\n                    <td class=\"text-size: 11\" style=\"font-size: 10px\">PIN Code:</td>\r\n                    <td class=\"text-size: 10\" style=\"font-size: 10px\">{{doc.tax_id}}</td>\r\n                </tr>\r\n\r\n\r\n\r\n            </table>\r\n        </td>\r\n\r\n    </tr>\r\n</table>\r\n\r\n\r\n<div style=\"margin-top:2px; height:40px; border:1px solid black;\">\r\n   Additional Notes:\r\n    <p>\r\n        {% if doc.posa_notes %}\r\n        {{doc.posa_notes}} \r\n        {% endif %}\r\n    </p>\r\n</div>\r\n\r\n\r\n\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:10px\" border = '1'> \r\n    <tr> \r\n        <thead> \r\n            <th>  ID </th>\r\n            <th>  Item Code </th>\r\n            <th>  Item Name </th>\r\n             <th>  HSE Code </th>\r\n            <th class=\"text-right\">  Rate </th>\r\n            <th class=\"text-right\">  Qty </th>\r\n            <th class=\"text-right\">  Total </th>\r\n\r\n        </thead>\r\n    </tr>\r\n{% set total_amount = {\"total_amount\": 0} %}\r\n\r\n{% for row in doc.items %}\r\n    {% if total_amount.update({\"total_amount\": total_amount[\"total_amount\"] + row.qty * row.rate}) %} {% endif %}\r\n    \r\n        <tr>\r\n            <td style=\"\">{{ row.idx }}</td>\r\n            <td style=\"\">\r\n                {{ row.item_code }}\r\n            </td>\r\n            <td style=\"\">\r\n                {{ row.item_name }}\r\n            </td>\r\n            <td style=\"\">\r\n                {{ frappe.db.get_value(\"Item\", row.item_code, 'hs_code') }}\r\n            </td>\r\n            <td style=\"\" class=\"text-right\">\r\n                {{ '{0:,.2f}'.format(row.rate  ) }} \r\n            </td>\r\n\r\n\r\n            <td style=\"\" class=\"text-right\">\r\n                {{ row.qty }}\r\n            </td>\r\n            {% set amount= row.qty * row.rate %}\r\n            \r\n            <td style=\"\" class=\"text-right\">\r\n                \r\n                <!--{{ frappe.utils.fmt_money(amount, currency=\"KES\") }} -->\r\n                {{ '{0:,.2f}'.format(amount  ) }} \r\n            </td>\r\n        \r\n\r\n            \r\n\r\n        </tr>\r\n        {%- endfor -%}\r\n        <tr> \r\n            <td></td>\r\n            <td colspan=\"4\" class=\"text-right\"><b>Totals: </b>  </td>\r\n            <td class=\"text-right\"> <b>{{doc.total_qty}}</b></td>\r\n            <td class=\"text-right\"> <b>  {{ '{0:,.2f}'.format(total_amount[\"total_amount\"] ) }}  </b></td>\r\n        </tr>\r\n \r\n</table>\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\" border = '1'>\r\n    <tr rowspan = \"4\">\r\n     <tr>\r\n    <td colspan = \"9\" class=\"text-left\">  \r\n            <b class = \"text-size-10\" >Total Amount in words:   {{ frappe.utils.money_in_words(total_amount.total_amount, doc.currency) }}  </b>  \r\n            </td>\r\n</tr>\r\n<tr>\r\n    <td  colspan = \"5\" width=50%>  \r\n    \r\n    <!--           {% if doc.currency != 'KES' %}-->\r\n    <!--           <table class=\"small Text-right \"  width = \"100%\" style=\"margin-top:0px; border:none !important\">-->\r\n            \r\n    <!--        <tr class = \"text-right\" > -->\r\n    <!--            <td colspan = \"\" class = \"text-size-10 text-left\"  style=\"font-size:10px; font-weight:bold;\"> <b> Exchange Rate.</b> </td>-->\r\n    <!--            <td colspan = \"\" class = \"text-size-10 text-right\" style=\"font-size:10px; font-weight:bold;\"><b> -->\r\n                \r\n\r\n    <!--                                             {{ '{0:,.2f}'.format(doc.conversion_rate ) }} -->\r\n    <!--            </b> </td>-->\r\n\r\n\r\n    <!--        </tr>-->\r\n    <!--        <tr class = \"text-right\" > -->\r\n    <!--            <td colspan = \"\" class = \"text-size-10 text-left\"  style=\"font-size:10px; font-weight:bold;\"> <b> Sub Total in KES.</b> </td>-->\r\n    <!--            <td colspan = \"\" class = \"text-size-10 text-right\" style=\"font-size:10px; font-weight:bold;\"><b> -->\r\n                \r\n\r\n    <!--                                             {{ '{0:,.2f}'.format(doc.base_net_total ) }} -->\r\n    <!--            </b> </td>-->\r\n\r\n\r\n    <!--        </tr>-->\r\n\r\n    <!--        <tr class = \"text-right\" > -->\r\n    <!--            <td colspan = \"\" class = \"text-size-10 text-left \" style=\"font-size:10px; font-weight:bold;\">  <b> Total in KES: </b>  </td>-->\r\n    <!--            <td colspan = \"\" class = \"text-size-10 text-right \" style=\"font-size:10px; font-weight:bold;\"> -->\r\n                \r\n                \r\n    <!--            <b>  -->\r\n    <!--                                                {{ '{0:,.2f}'.format(doc.base_grand_total) }} -->\r\n\r\n                \r\n\r\n                \r\n    <!--            </b></td>-->\r\n    <!--        </tr>-->\r\n            \r\n    <!--        </table>-->\r\n    <!--        {% endif %}-->\r\n\r\n    \r\n    </td>\r\n    <td colspan = \"3\" width=50%>\r\n        <table class=\"small Text-right \"  width = \"100%\" style=\"margin-top:0px; border:none !important\">\r\n             <tr class = \"text-right\" > \r\n                <td colspan = \"\" class = \"text-size-10 text-right\"  style=\"font-size:10px; font-weight:bold;\"> <b> Total Excl.</b> </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right\" style=\"font-size:10px; font-weight:bold;\"><b> \r\n                \r\n\r\n                                                 {{ '{0:,.2f}'.format(doc.net_total ) }} \r\n                </b> </td>\r\n\r\n\r\n            </tr>\r\n            <tr class = \"text-right\" > \r\n                <td colspan = \"\" class = \"text-size-10 text-right\"  style=\"font-size:10px; font-weight:bold;\"> <b>  Tax Amount </b> </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right\" style=\"font-size:10px; font-weight:bold;\"><b> \r\n                \r\n\r\n                                                 {{ '{0:,.2f}'.format(doc.total_taxes_and_charges ) }} \r\n                </b> </td>\r\n\r\n\r\n            </tr>\r\n\r\n            <tr>\r\n                 <td colspan = \"\" class = \"text-size-10 text-right \" style=\"font-size:10px; font-weight:bold;\">  <b> Total Amount </b>  </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right \" style=\"font-size:10px;\"> <b>  {{ '{0:,.2f}'.format(total_amount[\"total_amount\"] ) }}   </b></td>\r\n            </tr>\r\n        </table>\r\n    </td>\r\n</tr>\r\n</table>\r\n\r\n{% if doc.docstatus==0 %}\r\n<div class ='watermark'>\r\n    DRAFT\r\n</div>\r\n{% endif %}\r\n\r\n<table width=100%>\r\n    <tr width=100% style=\"border:1px solid black;\">\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created By: {{ doc.owner }} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b>  </b></td>\r\n        \r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created ON: {{ doc.get_formatted('creation')}} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b> Authorized By:    </b> </td>\r\n    </tr>\r\n</table>\r\n<div style=\"margin-top:1px; margin-bottom:1px;  border:1px solid black;\"></div>\r\n<div class = 'text-center' style = \"font-size:12px;\" >Goods sold as per our terms & condition, to view the same visit <a href=\"https://impalaglass.com/tnc/\">impalaglass.com/tnc</a></div>\r\n\r\n{% set footer = frappe.db.get_value(\"Letter Head\", doc.letter_head, \"footer\") %}\r\n\r\n{% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(), \"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user,\"is_return\": doc.is_return, \"tims_code\": doc.tims_code, \"return_against\" : doc.return_against or \"\"}) %}\r\n{{ footer_updated }}\r\n\r\n\r\n    <div id=\"footer-html\" class=\"visible-pdf\">\r\n        <div class=\"letter-head-footer\">\r\n            {{ footer }}\r\n        </div>\r\n        <p class=\"text-center small page-number visible-pdf\">\r\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\r\n        </p>\r\n    </div>\r\n    \r\n<br><br>\r\n  \r\n    <div style=\"display: flex; align-items: center; margin-right: 10px;\">\r\n        <div style=\"width: 100px; height: 100px; margin-right: 10px;\">\r\n         \r\n            <img src=\"{{doc.kra_qr_code}}\" alt=\"KRA QR Code here\" width=\"100\" height=\"100\">\r\n        </div>\r\n        <div style=\"position: relative; bottom:0\">\r\n            <p style=\"margin: 0;\"><br><br><br><br>\r\n            {{ doc.tsin or ''}}, {{ doc.cusn or '' }}, {{ doc.signing_time or ''}} <br> {{ doc.cuin   or ''}}\r\n            </p>\r\n        </div>\r\n    </div>\r\n\r\n\r\n    \r\n    ",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:53.903632",
  "module": "AQIQ Print Formats",
  "name": "Archi Export Invoice PIN",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "@media screen,pdf {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n \r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\nmargin-top-15{\r\n    margin-top:15px;\r\n}\r\n \r\n   .text-size-9{\r\n     font-size:9px;\r\n }\r\n \r\n    }\r\n    \r\n@media print {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n \r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n  .text-size-9{\r\n     font-size:9px;\r\n }\r\n \r\n table.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n \r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n@media screen {\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n\r\n  .text-size-9{\r\n     font-size:9px;\r\n }\r\n\r\n.amount-val{\r\n   color:darkgrey;\r\n   bottom:20px;\r\n   position:relative;\r\n}\r\n\r\n/*.watermark {*/\r\n/*    position: fixed;*/\r\n/*    top: 420px;*/\r\n/*    left: 220px;*/\r\n/*    right: 220px;*/\r\n/*    background: url(\"http://192.241.152.17/files/draft-background.png\");*/\r\n/*    background-repeat: no-repeat;*/\r\n    /*background-size: center;*/\r\n/*    height:400px;*/\r\n/*    width:50%;*/\r\n/*    background-position: center;*/\r\n/*    background-size: 100%;*/\r\n/*    color:black !important;*/\r\n/*    opacity: 0.3;*/\r\n/*    position: running(wtrmrk);*/\r\n/*    background-repeat: repeat-x;*/\r\n/*    }*/\r\n.watermark {\r\n    position: fixed;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%) rotate(-45deg);\r\n    opacity: 0.5;\r\n    font-size: 100px;\r\n    color: rgba(255, 0, 0, 0.3);\r\n}\r\n.days_tab {\r\n    position: relative;\r\n}\r\n\r\n.barchart-Wrapper {\r\n      display: table;\r\n      position: relative;\r\n      margin: 20px 0;\r\n      height: 120px;\r\n    }\r\n    .barChart-Container {\r\n      display: table-cell;\r\n      width: 100%;\r\n      height: 100%;\r\n      padding-left: 20px;\r\n      padding-right: 20px;\r\n    }\r\n    .barchart {\r\n     display: table;\r\n     table-layout: fixed;\r\n     height: 100%;\r\n     width: 100%;\r\n     border-bottom: 3px solid darkgrey;\r\n    }\r\n    .barchart-Col {\r\n      position: relative;\r\n      vertical-align: bottom;\r\n      display: table-cell;\r\n      height: 100%;\r\n    }\r\n    .barchart-Col + .barchart-Col {\r\n      border-left: 4px solid transparent;\r\n    }\r\n    .barchart-Bar {\r\n      position: static;\r\n      height: 0;\r\n      transition: height 0.5s 2s;\r\n      width: 10px;\r\n      margin: auto;\r\n    }\r\n    .barchart-Bar:after {\r\n      content: attr(attr-height);\r\n      color: white;\r\n      position: absolute;\r\n      text-align: center;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter {\r\n      position: absolute;\r\n      text-align: center;\r\n      left:40px;\r\n      height: 10%;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter h3 {\r\n      color: darkred;\r\n    }\r\n    .barchart-TimeCol {\r\n      position: absolute;\r\n      top: 0;\r\n      height: 100%;\r\n      width: 100%;\r\n    }\r\n    .barchart-Time {\r\n      height: 25%;\r\n      vertical-align: middle;\r\n      position: relative;\r\n    }\r\n    .barchart-Time:after {\r\n      border-bottom: 3px solid white;\r\n      content: \"\";\r\n      position: absolute;\r\n      width: 100%;\r\n      left: 0;\r\n      top: 0em;\r\n    }\r\n    .barchart-TimeText {\r\n      position: absolute;\r\n      top: -8px;\r\n      z-index: 1;\r\n      background: white;\r\n      padding-right: 5px;\r\n      color: #4d4d4d;\r\n      font-size: 15px;\r\n      font-family: 'Avenir Medium';\r\n    }\r\n    .sq1-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq1-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq2-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq2-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq3-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq3-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq4-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq4-bar {\r\n      background-color: #a61a17;\r\n    }",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Sales Invoice",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<div id=\"header-html\"   style = \"margin-top:-15px !important; width:95.2%; margin-left:15px !important\">\r\n    <div class = \"row\" style = \"\">\r\n        <div class = \"col-xs-10\" style = \"width:100%; float:left; border:1px solid black \">\r\n         {% set header = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1}, \"content\") %}\r\n            \r\n            <!--{% if doc.company == 'Impala Glass Industries Ltd' %}-->\r\n            <!--    {% set logo = \"/files/Impala.png\" %} {% elif doc.company == \"Impala Africa Ltd\" %} {% set logo = \"/files/impala-africa-logo.jpg\" %}-->\r\n            <!--{% endif %}-->\r\n            \r\n            \r\n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website', 'esd_no']) %}\r\n            \r\n            \r\n        \r\n        {% set comapny_address_line1 = '' %}        \r\n        {% set comapny_city = '' %}        \r\n        {% set comapny_counrty = '' %}        \r\n        {% set comapny_state = '' %}        \r\n        {% set phone = '' %}        \r\n\r\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\r\n\r\n        {% if company_address_name  %}\r\n            {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\r\n                \r\n\r\n        {% set comapny_address_line1 = address.address_line1 %}        \r\n        {% set comapny_city =  address.city  %}        \r\n        {% set comapny_counrty =  address.country  %}        \r\n        {% set comapny_state =  address.state  %}        \r\n\r\n        {% set phone = address.phone %}        \r\n\r\n        {% endif  %}\r\n\r\n\r\n            \r\n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \r\n            'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \r\n            'state' : comapny_state,\r\n            'phone_no' : phone, 'email' : company_details[0].email, 'pin_no': company_details[0].tax_id ,  'company_logo' : company_details[0].company_logo, 'website' : company_details[0].website,  }) %}\r\n            {{header_updated}}\r\n            \r\n           \r\n           <table  class = \"table table-sm\" style = \"width:28%; \"> \r\n                <tr>\r\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:12px\"> SALES INVOICE </b> </span> </center>  </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Date </td> <td style = 'font-size:11px'>\r\n                     {{ frappe.utils.formatdate(doc.get_formatted('posting_date'), \"dd-mm-yyyy\") }} </td>\r\n                </tr>\r\n\r\n                <tr> \r\n                    <td style = \"font-size:14px\"><b> Invoice # </b></td> <td style = \"font-size:14px\"><b>  {{ doc.name }}</b></td>\r\n                </tr>\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Division </td> <td style = \"font-size:11px\">  {{ doc.cost_center }} </td>\r\n                </tr>\r\n\r\n\r\n            </table>\r\n\r\n\r\n        </div>\r\n\r\n        <div class = \"col-xs-8\" style = 'float:left'>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n<table class = \"\"  style = \"width:100%; font-size:11px !important; border-bottom:1px solid black !important;\"> \r\n    <tr> \r\n        <td style = \"width:40%\">  \r\n            <div>  <b style=\"font-size:13px\"> Bill To, </b></div>\r\n            <div> <b> {{ doc.customer }} </b> </div>\r\n            <div> <b> {{ doc.customer_name }} </b> </div>\r\n            <div> {{ doc.address_display }} </div>\r\n        </td>\r\n        <td style=\"20%\">\r\n            <img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\" class=\"center\" height=100px>\r\n        </td>\r\n        <td style = \"width:35%\">  \r\n            <table class = \"table table-sm; \" style = \"width:100%; margin-top:-1px !important;\" cellspacing = '0' cellpadding = '0'> \r\n                <tr>\r\n                    <td style = 'font-size:11px'> PO Date </td> <td style = 'font-size:11px'>  {{ frappe.utils.formatdate(doc.get_formatted('po_date'), \"dd-mm-yyyy\") }}  </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Customer PO#. </td> <td style = 'font-size:11px'>  {{doc.po_no}} </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Sales Person </td>\r\n                    {% set salesman = [] %}\r\n                    {% for i in doc.sales_team %}\r\n                        {% set salesman = salesman.append(i.get(\"sales_person\")) %}\r\n                    {% endfor %}\r\n                    {% set sales_team = salesman|join(', ') %}\r\n                    <td style = 'font-size:11px'>{{sales_team}}</td>\r\n                </tr>\r\n\r\n\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Currency </td>\r\n                    <td style = 'font-size:11px'>{{ doc.currency }}</td>\r\n                </tr>\r\n                <tr>\r\n                    <td class = \"text-size-10\"  style = 'font-size:10px'>  DN # {{ doc.items[0].delivery_note or \"\" }}   </td>\r\n                    <td class = \"text-size-10\"  style = 'font-size:10px'>  SO # {{ doc.items[0].sales_order or \"\" }}   </td>\r\n                    \r\n                </tr>\r\n\r\n\r\n\r\n            </table>\r\n        </td>\r\n\r\n    </tr>\r\n</table>\r\n\r\n\r\n<div style=\"margin-top:2px; height:40px; border:1px solid black;\">\r\n   Additional Notes:\r\n    <p>\r\n        {% if doc.posa_notes %}\r\n        {{doc.posa_notes}} \r\n        {% endif %}\r\n    </p>\r\n</div>\r\n\r\n\r\n\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:10px\" border = '1'> \r\n    <tr> \r\n        <thead> \r\n            <th>  ID </th>\r\n            <th>  Item Code </th>\r\n            <th>  Item Name </th>\r\n             <th>  HSE Code </th>\r\n            <th class=\"text-right\">  Rate </th>\r\n            <th class=\"text-right\">  Qty </th>\r\n            <th class=\"text-right\">  Total </th>\r\n\r\n        </thead>\r\n    </tr>\r\n{% set total_amount = {\"total_amount\": 0} %}\r\n\r\n{% for row in doc.items %}\r\n    {% if total_amount.update({\"total_amount\": total_amount[\"total_amount\"] + row.qty * row.rate}) %} {% endif %}\r\n    \r\n        <tr>\r\n            <td style=\"\">{{ row.idx }}</td>\r\n            <td style=\"\">\r\n                {{ row.item_code }}\r\n            </td>\r\n            <td style=\"\">\r\n                {{ row.item_name }}\r\n            </td>\r\n            <td style=\"\">\r\n                {{ frappe.db.get_value(\"Item\", row.item_code, 'hs_code') }}\r\n            </td>\r\n            <td style=\"\" class=\"text-right\">\r\n                {{ '{0:,.2f}'.format(row.rate  ) }} \r\n            </td>\r\n\r\n\r\n            <td style=\"\" class=\"text-right\">\r\n                {{ row.qty }}\r\n            </td>\r\n            {% set amount= row.qty * row.rate %}\r\n            \r\n            <td style=\"\" class=\"text-right\">\r\n                \r\n                <!--{{ frappe.utils.fmt_money(amount, currency=\"KES\") }} -->\r\n                {{ '{0:,.2f}'.format(amount  ) }} \r\n            </td>\r\n        \r\n\r\n            \r\n\r\n        </tr>\r\n        {%- endfor -%}\r\n        <tr> \r\n            <td></td>\r\n            <td colspan=\"\" class=\"text-right\"><b>Totals: </b>  </td>\r\n            <td class=\"text-right\"> <b>{{doc.total_qty}}</b></td>\r\n            <td class=\"text-right\"> <b>  {{ '{0:,.2f}'.format(total_amount[\"total_amount\"] ) }}  </b></td>\r\n            <td></td>\r\n        </tr>\r\n \r\n</table>\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\" border = '1'>\r\n    <tr rowspan = \"4\">\r\n     <tr>\r\n    <td colspan = \"9\" class=\"text-left\">  \r\n            <b class = \"text-size-10\" >Total Amount in words:   {{ frappe.utils.money_in_words(total_amount.total_amount, doc.currency) }}  </b>  \r\n            </td>\r\n</tr>\r\n<tr>\r\n    <td  colspan = \"5\" width=50%>  \r\n    \r\n    <!--           {% if doc.currency != 'KES' %}-->\r\n    <!--           <table class=\"small Text-right \"  width = \"100%\" style=\"margin-top:0px; border:none !important\">-->\r\n            \r\n    <!--        <tr class = \"text-right\" > -->\r\n    <!--            <td colspan = \"\" class = \"text-size-10 text-left\"  style=\"font-size:10px; font-weight:bold;\"> <b> Exchange Rate.</b> </td>-->\r\n    <!--            <td colspan = \"\" class = \"text-size-10 text-right\" style=\"font-size:10px; font-weight:bold;\"><b> -->\r\n                \r\n\r\n    <!--                                             {{ '{0:,.2f}'.format(doc.conversion_rate ) }} -->\r\n    <!--            </b> </td>-->\r\n\r\n\r\n    <!--        </tr>-->\r\n    <!--        <tr class = \"text-right\" > -->\r\n    <!--            <td colspan = \"\" class = \"text-size-10 text-left\"  style=\"font-size:10px; font-weight:bold;\"> <b> Sub Total in KES.</b> </td>-->\r\n    <!--            <td colspan = \"\" class = \"text-size-10 text-right\" style=\"font-size:10px; font-weight:bold;\"><b> -->\r\n                \r\n\r\n    <!--                                             {{ '{0:,.2f}'.format(doc.base_net_total ) }} -->\r\n    <!--            </b> </td>-->\r\n\r\n\r\n    <!--        </tr>-->\r\n\r\n    <!--        <tr class = \"text-right\" > -->\r\n    <!--            <td colspan = \"\" class = \"text-size-10 text-left \" style=\"font-size:10px; font-weight:bold;\">  <b> Total in KES: </b>  </td>-->\r\n    <!--            <td colspan = \"\" class = \"text-size-10 text-right \" style=\"font-size:10px; font-weight:bold;\"> -->\r\n                \r\n                \r\n    <!--            <b>  -->\r\n    <!--                                                {{ '{0:,.2f}'.format(doc.base_grand_total) }} -->\r\n\r\n                \r\n\r\n                \r\n    <!--            </b></td>-->\r\n    <!--        </tr>-->\r\n            \r\n    <!--        </table>-->\r\n    <!--        {% endif %}-->\r\n\r\n    \r\n    </td>\r\n    <td colspan = \"3\" width=50%>\r\n        <table class=\"small Text-right \"  width = \"100%\" style=\"margin-top:0px; border:none !important\">\r\n             <tr class = \"text-right\" > \r\n                <td colspan = \"\" class = \"text-size-10 text-right\"  style=\"font-size:10px; font-weight:bold;\"> <b> Total Excl.</b> </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right\" style=\"font-size:10px; font-weight:bold;\"><b> \r\n                \r\n\r\n                                                 {{ '{0:,.2f}'.format(doc.net_total ) }} \r\n                </b> </td>\r\n\r\n\r\n            </tr>\r\n            <tr class = \"text-right\" > \r\n                <td colspan = \"\" class = \"text-size-10 text-right\"  style=\"font-size:10px; font-weight:bold;\"> <b>  Tax Amount </b> </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right\" style=\"font-size:10px; font-weight:bold;\"><b> \r\n                \r\n\r\n                                                 {{ '{0:,.2f}'.format(doc.total_taxes_and_charges ) }} \r\n                </b> </td>\r\n\r\n\r\n            </tr>\r\n\r\n            <tr>\r\n                 <td colspan = \"\" class = \"text-size-10 text-right \" style=\"font-size:10px; font-weight:bold;\">  <b> Total Amount </b>  </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right \" style=\"font-size:10px;\"> <b>  {{ '{0:,.2f}'.format(total_amount[\"total_amount\"] ) }}   </b></td>\r\n            </tr>\r\n        </table>\r\n    </td>\r\n</tr>\r\n</table>\r\n\r\n{% if doc.docstatus==0 %}\r\n<div class ='watermark'>\r\n    DRAFT\r\n</div>\r\n{% endif %}\r\n\r\n<table width=100%>\r\n    <tr width=100% style=\"border:1px solid black;\">\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created By: {{ doc.owner }} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b>  </b></td>\r\n        \r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created ON: {{ doc.get_formatted('creation')}} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b> Authorized By:    </b> </td>\r\n    </tr>\r\n</table>\r\n<div style=\"margin-top:1px; margin-bottom:1px;  border:1px solid black;\"></div>\r\n<div class = 'text-center' style = \"font-size:12px;\" >Goods sold as per our terms & condition, to view the same visit <a href=\"https://impalaglass.com/tnc/\">impalaglass.com/tnc</a></div>\r\n\r\n{% set footer = frappe.db.get_value(\"Letter Head\", doc.letter_head, \"footer\") %}\r\n\r\n{% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(), \"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user,\"is_return\": doc.is_return, \"tims_code\": doc.tims_code, \"return_against\" : doc.return_against or \"\"}) %}\r\n{{ footer_updated }}\r\n\r\n\r\n    <div id=\"footer-html\" class=\"visible-pdf\">\r\n        <div class=\"letter-head-footer\">\r\n            {{ footer }}\r\n        </div>\r\n        <p class=\"text-center small page-number visible-pdf\">\r\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\r\n        </p>\r\n    </div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:53.807445",
  "module": "AQIQ Print Formats",
  "name": "Ar",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "@media screen,pdf {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n \r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\nmargin-top-15{\r\n    margin-top:15px;\r\n}\r\n \r\n   .text-size-9{\r\n     font-size:9px;\r\n }\r\n \r\n    }\r\n    \r\n@media print {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n \r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n  .text-size-9{\r\n     font-size:9px;\r\n }\r\n \r\n table.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n \r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n@media screen {\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n\r\n  .text-size-9{\r\n     font-size:9px;\r\n }\r\n\r\n.amount-val{\r\n   color:darkgrey;\r\n   bottom:20px;\r\n   position:relative;\r\n}\r\n\r\n/*.watermark {*/\r\n/*    position: fixed;*/\r\n/*    top: 420px;*/\r\n/*    left: 220px;*/\r\n/*    right: 220px;*/\r\n/*    background: url(\"http://192.241.152.17/files/draft-background.png\");*/\r\n/*    background-repeat: no-repeat;*/\r\n    /*background-size: center;*/\r\n/*    height:400px;*/\r\n/*    width:50%;*/\r\n/*    background-position: center;*/\r\n/*    background-size: 100%;*/\r\n/*    color:black !important;*/\r\n/*    opacity: 0.3;*/\r\n/*    position: running(wtrmrk);*/\r\n/*    background-repeat: repeat-x;*/\r\n/*    }*/\r\n\r\n.watermark {\r\n    position: fixed;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%) rotate(-45deg);\r\n    opacity: 0.5;\r\n    font-size: 100px;\r\n    color: rgba(255, 0, 0, 0.3);\r\n}\r\n\r\n\r\n.days_tab {\r\n    position: relative;\r\n}\r\n\r\n.barchart-Wrapper {\r\n      display: table;\r\n      position: relative;\r\n      margin: 20px 0;\r\n      height: 120px;\r\n    }\r\n    .barChart-Container {\r\n      display: table-cell;\r\n      width: 100%;\r\n      height: 100%;\r\n      padding-left: 20px;\r\n      padding-right: 20px;\r\n    }\r\n    .barchart {\r\n     display: table;\r\n     table-layout: fixed;\r\n     height: 100%;\r\n     width: 100%;\r\n     border-bottom: 3px solid darkgrey;\r\n    }\r\n    .barchart-Col {\r\n      position: relative;\r\n      vertical-align: bottom;\r\n      display: table-cell;\r\n      height: 100%;\r\n    }\r\n    .barchart-Col + .barchart-Col {\r\n      border-left: 4px solid transparent;\r\n    }\r\n    .barchart-Bar {\r\n      position: static;\r\n      height: 0;\r\n      transition: height 0.5s 2s;\r\n      width: 10px;\r\n      margin: auto;\r\n    }\r\n    .barchart-Bar:after {\r\n      content: attr(attr-height);\r\n      color: white;\r\n      position: absolute;\r\n      text-align: center;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter {\r\n      position: absolute;\r\n      text-align: center;\r\n      left:40px;\r\n      height: 10%;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter h3 {\r\n      color: darkred;\r\n    }\r\n    .barchart-TimeCol {\r\n      position: absolute;\r\n      top: 0;\r\n      height: 100%;\r\n      width: 100%;\r\n    }\r\n    .barchart-Time {\r\n      height: 25%;\r\n      vertical-align: middle;\r\n      position: relative;\r\n    }\r\n    .barchart-Time:after {\r\n      border-bottom: 3px solid white;\r\n      content: \"\";\r\n      position: absolute;\r\n      width: 100%;\r\n      left: 0;\r\n      top: 0em;\r\n    }\r\n    .barchart-TimeText {\r\n      position: absolute;\r\n      top: -8px;\r\n      z-index: 1;\r\n      background: white;\r\n      padding-right: 5px;\r\n      color: #4d4d4d;\r\n      font-size: 15px;\r\n      font-family: 'Avenir Medium';\r\n    }\r\n    .sq1-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq1-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq2-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq2-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq3-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq3-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq4-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq4-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    \r\n        .qr-code-container {\r\n    width: 200px;\r\n    height: 200px;\r\n    border: 1px solid #000;\r\n    text-align: center;\r\n    margin: 0 auto;\r\n    padding: 10px;\r\n}",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Sales Invoice",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<div id=\"header-html\"   style = \"margin-top:-15px !important; width:95.2%; margin-left:15px !important\">\r\n    <div class = \"row\" style = \"\">\r\n        <div class = \"col-xs-10\" style = \"width:100%; float:left; border:1px solid black \">\r\n         {% set header = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1}, \"content\") %}\r\n            \r\n            <!--{% if doc.company == 'Impala Glass Industries Ltd' %}-->\r\n            <!--    {% set logo = \"/files/Impala.png\" %} {% elif doc.company == \"Impala Africa Ltd\" %} {% set logo = \"/files/impala-africa-logo.jpg\" %}-->\r\n            <!--{% endif %}-->\r\n            \r\n            \r\n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website', 'esd_no']) %}\r\n            \r\n            \r\n        \r\n        {% set comapny_address_line1 = '' %}        \r\n        {% set comapny_city = '' %}        \r\n        {% set comapny_counrty = '' %}        \r\n        {% set comapny_state = '' %}        \r\n        {% set phone = '' %}        \r\n\r\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\r\n\r\n        {% if company_address_name  %}\r\n            {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\r\n                \r\n\r\n        {% set comapny_address_line1 = address.address_line1 %}        \r\n        {% set comapny_city =  address.city  %}        \r\n        {% set comapny_counrty =  address.country  %}        \r\n        {% set comapny_state =  address.state  %}        \r\n\r\n        {% set phone = address.phone %}        \r\n\r\n        {% endif  %}\r\n\r\n\r\n            \r\n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \r\n            'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \r\n            'state' : comapny_state,\r\n            'phone_no' : phone, 'email' : company_details[0].email, 'pin_no': company_details[0].tax_id ,  'company_logo' : company_details[0].company_logo, 'website' : company_details[0].website,  }) %}\r\n            {{header_updated}}\r\n            \r\n           \r\n           <table  class = \"table table-sm\" style = \"width:28%; \"> \r\n                <tr>\r\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:12px\"> SALES INVOICE </b> </span> </center>  </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Date </td> <td style = 'font-size:11px'>\r\n                     {{ frappe.utils.formatdate(doc.get_formatted('posting_date'), \"dd-mm-yyyy\") }} </td>\r\n                </tr>\r\n\r\n                <tr> \r\n                    <td style = \"font-size:14px\"><b> Invoice # </b></td> <td style = \"font-size:14px\"><b>  {{ doc.name }}</b></td>\r\n                </tr>\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Division </td> <td style = \"font-size:11px\">  {{ doc.cost_center }} </td>\r\n                </tr>\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Department </td> <td style = \"font-size:11px\">  {{ doc.department }} </td>\r\n                </tr>\r\n\r\n\r\n            </table>\r\n\r\n\r\n        </div>\r\n\r\n        <div class = \"col-xs-8\" style = 'float:left'>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n<table class = \"\"  style = \"width:100%; font-size:11px !important; border-bottom:1px solid black !important;\"> \r\n    <tr> \r\n        <td style = \"width:40%\">  \r\n            <div>  <b style=\"font-size:13px\"> Bill To, </b></div>\r\n            <div> <b> {{ doc.customer }} </b> </div>\r\n            <div> <b> {{ doc.customer_name }} </b> </div>\r\n            <div> {{ doc.address_display }} </div>\r\n        </td>\r\n        <td style=\"20%\">\r\n            <img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\" class=\"center\" height=100px>\r\n        </td>\r\n        <td style = \"width:35%\">  \r\n            <table class = \"table table-sm; \" style = \"width:100%; margin-top:-1px !important;\" cellspacing = '0' cellpadding = '0'> \r\n                <tr>\r\n                    <td style = 'font-size:11px'> PO Date </td> <td style = 'font-size:11px'>  {{ frappe.utils.formatdate(doc.get_formatted('po_date'), \"dd-mm-yyyy\") }}  </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Customer PO#. </td> <td style = 'font-size:11px'>  {{doc.po_no}} </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Sales Person </td>\r\n                    {% set salesman = [] %}\r\n                    {% for i in doc.sales_team %}\r\n                        {% set salesman = salesman.append(i.get(\"sales_person\")) %}\r\n                    {% endfor %}\r\n                    {% set sales_team = salesman|join(', ') %}\r\n                    <td style = 'font-size:11px'>{{sales_team}}</td>\r\n                </tr>\r\n\r\n\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Currency </td>\r\n                    <td style = 'font-size:11px'>{{ doc.currency }}</td>\r\n                </tr>\r\n                <tr>\r\n                    <td class = \"text-size-10\"  style = 'font-size:10px'>  DN # {{ doc.items[0].delivery_note or \"\" }}   </td>\r\n                    <td class = \"text-size-10\"  style = 'font-size:10px'>  SO # {{ doc.items[0].sales_order or \"\" }}   </td>\r\n                    \r\n                </tr>\r\n\r\n\r\n\r\n            </table>\r\n        </td>\r\n\r\n    </tr>\r\n</table>\r\n\r\n\r\n<div style=\"margin-top:2px; height:40px; border:1px solid black;\">\r\n   Additional Notes:\r\n    <p>\r\n        {% if doc.posa_notes %}\r\n        {{doc.posa_notes}} \r\n        {% endif %}\r\n    </p>\r\n</div>\r\n\r\n\r\n\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:10px\" border = '1'> \r\n    <tr> \r\n        <thead> \r\n            <th>  ID </th>\r\n            <th>  Item Code </th>\r\n            <th>  Item Name </th>\r\n             <th>  HSE Code </th>\r\n            <th class=\"text-right\">  Rate </th>\r\n            <th class=\"text-right\">  Qty </th>\r\n            <th class=\"text-right\">  Total </th>\r\n\r\n        </thead>\r\n    </tr>\r\n{% set total_amount = {\"total_amount\": 0} %}\r\n\r\n{% for row in doc.items %}\r\n    {% if total_amount.update({\"total_amount\": total_amount[\"total_amount\"] + row.qty * row.rate}) %} {% endif %}\r\n    \r\n        <tr>\r\n            <td style=\"\">{{ row.idx }}</td>\r\n            <td style=\"\">\r\n                {{ row.item_code }}\r\n            </td>\r\n            <td style=\"\">\r\n                {{ row.item_name }}\r\n            </td>\r\n            <td style=\"\">\r\n                {{ frappe.db.get_value(\"Item\", row.item_code, 'hs_code') }}\r\n            </td>\r\n            <td style=\"\" class=\"text-right\">\r\n                {{ '{0:,.2f}'.format(row.rate  ) }} \r\n            </td>\r\n\r\n\r\n            <td style=\"\" class=\"text-right\">\r\n                {{ row.qty }}\r\n            </td>\r\n            {% set amount= row.qty * row.rate %}\r\n            \r\n            <td style=\"\" class=\"text-right\">\r\n                \r\n                <!--{{ frappe.utils.fmt_money(amount, currency=\"KES\") }} -->\r\n                {{ '{0:,.2f}'.format(amount  ) }} \r\n            </td>\r\n        \r\n\r\n            \r\n\r\n        </tr>\r\n        {%- endfor -%}\r\n        <tr> \r\n            <td></td>\r\n            <td colspan=\"4\" class=\"text-right\"><b>Totals: </b>  </td>\r\n            <td class=\"text-right\"> <b>{{doc.total_qty}}</b></td>\r\n            <td class=\"text-right\"> <b>  {{ '{0:,.2f}'.format(total_amount[\"total_amount\"] ) }}  </b></td>\r\n        </tr>\r\n \r\n</table>\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\" border = '1'>\r\n    <tr rowspan = \"4\">\r\n     <tr>\r\n    <td colspan = \"9\" class=\"text-left\">  \r\n            <b class = \"text-size-10\" >Total Amount in words:   {{ frappe.utils.money_in_words(total_amount.total_amount, doc.currency) }}  </b>  \r\n            </td>\r\n</tr>\r\n<tr>\r\n    <td  colspan = \"5\" width=50%>  \r\n    \r\n    <!--           {% if doc.currency != 'KES' %}-->\r\n    <!--           <table class=\"small Text-right \"  width = \"100%\" style=\"margin-top:0px; border:none !important\">-->\r\n            \r\n    <!--        <tr class = \"text-right\" > -->\r\n    <!--            <td colspan = \"\" class = \"text-size-10 text-left\"  style=\"font-size:10px; font-weight:bold;\"> <b> Exchange Rate.</b> </td>-->\r\n    <!--            <td colspan = \"\" class = \"text-size-10 text-right\" style=\"font-size:10px; font-weight:bold;\"><b> -->\r\n                \r\n\r\n    <!--                                             {{ '{0:,.2f}'.format(doc.conversion_rate ) }} -->\r\n    <!--            </b> </td>-->\r\n\r\n\r\n    <!--        </tr>-->\r\n    <!--        <tr class = \"text-right\" > -->\r\n    <!--            <td colspan = \"\" class = \"text-size-10 text-left\"  style=\"font-size:10px; font-weight:bold;\"> <b> Sub Total in KES.</b> </td>-->\r\n    <!--            <td colspan = \"\" class = \"text-size-10 text-right\" style=\"font-size:10px; font-weight:bold;\"><b> -->\r\n                \r\n\r\n    <!--                                             {{ '{0:,.2f}'.format(doc.base_net_total ) }} -->\r\n    <!--            </b> </td>-->\r\n\r\n\r\n    <!--        </tr>-->\r\n\r\n    <!--        <tr class = \"text-right\" > -->\r\n    <!--            <td colspan = \"\" class = \"text-size-10 text-left \" style=\"font-size:10px; font-weight:bold;\">  <b> Total in KES: </b>  </td>-->\r\n    <!--            <td colspan = \"\" class = \"text-size-10 text-right \" style=\"font-size:10px; font-weight:bold;\"> -->\r\n                \r\n                \r\n    <!--            <b>  -->\r\n    <!--                                                {{ '{0:,.2f}'.format(doc.base_grand_total) }} -->\r\n\r\n                \r\n\r\n                \r\n    <!--            </b></td>-->\r\n    <!--        </tr>-->\r\n            \r\n    <!--        </table>-->\r\n    <!--        {% endif %}-->\r\n\r\n    \r\n    </td>\r\n    <td colspan = \"3\" width=50%>\r\n        <table class=\"small Text-right \"  width = \"100%\" style=\"margin-top:0px; border:none !important\">\r\n             <tr class = \"text-right\" > \r\n                <td colspan = \"\" class = \"text-size-10 text-right\"  style=\"font-size:10px; font-weight:bold;\"> <b> Total Excl.</b> </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right\" style=\"font-size:10px; font-weight:bold;\"><b> \r\n                \r\n\r\n                                                 {{ '{0:,.2f}'.format(doc.net_total ) }} \r\n                </b> </td>\r\n\r\n\r\n            </tr>\r\n            <tr class = \"text-right\" > \r\n                <td colspan = \"\" class = \"text-size-10 text-right\"  style=\"font-size:10px; font-weight:bold;\"> <b>  Tax Amount </b> </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right\" style=\"font-size:10px; font-weight:bold;\"><b> \r\n                \r\n\r\n                                                 {{ '{0:,.2f}'.format(doc.total_taxes_and_charges ) }} \r\n                </b> </td>\r\n\r\n\r\n            </tr>\r\n\r\n            <tr>\r\n                 <td colspan = \"\" class = \"text-size-10 text-right \" style=\"font-size:10px; font-weight:bold;\">  <b> Total Amount </b>  </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right \" style=\"font-size:10px;\"> <b>  {{ '{0:,.2f}'.format(total_amount[\"total_amount\"] ) }}   </b></td>\r\n            </tr>\r\n        </table>\r\n    </td>\r\n</tr>\r\n</table>\r\n\r\n{% if doc.docstatus==0 %}\r\n<div class ='watermark'>\r\n    DRAFT\r\n</div>\r\n{% endif %}\r\n\r\n<table width=100%>\r\n    <tr width=100% style=\"border:1px solid black;\">\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created By: {{ doc.owner }} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b>  </b></td>\r\n        \r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created ON: {{ doc.get_formatted('creation')}} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b> Authorized By:    </b> </td>\r\n    </tr>\r\n</table>\r\n<div style=\"margin-top:1px; margin-bottom:1px;  border:1px solid black;\"></div>\r\n<div class = 'text-center' style = \"font-size:12px;\" >Goods sold as per our terms & condition, to view the same visit <a href=\"https://impalaglass.com/tnc/\">impalaglass.com/tnc</a></div>\r\n\r\n{% set footer = frappe.db.get_value(\"Letter Head\", doc.letter_head, \"footer\") %}\r\n\r\n{% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(), \"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user,\"is_return\": doc.is_return, \"tims_code\": doc.tims_code, \"return_against\" : doc.return_against or \"\"}) %}\r\n{{ footer_updated }}\r\n\r\n\r\n    <div id=\"footer-html\" class=\"visible-pdf\">\r\n        <div class=\"letter-head-footer\">\r\n            {{ footer }}\r\n        </div>\r\n        <p class=\"text-center small page-number visible-pdf\">\r\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\r\n        </p>\r\n    </div>\r\n<br><br>\r\n   <div style=\"display: flex; align-items: center; margin-right: 10px;\">\r\n        <div style=\"width: 100px; height: 100px; margin-right: 10px;\">\r\n         \r\n            <img src=\"{{doc.kra_qr_code}}\" alt=\"QR Code here\" width=\"100\" height=\"100\">\r\n        </div>\r\n        <div style=\"position: relative; bottom:0\">\r\n            <p style=\"margin: 0;\"><br><br><br><br>\r\n                {{ doc.cuin}}, {{ doc.signing_time }} <br> {{ doc.cusn }}\r\n            </p>\r\n        </div>\r\n    </div>\r\n\r\n\r\n    ",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:53.684291",
  "module": "AQIQ Print Formats",
  "name": "Archi Export Invoice",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "@media screen,pdf {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n \r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\nmargin-top-15{\r\n    margin-top:15px;\r\n}\r\n \r\n   .text-size-9{\r\n     font-size:9px;\r\n }\r\n \r\n    }\r\n    \r\n@media print {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n }\r\n \r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n  .text-size-9{\r\n     font-size:9px;\r\n }\r\n \r\n table.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n \r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n@media screen {\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n\r\n  .text-size-9{\r\n     font-size:9px;\r\n }\r\n\r\n.amount-val{\r\n   color:darkgrey;\r\n   bottom:20px;\r\n   position:relative;\r\n}\r\n\r\n/*.watermark {*/\r\n/*    position: fixed;*/\r\n/*    top: 420px;*/\r\n/*    left: 220px;*/\r\n/*    right: 220px;*/\r\n/*    background: url(\"http://192.241.152.17/files/draft-background.png\");*/\r\n/*    background-repeat: no-repeat;*/\r\n    /*background-size: center;*/\r\n/*    height:400px;*/\r\n/*    width:50%;*/\r\n/*    background-position: center;*/\r\n/*    background-size: 100%;*/\r\n/*    color:black !important;*/\r\n/*    opacity: 0.3;*/\r\n/*    position: running(wtrmrk);*/\r\n/*    background-repeat: repeat-x;*/\r\n/*    }*/\r\n\r\n.watermark {\r\n    position: fixed;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%) rotate(-45deg);\r\n    opacity: 0.5;\r\n    font-size: 100px;\r\n    color: rgba(255, 0, 0, 0.3);\r\n}\r\n\r\n.days_tab {\r\n    position: relative;\r\n}\r\n\r\n.barchart-Wrapper {\r\n      display: table;\r\n      position: relative;\r\n      margin: 20px 0;\r\n      height: 120px;\r\n    }\r\n    .barChart-Container {\r\n      display: table-cell;\r\n      width: 100%;\r\n      height: 100%;\r\n      padding-left: 20px;\r\n      padding-right: 20px;\r\n    }\r\n    .barchart {\r\n     display: table;\r\n     table-layout: fixed;\r\n     height: 100%;\r\n     width: 100%;\r\n     border-bottom: 3px solid darkgrey;\r\n    }\r\n    .barchart-Col {\r\n      position: relative;\r\n      vertical-align: bottom;\r\n      display: table-cell;\r\n      height: 100%;\r\n    }\r\n    .barchart-Col + .barchart-Col {\r\n      border-left: 4px solid transparent;\r\n    }\r\n    .barchart-Bar {\r\n      position: static;\r\n      height: 0;\r\n      transition: height 0.5s 2s;\r\n      width: 10px;\r\n      margin: auto;\r\n    }\r\n    .barchart-Bar:after {\r\n      content: attr(attr-height);\r\n      color: white;\r\n      position: absolute;\r\n      text-align: center;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter {\r\n      position: absolute;\r\n      text-align: center;\r\n      left:40px;\r\n      height: 10%;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter h3 {\r\n      color: darkred;\r\n    }\r\n    .barchart-TimeCol {\r\n      position: absolute;\r\n      top: 0;\r\n      height: 100%;\r\n      width: 100%;\r\n    }\r\n    .barchart-Time {\r\n      height: 25%;\r\n      vertical-align: middle;\r\n      position: relative;\r\n    }\r\n    .barchart-Time:after {\r\n      border-bottom: 3px solid white;\r\n      content: \"\";\r\n      position: absolute;\r\n      width: 100%;\r\n      left: 0;\r\n      top: 0em;\r\n    }\r\n    .barchart-TimeText {\r\n      position: absolute;\r\n      top: -8px;\r\n      z-index: 1;\r\n      background: white;\r\n      padding-right: 5px;\r\n      color: #4d4d4d;\r\n      font-size: 15px;\r\n      font-family: 'Avenir Medium';\r\n    }\r\n    .sq1-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq1-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq2-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq2-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq3-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq3-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq4-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq4-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    \r\n.qr-code-container {\r\n    width: 200px;\r\n    height: 200px;\r\n    border: 1px solid #000;\r\n    text-align: center;\r\n    margin: 0 auto;\r\n    padding: 10px;\r\n}",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Sales Invoice",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<div id=\"header-html\" class = \"margin-top-15\"   style = \" margin-top:-20px  !important; width:92.2%; margin-left:15px !important\">\r\n    <div class = \"row\" style = \"\">\r\n\r\n        <div class = \"col-xs-10\" style = \"width:100%;   float:left; border:1px solid black \">\r\n             {% set header = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1}, \"content\") %}\r\n            \r\n            <!--{% if doc.company == 'Impala Glass Industries Ltd' %}-->\r\n            <!--    {% set logo = \"/files/Impala.png\" %} {% elif doc.company == \"Impala Africa Ltd\" %} {% set logo = \"/files/impala-africa-logo.jpg\" %}-->\r\n            <!--{% endif %}-->\r\n            \r\n            \r\n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website', 'esd_no' ]) %}\r\n            \r\n            \r\n        \r\n        {% set comapny_address_line1 = '' %}        \r\n        {% set comapny_city = '' %}        \r\n        {% set comapny_counrty = '' %}        \r\n        {% set comapny_state = '' %}        \r\n        {% set phone = '' %}        \r\n\r\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\r\n\r\n        {% if company_address_name  %}\r\n            {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\r\n                \r\n\r\n        {% set comapny_address_line1 = address.address_line1 %}        \r\n        {% set comapny_city =  address.city  %}        \r\n        {% set comapny_counrty =  address.country  %}        \r\n        {% set comapny_state =  address.state  %}        \r\n\r\n        {% set phone = address.phone %}        \r\n\r\n        {% endif  %}\r\n\r\n\r\n            \r\n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \r\n            'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \r\n            'state' : comapny_state,\r\n            'phone_no' : phone, 'email' : company_details[0].email, 'pin_no': company_details[0].tax_id ,  'company_logo' : company_details[0].company_logo, 'website' : company_details[0].website,  }) %}\r\n            {{header_updated}}\r\n            \r\n\r\n            <table  class = \"table table-sm\" style = \"width:28%; font-size:10px  \"> \r\n                <tr>\r\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:13px\"> SALES INVOICE </b> </span> </center>  </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <td style = 'font-size:10px'> Date </td> <td style = 'font-size:10px'> \r\n                    {{ doc.get_formatted('posting_date') }} \r\n                </tr>\r\n\r\n                <tr> \r\n                    <td style = \"font-size:10px\"><b> INV# </b></td> <td style = \"font-size:12px\"> <b> {{ doc.name }}</b></td>\r\n                </tr>\r\n                <tr> \r\n                    <td style = \"font-size:10px\"> Division </td> <td style = \"font-size:10px\">  {{ doc.cost_center }} </td>\r\n                </tr>\r\n                <tr> \r\n                    <td style = \"font-size:10px\"> Department </td> <td style = \"font-size:10px\">  {{ doc.department }} </td>\r\n                </tr>\r\n\r\n            </table>\r\n\r\n\r\n        </div>\r\n</div>\r\n\r\n\r\n</div>\r\n\r\n<table class = \"margin-top-15\"  style = \"width:100%; font-size:10px !important;\"> \r\n    <tr> \r\n        <td style = \"width:35%\">  \r\n            <div>  <b style=\"font-size:10px\"> Bill To, </b></div>\r\n            <div> <b style = \"font-size:10px\" > {{ doc.customer }} </b> </div>\r\n            <div> <b style = \"font-size:10px\" > {{ doc.customer_name }} </b> </div>\r\n            <div style = \"font-size:10px\" > {{ doc.address_display or \"\"  }}  </div>\r\n        </td>\r\n        <td style=\"20%\">\r\n            <img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\" class=\"center\" height=80px>\r\n        </td>\r\n        <td style = \"width:45%\">  \r\n            <table class = \" text-size-10\" style = \"width:100%; margin-top:-1px !important;\" cellspacing = '0' cellpadding = '0'> \r\n                <tr>\r\n\r\n                    <td class = \"text-size-10\"  style = 'font-size:10px; padding-top:3px;'> PO Date </td> <td class = \"text-size-10\"  style = 'font-size:11px; padding-top:3px;'>  {{ doc.get_formatted(\"po_date\") or 'NA' }} </td>\r\n                </tr>\r\n                <tr>\r\n                    <td class = \"text-size-10\"  style = 'font-size:10px; padding-top:3px;'> Customer PO#. </td> <td class = \"text-size-10\"  style = 'font-size:11px; padding-top:3px;'>  {{doc.po_no or 'NA'}} </td>\r\n                </tr>\r\n                <tr>\r\n                    <td class = \"text-size-10\"  style = 'font-size:10px; padding-top:3px;'> Sales Person </td>\r\n                    {% set salesman = [] %}\r\n                    {% for i in doc.sales_team %}\r\n                        {% set salesman = salesman.append(i.get(\"sales_person\")) %}\r\n                        \r\n                    {% endfor %}\r\n                    {% set sales_team = salesman|join(', ') %}\r\n                    \r\n                    <td class = \"text-size-10\"  style = 'font-size:10px; padding-top:3px;'>{{sales_team}}</td>\r\n                </tr>\r\n                <tr>\r\n                    <td class = \"text-size-10\"  style = 'font-size:10px; padding-top:3px;'> Currency </td>\r\n                    <td class = \"text-size-10\"  style = 'font-size:10px; padding-top:3px;'>{{ doc.currency }}</td>\r\n                </tr>\r\n\r\n\r\n                <tr >\r\n                    <td class = \"text-size-10\"  style = 'font-size:10px; padding-top:3px;'> Customer Pin </td>\r\n                    <td class = \"text-size-10\"  style = 'font-size:10px; padding-top:3px;'>{{ doc.tax_id or \"\"}}</td>\r\n                </tr>\r\n\r\n\r\n                <tr>\r\n                    <td class = \"text-size-10\"  style = 'font-size:10px'>  DN # {{ doc.items[0].delivery_note or \"\" }}   </td>\r\n                    <td class = \"text-size-10\"  style = 'font-size:10px'>  SO # {{ doc.items[0].sales_order or \"\" }}   </td>\r\n                    \r\n                </tr>\r\n\r\n\r\n            </table>\r\n        </td>\r\n    </tr>\r\n</table>\r\n<div style=\"margin-top:2px; height:40px; border:1px solid black;\">\r\n    Additional Notes:\r\n    <p>\r\n        {% if doc.posa_notes %}\r\n        {{doc.posa_notes}} \r\n        {% endif %}\r\n    </p>\r\n</div>\r\n<table  class = 'table table-sm' style = \"width:100%; font-size:9px;  margin-top:10px\" border = '1'> \r\n        <thead> \r\n    <tr> \r\n            <th class=\"text-left text-size-9 \" style = \"\"  >  # </th>\r\n            <th class=\"text-left text-size-9 \">  Item Code </th>\r\n            <th class=\"text-left text-size-9 \">  Item Name </th>\r\n            <th class=\"text-right text-size-9 \">  SQMs </th>\r\n            <th class=\"text-right text-size-9 \">  Qty </th>\r\n\r\n            <th class=\"text-right text-size-9 \">  Unit Price </th>\r\n            <th class=\"text-right text-size-9 \">  Total Amount </th>\r\n\r\n    </tr>\r\n        </thead>\r\n{% set total_ex_vat = {\"total_ex_vat\": 0.0} %}\r\n{% set total_in_vat = {\"total_in_vat\": 0.0} %}\r\n{% set total_amount = {\"total_amount\": 0} %}\r\n{% set total_rate = {\"total_rate\": 0} %}\r\n{% set gross_total = {\"gross_total\": 0} %}\r\n{% set total_pcs = {\"total_pcs\": 0} %}\r\n{% set total_inclusive = {\"total_inclusive\": 0} %}\r\n{% set tax_type = doc.tax_type  %}\r\n\r\n{% for row in doc.items %}\r\n    {% if total_amount.update({\"total_amount\": total_amount[\"total_amount\"] + row.qty * row.rate}) %} {% endif %}\r\n    \r\n        <tr>\r\n            <td style=\"\" class=\"text-left text-size-9 \">{{ row.idx }}</td>\r\n            <td style=\"\" class=\"text-left text-size-9 \">\r\n                {{ row.item_code }}\r\n            </td>\r\n            <td style=\"\" class=\"text-left text-size-9 \">\r\n                {{ row.item_name }}\r\n            </td>\r\n            <td style=\"\" class=\"text-right text-size-9 \">\r\n                {{ row.qty }}\r\n            </td>\r\n            <td style=\"\" class=\"text-right text-size-9 \">\r\n                {{ row.pcs }}\r\n                {% if total_pcs.update({\"total_pcs\": total_pcs[\"total_pcs\"] + row.pcs}) %} {% endif %}\r\n            </td>\r\n    \r\n\r\n            <td style=\"\" class=\"text-right text-size-9 \">\r\n\r\n  {{ '{0:,.2f}'.format(row.rate  ) }} \r\n\r\n        {% if total_rate.update({\"total_rate\": total_rate[\"total_rate\"] + row.rate }) %} {% endif %}\r\n            </td>\r\n        \r\n        {% set in_vat = '' %}\r\n\r\n        {% set total_tax_percentage = row.total_tax_percentage |replace(\"%\", \"\")  %}   \r\n        {% set ex_vat  =  ((row.net_amount|float / 100) * total_tax_percentage|int)  %}\r\n        \r\n        \r\n        {% set in_vat  =  row.net_amount  / 100 * total_tax_percentage | int  %}\r\n           \r\n            <td style=\"\" class=\"text-right text-size-9 \">\r\n            {% set total_inlusive_temp = ''  %}\r\n\r\n            {% if tax_type == 'Exclusive' %}\r\n\r\n                {% set total_inlusive_temp = ex_vat + row.net_amount  %}\r\n            \r\n                  {{ '{0:,.2f}'.format(total_inlusive_temp  ) }} \r\n\r\n                \r\n                {% if total_inclusive.update({\"total_inclusive\": total_inclusive[\"total_inclusive\"] + total_inlusive_temp}) %} {% endif %}\r\n                \r\n\r\n            {% else  %}\r\n\r\n                {% set total_inlusive_temp =  row.net_amount + in_vat   %}\r\n                {% if total_inclusive.update({\"total_inclusive\": total_inclusive[\"total_inclusive\"] + total_inlusive_temp}) %} {% endif %}\r\n\r\n\r\n                  {{ '{0:,.2f}'.format(total_inlusive_temp  ) }} \r\n\r\n            {% endif  %}\r\n            </td>\r\n\r\n        </tr>\r\n        {%- endfor -%}\r\n        <tr> \r\n            <td colspan=\"3\" class=\"text-right\"><b>Totals:</b>   </td>\r\n            <td class=\"text-right\"> <b>\r\n                {{doc.total_qty}}</b></td>\r\n            <td class=\"text-right\"> <b>\r\n                {{total_pcs.total_pcs}}</b></td>\r\n\r\n            <td class=\"text-right small \">  <b>\r\n                \r\n                                  <!--{{ '{0:,.2f}'.format(total_rate.total_rate  ) }} -->\r\n\r\n                \r\n                </b> </td>\r\n\r\n            <td class=\"text-right small \">  <b>\r\n                                 {{ '{0:,.2f}'.format( total_inclusive.total_inclusive  ) }} \r\n                \r\n                </b> </td>\r\n        </tr>\r\n        \r\n        <tr> \r\n            <td colspan = \"9\"> \r\n            <b class = \"text-size-10\" >Total Amount in words:   {{ frappe.utils.money_in_words(total_inclusive.total_inclusive, doc.currency) }}  </b>\r\n\r\n            </td>\r\n        </tr>\r\n        </table  >\r\n        <table class = \"table table-sm\" >\r\n        \r\n        <tr> \r\n        <td colspan = \"\"> \r\n        <p  class = \"text-size-10\" > Created By: {{ doc.owner }} </p> \r\n        \r\n        <p  class = \"text-size-10\" > Created ON: {{ doc.get_formatted('creation')}} </p> \r\n        <p  class = \"text-size-10\" > \r\n    Authorized By:  {% if doc.docstatus==1 %} {{doc.owner}} {% endif %} \r\n    </p>\r\n\r\n        \r\n        </td>\r\n        <td colspan = \"4\" class = \"text-right\" > \r\n        \r\n        <table class = \"text-right\" style = '; width:100%; border:none' > \r\n            {% if doc.currency == 'KES' %}\r\n            <tr class = \"text-right\" > \r\n                <td colspan = \"\" class = \"text-size-10 text-right\"  style=\"font-size:10px; font-weight:bold;\"> <b> Total Excl.</b> </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right\" style=\"font-size:10px; font-weight:bold;\"><b> \r\n                \r\n\r\n                                                 {{ '{0:,.2f}'.format(doc.net_total ) }} \r\n                </b> </td>\r\n\r\n\r\n            </tr>\r\n            <tr class = \"text-right\" > \r\n                <td colspan = \"\" class = \"text-size-10 text-right\"  style=\"font-size:10px; font-weight:bold;\"> <b>  Tax Amount </b> </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right\" style=\"font-size:10px; font-weight:bold;\"><b> \r\n                \r\n\r\n                                                 {{ '{0:,.2f}'.format(doc.total_taxes_and_charges ) }} \r\n                </b> </td>\r\n\r\n\r\n            </tr>\r\n\r\n            <tr class = \"text-right\" > \r\n                <td colspan = \"\" class = \"text-size-10 text-right \" style=\"font-size:10px; font-weight:bold;\">  <b> Total Amount: </b>  </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right \" style=\"font-size:10px; font-weight:bold;\"> \r\n                \r\n                \r\n                <b>  \r\n                                                    {{ '{0:,.2f}'.format(total_inclusive.total_inclusive) }} \r\n\r\n                \r\n\r\n                \r\n                </b></td>\r\n            </tr>\r\n            {% else %}\r\n            \r\n            <tr class = \"text-right\" > \r\n                <td colspan = \"\" class = \"text-size-10 text-right\"  style=\"font-size:10px; font-weight:bold;\"> <b> Exchange Rate.</b> </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right\" style=\"font-size:10px; font-weight:bold;\"><b> \r\n                \r\n\r\n                                                 {{ '{0:,.2f}'.format(doc.conversion_rate ) }} \r\n                </b> </td>\r\n\r\n\r\n            </tr>\r\n            <tr class = \"text-right\" > \r\n                <td colspan = \"\" class = \"text-size-10 text-right\"  style=\"font-size:10px; font-weight:bold;\"> <b> Sub Total in KES.</b> </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right\" style=\"font-size:10px; font-weight:bold;\"><b> \r\n                \r\n\r\n                                                 {{ '{0:,.2f}'.format(doc.base_net_total ) }} \r\n                </b> </td>\r\n\r\n\r\n            </tr>\r\n\r\n\r\n            <tr class = \"text-right\" > \r\n                <td colspan = \"\" class = \"text-size-10 text-right \" style=\"font-size:10px; font-weight:bold;\">  <b> Total in KES: </b>  </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right \" style=\"font-size:10px; font-weight:bold;\"> \r\n                \r\n                \r\n                <b>  \r\n                                                    {{ '{0:,.2f}'.format(doc.base_grand_total) }} \r\n\r\n                \r\n\r\n                \r\n                </b></td>\r\n            </tr>\r\n            \r\n            \r\n            {% endif %}\r\n        </table>\r\n\r\n\r\n        </td>\r\n        </tr>\r\n        \r\n        \r\n</table>\r\n<div style=\"margin-top:1px; margin-bottom:1px;  border:1px solid black;\">\r\n     \r\n</div>\r\n{% if doc.docstatus==0 %}\r\n<div class ='watermark'>\r\n    DRAFT\r\n</div>\r\n{% endif %}\r\n\r\n\r\n<br><br>\r\n   <div style=\"display: flex; align-items: center; margin-right: 10px;\">\r\n        <div style=\"width: 100px; height: 100px; margin-right: 10px;\">\r\n         \r\n            <img src=\"{{doc.kra_qr_code}}\" alt=\"QR Code here\" width=\"100\" height=\"100\">\r\n        </div>\r\n        <div style=\"position: relative; bottom:0\">\r\n            <p style=\"margin: 0;\"><br><br><br><br>\r\n                {{ doc.cuin}}, {{ doc.signing_time }} <br> {{ doc.cusn }}\r\n            </p>\r\n        </div>\r\n    </div>\r\n\r\n\r\n\r\n\r\n    <!--<div class = 'text-center' style = \"font-size:12px; font-weight:600\" >General Terms and Conditions </div>-->\r\n\r\n    <!--<div  id = \"\" style = 'page-break-after :always;  ' >  </div>-->\r\n\r\n\r\n<div style=\"margin-top:1px; margin-bottom:1px;  border:1px solid black;\"></div>\r\n<div class = 'text-center' style = \"font-size:12px;\" >Goods sold as per our terms & condition, to view the same visit <a href=\"https://impalaglass.com/tnc/\">impalaglass.com/tnc</a></div>\r\n\r\n\r\n\r\n\r\n{% set times_printed = doc.times_printed or 0 %}\r\n{% if times_printed >= 1 %} {% set duplicate = 'DUPLICATE'%} {% endif %}\r\n\r\n{% set footer = frappe.db.get_value(\"Letter Head\", doc.letter_head, \"footer\") %}\r\n\r\n{% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(), \"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user, \"is_return\": doc.is_return, \"tims_code\": doc.tims_code, \"return_against\" : doc.return_against or \"\", 'times_printed' : times_printed, 'duplicate': duplicate or ''}) %}\r\n{{ footer_updated }}\r\n\r\n\r\n    <div id=\"footer-html\" class=\"visible-pdf text-center  \" style = \"font-size:10px\" >\r\n        <p id=\"demo\"></p>\r\n        <div class=\"letter-head-footer text-size-10 text-center \"  style=\"font-size: 10px;\"  >\r\n            {{ footer }}\r\n        </div>\r\n        <p class=\"text-center small page-number visible-pdf\" style = \"font-size:10px\" >\r\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\r\n        </p>\r\n    </div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:53.560871",
  "module": "AQIQ Print Formats",
  "name": "SalesInvoiceArchi",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "@media screen,pdf {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n \r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\nmargin-top-15{\r\n    margin-top:15px;\r\n}\r\n \r\n   .text-size-9{\r\n     font-size:9px;\r\n }\r\n \r\n    }\r\n    \r\n@media print {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n \r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n  .text-size-9{\r\n     font-size:9px;\r\n }\r\n \r\n table.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n \r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n@media screen {\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n\r\n  .text-size-9{\r\n     font-size:9px;\r\n }\r\n\r\n.amount-val{\r\n   color:darkgrey;\r\n   bottom:20px;\r\n   position:relative;\r\n}\r\n\r\n/*.watermark {*/\r\n/*    position: fixed;*/\r\n/*    top: 420px;*/\r\n/*    left: 220px;*/\r\n/*    right: 220px;*/\r\n/*    background: url(\"http://192.241.152.17/files/draft-background.png\");*/\r\n/*    background-repeat: no-repeat;*/\r\n    /*background-size: center;*/\r\n/*    height:400px;*/\r\n/*    width:50%;*/\r\n/*    background-position: center;*/\r\n/*    background-size: 100%;*/\r\n/*    color:black !important;*/\r\n/*    opacity: 0.3;*/\r\n/*    position: running(wtrmrk);*/\r\n/*    background-repeat: repeat-x;*/\r\n/*    }*/\r\n.watermark {\r\n    position: fixed;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%) rotate(-45deg);\r\n    opacity: 0.5;\r\n    font-size: 100px;\r\n    color: rgba(255, 0, 0, 0.3);\r\n}\r\n\r\n\r\n.days_tab {\r\n    position: relative;\r\n}\r\n\r\n.barchart-Wrapper {\r\n      display: table;\r\n      position: relative;\r\n      margin: 20px 0;\r\n      height: 120px;\r\n    }\r\n    .barChart-Container {\r\n      display: table-cell;\r\n      width: 100%;\r\n      height: 100%;\r\n      padding-left: 20px;\r\n      padding-right: 20px;\r\n    }\r\n    .barchart {\r\n     display: table;\r\n     table-layout: fixed;\r\n     height: 100%;\r\n     width: 100%;\r\n     border-bottom: 3px solid darkgrey;\r\n    }\r\n    .barchart-Col {\r\n      position: relative;\r\n      vertical-align: bottom;\r\n      display: table-cell;\r\n      height: 100%;\r\n    }\r\n    .barchart-Col + .barchart-Col {\r\n      border-left: 4px solid transparent;\r\n    }\r\n    .barchart-Bar {\r\n      position: static;\r\n      height: 0;\r\n      transition: height 0.5s 2s;\r\n      width: 10px;\r\n      margin: auto;\r\n    }\r\n    .barchart-Bar:after {\r\n      content: attr(attr-height);\r\n      color: white;\r\n      position: absolute;\r\n      text-align: center;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter {\r\n      position: absolute;\r\n      text-align: center;\r\n      left:40px;\r\n      height: 10%;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter h3 {\r\n      color: darkred;\r\n    }\r\n    .barchart-TimeCol {\r\n      position: absolute;\r\n      top: 0;\r\n      height: 100%;\r\n      width: 100%;\r\n    }\r\n    .barchart-Time {\r\n      height: 25%;\r\n      vertical-align: middle;\r\n      position: relative;\r\n    }\r\n    .barchart-Time:after {\r\n      border-bottom: 3px solid white;\r\n      content: \"\";\r\n      position: absolute;\r\n      width: 100%;\r\n      left: 0;\r\n      top: 0em;\r\n    }\r\n    .barchart-TimeText {\r\n      position: absolute;\r\n      top: -8px;\r\n      z-index: 1;\r\n      background: white;\r\n      padding-right: 5px;\r\n      color: #4d4d4d;\r\n      font-size: 15px;\r\n      font-family: 'Avenir Medium';\r\n    }\r\n    .sq1-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq1-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq2-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq2-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq3-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq3-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq4-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq4-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    \r\n    .qr-code-container {\r\n    width: 200px;\r\n    height: 200px;\r\n    border: 1px solid #000;\r\n    text-align: center;\r\n    margin: 0 auto;\r\n    padding: 10px;\r\n}\r\n",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Sales Invoice",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<div id=\"header-html\"   style = \"margin-top:-15px !important; width:95.2%; margin-left:15px !important\">\r\n    <div class = \"row\" style = \"\">\r\n        <div class = \"col-xs-10\" style = \"width:100%; float:left; border:1px solid black \">\r\n         {% set header = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1}, \"content\") %}\r\n            \r\n            <!--{% if doc.company == 'Impala Glass Industries Ltd' %}-->\r\n            <!--    {% set logo = \"/files/Impala.png\" %} {% elif doc.company == \"Impala Africa Ltd\" %} {% set logo = \"/files/impala-africa-logo.jpg\" %}-->\r\n            <!--{% endif %}-->\r\n            \r\n            \r\n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website', 'esd_no']) %}\r\n            \r\n            \r\n        \r\n        {% set comapny_address_line1 = '' %}        \r\n        {% set comapny_city = '' %}        \r\n        {% set comapny_counrty = '' %}        \r\n        {% set comapny_state = '' %}        \r\n        {% set phone = '' %}        \r\n\r\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\r\n\r\n        {% if company_address_name  %}\r\n            {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\r\n                \r\n\r\n        {% set comapny_address_line1 = address.address_line1 %}        \r\n        {% set comapny_city =  address.city  %}        \r\n        {% set comapny_counrty =  address.country  %}        \r\n        {% set comapny_state =  address.state  %}        \r\n\r\n        {% set phone = address.phone %}        \r\n\r\n        {% endif  %}\r\n\r\n\r\n            \r\n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \r\n            'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \r\n            'state' : comapny_state,\r\n            'phone_no' : phone, 'email' : company_details[0].email, 'pin_no': company_details[0].tax_id ,  'company_logo' : company_details[0].company_logo, 'website' : company_details[0].website,  }) %}\r\n            {{header_updated}}\r\n            \r\n           \r\n           <table  class = \"table table-sm\" style = \"width:28%; \"> \r\n                <tr>\r\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:12px\"> SALES RETURN EXPORT </b> </span> </center>  </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Date </td> <td style = 'font-size:11px'>\r\n                     {{ frappe.utils.formatdate(doc.get_formatted('posting_date'), \"dd-mm-yyyy\") }} </td>\r\n                </tr>\r\n\r\n                <tr> \r\n                    <td style = \"font-size:14px\"><b> Invoice # </b></td> <td style = \"font-size:14px\"><b>  {{ doc.name }}</b></td>\r\n                </tr>\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Division </td> <td style = \"font-size:11px\">  {{ doc.cost_center }} </td>\r\n                </tr>\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Department </td> <td style = \"font-size:11px\">  {{ doc.department }} </td>\r\n                </tr>\r\n\r\n\r\n            </table>\r\n\r\n\r\n        </div>\r\n\r\n        <div class = \"col-xs-8\" style = 'float:left'>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n<table class = \"\"  style = \"width:100%; font-size:11px !important; border-bottom:1px solid black !important;\"> \r\n    <tr> \r\n        <td style = \"width:40%\">  \r\n            <div>  <b style=\"font-size:13px\"> Bill To, </b></div>\r\n            <div> <b> {{ doc.customer_name }} </b> </div>\r\n             <div style = \"height:127px;\"> {{ doc.address_display }} </div>\r\n            <div> \r\n            <div class=\"\" style = 'font-size:11px;'> Customer Pin # : <span style = 'visibility:hidden;' >______</span> <b class=\"\" style = 'font-size:11px'> {{ doc.tax_id or \"\" }}  </b></div>\r\n            </div>\r\n           \r\n        </td>\r\n        <td style=\"20%\">\r\n            <img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\" class=\"center\" height=100px>\r\n        </td>\r\n        <td style = \"width:35%\">  \r\n            <table class = \"table table-sm; \" style = \"width:100%; margin-top:-1px !important;\" cellspacing = '0' cellpadding = '0'> \r\n                <tr>\r\n                    <td style = 'font-size:11px'> PO Date </td> <td style = 'font-size:11px'>  {{ frappe.utils.formatdate(doc.get_formatted('po_date'), \"dd-mm-yyyy\") }}  </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Customer PO#. </td> <td style = 'font-size:11px'>  {{doc.po_no}} </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Sales Person </td>\r\n                    {% set salesman = [] %}\r\n                    {% for i in doc.sales_team %}\r\n                        {% set salesman = salesman.append(i.get(\"sales_person\")) %}\r\n                    {% endfor %}\r\n                    {% set sales_team = salesman|join(', ') %}\r\n                    <td style = 'font-size:11px'>{{sales_team}}</td>\r\n                </tr>\r\n\r\n\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Currency </td>\r\n                    <td style = 'font-size:11px'>{{ doc.currency }}</td>\r\n                </tr>\r\n                <tr>\r\n                    <td class = \"text-size-10\"  style = 'font-size:10px'>  DN # {{ doc.items[0].delivery_note or \"\" }}   </td>\r\n                    <td class = \"text-size-10\"  style = 'font-size:10px'>  SO # {{ doc.items[0].sales_order or \"\" }}   </td>\r\n                    \r\n                </tr>\r\n                 <tr>\r\n                    <td style = 'font-size:11px'> TIMS Code: </td> <td style = 'font-size:11px'> {{doc.tims_code}} </td>\r\n                </tr>\r\n\r\n\r\n\r\n            </table>\r\n        </td>\r\n\r\n    </tr>\r\n</table>\r\n\r\n\r\n<div style=\"margin-top:2px; height:40px; border:1px solid black;\">\r\n   Additional Notes:\r\n    <p>\r\n        {% if doc.posa_notes %}\r\n        {{doc.posa_notes}} \r\n        {% endif %}\r\n    </p>\r\n</div>\r\n\r\n\r\n\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:10px\" border = '1'> \r\n    <tr> \r\n        <thead> \r\n            <th>  ID </th>\r\n            <th>  Item Code </th>\r\n            <th>  Item Name </th>\r\n             <th>  HSE Code </th>\r\n            <th class=\"text-right\">  Rate </th>\r\n            <th class=\"text-right\">  Qty </th>\r\n            <th class=\"text-right\">  Total </th>\r\n\r\n        </thead>\r\n    </tr>\r\n{% set total_amount = {\"total_amount\": 0} %}\r\n\r\n{% for row in doc.items %}\r\n    {% if total_amount.update({\"total_amount\": total_amount[\"total_amount\"] + row.qty * row.rate}) %} {% endif %}\r\n    \r\n        <tr>\r\n            <td style=\"\">{{ row.idx }}</td>\r\n            <td style=\"\">\r\n                {{ row.item_code }}\r\n            </td>\r\n            <td style=\"\">\r\n                {{ row.item_name }}\r\n            </td>\r\n            <td style=\"\">\r\n                {{ frappe.db.get_value(\"Item\", row.item_code, 'hs_code') }}\r\n            </td>\r\n            <td style=\"\" class=\"text-right\">\r\n                {{ '{0:,.2f}'.format(row.rate  ) }} \r\n            </td>\r\n\r\n\r\n            <td style=\"\" class=\"text-right\">\r\n                {{ row.qty }}\r\n            </td>\r\n            {% set amount= row.qty * row.rate %}\r\n            \r\n            <td style=\"\" class=\"text-right\">\r\n                \r\n                <!--{{ frappe.utils.fmt_money(amount, currency=\"KES\") }} -->\r\n                {{ '{0:,.2f}'.format(amount  ) }} \r\n            </td>\r\n        \r\n\r\n            \r\n\r\n        </tr>\r\n        {%- endfor -%}\r\n        <tr> \r\n            <td></td>\r\n            <td colspan=\"4\" class=\"text-right\"><b>Totals: </b>  </td>\r\n            <td class=\"text-right\"> <b>{{doc.total_qty}}</b></td>\r\n            <td class=\"text-right\"> <b>  {{ '{0:,.2f}'.format(total_amount[\"total_amount\"] ) }}  </b></td>\r\n        </tr>\r\n \r\n</table>\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\" border = '1'>\r\n    <tr rowspan = \"4\">\r\n     <tr>\r\n    <td colspan = \"9\" class=\"text-left\">  \r\n            <b class = \"text-size-10\" >Total Amount in words:   {{ frappe.utils.money_in_words(total_amount.total_amount, doc.currency ) }}  </b>  \r\n            </td>\r\n</tr>\r\n<tr>\r\n    <td  colspan = \"5\" width=50%>  \r\n    \r\n               {% if doc.currency != 'KES' %}\r\n               <table class=\"small Text-right \"  width = \"100%\" style=\"margin-top:0px; border:none !important\">\r\n            \r\n            <tr class = \"text-right\" > \r\n                <td colspan = \"\" class = \"text-size-10 text-left\"  style=\"font-size:10px; font-weight:bold;\"> <b> Exchange Rate.</b> </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right\" style=\"font-size:10px; font-weight:bold;\"><b> \r\n                \r\n\r\n                                                 {{ '{0:,.2f}'.format(doc.conversion_rate ) }} \r\n                </b> </td>\r\n\r\n\r\n            </tr>\r\n            <tr class = \"text-right\" > \r\n                <td colspan = \"\" class = \"text-size-10 text-left\"  style=\"font-size:10px; font-weight:bold;\"> <b> Sub Total in KES.</b> </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right\" style=\"font-size:10px; font-weight:bold;\"><b> \r\n                \r\n\r\n                                                 {{ '{0:,.2f}'.format(doc.base_net_total ) }} \r\n                </b> </td>\r\n\r\n\r\n            </tr>\r\n\r\n            <tr class = \"text-right\" > \r\n                <td colspan = \"\" class = \"text-size-10 text-left \" style=\"font-size:10px; font-weight:bold;\">  <b> Total in KES: </b>  </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right \" style=\"font-size:10px; font-weight:bold;\"> \r\n                \r\n                \r\n                <b>  \r\n                                                    {{ '{0:,.2f}'.format(doc.base_grand_total) }} \r\n\r\n                \r\n\r\n                \r\n                </b></td>\r\n            </tr>\r\n            \r\n            </table>\r\n            {% endif %}\r\n\r\n    \r\n    </td>\r\n    <td colspan = \"3\" width=50%>\r\n        <table class=\"small Text-right \"  width = \"100%\" style=\"margin-top:0px; border:none !important\">\r\n             <tr class = \"text-right\" > \r\n                <td colspan = \"\" class = \"text-size-10 text-right\"  style=\"font-size:10px; font-weight:bold;\"> <b> Total Excl.</b> </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right\" style=\"font-size:10px; font-weight:bold;\"><b> \r\n                \r\n\r\n                                                 {{ '{0:,.2f}'.format(doc.net_total ) }} \r\n                </b> </td>\r\n\r\n\r\n            </tr>\r\n            <tr class = \"text-right\" > \r\n                <td colspan = \"\" class = \"text-size-10 text-right\"  style=\"font-size:10px; font-weight:bold;\"> <b>  Tax Amount </b> </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right\" style=\"font-size:10px; font-weight:bold;\"><b> \r\n                \r\n\r\n                                                 {{ '{0:,.2f}'.format(doc.total_taxes_and_charges ) }} \r\n                </b> </td>\r\n\r\n\r\n            </tr>\r\n\r\n            <tr>\r\n                 <td colspan = \"\" class = \"text-size-10 text-right \" style=\"font-size:10px; font-weight:bold;\">  <b> Total Amount </b>  </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right \" style=\"font-size:10px;\"> <b>  {{ '{0:,.2f}'.format(total_amount[\"total_amount\"] ) }}   </b></td>\r\n            </tr>\r\n        </table>\r\n    </td>\r\n</tr>\r\n</table>\r\n\r\n{% if doc.docstatus==0 %}\r\n<div class ='watermark'>\r\n    DRAFT\r\n</div>\r\n{% endif %}\r\n\r\n<table width=100%>\r\n    <tr width=100% style=\"border:1px solid black;\">\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created By: {{ doc.owner }} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b>  </b></td>\r\n        \r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created ON: {{ doc.get_formatted('creation')}} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b> Authorized By:    </b> </td>\r\n    </tr>\r\n</table>\r\n\r\n<br><br>\r\n   <div style=\"display: flex; align-items: center; margin-right: 10px;\">\r\n        <div style=\"width: 100px; height: 100px; margin-right: 10px;\">\r\n         \r\n            <img src=\"{{doc.kra_qr_code}}\" alt=\"QR Code here\" width=\"100\" height=\"100\">\r\n        </div>\r\n        <div style=\"position: relative; bottom:0\">\r\n            <p style=\"margin: 0;\"><br><br><br><br>\r\n                {{ doc.cuin}}, {{ doc.signing_time }} <br> {{ doc.cusn }}\r\n            </p>\r\n        </div>\r\n    </div>\r\n\r\n\r\n\r\n{% set footer = frappe.db.get_value(\"Letter Head\", doc.letter_head, \"footer\") %}\r\n\r\n{% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(), \"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user,\"is_return\": doc.is_return, \"tims_code\": doc.tims_code, \"return_against\" : doc.return_against or \"\"}) %}\r\n{{ footer_updated }}\r\n\r\n\r\n    <div id=\"footer-html\" class=\"visible-pdf\">\r\n        <div class=\"letter-head-footer\">\r\n            {{ footer }}\r\n        </div>\r\n        <p class=\"text-center small page-number visible-pdf\">\r\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\r\n        </p>\r\n    </div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:53.459966",
  "module": "AQIQ Print Formats",
  "name": "Sales Retrun Export",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "@media screen,pdf {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n \r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\nmargin-top-15{\r\n    margin-top:15px;\r\n}\r\n \r\n   .text-size-9{\r\n     font-size:9px;\r\n }\r\n \r\n    }\r\n    \r\n@media print {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n \r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n  .text-size-9{\r\n     font-size:9px;\r\n }\r\n \r\n table.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n \r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n@media screen {\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n\r\n  .text-size-9{\r\n     font-size:9px;\r\n }\r\n\r\n.amount-val{\r\n   color:darkgrey;\r\n   bottom:20px;\r\n   position:relative;\r\n}\r\n\r\n/*.watermark {*/\r\n/*    position: fixed;*/\r\n/*    top: 420px;*/\r\n/*    left: 220px;*/\r\n/*    right: 220px;*/\r\n/*    background: url(\"http://192.241.152.17/files/draft-background.png\");*/\r\n/*    background-repeat: no-repeat;*/\r\n    /*background-size: center;*/\r\n/*    height:400px;*/\r\n/*    width:50%;*/\r\n/*    background-position: center;*/\r\n/*    background-size: 100%;*/\r\n/*    color:black !important;*/\r\n/*    opacity: 0.3;*/\r\n/*    position: running(wtrmrk);*/\r\n/*    background-repeat: repeat-x;*/\r\n/*    }*/\r\n.watermark {\r\n    position: fixed;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%) rotate(-45deg);\r\n    opacity: 0.5;\r\n    font-size: 100px;\r\n    color: rgba(255, 0, 0, 0.3);\r\n}\r\n\r\n\r\n.days_tab {\r\n    position: relative;\r\n}\r\n\r\n.barchart-Wrapper {\r\n      display: table;\r\n      position: relative;\r\n      margin: 20px 0;\r\n      height: 120px;\r\n    }\r\n    .barChart-Container {\r\n      display: table-cell;\r\n      width: 100%;\r\n      height: 100%;\r\n      padding-left: 20px;\r\n      padding-right: 20px;\r\n    }\r\n    .barchart {\r\n     display: table;\r\n     table-layout: fixed;\r\n     height: 100%;\r\n     width: 100%;\r\n     border-bottom: 3px solid darkgrey;\r\n    }\r\n    .barchart-Col {\r\n      position: relative;\r\n      vertical-align: bottom;\r\n      display: table-cell;\r\n      height: 100%;\r\n    }\r\n    .barchart-Col + .barchart-Col {\r\n      border-left: 4px solid transparent;\r\n    }\r\n    .barchart-Bar {\r\n      position: static;\r\n      height: 0;\r\n      transition: height 0.5s 2s;\r\n      width: 10px;\r\n      margin: auto;\r\n    }\r\n    .barchart-Bar:after {\r\n      content: attr(attr-height);\r\n      color: white;\r\n      position: absolute;\r\n      text-align: center;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter {\r\n      position: absolute;\r\n      text-align: center;\r\n      left:40px;\r\n      height: 10%;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter h3 {\r\n      color: darkred;\r\n    }\r\n    .barchart-TimeCol {\r\n      position: absolute;\r\n      top: 0;\r\n      height: 100%;\r\n      width: 100%;\r\n    }\r\n    .barchart-Time {\r\n      height: 25%;\r\n      vertical-align: middle;\r\n      position: relative;\r\n    }\r\n    .barchart-Time:after {\r\n      border-bottom: 3px solid white;\r\n      content: \"\";\r\n      position: absolute;\r\n      width: 100%;\r\n      left: 0;\r\n      top: 0em;\r\n    }\r\n    .barchart-TimeText {\r\n      position: absolute;\r\n      top: -8px;\r\n      z-index: 1;\r\n      background: white;\r\n      padding-right: 5px;\r\n      color: #4d4d4d;\r\n      font-size: 15px;\r\n      font-family: 'Avenir Medium';\r\n    }\r\n    .sq1-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq1-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq2-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq2-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq3-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq3-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq4-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq4-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    \r\n    .qr-code-container {\r\n    width: 200px;\r\n    height: 200px;\r\n    border: 1px solid #000;\r\n    text-align: center;\r\n    margin: 0 auto;\r\n    padding: 10px;\r\n}\r\n",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Sales Invoice",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<div id=\"header-html\"   style = \"margin-top:-15px !important; width:95.2%; margin-left:15px !important\">\r\n    <div class = \"row\" style = \"\">\r\n        <div class = \"col-xs-10\" style = \"width:100%; float:left; border:1px solid black \">\r\n         {% set header = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1}, \"content\") %}\r\n            \r\n            <!--{% if doc.company == 'Impala Glass Industries Ltd' %}-->\r\n            <!--    {% set logo = \"/files/Impala.png\" %} {% elif doc.company == \"Impala Africa Ltd\" %} {% set logo = \"/files/impala-africa-logo.jpg\" %}-->\r\n            <!--{% endif %}-->\r\n            \r\n            \r\n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website', 'esd_no']) %}\r\n            \r\n            \r\n        \r\n        {% set comapny_address_line1 = '' %}        \r\n        {% set comapny_city = '' %}        \r\n        {% set comapny_counrty = '' %}        \r\n        {% set comapny_state = '' %}        \r\n        {% set phone = '' %}        \r\n\r\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\r\n\r\n        {% if company_address_name  %}\r\n            {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\r\n                \r\n\r\n        {% set comapny_address_line1 = address.address_line1 %}        \r\n        {% set comapny_city =  address.city  %}        \r\n        {% set comapny_counrty =  address.country  %}        \r\n        {% set comapny_state =  address.state  %}        \r\n\r\n        {% set phone = address.phone %}        \r\n\r\n        {% endif  %}\r\n\r\n\r\n            \r\n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \r\n            'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \r\n            'state' : comapny_state,\r\n            'phone_no' : phone, 'email' : company_details[0].email, 'pin_no': company_details[0].tax_id ,  'company_logo' : company_details[0].company_logo, 'website' : company_details[0].website,  }) %}\r\n            {{header_updated}}\r\n            \r\n           \r\n           <table  class = \"table table-sm\" style = \"width:28%; \"> \r\n                <tr>\r\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:12px\"> SALES RETURN EXPORT </b> </span> </center>  </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Date </td> <td style = 'font-size:11px'>\r\n                     {{ frappe.utils.formatdate(doc.get_formatted('posting_date'), \"dd-mm-yyyy\") }} </td>\r\n                </tr>\r\n\r\n                <tr> \r\n                    <td style = \"font-size:14px\"><b> Invoice # </b></td> <td style = \"font-size:14px\"><b>  {{ doc.name }}</b></td>\r\n                </tr>\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Division </td> <td style = \"font-size:11px\">  {{ doc.cost_center }} </td>\r\n                </tr>\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Department </td> <td style = \"font-size:11px\">  {{ doc.department }} </td>\r\n                </tr>\r\n\r\n\r\n            </table>\r\n\r\n\r\n        </div>\r\n\r\n        <div class = \"col-xs-8\" style = 'float:left'>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n<table class = \"\"  style = \"width:100%; font-size:11px !important; border-bottom:1px solid black !important;\"> \r\n    <tr> \r\n        <td style = \"width:40%\">  \r\n            <div>  <b style=\"font-size:13px\"> Bill To, </b></div>\r\n            <div> <b> {{ doc.customer }} </b> </div>\r\n            <div> <b> {{ doc.customer_name }} </b> </div>\r\n             <div style = \"height:127px;\"> {{ doc.address_display }} </div>\r\n            <div> \r\n            <div class=\"\" style = 'font-size:11px;'> Customer Pin # : <span style = 'visibility:hidden;' >______</span> <b class=\"\" style = 'font-size:11px'> {{ doc.tax_id or \"\" }}  </b></div>\r\n            </div>\r\n           \r\n        </td>\r\n        <td style=\"20%\">\r\n            <img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\" class=\"center\" height=100px>\r\n        </td>\r\n        <td style = \"width:35%\">  \r\n            <table class = \"table table-sm; \" style = \"width:100%; margin-top:-1px !important;\" cellspacing = '0' cellpadding = '0'> \r\n                <tr>\r\n                    <td style = 'font-size:11px'> PO Date </td> <td style = 'font-size:11px'>  {{ frappe.utils.formatdate(doc.get_formatted('po_date'), \"dd-mm-yyyy\") }}  </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Customer PO#. </td> <td style = 'font-size:11px'>  {{doc.po_no}} </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Sales Person </td>\r\n                    {% set salesman = [] %}\r\n                    {% for i in doc.sales_team %}\r\n                        {% set salesman = salesman.append(i.get(\"sales_person\")) %}\r\n                    {% endfor %}\r\n                    {% set sales_team = salesman|join(', ') %}\r\n                    <td style = 'font-size:11px'>{{sales_team}}</td>\r\n                </tr>\r\n\r\n\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Currency </td>\r\n                    <td style = 'font-size:11px'>{{ doc.currency }}</td>\r\n                </tr>\r\n                <tr>\r\n                    <td class = \"text-size-10\"  style = 'font-size:10px'>  DN # {{ doc.items[0].delivery_note or \"\" }}   </td>\r\n                    <td class = \"text-size-10\"  style = 'font-size:10px'>  SO # {{ doc.items[0].sales_order or \"\" }}   </td>\r\n                    \r\n                </tr>\r\n                 <tr>\r\n                    <td style = 'font-size:11px'> TIMS Code: </td> <td style = 'font-size:11px'> {{doc.tims_code}} </td>\r\n                </tr>\r\n\r\n\r\n\r\n            </table>\r\n        </td>\r\n\r\n    </tr>\r\n</table>\r\n\r\n\r\n<div style=\"margin-top:2px; height:40px; border:1px solid black;\">\r\n   Additional Notes:\r\n    <p>\r\n        {% if doc.posa_notes %}\r\n        {{doc.posa_notes}} \r\n        {% endif %}\r\n    </p>\r\n</div>\r\n\r\n\r\n\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:10px\" border = '1'> \r\n    <tr> \r\n        <thead> \r\n            <th>  ID </th>\r\n            <th>  Item Code </th>\r\n            <th>  Item Name </th>\r\n             <th>  HSE Code </th>\r\n            <th class=\"text-right\">  Rate </th>\r\n            <th class=\"text-right\">  Qty </th>\r\n            <th class=\"text-right\">  Total </th>\r\n\r\n        </thead>\r\n    </tr>\r\n{% set total_amount = {\"total_amount\": 0} %}\r\n\r\n{% for row in doc.items %}\r\n    {% if total_amount.update({\"total_amount\": total_amount[\"total_amount\"] + row.qty * row.rate}) %} {% endif %}\r\n    \r\n        <tr>\r\n            <td style=\"\">{{ row.idx }}</td>\r\n            <td style=\"\">\r\n                {{ row.item_code }}\r\n            </td>\r\n            <td style=\"\">\r\n                {{ row.item_name }}\r\n            </td>\r\n            <td style=\"\">\r\n                {{ frappe.db.get_value(\"Item\", row.item_code, 'hs_code') }}\r\n            </td>\r\n            <td style=\"\" class=\"text-right\">\r\n                {{ '{0:,.2f}'.format(row.rate  ) }} \r\n            </td>\r\n\r\n\r\n            <td style=\"\" class=\"text-right\">\r\n                {{ row.qty }}\r\n            </td>\r\n            {% set amount= row.qty * row.rate %}\r\n            \r\n            <td style=\"\" class=\"text-right\">\r\n                \r\n                <!--{{ frappe.utils.fmt_money(amount, currency=\"KES\") }} -->\r\n                {{ '{0:,.2f}'.format(amount  ) }} \r\n            </td>\r\n        \r\n\r\n            \r\n\r\n        </tr>\r\n        {%- endfor -%}\r\n        <tr> \r\n            <td></td>\r\n            <td colspan=\"4\" class=\"text-right\"><b>Totals: </b>  </td>\r\n            <td class=\"text-right\"> <b>{{doc.total_qty}}</b></td>\r\n            <td class=\"text-right\"> <b>  {{ '{0:,.2f}'.format(total_amount[\"total_amount\"] ) }}  </b></td>\r\n        </tr>\r\n \r\n</table>\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\" border = '1'>\r\n    <tr rowspan = \"4\">\r\n     <tr>\r\n    <td colspan = \"9\" class=\"text-left\">  \r\n            <b class = \"text-size-10\" >Total Amount in words:   {{ frappe.utils.money_in_words(total_amount.total_amount, doc.currency ) }}  </b>  \r\n            </td>\r\n</tr>\r\n<tr>\r\n    <td  colspan = \"5\" width=50%>  \r\n    \r\n               {% if doc.currency != 'KES' %}\r\n               <table class=\"small Text-right \"  width = \"100%\" style=\"margin-top:0px; border:none !important\">\r\n            \r\n            <tr class = \"text-right\" > \r\n                <td colspan = \"\" class = \"text-size-10 text-left\"  style=\"font-size:10px; font-weight:bold;\"> <b> Exchange Rate.</b> </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right\" style=\"font-size:10px; font-weight:bold;\"><b> \r\n                \r\n\r\n                                                 {{ '{0:,.2f}'.format(doc.conversion_rate ) }} \r\n                </b> </td>\r\n\r\n\r\n            </tr>\r\n            <tr class = \"text-right\" > \r\n                <td colspan = \"\" class = \"text-size-10 text-left\"  style=\"font-size:10px; font-weight:bold;\"> <b> Sub Total in KES.</b> </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right\" style=\"font-size:10px; font-weight:bold;\"><b> \r\n                \r\n\r\n                                                 {{ '{0:,.2f}'.format(doc.base_net_total ) }} \r\n                </b> </td>\r\n\r\n\r\n            </tr>\r\n\r\n            <tr class = \"text-right\" > \r\n                <td colspan = \"\" class = \"text-size-10 text-left \" style=\"font-size:10px; font-weight:bold;\">  <b> Total in KES: </b>  </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right \" style=\"font-size:10px; font-weight:bold;\"> \r\n                \r\n                \r\n                <b>  \r\n                                                    {{ '{0:,.2f}'.format(doc.base_grand_total) }} \r\n\r\n                \r\n\r\n                \r\n                </b></td>\r\n            </tr>\r\n            \r\n            </table>\r\n            {% endif %}\r\n\r\n    \r\n    </td>\r\n    <td colspan = \"3\" width=50%>\r\n        <table class=\"small Text-right \"  width = \"100%\" style=\"margin-top:0px; border:none !important\">\r\n             <tr class = \"text-right\" > \r\n                <td colspan = \"\" class = \"text-size-10 text-right\"  style=\"font-size:10px; font-weight:bold;\"> <b> Total Excl.</b> </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right\" style=\"font-size:10px; font-weight:bold;\"><b> \r\n                \r\n\r\n                                                 {{ '{0:,.2f}'.format(doc.net_total ) }} \r\n                </b> </td>\r\n\r\n\r\n            </tr>\r\n            <tr class = \"text-right\" > \r\n                <td colspan = \"\" class = \"text-size-10 text-right\"  style=\"font-size:10px; font-weight:bold;\"> <b>  Tax Amount </b> </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right\" style=\"font-size:10px; font-weight:bold;\"><b> \r\n                \r\n\r\n                                                 {{ '{0:,.2f}'.format(doc.total_taxes_and_charges ) }} \r\n                </b> </td>\r\n\r\n\r\n            </tr>\r\n\r\n            <tr>\r\n                 <td colspan = \"\" class = \"text-size-10 text-right \" style=\"font-size:10px; font-weight:bold;\">  <b> Total Amount </b>  </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right \" style=\"font-size:10px;\"> <b>  {{ '{0:,.2f}'.format(total_amount[\"total_amount\"] ) }}   </b></td>\r\n            </tr>\r\n        </table>\r\n    </td>\r\n</tr>\r\n</table>\r\n\r\n{% if doc.docstatus==0 %}\r\n<div class ='watermark'>\r\n    DRAFT\r\n</div>\r\n{% endif %}\r\n\r\n<table width=100%>\r\n    <tr width=100% style=\"border:1px solid black;\">\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created By: {{ doc.owner }} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b>  </b></td>\r\n        \r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created ON: {{ doc.get_formatted('creation')}} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b> Authorized By:    </b> </td>\r\n    </tr>\r\n</table>\r\n\r\n<br><br>\r\n\r\n    <div style=\"display: flex; align-items: center; margin-right: 10px;\">\r\n        <div style=\"width: 100px; height: 100px; margin-right: 10px;\">\r\n         \r\n            <img src=\"{{doc.kra_qr_code}}\" alt=\"KRA QR Code here\" width=\"100\" height=\"100\">\r\n        </div>\r\n        <div style=\"position: relative; bottom:0\">\r\n            <p style=\"margin: 0;\"><br><br><br><br>\r\n            {{ doc.tsin or ''}}, {{ doc.cusn or '' }}, {{ doc.signing_time or ''}} <br> {{ doc.cuin   or ''}}\r\n            </p>\r\n        </div>\r\n    </div>\r\n\r\n<div style=\"margin-top:1px; margin-bottom:1px;  border:1px solid black;\"></div>\r\n<div class = 'text-center' style = \"font-size:12px;\" >Goods sold as per our terms & condition, to view the same visit <a href=\"https://impalaglass.com/tnc/\">impalaglass.com/tnc</a></div>\r\n\r\n\r\n{% set footer = frappe.db.get_value(\"Letter Head\", doc.letter_head, \"footer\") %}\r\n\r\n{% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(), \"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user,\"is_return\": doc.is_return, \"tims_code\": doc.tims_code, \"return_against\" : doc.return_against or \"\"}) %}\r\n{{ footer_updated }}\r\n\r\n\r\n    <div id=\"footer-html\" class=\"visible-pdf\">\r\n        <div class=\"letter-head-footer\">\r\n            {{ footer }}\r\n        </div>\r\n        <p class=\"text-center small page-number visible-pdf\">\r\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\r\n        </p>\r\n    </div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:53.352300",
  "module": "AQIQ Print Formats",
  "name": "Sales Return Export",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "@media screen,pdf {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\n\r\n\r\n\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n \r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\nmargin-top-15{\r\n    margin-top:15px;\r\n}\r\n \r\n   .text-size-9{\r\n     font-size:9px;\r\n }\r\n \r\n    }\r\n    \r\n@media print {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n \r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n  .text-size-9{\r\n     font-size:9px;\r\n }\r\n \r\n table.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n \r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n@media screen {\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n\r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n\r\n  .text-size-9{\r\n     font-size:9px;\r\n }\r\n\r\n.amount-val{\r\n   color:darkgrey;\r\n   bottom:20px;\r\n   position:relative;\r\n}\r\n.watermark {\r\n    position: fixed;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%) rotate(-45deg);\r\n    opacity: 0.3;\r\n    font-size: 100px;\r\n    color: rgba(255, 0, 0, 0.3);\r\n}\r\n\r\n\r\n\r\n\r\n.days_tab {\r\n    position: relative;\r\n}\r\n\r\n.barchart-Wrapper {\r\n      display: table;\r\n      position: relative;\r\n      margin: 20px 0;\r\n      height: 120px;\r\n    }\r\n    .barChart-Container {\r\n      display: table-cell;\r\n      width: 100%;\r\n      height: 100%;\r\n      padding-left: 20px;\r\n      padding-right: 20px;\r\n    }\r\n    .barchart {\r\n     display: table;\r\n     table-layout: fixed;\r\n     height: 100%;\r\n     width: 100%;\r\n     border-bottom: 3px solid darkgrey;\r\n    }\r\n    .barchart-Col {\r\n      position: relative;\r\n      vertical-align: bottom;\r\n      display: table-cell;\r\n      height: 100%;\r\n    }\r\n    .barchart-Col + .barchart-Col {\r\n      border-left: 4px solid transparent;\r\n    }\r\n    .barchart-Bar {\r\n      position: static;\r\n      height: 0;\r\n      transition: height 0.5s 2s;\r\n      width: 10px;\r\n      margin: auto;\r\n    }\r\n    .barchart-Bar:after {\r\n      content: attr(attr-height);\r\n      color: white;\r\n      position: absolute;\r\n      text-align: center;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter {\r\n      position: absolute;\r\n      text-align: center;\r\n      left:40px;\r\n      height: 10%;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter h3 {\r\n      color: darkred;\r\n    }\r\n    .barchart-TimeCol {\r\n      position: absolute;\r\n      top: 0;\r\n      height: 100%;\r\n      width: 100%;\r\n    }\r\n    .barchart-Time {\r\n      height: 25%;\r\n      vertical-align: middle;\r\n      position: relative;\r\n    }\r\n    .barchart-Time:after {\r\n      border-bottom: 3px solid white;\r\n      content: \"\";\r\n      position: absolute;\r\n      width: 100%;\r\n      left: 0;\r\n      top: 0em;\r\n    }\r\n    .barchart-TimeText {\r\n      position: absolute;\r\n      top: -8px;\r\n      z-index: 1;\r\n      background: white;\r\n      padding-right: 5px;\r\n      color: #4d4d4d;\r\n      font-size: 15px;\r\n      font-family: 'Avenir Medium';\r\n    }\r\n    .sq1-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq1-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq2-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq2-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq3-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq3-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq4-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq4-bar {\r\n      background-color: #a61a17;\r\n    }",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Purchase Invoice",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "{% if doc.docstatus==0 %}\r\n<div class='watermark'>\r\n    DRAFT\r\n</div>\r\n{% endif %}\r\n<div id=\"header-html\" style=\"margin-top:-15px !important; width:95.2%; margin-left:15px !important\">\r\n    <div class=\"row\" style=\"\">\r\n        <div class=\"col-xs-10\" style=\"width:100%; float:left; border:1px solid black \">\r\n            {% set header = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1}, \"content\") %}\r\n\r\n            <!--{% if doc.company == 'Impala Glass Industries Ltd' %}-->\r\n            <!--    {% set logo = \"/files/Impala.png\" %} {% elif doc.company == \"Impala Africa Ltd\" %} {% set logo = \"/files/impala-africa-logo.jpg\" %}-->\r\n            <!--{% endif %}-->\r\n\r\n\r\n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields =\r\n            ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website',]) %}\r\n\r\n\r\n\r\n            {% set comapny_address_line1 = '' %}\r\n            {% set comapny_city = '' %}\r\n            {% set comapny_counrty = '' %}\r\n            {% set comapny_state = '' %}\r\n            {% set phone = '' %}\r\n\r\n            {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" , \"link_name\":\r\n            doc.company }, \"parent\") %}\r\n\r\n            {% if company_address_name %}\r\n            {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" ,\r\n            \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\r\n\r\n\r\n            {% set comapny_address_line1 = address.address_line1 %}\r\n            {% set comapny_city = address.city %}\r\n            {% set comapny_counrty = address.country %}\r\n            {% set comapny_state = address.state %}\r\n\r\n            {% set phone = address.phone %}\r\n\r\n            {% endif %}\r\n\r\n\r\n\r\n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name,\r\n            'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty ,\r\n            'state' : comapny_state,\r\n            'phone_no' : phone, 'email' : company_details[0].email, 'pin_no': company_details[0].tax_id , 'company_logo'\r\n            : company_details[0].company_logo, 'website' : company_details[0].website, }) %}\r\n            {{header_updated}}\r\n\r\n\r\n\r\n            <table class=\"table table-sm\" style=\"width:28%; \">\r\n                <tr>\r\n                    <td colspan=\"2\">\r\n                        <center> <span style=\"\"> <b style=\"font-size:14px\"> PURCHASE INVOICE </b> </span> </center>\r\n                    </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <td style='font-size:11px'> Date </td>\r\n                    <td style='font-size:11px'>\r\n                        {{ frappe.utils.formatdate(doc.get_formatted('posting_date'), \"dd-mm-yyyy\") }}</td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <td style=\"font-size:11px\"> Order # </td>\r\n                    <td style=\"font-size:11px\"> {{ doc.name }}</td>\r\n                </tr>\r\n\r\n\r\n            </table>\r\n\r\n\r\n        </div>\r\n\r\n        <div class=\"col-xs-8\" style='float:left'>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n<table width=100% class=\"\" style=\"font-size:11px !important; border-bottom:1px solid black !important;\">\r\n    <tr>\r\n        <td style=\"width:40%\">\r\n            <div> <b style=\"font-size:13px\"> Supplier Details: </b></div>\r\n            <div> <b> {{ doc.supplier_name }} </b> </div>\r\n            <div> {{ doc.supplier_address }} </div>\r\n            <!--<div> Pin No: ?? </div>-->\r\n            <div> {{ doc.contact_person }} </div>\r\n            <div> {{ doc.contact_mobile }} </div>\r\n        </td>\r\n        <td style=\"20%\">\r\n            <!--<img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\" class=\"center\" height=100px>-->\r\n        </td>\r\n        <td style=\"width:35%\">\r\n            <table class=\"table table-sm; \" style=\"width:100%; margin-top:-1px !important;\" cellspacing='0'\r\n                cellpadding='0'>\r\n                <tr>\r\n                    <td style='font-size:11px'> PO Date: </td>\r\n                    <td style='font-size:11px'> {{doc.name}} </td>\r\n                    <td style='font-size:11px'> {{frappe.db.get_value('Purchase Order', doc.name, 'transaction_date') }}\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style='font-size:11px'> PO #. </td>\r\n                    <td style='font-size:11px'> {{ frappe.db.get_value('Purchase Order', doc.name, 'name') }} </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style='font-size:11px'> GRN No.: </td>\r\n                    <td style='font-size:11px'> {{ frappe.db.get_value('Purchase Receipt', doc.name, 'name') }} </td>\r\n                </tr>\r\n                <!--<tr>-->\r\n                <!--    <td style = 'font-size:11px'> Warehouse: </td> <td style = 'font-size:11px'>  ?? </td>-->\r\n                <!--</tr>-->\r\n                <tr>\r\n                    <td style='font-size:11px'> Supp. Inv No.: </td>\r\n                    <!--<td style='font-size:11px'> {{ frappe.db.get_value('Sales Invoice', doc.name, 'name') }} </td>-->\r\n                    <td style='font-size:11px'> {{doc.bill_no }} </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style='font-size:11px'> Supp. Inv Date: </td>\r\n                    <!--<td style='font-size:11px'> {{ frappe.db.get_value('Sales Invoice', doc.name, 'posting_date') }}-->\r\n                    <!--</td>-->\r\n                    <td style='font-size:11px'> {{doc.bill_date}}\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style='font-size:11px'> Currency: </td>\r\n                    <td style='font-size:11px'> {{doc.currency}} </td>\r\n                </tr>\r\n            </table>\r\n        </td>\r\n    </tr>\r\n</table>\r\n<table style=\"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr width=100% height=40px style=\"border: 1px solid black;\">\r\n        <td width=50%>Remarks:</td>\r\n\r\n    </tr>\r\n</table>\r\n\r\n<table style=\"width:100%; font-size:11px;  margin-top:10px\" border='1'>\r\n    <tr>\r\n        <thead>\r\n            <th> # </th>\r\n            <th> Item Code </th>\r\n            <th> Item Name </th>\r\n            <th class=\"text-right\"> Rate </th>\r\n            <th class=\"text-right\"> Qty </th>\r\n            <th class=\"text-right\"> Total </th>\r\n            <th class=\"text-right\"> VAT </th>\r\n            <!--<th class=\"text-right\"> Discount </th>-->\r\n            <th class=\"text-right\"> Gross </th>\r\n        </thead>\r\n    </tr>\r\n    {% set total_amount = {\"total_amount\": 0} %}\r\n    {% set total_vat = {\"total_vat\": 0} %}\r\n    {% set discount_total = {\"discount_total\": 0} %}\r\n    {% set gross_total = {\"gross_total\": 0} %}\r\n    {% for row in doc.items %}\r\n    {% if total_amount.update({\"total_amount\": total_amount[\"total_amount\"] + row.base_net_amount }) %} {% endif %}\r\n\r\n    <tr>\r\n        <td style=\"\">{{ row.idx }}</td>\r\n        <td style=\"\">\r\n            {{ row.item_code }}\r\n        </td>\r\n        <td style=\"\">\r\n            {{ row.item_name }}\r\n        </td>\r\n        <td style=\"\" class=\"text-right\">\r\n            {{ '{0:,.2f}'.format(row.base_rate ) }}\r\n        </td>\r\n\r\n\r\n        <td style=\"\" class=\"text-right\">\r\n            {{ row.qty }}\r\n        </td>\r\n\r\n        <td style=\"\" class=\"text-right\">\r\n\r\n\r\n            {{ '{0:,.2f}'.format(row.base_net_amount ) }}\r\n        </td>\r\n\r\n        <td style=\"\" class=\"text-right\">\r\n\r\n            {% set t = row.total_tax_percentage %}\r\n            {% set tx = t|replace('%', '')|int %}\r\n            {% set vat = row.base_net_amount/100*tx %}\r\n            {{ '{0:,.2f}'.format(vat) }}\r\n            {% if total_vat.update({\"total_vat\": total_vat[\"total_vat\"] + vat}) %} {% endif %}\r\n\r\n        </td>\r\n        <!--<td style=\"\" class=\"text-right\">-->\r\n\r\n        <!--    {{ '{0:,.2f}'.format( row.discount_amount ) }}-->\r\n        <!--    {% if discount_total.update({\"discount_total\": discount_total[\"discount_total\"] + row.discount_amount}) %}-->\r\n        <!--    {% endif %}-->\r\n\r\n        <!--</td>-->\r\n\r\n\r\n        <td style=\"\" class=\"text-right\">\r\n            {% if gross_total.update({\"gross_total\": gross_total[\"gross_total\"] + row.base_net_amount + vat}) %}\r\n            {% endif\r\n            %}\r\n            {{ '{0:,.2f}'.format(row.base_net_amount + vat ) }}\r\n        </td>\r\n\r\n    </tr>\r\n    {%- endfor -%}\r\n    <tr>\r\n        <td></td>\r\n        <td colspan=\"3\" class=\"text-right\"><b>Totals: </b> </td>\r\n        <td class=\"text-right\"> <b>{{doc.total_qty}}</b></td>\r\n        <td class=\"text-right\"> <b> {{ '{0:,.2f}'.format(total_amount[\"total_amount\"] ) }}</b> </td>\r\n        <td class=\"text-right\"> <b> {{ '{0:,.2f}'.format(total_vat[\"total_vat\"] ) }} </b> </td>\r\n        <!--<td class=\"text-right\"> <b> {{ '{0:,.2f}'.format(discount_total[\"discount_total\"] ) }}</b> </td>-->\r\n        <td class=\"text-right\"><b> {{ '{0:,.2f}'.format(gross_total[\"gross_total\"] ) }} </b> </td>\r\n    </tr>\r\n</table>\r\n<table style=\"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr width=100% height=40px style=\"border: 1px solid black;\">\r\n        <td width=100%><b>Total Amount in words: {{ frappe.utils.money_in_words(gross_total[\"gross_total\"],\r\n                doc.currency) }}</b></td>\r\n\r\n    </tr>\r\n</table>\r\n<table style=\"width:100%; font-size:11px;  margin-top:10px; border-top:1px solid black; border-bottom:1px solid black;\">\r\n    <tr rowspan=\"4\">\r\n        <td colspan=\"6\" width=60%><b> Payment Terms: </b></td>\r\n        <td colspan=\"2\" width=40%>\r\n            <table class=\"table table-sm\" style=\"margin-top:0px\">\r\n                {% if doc.currency == 'KES' %}\r\n\r\n                <tr>\r\n                    <td colspan=\"2\"> <b> Sub Total </b> </td>\r\n                    <td colspan=\"2\"><b> {{ '{0:,.2f}'.format(doc.net_total ) }}</b> </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <td colspan=\"2\"> <b> VAT </b> </td>\r\n                    <td colspan=\"2\"><b> {{ '{0:,.2f}'.format(doc.total_taxes_and_charges) }}</b> </td>\r\n                </tr>\r\n\r\n\r\n                <tr>\r\n                    <td colspan=\"2\"> <b> Total Amount </b> </td>\r\n                    <td colspan=\"2\"> <b> {{ '{0:,.2f}'.format(doc.grand_total ) }} </b></td>\r\n                </tr>\r\n                {% else %}\r\n                <tr>\r\n                    <td colspan=\"2\"> <b>Exchange Rate. </b> </td>\r\n                    <td colspan=\"2\"><b> {{ '{0:,.2f}'.format(doc.conversion_rate ) }}</b> </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <td colspan=\"2\"> <b> Sub Total in KES. </b> </td>\r\n                    <td colspan=\"2\"> <b> {{ '{0:,.2f}'.format(doc.base_net_total ) }} </b> </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <td colspan=\"2\"> <b> Total in KES: </b> </td>\r\n                    <td colspan=\"2\"> <b> {{ '{0:,.2f}'.format(doc.base_grand_total) }} </b></td>\r\n                </tr>\r\n\r\n                {% endif %}\r\n            </table>\r\n        </td>\r\n    </tr>\r\n</table>\r\n\r\n<table style=\"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr width=100% height=100px style=\"border-top:1px solid black; border-bottom:1px solid black;\">\r\n        <td width=100%><b>Terms and Conditions:</b></td>\r\n\r\n    </tr>\r\n</table>\r\n\r\n<table style=\"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr width=100% height=60px style=\"border-bottom: 1px solid black;\">\r\n        <td width=100%><b>Shippment Address:</b></td>\r\n\r\n    </tr>\r\n</table>\r\n\r\n<table style=\"width:100%; font-size:11px;  margin-top:10px\">\r\n    <tr width=100% style=\"border:1px solid black;\">\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created By: {{ doc.owner }}\r\n            </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b> </b></td>\r\n\r\n    </tr>\r\n    <tr width=100% style=\"border:1px solid black;\">\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Inspected/QC By: </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b> </b></td>\r\n\r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created ON: {{\r\n                doc.get_formatted('creation')}} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b> Authorized By: {% if\r\n                doc.docstatus==1 %}{% else %} empty {% endif %} </b> </td>\r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Update Stock: </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b> </b> </td>\r\n    </tr>\r\n</table>\r\n\r\n{% set footer = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1 }, \"footer\") %}\r\n\r\n\r\n{% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(),\r\n\"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user}) %}\r\n{{ footer_updated }}\r\n\r\n\r\n<div id=\"footer-html\" class=\"visible-pdf\">\r\n    <div class=\"letter-head-footer\">\r\n        {{ footer }}\r\n    </div>\r\n    <p class=\"text-center small page-number visible-pdf\">\r\n        {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\r\n    </p>\r\n</div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:53.242387",
  "module": "AQIQ Print Formats",
  "name": "Purchase Invoice A4",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "    .qr-code-container {\r\n    width: 200px;\r\n    height: 200px;\r\n    border: 1px solid #000;\r\n    text-align: center;\r\n    margin: 0 auto;\r\n    padding: 10px;\r\n}",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Sales Invoice",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<style>\r\n    .print-format table, .print-format tr, \r\n    .print-format td, .print-format div, .print-format p {\r\n        line-height: 150%;\r\n        vertical-align: middle;\r\n    }\r\n\r\n\r\n    @media screen {\r\n        .print-format {\r\n            width: 80mm;\r\n            padding: 0.25in;\r\n            min-height: 8in;\r\n        }\r\n    }\r\n</style>\r\n\r\n<!--{% if letter_head %}-->\r\n<!--    {{ letter_head }}-->\r\n<!--{% endif %}-->\r\n\r\n\r\n\r\n\r\n            <!--{% if doc.company == 'Impala Glass Industries Ltd' %}-->\r\n            <!--    {% set logo = \"/files/Impala.png\" %} {% elif doc.company == \"Impala Africa Ltd\" %} {% set logo = \"/files/impala-africa-logo.jpg\" %}-->\r\n            <!--{% endif %}-->\r\n            \r\n            \r\n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'company_logo', 'esd_no']) %}\r\n            \r\n            {% set address = '' %}        \r\n            {% set shop_name = '' %}\r\n            {% set phone = '' %}\r\n            {% set tax_registration = '' %}\r\n            {% set company = doc.company %}   \r\n            {% set company_logo =  '' %} \r\n            {% set email =  '' %} \r\n            \r\n            {% if company_details %} {% set company_logo =  company_details[0].company_logo %}  {% endif %}\r\n            \r\n            \r\n            {% if doc.pos_profile %}\r\n\r\n\r\n{% set pos_profile = frappe.db.get_value(\"POS Profile\", {\"name\" : doc.pos_profile }, [\"address\",\"name\",\"phone\",\"phone_2\",\"tax_registration\" , \"email\"] , as_dict = 1) %}\r\n            {% if pos_profile %}             \r\n                    {% set address = pos_profile.address %}        \r\n                    {% set shop_name = pos_profile.name %}\r\n                    {% set phone = pos_profile.phone %}\r\n                    {% set phone_2 = pos_profile.phone_2 %}\r\n                    {% set email = pos_profile.email %}\r\n                    {% set tax_registration = pos_profile.tax_registration %}\r\n\r\n            {% endif %}             \r\n            \r\n    \r\n        {% endif %}             \r\n    \r\n\r\n\r\n<div class=\"text-center\"> 786 </div>\r\n\r\n<div class=\"\">\r\n     <img src=\"{{ company_logo }}\" style=\"height: 180px; width: 90%;\">\r\n</div>\r\n<div class=\"text-center text-upper\" style=\"text-transform: uppercase ; font-size: 13px; font-weight: 900;\"> \r\n{{ shop_name }}\r\n</div>\r\n<p class=\"text-center\"> {{ address  }} </p>\r\n\r\n<table class=\"table table-condensed\" style=\"margin: 0px; border-collapse: collapse; padding: 0px;\">\r\n    <tbody><tr> \r\n        <td> Tax Registration </td> <td> {{  doc.company_tax_id }}  </td>\r\n    </tr>\r\n</tbody></table>\r\n\r\n\r\n<div class=\"text-center\" style=\"font-size: 15px; font-weight: 900;\">\r\n{% if doc.is_return!=1 %}\r\n{{\"Cash Receipt\"}}\r\n{% else %}\r\n{{ \"Return\" }}\r\n{% endif %}\r\n</div>\r\n\r\n<p>\r\n    <b>{{ _(\"Date\") }}:</b> {{ doc.get_formatted(\"posting_date\") }} : {{  doc.get_formatted(\"posting_time\") }}<br>\r\n    <b>{{ _(\"Customer Code\") }}:</b> {{ doc.customer }}<br>\r\n    <b>{{ _(\"Customer\") }}:</b> {{ doc.customer_name }}<br>\r\n    {% if doc.tax_id %}\r\n        <b>{{ _(\"Pin\") }}:</b> {{ doc.tax_id }}<br>\r\n\r\n    {% endif %}\r\n    <b>{{ _(\"Invoice No\") }}:</b> {{ doc.name }}<br>\r\n    {% if doc.is_return==1%}\r\n    <b>{{ _(\"Tims Code\") }}:</b>{{ doc.tims_code or \"\" }}<br>\r\n    {% endif %}\r\n</p>\r\n    <div class=\"text-center\">\r\n    <img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\">\r\n    </div>\r\n\r\n<table class=\"table table-condensed\" style=\"margin: 0px; border-collapse: collapse; padding: 0px;\" >\r\n\r\n    <thead>\r\n        <tr>\r\n            <th width=\"40%\">{{ _(\"Item\") }}</th>\r\n            <th width=\"20%\" class=\"text-center\">{{ _(\"Qty\") }}</th>\r\n            <th width=\"20%\" class=\"text-center\">{{ _(\"Unit\") }}</th>\r\n            <th width=\"20%\" class=\"text-right\">{{ _(\"Amount\") }}</th>\r\n        </tr>\r\n    </thead>\r\n    <tbody>\r\n        {%- for item in doc.items -%}\r\n        <tr>\r\n            <td>\r\n                \r\n                {%- if item.item_name != item.item_code -%}\r\n                    {{ item.item_name }}\r\n                {%- endif -%}\r\n                {%- if item.serial_no -%}\r\n                    <br><b>{{ _(\"SR.No\") }}:</b><br>\r\n                    {{ item.serial_no | replace(\"\\n\", \", \") }}\r\n                {%- endif -%} \r\n                &nbsp;{{ item.item_code }}\r\n            </td>\r\n            <td class=\"text-right\">{{ item.qty }}</td>\r\n            <td class=\"text-right\">{{ '{0:,.2f}'.format(item.rate  ) }}</td>\r\n            <td class=\"text-right\">\r\n            {{ '{0:,.2f}'.format(item.amount  ) }}\r\n                \r\n                </td>\r\n        </tr>\r\n        {%- endfor -%}\r\n    </tbody>\r\n</table>\r\n<table class=\"table table-condensed no-border\">\r\n    <tbody>\r\n         {% if doc.currency == 'KES' %}\r\n        <tr>\r\n                <td class=\"text-right\" style=\"width: 70%\">\r\n                    {{ _(\" Sub Total\") }}\r\n                </td>\r\n                <td class=\"text-right\">\r\n                {{ '{0:,.2f}'.format(doc.net_total ) }} \r\n                </td>\r\n        </tr>\r\n        <tr>\r\n                <td class=\"text-right\" style=\"width: 70%\">\r\n                    {{ _(\"Tax Amount\") }}\r\n                </td>\r\n                <td class=\"text-right\">\r\n                 {{ '{0:,.2f}'.format(doc.total_taxes_and_charges ) }}  \r\n                </td>\r\n        </tr>\r\n\r\n        \r\n        <tr>\r\n            <td class=\"text-right\" style=\"width: 75%\">\r\n                <b>{{ _(\"Grand Total\") }}</b>\r\n            </td>\r\n            <td class=\"text-right\">\r\n\r\n                                {{ '{0:,.2f}'.format(doc.grand_total  ) }}\r\n\r\n            </td>\r\n        </tr>\r\n    \r\n    \r\n\r\n        {%- else -%}\r\n        <tr>\r\n            {% if doc.flags.show_inclusive_tax_in_print %}\r\n                <td class=\"text-right\" style=\"width: 70%\">\r\n                    {{ _(\"Total Excl. Tax in KES\") }}\r\n                </td>\r\n                <td class=\"text-right\">\r\n\r\n                    \r\n                                {{ '{0:,.2f}'.format(doc.base_net_total  ) }}\r\n\r\n                </td>\r\n            {% else %}\r\n                <td class=\"text-right\" style=\"width: 70%\">\r\n                    {{ _(\"Total in KES\") }}\r\n                </td>\r\n                <td class=\"text-right\">\r\n\r\n                                {{ '{0:,.2f}'.format(doc.base_total  ) }}\r\n\r\n                </td>\r\n            {% endif %}\r\n        </tr>\r\n       \r\n\r\n        {%- if doc.base_discount_amount -%}\r\n        <tr>\r\n            <td class=\"text-right\" style=\"width: 75%\">\r\n                {{ _(\"Discount\") }}\r\n            </td>\r\n            <td class=\"text-right\">\r\n                                {{ '{0:,.2f}'.format(doc.base_discount_amount  ) }}\r\n\r\n\r\n            </td>\r\n        </tr>\r\n        {%- endif -%}\r\n        <tr>\r\n            <td class=\"text-right\" style=\"width: 75%\">\r\n                <b>{{ _(\"Grand Total\") }}</b>\r\n            </td>\r\n            <td class=\"text-right\">\r\n\r\n                                {{ '{0:,.2f}'.format(doc.base_grand_total  ) }}\r\n\r\n            </td>\r\n        </tr>\r\n    \r\n        {%- endif -%}\r\n    </tbody>\r\n</table>\r\n<p class=\"text-center\"><b>Note: </b>\r\n        {% if doc.posa_notes %}\r\n        {{doc.posa_notes}} \r\n        {% endif %}\r\n</p>\r\n\r\n{% set mode_of_payment = {'mode_of_payment' : '' } %}\r\n{% for row in doc.payments %}\r\n{% if row.amount!= 0.0 %}\r\n{% if mode_of_payment.update({'mode_of_payment' : mode_of_payment['mode_of_payment'] + row.mode_of_payment + ', '}) %} {% endif %}\r\n{% endif %}\r\n{% endfor %}\r\n<p class=\"text-left\"><b>Mode of Payment: </b>{{mode_of_payment['mode_of_payment']}}</p>\r\n<hr>\r\n\r\n    <div style=\"display: flex; align-items: center; margin-right: 10px;\">\r\n        <div style=\"width: 100px; height: 100px; margin-right: 10px;\">\r\n         \r\n            <img src=\"{{doc.kra_qr_code}}\" alt=\"KRA QR Code here\" width=\"100\" height=\"100\">\r\n        </div>\r\n        <div style=\"position: relative; bottom:0\">\r\n            <p style=\"margin: 0;\"><br><br><br><br>\r\n            {{ doc.tsin or ''}}, {{ doc.cusn or '' }}, {{ doc.signing_time or ''}} <br> {{ doc.cuin   or ''}}\r\n            </p>\r\n        </div>\r\n    </div>\r\n\r\n<div style=\"margin-top:1px; margin-bottom:1px;  border:1px solid black;\"></div>\r\n<div class = 'text-center' style = \"font-size:12px;\" >Goods sold as per our terms & condition, to view the same visit <a href=\"https://impalaglass.com/tnc/\">impalaglass.com/tnc</a></div>\r\n\r\n\r\n\r\n{% if doc.is_return!=1 %}\r\n<div style = \"font-size:13px\"> \r\n    <center>\r\n        <p> Please Come Again </p>\r\n        <p>  <span>{{ phone or \"\"}}</span>  <span>{{ phone_2 or \"\"}}</span> </p>\r\n\r\n        <p class=\"text-center\"> {{ email  }} </p>\r\n\r\n        <p> <b>\r\n        Goods Once Sold Cannot Be Returned\r\n </b>        \r\n        </p>\r\n    </center>\r\n</div>\r\n{% endif %}",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:53.143979",
  "module": "AQIQ Print Formats",
  "name": "POS Print",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "@media screen {\r\n@page {\r\nmargin:5px;\r\nsize:a5;\r\n    \r\n}\r\n\r\n}\r\n@media pdf {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\n@page {\r\nmargin:5px;\r\n  size:a5;\r\n\r\n}\r\n}\r\n\r\n\r\n@media screen {\r\n @page {\r\n   margin:0px;\r\n  size:a5;\r\n\r\n}\r\n}\r\n\r\n\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n\r\n\r\n.watermark {\r\n    position: fixed;\r\n    top: 420px;\r\n    left: 220px;\r\n    right: 220px;\r\n    background: url(\"http://192.241.152.17/files/draft-background.png\");\r\n    background-repeat: no-repeat;\r\n    /*background-size: center;*/\r\n    height:400px;\r\n    width:50%;\r\n    background-position: center;\r\n    background-size: 100%;\r\n    color:black !important;\r\n    opacity: 0.3;\r\n    position: running(wtrmrk);\r\n    background-repeat: repeat-x;\r\n    }\r\n\r\n\r\n\r\n\r\n.days_tab {\r\n    position: relative;\r\n}\r\n\r\n.barchart-Wrapper {\r\n      display: table;\r\n      position: relative;\r\n      margin: 20px 0;\r\n      height: 120px;\r\n    }\r\n    .barChart-Container {\r\n      display: table-cell;\r\n      width: 100%;\r\n      height: 100%;\r\n      padding-left: 20px;\r\n      padding-right: 20px;\r\n    }\r\n    .barchart {\r\n     display: table;\r\n     table-layout: fixed;\r\n     height: 100%;\r\n     width: 100%;\r\n     border-bottom: 3px solid darkgrey;\r\n    }\r\n    .barchart-Col {\r\n      position: relative;\r\n      vertical-align: bottom;\r\n      display: table-cell;\r\n      height: 100%;\r\n    }\r\n    .barchart-Col + .barchart-Col {\r\n      border-left: 4px solid transparent;\r\n    }\r\n    .barchart-Bar {\r\n      position: static;\r\n      height: 0;\r\n      transition: height 0.5s 2s;\r\n      width: 10px;\r\n      margin: auto;\r\n    }\r\n    .barchart-Bar:after {\r\n      content: attr(attr-height);\r\n      color: white;\r\n      position: absolute;\r\n      text-align: center;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter {\r\n      position: absolute;\r\n      text-align: center;\r\n      left:40px;\r\n      height: 10%;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter h3 {\r\n      color: darkred;\r\n    }\r\n    .barchart-TimeCol {\r\n      position: absolute;\r\n      top: 0;\r\n      height: 100%;\r\n      width: 100%;\r\n    }\r\n    .barchart-Time {\r\n      height: 25%;\r\n      vertical-align: middle;\r\n      position: relative;\r\n    }\r\n    .barchart-Time:after {\r\n      border-bottom: 3px solid white;\r\n      content: \"\";\r\n      position: absolute;\r\n      width: 100%;\r\n      left: 0;\r\n      top: 0em;\r\n    }\r\n    .barchart-TimeText {\r\n      position: absolute;\r\n      top: -8px;\r\n      z-index: 1;\r\n      background: white;\r\n      padding-right: 5px;\r\n      color: #4d4d4d;\r\n      font-size: 15px;\r\n      font-family: 'Avenir Medium';\r\n    }\r\n    .sq1-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq1-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq2-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq2-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq3-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq3-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq4-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq4-bar {\r\n      background-color: #a61a17;\r\n    }",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Purchase Invoice",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "{% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website',]) %}\r\n        {% if doc.company %}\r\n     {% set company_logo = company_details[0].company_logo %}        \r\n        {% set company_address_line1 = '' %}        \r\n        {% set company_city = '' %}        \r\n        {% set company_country = '' %}        \r\n        {% set company_state = '' %}        \r\n        {% set phone = company_details[0].phone_no %}        \r\n        {% set website = company_details[0].website %}        \r\n        {% set email = company_details[0].email %}        \r\n        {% set tax_id = company_details[0].tax_id %}      \r\n\r\n        {% endif%}\r\n\r\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\r\n\r\n        {% if company_address_name  %}\r\n        {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\r\n        {% set company_address_line1 = address.address_line1 %}        \r\n        {% set company_city =  address.city  %}        \r\n        {% set company_country =  address.country  %}        \r\n        {% set company_state =  address.state  %}        \r\n        {% set phone = address.phone %}\r\n        {% endif  %}\r\n\r\n\r\n{% set dn_query = frappe.db.get_list('Delivery Note Item',\r\n            filters =  {\r\n            'parent' : doc.delivery_note,\r\n            },\r\n            fields = ['against_sales_order']) %}\r\n            {% set del_note = frappe.db.get_list('Delivery Note', filters = {'name' : doc.delivery_note}, fields=['contact_person', 'shipping_address']) %}\r\n            \r\n\r\n\r\n{% set tot_qty = {\"tot_qty\": 0} %}\r\n{% set tot_weight = {\"tot_weight\": 0} %}\r\n{% set tot_unit_weight = {\"tot_unit_weight\": 0} %}\r\n\r\n\r\n\r\n\r\n<div class = \"mainbox\" style = \"  \"> \r\n\r\n<table class = \"\" style = \"width:100%; \" border = \"1\"  > \r\n    <thead class = \"header-html\" > \r\n    <tr style = \"border:none !important\"> \r\n        <td colspan = \"9\"  style = \"border:none !important\" class = \"text-center\" > 786  </td>\r\n    </tr>\r\n    <tr> \r\n        <td colspan = \"9\">  \r\n        <div class = \"\" style = \"float:left; width:25%\" > \r\n\r\n            <div style=\"width: 100%;\"> \r\n             <img src=\"{{ company_logo }}\" style=\"height: 120px; width: 98%;\">\r\n            </div>\r\n\r\n        </div>\r\n\r\n        <div class = \"\" style = \"float:left; width:40%\" > \r\n\r\n        <div class = \"\"> <b> {{doc.company}} </b> </div>\r\n        <div class = \"\" style = \"font-size:9px\" > {% if company_address_line1 %}{{company_address_line1}} {% endif %} </div>\r\n        <div class = \"\" style = \"font-size:9px\" > {%  if company_city  %} {{ company_city }} {% endif %}  {%  if company_state  %} {{ company_state }} {% endif %} {%  if company_country  %} {{ company_country }} {% endif %} </div>\r\n        <div class = \"\" style = \"font-size:9px\" > P#: {{ phone or \"\" }} </div>\r\n        <div class = \"\" style = \"font-size:9px\" > Email: {{email  or \"\" }} </div>\r\n        <div class = \"\" style = \"font-size:9px\" > PIN NO: {{tax_id or \"\" }} </div>\r\n        <div class = \"\" style = \"font-size:9px\" > Website: {{website or \"\" }}</div>\r\n            \r\n\r\n\r\n        </div>\r\n\r\n\r\n            {% set sales_order = frappe.db.get_list(\"Sales Order\" ,\r\n            filters={\r\n            'name': doc.items[0].against_sales_order\r\n            },\r\n            fields = ['name', 'po_no']) %}\r\n        <div class = \"\" style = \"float:left; width:30%\" > \r\n\r\n            <table class = \"small table table-sm\" style = \"border:none; padding:0px; margin:0px; font-size:9px\"> \r\n                <tr>\r\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:14px\"> PURCHASE INVOICE </b> </span> </center>  </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Date </td> <td style = 'font-size:11px'>  \r\n                    \r\n                      {{ frappe.utils.formatdate(doc.get_formatted('posting_date'), \"dd-mm-yyyy\") }}\r\n                    \r\n                    </td>\r\n                </tr>\r\n\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Order # </td> <td style = \"font-size:11px\">  {{ doc.name }}</td>\r\n                </tr>\r\n                \r\n            </table>\r\n\r\n\r\n        </div>\r\n\r\n        </td>\r\n    </tr>\r\n\r\n\r\n\r\n    </thead>\r\n\r\n    <tr>\r\n        <td colspan = \"9\"> \r\n                <div class = \"\" style = \"float:left; width:60%\" >  \r\n                <div>  <b style=\"font-size:15px\"> Supplier Details, </b></div>\r\n                <div style=\"font-size:10px\"> <b>{{ doc.supplier_name or \"\"}} </b> </div>\r\n            <div style=\"font-size:9px\"> {{ doc.supplier_address or \"\" }} </div>\r\n            <div style=\"font-size:9px\"> {{ doc.contact_person or \"\"}} </div>\r\n            <div style=\"font-size:9px\"> {{ doc.contact_mobile or \"\"}} </div>\r\n                \r\n                \r\n                </div>\r\n                <div class = \"\" style = \"float:left; width:25%\" >              \r\n                \r\n                </div>\r\n                <div class = \"\" style = \"float:left; width:35%\" >  \r\n                \r\n            <table class = \"table table-sm \" style = \"width:100%; border:none; font-size:9px; padding:0px; margin:0px \" cellspacing = '0' cellpadding = '0'> \r\n                  <tr>\r\n                    <td style = 'font-size:11px'> PO Date: </td> <td style = 'font-size:11px'> {{frappe.db.get_value('Purchase Order', doc.name, 'transaction_date') }}  </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> PO #. </td> <td style = 'font-size:11px'> {{ frappe.db.get_value('Purchase Order', doc.name, 'name') }}   </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> GRN No.: </td> <td style = 'font-size:11px'>  {{ frappe.db.get_value('Purchase Receipt', doc.name, 'name') }} </td>\r\n                </tr>\r\n                <!--<tr>-->\r\n                <!--    <td style = 'font-size:11px'> Warehouse: </td> <td style = 'font-size:11px'>  ?? </td>-->\r\n                <!--</tr>-->\r\n                <tr>\r\n                    <td style='font-size:11px'> Supp. Inv No.: </td>\r\n                    <!--<td style='font-size:11px'> {{ frappe.db.get_value('Sales Invoice', doc.name, 'name') }} </td>-->\r\n                    <td style='font-size:11px'> {{doc.bill_no }} </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style='font-size:11px'> Supp. Inv Date: </td>\r\n                    <!--<td style='font-size:11px'> {{ frappe.db.get_value('Sales Invoice', doc.name, 'posting_date') }}-->\r\n                    <!--</td>-->\r\n                    <td style='font-size:11px'> {{doc.bill_date}}\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Currency: </td> <td style = 'font-size:11px'>  {{doc.currency}} </td>\r\n                </tr>\r\n              \r\n\r\n\r\n\r\n            </table>\r\n                \r\n                \r\n                </div>\r\n        </td>\r\n\r\n    </tr>\r\n    <tr> \r\n    <td colspan = \"9\">\r\n   <div style=\"height:30px; \">\r\n    Remarks:\r\n</div>\r\n\r\n\r\n\r\n    </td>\r\n    </tr>\r\n        <thead style = \"font-size:10px\" > \r\n        <tr> \r\n              <th>  # </th>\r\n            <th>  Item Code </th>\r\n            <th>  Item Name </th>\r\n            <th class=\"text-right\">  Rate </th>\r\n            <th class=\"text-right\">  Qty </th>\r\n            <th class=\"text-right\">  Total </th>\r\n            <th class=\"text-right\">  VAT </th>\r\n            <th class=\"text-right\">  Discount </th>\r\n            <th class=\"text-right\">  Gross </th>\r\n        </tr>\r\n        </thead>\r\n        \r\n{% set total_amount = {\"total_amount\": 0} %}\r\n{% set total_vat = {\"total_vat\": 0} %}\r\n{% set discount_total = {\"discount_total\": 0} %}\r\n{% set gross_total = {\"gross_total\": 0} %}\r\n{% for row in doc.items %}\r\n    {% if total_amount.update({\"total_amount\": total_amount[\"total_amount\"] + row.base_net_amount}) %} {% endif %}\r\n    \r\n       <tr>\r\n        <td style=\"\">{{ row.idx }}</td>\r\n        <td style=\"\">\r\n            {{ row.item_code }}\r\n        </td>\r\n        <td style=\"\">\r\n            {{ row.item_name }}\r\n        </td>\r\n        <td style=\"\" class=\"text-right\">\r\n            {{ '{0:,.2f}'.format(row.base_rate ) }}\r\n        </td>\r\n\r\n\r\n        <td style=\"\" class=\"text-right\">\r\n            {{ row.qty }}\r\n        </td>\r\n\r\n        <td style=\"\" class=\"text-right\">\r\n\r\n\r\n            {{ '{0:,.2f}'.format(row.base_net_amount ) }}\r\n        </td>\r\n\r\n        <td style=\"\" class=\"text-right\">\r\n\r\n            {% set t = row.total_tax_percentage %}\r\n            {% set tx = t|replace('%', '')|int %}\r\n            {% set vat = row.base_net_amount/100*tx %}\r\n            {{ '{0:,.2f}'.format(vat) }}\r\n            {% if total_vat.update({\"total_vat\": total_vat[\"total_vat\"] + vat}) %} {% endif %}\r\n\r\n        </td>\r\n        <td style=\"\" class=\"text-right\">\r\n\r\n            {{ '{0:,.2f}'.format( row.discount_amount ) }}\r\n            {% if discount_total.update({\"discount_total\": discount_total[\"discount_total\"] + row.discount_amount}) %}\r\n            {% endif %}\r\n\r\n        </td>\r\n\r\n\r\n        <td style=\"\" class=\"text-right\">\r\n            {% if gross_total.update({\"gross_total\": gross_total[\"gross_total\"] + row.base_net_amount + vat}) %}\r\n            {% endif\r\n            %}\r\n            {{ '{0:,.2f}'.format( row.base_net_amount + vat ) }}\r\n        </td>\r\n\r\n    </tr>\r\n        {%- endfor -%}\r\n        <tr> \r\n            <td></td>\r\n            <td colspan=\"3\" class=\"text-right\"><b>Totals: </b>  </td>\r\n            <td class=\"text-right\"> <b>{{doc.total_qty}}</b></td>\r\n            <td class=\"text-right\">  <b> {{ '{0:,.2f}'.format(total_amount[\"total_amount\"]  ) }}</b> </td>\r\n            <td class=\"text-right\"> <b> {{ '{0:,.2f}'.format(total_vat[\"total_vat\"]  ) }} </b> </td>\r\n            <td class=\"text-right\"> <b>  {{ '{0:,.2f}'.format(discount_total[\"discount_total\"]  ) }}</b> </td>\r\n            <td class=\"text-right\"><b>   {{ '{0:,.2f}'.format(gross_total[\"gross_total\"]  ) }} </b> </td>\r\n        </tr>\r\n        <tr width=100% height=40px style = \"border: 1px solid black;\" >\r\n        <td width=100% colspan = \"9\"><b>Total Amount in words: {{ frappe.utils.money_in_words(gross_total[\"gross_total\"], doc.currency) }}</b></td>\r\n        \r\n    </tr>\r\n        <tr rowspan = \"4\">\r\n    <td  colspan = \"6\" width=60%><b> Payment Terms:  </b>\r\n\r\n{% if doc.payment_terms_template  %}\r\n\r\n    <table style = \"font-size:10px; border: 1px solid #EBEEF0 \" cellspacing = '0' rowspacing = '0' width = \"95%\" border = \"1\"   > \r\n        <tr> \r\n            <th> P-Term </th> \r\n            <th> Due Date</th> \r\n            <th> Invoice Portion </th> \r\n        </tr>\r\n\r\n\r\n\r\n{%- for row in doc.payment_schedule -%}\r\n\t\t<tr>\r\n\t\t    <td> {{ row.payment_term}} </td>\r\n\t\t    <td> {{ row.due_date }} </td>\r\n\t\t    <td> {{ row.invoice_portion }} -  {{ row.discount_type }}  </td>\r\n\r\n\t\t</tr>\r\n\t\t{%- endfor -%}\r\n\r\n\r\n\r\n\r\n    </table>\r\n\t\t{%- endif -%}\r\n\r\n\r\n\r\n\r\n    \r\n    \r\n    </td>\r\n    <td colspan = \"3\" width=40%>\r\n        <table class=\"table table-sm\" style=\"margin-top:0px\">\r\n                {% if doc.currency == 'KES' %}\r\n\r\n                <tr>\r\n                    <td colspan=\"2\"> <b> Sub Total </b> </td>\r\n                    <td colspan=\"2\"><b> {{ '{0:,.2f}'.format(doc.net_total ) }}</b> </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <td colspan=\"2\"> <b> VAT </b> </td>\r\n                    <td colspan=\"2\"><b> {{ '{0:,.2f}'.format(doc.total_taxes_and_charges) }}</b> </td>\r\n                </tr>\r\n\r\n\r\n                <tr>\r\n                    <td colspan=\"2\"> <b> Total Amount </b> </td>\r\n                    <td colspan=\"2\"> <b> {{ '{0:,.2f}'.format(doc.grand_total ) }} </b></td>\r\n                </tr>\r\n                {% else %}\r\n                <tr>\r\n                    <td colspan=\"2\"> <b>Exchange Rate. </b> </td>\r\n                    <td colspan=\"2\"><b> {{ '{0:,.2f}'.format(doc.conversion_rate ) }}</b> </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <td colspan=\"2\"> <b> Sub Total in KES. </b> </td>\r\n                    <td colspan=\"2\"> <b> {{ '{0:,.2f}'.format(doc.base_net_total ) }} </b> </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <td colspan=\"2\"> <b> Total in KES: </b> </td>\r\n                    <td colspan=\"2\"> <b> {{ '{0:,.2f}'.format(doc.base_grand_total) }} </b></td>\r\n                </tr>\r\n\r\n                {% endif %}\r\n            </table>\r\n    </td>\r\n</tr>\r\n\r\n <tr width=100% height=60px style = \"border-bottom: 1px solid black;\">\r\n        <td colspan = \"9\" width=100%><b>Shippment Address:</b></td>\r\n        \r\n    </tr>\r\n\r\n<tr> \r\n    <td colspan = \"9\" style = \"font-size:9px;\">  \r\n   <div> <b>Created By: {{ doc.owner }}  </b> </div>\r\n     <div>  <b> Created On: {{ doc.get_formatted('creation')}} </b> </div>\r\n     <div> <b>Created By: {{ doc.owner }} </b></div>\r\n \r\n    </td>\r\n    \r\n</tr>\r\n\r\n<tr> \r\n    <td colspan = \"9\" style = \"font-size:9px;\">  \r\n   <div class = \"\" style = \"font-size:9px; width:33%; float:left; font-weight:bold; \"> Recieved By </div>\r\n    <div class = \"\" style = \"font-size:9px; width:33%; float:left; font-weight:bold;\"> ID  </div>\r\n    <div class = \"\" style = \"font-size:9px; width:33%; float:left;font-weight:bold; \"> Signature  </div>\r\n{% if doc.docstatus==0 %}\r\n<div class ='watermark'>\r\n</div>\r\n{% endif %}\r\n    </td>\r\n\r\n\r\n</tr>\r\n\r\n</table>\r\n</div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:53.037360",
  "module": "AQIQ Print Formats",
  "name": "Purchase Invoice New A5",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "@media screen,pdf {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n \r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\nmargin-top-15{\r\n    margin-top:15px;\r\n}\r\n \r\n   .text-size-9{\r\n     font-size:9px;\r\n }\r\n \r\n    }\r\n    \r\n@media print {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n \r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n  .text-size-9{\r\n     font-size:9px;\r\n }\r\n \r\n table.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n \r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n@media screen {\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n\r\n  .text-size-9{\r\n     font-size:9px;\r\n }\r\n\r\n.amount-val{\r\n   color:darkgrey;\r\n   bottom:20px;\r\n   position:relative;\r\n}\r\n\r\n/*.watermark {*/\r\n/*    position: fixed;*/\r\n/*    top: 420px;*/\r\n/*    left: 220px;*/\r\n/*    right: 220px;*/\r\n/*    background: url(\"http://192.241.152.17/files/draft-background.png\");*/\r\n/*    background-repeat: no-repeat;*/\r\n    /*background-size: center;*/\r\n/*    height:400px;*/\r\n/*    width:50%;*/\r\n/*    background-position: center;*/\r\n/*    background-size: 100%;*/\r\n/*    color:black !important;*/\r\n/*    opacity: 0.3;*/\r\n/*    position: running(wtrmrk);*/\r\n/*    background-repeat: repeat-x;*/\r\n/*    }*/\r\n\r\n.watermark {\r\n    position: fixed;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%) rotate(-45deg);\r\n    opacity: 0.5;\r\n    font-size: 100px;\r\n    color: rgba(255, 0, 0, 0.3);\r\n}\r\n\r\n.days_tab {\r\n    position: relative;\r\n}\r\n\r\n.barchart-Wrapper {\r\n      display: table;\r\n      position: relative;\r\n      margin: 20px 0;\r\n      height: 120px;\r\n    }\r\n    .barChart-Container {\r\n      display: table-cell;\r\n      width: 100%;\r\n      height: 100%;\r\n      padding-left: 20px;\r\n      padding-right: 20px;\r\n    }\r\n    .barchart {\r\n     display: table;\r\n     table-layout: fixed;\r\n     height: 100%;\r\n     width: 100%;\r\n     border-bottom: 3px solid darkgrey;\r\n    }\r\n    .barchart-Col {\r\n      position: relative;\r\n      vertical-align: bottom;\r\n      display: table-cell;\r\n      height: 100%;\r\n    }\r\n    .barchart-Col + .barchart-Col {\r\n      border-left: 4px solid transparent;\r\n    }\r\n    .barchart-Bar {\r\n      position: static;\r\n      height: 0;\r\n      transition: height 0.5s 2s;\r\n      width: 10px;\r\n      margin: auto;\r\n    }\r\n    .barchart-Bar:after {\r\n      content: attr(attr-height);\r\n      color: white;\r\n      position: absolute;\r\n      text-align: center;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter {\r\n      position: absolute;\r\n      text-align: center;\r\n      left:40px;\r\n      height: 10%;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter h3 {\r\n      color: darkred;\r\n    }\r\n    .barchart-TimeCol {\r\n      position: absolute;\r\n      top: 0;\r\n      height: 100%;\r\n      width: 100%;\r\n    }\r\n    .barchart-Time {\r\n      height: 25%;\r\n      vertical-align: middle;\r\n      position: relative;\r\n    }\r\n    .barchart-Time:after {\r\n      border-bottom: 3px solid white;\r\n      content: \"\";\r\n      position: absolute;\r\n      width: 100%;\r\n      left: 0;\r\n      top: 0em;\r\n    }\r\n    .barchart-TimeText {\r\n      position: absolute;\r\n      top: -8px;\r\n      z-index: 1;\r\n      background: white;\r\n      padding-right: 5px;\r\n      color: #4d4d4d;\r\n      font-size: 15px;\r\n      font-family: 'Avenir Medium';\r\n    }\r\n    .sq1-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq1-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq2-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq2-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq3-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq3-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq4-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq4-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    \r\n    .qr-code-container {\r\n    width: 200px;\r\n    height: 200px;\r\n    border: 1px solid #000;\r\n    text-align: center;\r\n    margin: 0 auto;\r\n    padding: 10px;\r\n}\r\n",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Sales Invoice",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<div id=\"header-html\"   style = \"margin-top:-15px !important; width:95.2%; margin-left:15px !important\">\r\n    <div class = \"row\" style = \"\">\r\n        <div class = \"col-xs-10\" style = \"width:100%; float:left; border:1px solid black \">\r\n         {% set header = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1}, \"content\") %}\r\n            \r\n            <!--{% if doc.company == 'Impala Glass Industries Ltd' %}-->\r\n            <!--    {% set logo = \"/files/Impala.png\" %} {% elif doc.company == \"Impala Africa Ltd\" %} {% set logo = \"/files/impala-africa-logo.jpg\" %}-->\r\n            <!--{% endif %}-->\r\n            \r\n            \r\n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website', 'esd_no']) %}\r\n            \r\n            \r\n        \r\n        {% set comapny_address_line1 = '' %}        \r\n        {% set comapny_city = '' %}        \r\n        {% set comapny_counrty = '' %}        \r\n        {% set comapny_state = '' %}        \r\n        {% set phone = '' %}        \r\n\r\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\r\n\r\n        {% if company_address_name  %}\r\n            {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\r\n                \r\n\r\n        {% set comapny_address_line1 = address.address_line1 %}        \r\n        {% set comapny_city =  address.city  %}        \r\n        {% set comapny_counrty =  address.country  %}        \r\n        {% set comapny_state =  address.state  %}        \r\n\r\n        {% set phone = address.phone %}        \r\n\r\n        {% endif  %}\r\n\r\n\r\n            \r\n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \r\n            'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \r\n            'state' : comapny_state,\r\n            'phone_no' : phone, 'email' : company_details[0].email, 'pin_no': company_details[0].tax_id ,  'company_logo' : company_details[0].company_logo, 'website' : company_details[0].website,  }) %}\r\n            {{header_updated}}\r\n            \r\n           \r\n           <table  class = \"table table-sm\" style = \"width:28%; \"> \r\n                <tr>\r\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:12px\"> SALES INVOICE </b> </span> </center>  </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Date </td> <td style = 'font-size:11px'>\r\n                     {{ frappe.utils.formatdate(doc.get_formatted('posting_date'), \"dd-mm-yyyy\") }} </td>\r\n                </tr>\r\n\r\n                <tr> \r\n                    <td style = \"font-size:14px\"><b> Invoice # </b></td> <td style = \"font-size:14px\"><b>  {{ doc.name }}</b></td>\r\n                </tr>\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Division </td> <td style = \"font-size:11px\">  {{ doc.cost_center }} </td>\r\n                </tr>\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Department </td> <td style = \"font-size:11px\">  {{ doc.department }} </td>\r\n                </tr>\r\n\r\n\r\n            </table>\r\n\r\n\r\n        </div>\r\n\r\n        <div class = \"col-xs-8\" style = 'float:left'>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n<table class = \"\"  style = \"width:100%; font-size:11px !important; border-bottom:1px solid black !important;\"> \r\n    <tr> \r\n        <td style = \"width:40%\">  \r\n            <div>  <b style=\"font-size:13px\"> Bill To, </b></div>\r\n            <div> <b> {{ doc.customer }} </b> </div>\r\n            <div> <b> {{ doc.customer_name }} </b> </div>\r\n            <div> {{ doc.address_display }} </div>\r\n        </td>\r\n        <td style=\"20%\">\r\n            <img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\" class=\"center\" height=100px>\r\n        </td>\r\n        <td style = \"width:35%\">  \r\n            <table class = \"table table-sm; \" style = \"width:100%; margin-top:-1px !important;\" cellspacing = '0' cellpadding = '0'> \r\n                <tr>\r\n                    <td style = 'font-size:11px'> PO Date </td> <td style = 'font-size:11px'>  {{ frappe.utils.formatdate(doc.get_formatted('po_date'), \"dd-mm-yyyy\") }}  </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Customer PO#. </td> <td style = 'font-size:11px'>  {{doc.po_no}} </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Sales Person </td>\r\n                    {% set salesman = [] %}\r\n                    {% for i in doc.sales_team %}\r\n                        {% set salesman = salesman.append(i.get(\"sales_person\")) %}\r\n                    {% endfor %}\r\n                    {% set sales_team = salesman|join(', ') %}\r\n                    <td style = 'font-size:11px'>{{sales_team}}</td>\r\n                </tr>\r\n\r\n\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Currency </td>\r\n                    <td style = 'font-size:11px'>{{ doc.currency }}</td>\r\n                </tr>\r\n                <tr>\r\n                    <td class = \"text-size-10\"  style = 'font-size:10px'>  DN # {{ doc.items[0].delivery_note or \"\" }}   </td>\r\n                    <td class = \"text-size-10\"  style = 'font-size:10px'>  SO # {{ doc.items[0].sales_order or \"\" }}   </td>\r\n                    \r\n                </tr>\r\n\r\n\r\n\r\n            </table>\r\n        </td>\r\n\r\n    </tr>\r\n</table>\r\n\r\n\r\n<div style=\"margin-top:2px; height:40px; border:1px solid black;\">\r\n   Additional Notes:\r\n    <p>\r\n        {% if doc.posa_notes %}\r\n        {{doc.posa_notes}} \r\n        {% endif %}\r\n    </p>\r\n</div>\r\n\r\n\r\n\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:10px\" border = '1'> \r\n    <tr> \r\n        <thead> \r\n            <th>  ID </th>\r\n            <th>  Item Code </th>\r\n            <th>  Item Name </th>\r\n             <th>  HSE Code </th>\r\n            <th class=\"text-right\">  Rate </th>\r\n            <th class=\"text-right\">  Qty </th>\r\n            <th class=\"text-right\">  Total </th>\r\n\r\n        </thead>\r\n    </tr>\r\n{% set total_amount = {\"total_amount\": 0} %}\r\n\r\n{% for row in doc.items %}\r\n    {% if total_amount.update({\"total_amount\": total_amount[\"total_amount\"] + row.qty * row.rate}) %} {% endif %}\r\n    \r\n        <tr>\r\n            <td style=\"\">{{ row.idx }}</td>\r\n            <td style=\"\">\r\n                {{ row.item_code }}\r\n            </td>\r\n            <td style=\"\">\r\n                {{ row.item_name }}\r\n            </td>\r\n            <td style=\"\">\r\n                {{ frappe.db.get_value(\"Item\", row.item_code, 'hs_code') }}\r\n            </td>\r\n            <td style=\"\" class=\"text-right\">\r\n                {{ '{0:,.2f}'.format(row.rate  ) }} \r\n            </td>\r\n\r\n\r\n            <td style=\"\" class=\"text-right\">\r\n                {{ row.qty }}\r\n            </td>\r\n            {% set amount= row.qty * row.rate %}\r\n            \r\n            <td style=\"\" class=\"text-right\">\r\n                \r\n                <!--{{ frappe.utils.fmt_money(amount, currency=\"KES\") }} -->\r\n                {{ '{0:,.2f}'.format(amount  ) }} \r\n            </td>\r\n        \r\n\r\n            \r\n\r\n        </tr>\r\n        {%- endfor -%}\r\n        <tr> \r\n            <td></td>\r\n            <td colspan=\"4\" class=\"text-right\"><b>Totals: </b>  </td>\r\n            <td class=\"text-right\"> <b>{{doc.total_qty}}</b></td>\r\n            <td class=\"text-right\"> <b>\r\n                  <!--{{ '{0:,.2f}'.format(doc.total) }} -->\r\n                  </b></td>\r\n        </tr>\r\n \r\n</table>\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\" border = '1'>\r\n    <tr rowspan = \"4\">\r\n     <tr>\r\n    <td colspan = \"9\" class=\"text-left\">  \r\n            <b class = \"text-size-10\" >Total Amount in words:   {{ frappe.utils.money_in_words(doc.base_grand_total, doc.currency ) }}  </b>  \r\n            </td>\r\n</tr>\r\n<tr>\r\n    <td  colspan = \"5\" width=50%>  \r\n    \r\n               {% if doc.currency != 'KES' %}\r\n               <table class=\"small Text-right \"  width = \"100%\" style=\"margin-top:0px; border:none !important\">\r\n            \r\n            <tr class = \"text-right\" > \r\n                <td colspan = \"\" class = \"text-size-10 text-left\"  style=\"font-size:10px; font-weight:bold;\"> <b> Exchange Rate.</b> </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right\" style=\"font-size:10px; font-weight:bold;\"><b> \r\n                \r\n\r\n                                                 {{ '{0:,.2f}'.format(doc.conversion_rate ) }} \r\n                </b> </td>\r\n\r\n\r\n            </tr>\r\n            <tr class = \"text-right\" > \r\n                <td colspan = \"\" class = \"text-size-10 text-left\"  style=\"font-size:10px; font-weight:bold;\"> <b> Sub Total in KES.</b> </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right\" style=\"font-size:10px; font-weight:bold;\"><b> \r\n                \r\n\r\n                                                 {{ '{0:,.2f}'.format(doc.base_net_total ) }} \r\n                </b> </td>\r\n\r\n\r\n            </tr>\r\n\r\n            <tr class = \"text-right\" > \r\n                <td colspan = \"\" class = \"text-size-10 text-left \" style=\"font-size:10px; font-weight:bold;\">  <b> Total in KES: </b>  </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right \" style=\"font-size:10px; font-weight:bold;\"> \r\n                \r\n                \r\n                <b>  \r\n                                                    {{ '{0:,.2f}'.format(doc.base_grand_total) }} \r\n\r\n                \r\n\r\n                \r\n                </b></td>\r\n            </tr>\r\n            \r\n            </table>\r\n            {% endif %}\r\n\r\n    \r\n    </td>\r\n    <td colspan = \"3\" width=50%>\r\n        <table class=\"small Text-right \"  width = \"100%\" style=\"margin-top:0px; border:none !important\">\r\n             <tr class = \"text-right\" > \r\n                <td colspan = \"\" class = \"text-size-10 text-right\"  style=\"font-size:10px; font-weight:bold;\"> <b> Total Excl.</b> </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right\" style=\"font-size:10px; font-weight:bold;\"><b> \r\n                \r\n\r\n                                                 {{ '{0:,.2f}'.format(doc.net_total ) }} \r\n                </b> </td>\r\n\r\n\r\n            </tr>\r\n            <tr class = \"text-right\" > \r\n                <td colspan = \"\" class = \"text-size-10 text-right\"  style=\"font-size:10px; font-weight:bold;\"> <b>  Tax Amount </b> </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right\" style=\"font-size:10px; font-weight:bold;\"><b> \r\n                \r\n\r\n                                                 {{ '{0:,.2f}'.format(doc.total_taxes_and_charges ) }} \r\n                </b> </td>\r\n\r\n\r\n            </tr>\r\n\r\n            <tr>\r\n                 <td colspan = \"\" class = \"text-size-10 text-right \" style=\"font-size:10px; font-weight:bold;\">  <b> Total Amount </b>  </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right \" style=\"font-size:10px;\"> <b>  {{ '{0:,.2f}'.format(doc.grand_total ) }}   </b></td>\r\n            </tr>\r\n        </table>\r\n    </td>\r\n</tr>\r\n</table>\r\n\r\n{% if doc.docstatus==0 %}\r\n<div class ='watermark'>\r\n    DRAFT\r\n</div>\r\n{% endif %}\r\n\r\n<table width=100%>\r\n    <tr width=100% style=\"border:1px solid black;\">\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created By: {{ doc.owner }} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b>  </b></td>\r\n        \r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created ON: {{ doc.get_formatted('creation')}} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b> Authorized By:    </b> </td>\r\n    </tr>\r\n</table>\r\n\r\n<br><br>\r\n\r\n    <div style=\"display: flex; align-items: center; margin-right: 10px;\">\r\n        <div style=\"width: 100px; height: 100px; margin-right: 10px;\">\r\n         \r\n            <img src=\"{{doc.kra_qr_code}}\" alt=\"KRA QR Code here\" width=\"100\" height=\"100\">\r\n        </div>\r\n        <div style=\"position: relative; bottom:0\">\r\n            <p style=\"margin: 0;\"><br><br><br><br>\r\n            {{ doc.tsin or ''}}, {{ doc.cusn or '' }}, {{ doc.signing_time or ''}} <br> {{ doc.cuin   or ''}}\r\n            </p>\r\n        </div>\r\n    </div>\r\n<div style=\"margin-top:1px; margin-bottom:1px;  border:1px solid black;\"></div>\r\n<div class = 'text-center' style = \"font-size:12px;\" >Goods sold as per our terms & condition, to view the same visit <a href=\"https://impalaglass.com/tnc/\">impalaglass.com/tnc</a></div>\r\n\r\n{% set footer = frappe.db.get_value(\"Letter Head\", doc.letter_head, \"footer\") %}\r\n\r\n{% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(), \"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user,\"is_return\": doc.is_return, \"tims_code\": doc.tims_code, \"return_against\" : doc.return_against or \"\"}) %}\r\n{{ footer_updated }}\r\n\r\n\r\n    <div id=\"footer-html\" class=\"visible-pdf\">\r\n        <div class=\"letter-head-footer\">\r\n            {{ footer }}\r\n        </div>\r\n        <p class=\"text-center small page-number visible-pdf\">\r\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\r\n        </p>\r\n    </div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:52.935175",
  "module": "AQIQ Print Formats",
  "name": "Sales invoice Export",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "@media screen,pdf {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n \r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\nmargin-top-15{\r\n    margin-top:15px;\r\n}\r\n \r\n   .text-size-9{\r\n     font-size:9px;\r\n }\r\n \r\n    }\r\n    \r\n@media print {\r\n\t\t.print-format {\r\n\t\t}\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n }\r\n \r\n\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n \r\n  .text-size-9{\r\n     font-size:9px;\r\n }\r\n \r\n table.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n \r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n@media screen {\r\n .text-size-10{\r\n     font-size:10px;\r\n }\r\n.margin-top-10{\r\n    margin-top:10px;\r\n}\r\n\r\n.margin-top-15{\r\n    margin-top:15px;\r\n}\r\ntable.print-friendly tr td, table.print-friendly tr th {\r\n        page-break-inside: avoid;\r\n    }\r\n\r\n\r\n .letter-head-footer{\r\n     font-size:10px;\r\n     \r\n }\r\n\r\n  .text-size-9{\r\n     font-size:11px;\r\n }\r\n}\r\n\r\n.amount-val{\r\n   color:darkgrey;\r\n   bottom:20px;\r\n   position:relative;\r\n}\r\n\r\n.watermark {\r\n  position: relative;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  overflow: hidden;\r\n}\r\n\r\n.watermark::before {\r\n  content: \"DRAFT\";\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%) rotate(-45deg);\r\n  font-size: 100px;\r\n  color: rgba(255, 0, 0, 0.2); \r\n  font-family: \"Helvetica Neue\", sans-serif;\r\n  pointer-events: none;\r\n}\r\n\r\n.watermark {\r\n    position: fixed;\r\n    top:70px;\r\n    left:11%;\r\n    right:10%;\r\n    background: url(\"http://192.241.152.17/files/draft-background.png\");\r\n    background-repeat: no-repeat;\r\n    height:700px;\r\n    width:80%;\r\n    /*background-position: center;*/\r\n    background-size: 100%;\r\n    opacity: 0.5;\r\n    }\r\n\r\n\r\n.days_tab {\r\n    position: relative;\r\n}\r\n\r\n.barchart-Wrapper {\r\n      display: table;\r\n      position: relative;\r\n      margin: 20px 0;\r\n      height: 120px;\r\n    }\r\n    .barChart-Container {\r\n      display: table-cell;\r\n      width: 100%;\r\n      height: 100%;\r\n      padding-left: 20px;\r\n      padding-right: 20px;\r\n    }\r\n    .barchart {\r\n     display: table;\r\n     table-layout: fixed;\r\n     height: 100%;\r\n     width: 100%;\r\n     border-bottom: 3px solid darkgrey;\r\n    }\r\n    .barchart-Col {\r\n      position: relative;\r\n      vertical-align: bottom;\r\n      display: table-cell;\r\n      height: 100%;\r\n    }\r\n    .barchart-Col + .barchart-Col {\r\n      border-left: 4px solid transparent;\r\n    }\r\n    .barchart-Bar {\r\n      position: static;\r\n      height: 0;\r\n      transition: height 0.5s 2s;\r\n      width: 10px;\r\n      margin: auto;\r\n    }\r\n    .barchart-Bar:after {\r\n      content: attr(attr-height);\r\n      color: white;\r\n      position: absolute;\r\n      text-align: center;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter {\r\n      position: absolute;\r\n      text-align: center;\r\n      left:40px;\r\n      height: 10%;\r\n      width: 100%;\r\n    }\r\n    .barchart-BarFooter h3 {\r\n      color: darkred;\r\n    }\r\n    .barchart-TimeCol {\r\n      position: absolute;\r\n      top: 0;\r\n      height: 100%;\r\n      width: 100%;\r\n    }\r\n    .barchart-Time {\r\n      height: 25%;\r\n      vertical-align: middle;\r\n      position: relative;\r\n    }\r\n    .barchart-Time:after {\r\n      border-bottom: 3px solid white;\r\n      content: \"\";\r\n      position: absolute;\r\n      width: 100%;\r\n      left: 0;\r\n      top: 0em;\r\n    }\r\n    .barchart-TimeText {\r\n      position: absolute;\r\n      top: -8px;\r\n      z-index: 1;\r\n      background: white;\r\n      padding-right: 5px;\r\n      color: #4d4d4d;\r\n      font-size: 15px;\r\n      font-family: 'Avenir Medium';\r\n    }\r\n    .sq1-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq1-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq2-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq2-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq3-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq3-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    .sq4-bar {\r\n      background-color: #3489eb;\r\n    }\r\n    .rq4-bar {\r\n      background-color: #a61a17;\r\n    }\r\n    \r\n.qr-code-container {\r\n    width: 200px;\r\n    height: 200px;\r\n    border: 1px solid #000;\r\n    text-align: left;\r\n    margin: 0 auto;\r\n    padding: 10px;\r\n}\r\n",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Sales Invoice",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<div id=\"header-html\" class = \"margin-top-15\"   style = \" margin-top:-20px  !important; width:92.2%; margin-left:15px !important\">\r\n    <div class = \"row\" style = \"\">\r\n\r\n        <div class = \"col-xs-10\" style = \"width:100%;   float:left; border:1px solid black \">\r\n             {% set header = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1}, \"content\") %}\r\n            \r\n            <!--{% if doc.company == 'Impala Glass Industries Ltd' %}-->\r\n            <!--    {% set logo = \"/files/Impala.png\" %} {% elif doc.company == \"Impala Africa Ltd\" %} {% set logo = \"/files/impala-africa-logo.jpg\" %}-->\r\n            <!--{% endif %}-->\r\n            \r\n            \r\n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company},\r\n            fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website', 'esd_no' ]) %}\r\n            \r\n            \r\n        \r\n        {% set comapny_address_line1 = '' %}        \r\n        {% set comapny_city = '' %}        \r\n        {% set comapny_counrty = '' %}        \r\n        {% set comapny_state = '' %}        \r\n        {% set phone = '' %}        \r\n\r\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\r\n\r\n        {% if company_address_name  %}\r\n            {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\r\n                \r\n\r\n        {% set comapny_address_line1 = address.address_line1 %}        \r\n        {% set comapny_city =  address.city  %}        \r\n        {% set comapny_counrty =  address.country  %}        \r\n        {% set comapny_state =  address.state  %}        \r\n\r\n        {% set phone = address.phone %}        \r\n\r\n        {% endif  %}\r\n            \r\n            {% if company_details %}\r\n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \r\n            'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \r\n            'state' : comapny_state,\r\n            'phone_no' : phone, 'email' : address.email_id, 'pin_no': company_details[0].tax_id ,  'company_logo' : company_details[0].company_logo, 'website' : company_details[0].website,  }) %}\r\n            {{header_updated}}\r\n            {% endif %}\r\n            \r\n\r\n            <table  class = \"table table-sm\" style = \"width:28%; font-size:10px  \"> \r\n                <tr>\r\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:13px\"> SALES INVOICE </b> </span> </center>  </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <td style = 'font-size:10px'> Date </td> <td style = 'font-size:10px'> \r\n                    {{ doc.get_formatted('posting_date') }} \r\n                </tr>\r\n\r\n                <tr> \r\n                    <td style = \"font-size:10px\"><b> INV# </b></td> <td style = \"font-size:12px\"> <b> {{ doc.name }}</b></td>\r\n                </tr>\r\n                <tr> \r\n                    <td style = \"font-size:10px\"> Division </td> <td style = \"font-size:10px\">  {{ doc.cost_center }} </td>\r\n                </tr>\r\n                <tr> \r\n                    <td style = \"font-size:10px\"> Department </td> <td style = \"font-size:10px\">  {{ doc.department }} </td>\r\n                </tr>\r\n\r\n            </table>\r\n\r\n\r\n        </div>\r\n</div>\r\n\r\n\r\n</div>\r\n\r\n<table class = \"margin-top-15\"  style = \"width:100%; font-size:10px !important;\"> \r\n    <tr> \r\n        <td style = \"width:35%\">  \r\n            <div>  <b style=\"font-size:10px\"> Bill To, </b></div>\r\n            <div> <span style = 'font-size:10px; padding-top:3px;'>Customer Code :</span><b style = \"font-size:10px\" > {{ doc.customer }} </b> </div>\r\n            <div> <span style = 'font-size:10px; padding-top:3px;'>Customer Name :</span><b style = \"font-size:10px\" > {{ doc.customer_name }} </b> </div>\r\n             <div> <span style = 'font-size:10px; padding-top:3px;'>City :</span><b style = \"font-size:10px\" > {{ frappe.db.get_value('Address', {'name': doc.customer_address}, 'city') or '' }} </b> </div>\r\n            <div> <span style = 'font-size:10px; padding-top:3px;'>Customer Pin :</span><b style = \"font-size:10px\" > {{doc.tax_id or \"\"}} </b> </div>\r\n            <div style = \"font-size:10px\" > \r\n            {{ frappe.db.get_value('Address', {'name': doc.customer_address}, 'address_line1') or '' }}<br>\r\n            {{ frappe.db.get_value('Address', {'name': doc.customer_address}, 'country') or '' }} \r\n            </div>\r\n        </td>\r\n        <td style=\"20%\">\r\n            <img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\" class=\"center\" height=80px>\r\n        </td>\r\n        <td style = \"width:45%\">  \r\n            <table class = \" text-size-10\" style = \"width:100%; margin-top:-1px !important;\" cellspacing = '0' cellpadding = '0'> \r\n                <!--<tr>-->\r\n\r\n                <!--    <td class = \"text-size-10\"  style = 'font-size:10px; padding-top:3px;'> PO Date </td> <td class = \"text-size-10\"  style = 'font-size:11px; padding-top:3px;'>  {{ doc.get_formatted(\"po_date\") or 'NA' }} </td>-->\r\n                <!--</tr>-->\r\n                <tr>\r\n                    <td class = \"text-size-10\"  style = 'font-size:10px; padding-top:3px;'> Customer PO#. </td> <td class = \"text-size-10\"  style = 'font-size:11px; padding-top:3px;'>  {{doc.po_no or 'NA'}} </td>\r\n                </tr>\r\n                <!--<tr>-->\r\n                <!--    <td class = \"text-size-10\"  style = 'font-size:10px; padding-top:3px;'> Sales Person </td>-->\r\n                <!--    {% set salesman = [] %}-->\r\n                <!--    {% for i in doc.sales_team %}-->\r\n                <!--        {% set salesman = salesman.append(i.get(\"sales_person\")) %}-->\r\n                        \r\n                <!--    {% endfor %}-->\r\n                <!--    {% set sales_team = salesman|join(', ') %}-->\r\n                    \r\n                <!--    <td class = \"text-size-10\"  style = 'font-size:10px; padding-top:3px;'>{{sales_team}}</td>-->\r\n                <!--</tr>-->\r\n                <!--<tr>-->\r\n                <!--    <td class = \"text-size-10\"  style = 'font-size:10px; padding-top:3px;'> Currency </td>-->\r\n                <!--    <td class = \"text-size-10\"  style = 'font-size:10px; padding-top:3px;'>{{ doc.currency }}</td>-->\r\n                <!--</tr>-->\r\n\r\n\r\n                \r\n\r\n\r\n                <tr>\r\n                    <td class = \"text-size-10\"  style = 'font-size:10px'>  DN # {{ doc.items[0].delivery_note or \"\" }}   </td>\r\n                    <td class = \"text-size-10\"  style = 'font-size:10px'>  SO # {{ doc.items[0].sales_order or \"\" }}   </td>\r\n                    \r\n                </tr>\r\n\r\n\r\n            </table>\r\n        </td>\r\n    </tr>\r\n</table>\r\n<div style=\"margin-top:2px; height:40px; border:1px solid black;\">\r\n    Additional Notes:\r\n    <p>\r\n        {% if doc.posa_notes %}\r\n        {{doc.posa_notes}} \r\n        {% endif %}\r\n    </p>\r\n</div>\r\n<table class=\"table table-sm\" style=\"width:100%; font-size:9px; margin-top:10px; border: 1px solid black;\">\r\n  <thead>\r\n    <tr>\r\n      <th class=\"text-left text-size-9\" style=\"border: 1px solid black;\">#</th>\r\n      <th class=\"text-left text-size-9\" style=\"border: 1px solid black;\">Item Code</th>\r\n      <th class=\"text-left text-size-9\" style=\"border: 1px solid black;\">Item Name</th>\r\n      <th class=\"text-right text-size-9\" style=\"border: 1px solid black;\">Qty</th>\r\n      <th class=\"text-right text-size-9\" style=\"border: 1px solid black;\">Unit Price</th>\r\n      <th class=\"text-right text-size-9\" style=\"border: 1px solid black;\">Total Amount</th>\r\n    </tr>\r\n  </thead>\r\n    </tr>\r\n{% set total_ex_vat = {\"total_ex_vat\": 0.0} %}\r\n{% set total_in_vat = {\"total_in_vat\": 0.0} %}\r\n{% set total_amount = {\"total_amount\": 0} %}\r\n{% set total_rate = {\"total_rate\": 0} %}\r\n{% set gross_total = {\"gross_total\": 0} %}\r\n{% set total_inclusive = {\"total_inclusive\": 0} %}\r\n{% set tax_type = doc.tax_type  %}\r\n\r\n{% for row in doc.items %}\r\n    {% if total_amount.update({\"total_amount\": total_amount[\"total_amount\"] + row.qty * row.rate}) %} {% endif %}\r\n    \r\n        <tr>\r\n            <td style=\"border: 1px solid black;;\" class=\"text-left text-size-9 \">{{ row.idx }}</td>\r\n            <td style=\"border: 1px solid black;\" class=\"text-left text-size-9 \">\r\n                {{ row.item_code }}\r\n            </td>\r\n            <td style=\"border: 1px solid black;\" class=\"text-left text-size-9 \">\r\n                {{ row.item_name }}\r\n            </td>\r\n            <td style=\"border: 1px solid black;\" class=\"text-right text-size-9 \">\r\n                {{ row.qty }}\r\n            </td>\r\n    \r\n\r\n            <td style=\"border: 1px solid black;\" class=\"text-right text-size-9 \">\r\n\r\n  {{ '{0:,.2f}'.format(row.rate  ) }} \r\n\r\n        {% if total_rate.update({\"total_rate\": total_rate[\"total_rate\"] + row.rate }) %} {% endif %}\r\n            </td>\r\n            <td style=\"border: 1px solid black;\" class=\"text-right text-size-9 \">\r\n                {{ '{0:,.2f}'.format(row.qty * row.rate) }}\r\n            </td>\r\n        \r\n        <!--{% set in_vat = '' %}-->\r\n\r\n        <!--{% set total_tax_percentage = row.total_tax_percentage |replace(\"%\", \"\")  %}   -->\r\n        <!--{% set ex_vat  =  ((row.net_amount|float / 100) * total_tax_percentage|int)  %}-->\r\n        \r\n        \r\n        <!--{% set in_vat  =  row.net_amount  / 100 * total_tax_percentage | int  %}-->\r\n           \r\n        <!--    <td style=\"border: 1px solid black;\" class=\"text-right text-size-9 \">-->\r\n        <!--    {% set total_inlusive_temp = ''  %}-->\r\n\r\n        <!--    {% if tax_type == 'Exclusive' %}-->\r\n\r\n        <!--        {% set total_inlusive_temp = ex_vat + row.net_amount  %}-->\r\n            \r\n        <!--          {{ '{0:,.2f}'.format(total_inlusive_temp  ) }} -->\r\n\r\n                \r\n        <!--        {% if total_inclusive.update({\"total_inclusive\": total_inclusive[\"total_inclusive\"] + total_inlusive_temp}) %} {% endif %}-->\r\n                \r\n\r\n        <!--    {% else  %}-->\r\n\r\n        <!--        {% set total_inlusive_temp =  row.net_amount + in_vat   %}-->\r\n        <!--        {% if total_inclusive.update({\"total_inclusive\": total_inclusive[\"total_inclusive\"] + total_inlusive_temp}) %} {% endif %}-->\r\n\r\n\r\n        <!--          {{ '{0:,.2f}'.format(total_inlusive_temp  ) }} -->\r\n\r\n        <!--    {% endif  %}-->\r\n        <!--    </td>-->\r\n\r\n        </tr>\r\n        {%- endfor -%}\r\n        <tr> \r\n            <td colspan=\"3\" class=\"text-right text-size-9\" style=\"border: 1px solid black;\" ><b>Total:</b>   </td>\r\n            <td class=\"text-right text-size-9\" style=\"border: 1px solid black;\" > <b>\r\n                {{doc.total_qty}}</b></td>\r\n\r\n            <td class=\"text-right text-size-9\" style=\"border: 1px solid black;\">  <b>\r\n                \r\n                                  <!--{{ '{0:,.2f}'.format(total_rate.total_rate  ) }} -->\r\n\r\n                \r\n                </b> </td>\r\n\r\n            <td class=\"text-right text-size-9\" style=\"border: 1px solid black;\">  <b>\r\n                                 <!--{{ '{0:,.2f}'.format( doc.total ) }} -->\r\n                \r\n                </b> </td>\r\n        </tr>\r\n        \r\n        <tr> \r\n            <td colspan = \"9\"> \r\n            <b class = \"text-size-10\" >Total Amount in words:   {{ frappe.utils.money_in_words(doc.grand_total, doc.currency ) }}  </b>\r\n\r\n            </td>\r\n        </tr>\r\n        </table  >\r\n        <table class = \"table table-sm\" >\r\n        \r\n        <tr> \r\n        <td colspan = \"\" > \r\n        <!--<p  class = \"text-size-10\" >.-->\r\n    <!--Created By: {{ doc.owner }} </p-->\r\n        \r\n    <!--    <p  class = \"text-size-10\" > Created ON: {{ doc.get_formatted('creation')}} </p> -->\r\n    <!--    <p  class = \"text-size-10\" > -->\r\n    <!--Authorized By:  {% if doc.docstatus==1 %} {{doc.owner}} {% endif %} -->\r\n    </p>\r\n\r\n        \r\n        </td>\r\n        <td colspan = \"4\" class = \"text-right\" > \r\n        \r\n       <table class=\"text-right\" style=\"margin-left:200px;width:40%; border:1px solid black;\">\r\n            {% if doc.currency == 'KES' %}\r\n            <tr class = \"text-right\"> \r\n                <td colspan = \"\" class = \"text-size-10 text-right\"  style=\"font-size:10px; font-weight:bold;\"> <b> Sub Total:</b> </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right\" style=\"font-size:10px; font-weight:bold;\"><b> \r\n                \r\n\r\n                                                 {{ '{0:,.2f}'.format(doc.net_total ) }} \r\n                </b> </td>\r\n\r\n\r\n            </tr>\r\n            <tr class = \"text-right\" > \r\n                <td colspan = \"\" class = \"text-size-10 text-right\"  style=\"font-size:10px; font-weight:bold;\"> <b>  VAT: </b> </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right\" style=\"font-size:10px; font-weight:bold;\"><b> \r\n                \r\n\r\n                                                 {{ '{0:,.2f}'.format(doc.total_taxes_and_charges ) }} \r\n                </b> </td>\r\n\r\n\r\n            </tr>\r\n\r\n            <tr class = \"text-right\" > \r\n                <td colspan = \"\" class = \"text-size-10 text-right \" style=\"font-size:10px; font-weight:bold;\">  <b> Total Amount: </b>  </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right \" style=\"font-size:10px; font-weight:bold;\"> \r\n                \r\n                \r\n                <b>  \r\n                                                    {{ '{0:,.2f}'.format(total_inclusive.total_inclusive) }} \r\n\r\n                \r\n\r\n                \r\n                </b></td>\r\n            </tr>\r\n            {% else %}\r\n            \r\n            <tr class = \"text-right\" > \r\n                <td colspan = \"\" class = \"text-size-10 text-right\"  style=\"font-size:10px; font-weight:bold;\"> <b> Exchange Rate.</b> </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right\" style=\"font-size:10px; font-weight:bold;\"><b> \r\n                \r\n\r\n                                                 {{ '{0:,.2f}'.format(doc.conversion_rate ) }} \r\n                </b> </td>\r\n\r\n\r\n            </tr>\r\n            <tr class = \"text-right\" > \r\n                <td colspan = \"\" class = \"text-size-10 text-right\"  style=\"font-size:10px; font-weight:bold;\"> <b> Sub Total in KES.</b> </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right\" style=\"font-size:10px; font-weight:bold;\"><b> \r\n                \r\n\r\n                                                 {{ '{0:,.2f}'.format(doc.base_net_total ) }} \r\n                </b> </td>\r\n\r\n\r\n            </tr>\r\n\r\n\r\n            <tr class = \"text-right\" > \r\n                <td colspan = \"\" class = \"text-size-10 text-right \" style=\"font-size:10px; font-weight:bold;\">  <b> Total in KES: </b>  </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right \" style=\"font-size:10px; font-weight:bold;\"> \r\n                \r\n                \r\n                <b>  \r\n                                                    {{ '{0:,.2f}'.format(doc.base_grand_total) }} \r\n\r\n                \r\n\r\n                \r\n                </b></td>\r\n            </tr>\r\n            \r\n            \r\n            {% endif %}\r\n        </table>\r\n\r\n\r\n        </td>\r\n        </tr>\r\n        \r\n        \r\n</table>\r\n<div style=\"margin-top:1px; margin-bottom:1px;  border:1px solid black;\">\r\n     \r\n</div>\r\n{% if doc.docstatus==0 %}\r\n<div class ='watermark'>\r\n</div>\r\n{% endif %}\r\n\r\n\r\n    <div style=\"display: flex; align-items: center; margin-right: 10px;\">\r\n        <div style=\"width: 100px; height: 100px; margin-right: 10px;\">\r\n         \r\n            <img src=\"{{doc.kra_qr_code}}\" alt=\"KRA QR Code here\" width=\"100\" height=\"100\">\r\n        </div>\r\n        <div style=\"position: relative; bottom:0\">\r\n            <p style=\"margin: 0;\"><br><br><br><br>\r\n             {{ doc.cusn or '' }}, {{ doc.signing_time or ''}} <br> {{ doc.cuin   or ''}}\r\n            </p>\r\n        </div>\r\n    </div>\r\n\r\n\r\n\r\n    <!--<div class = 'text-center' style = \"font-size:12px; font-weight:600\" >General Terms and Conditions </div>-->\r\n\r\n    <!--<div  id = \"\" style = 'page-break-after :always;  ' >  </div>-->\r\n\r\n<div style=\"margin-top:1px; margin-bottom:1px;  border:1px solid black;\"></div>\r\n<div class = 'text-center' style = \"font-size:12px;\" >Goods sold as per our terms & condition, to view the same visit <a href=\"https://impalaglass.com/tnc/\">impalaglass.com/tnc</a></div>\r\n\r\n\r\n{% set times_printed = doc.times_printed or 0 %}\r\n{% if times_printed >= 1 %} {% set duplicate = 'DUPLICATE'%} {% endif %}\r\n\r\n{% set footer = frappe.db.get_value(\"Letter Head\", doc.letter_head, \"footer\") %}\r\n\r\n{% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(), \"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user, \"is_return\": doc.is_return, \"tims_code\": doc.tims_code, \"return_against\" : doc.return_against or \"\", 'times_printed' : times_printed, 'duplicate': duplicate or ''}) %}\r\n{{ footer_updated }}\r\n\r\n\r\n    <div id=\"footer-html\" class=\"visible-pdf text-center  \" style = \"font-size:10px\" >\r\n        <p id=\"demo\"></p>\r\n        <div class=\"letter-head-footer text-size-10 text-center \"  style=\"font-size: 10px;\"  >\r\n            {{ footer }}\r\n        </div>\r\n        <p class=\"text-center small page-number visible-pdf\" style = \"font-size:10px\" >\r\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\r\n        </p>\r\n    </div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:52.803166",
  "module": "AQIQ Print Formats",
  "name": "Sales Invoice Auto",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "table, tr, td, th {\r\n    border-top:1px solid black;\r\n    border-bottom:1px solid black;\r\n    border-left:0px solid black;\r\n    border-right:0px solid black;\r\n    \r\n}\r\n\r\n\r\n.cheque {\r\n    border: 0px solid white;\r\n}\r\n\r\n.watermark {\r\n    position: fixed;\r\n    top: 420px;\r\n    left: 220px;\r\n    right: 220px;\r\n    background: url(\"http://192.241.152.17/files/draft-background.png\");\r\n    background-repeat: no-repeat;\r\n    /*background-size: center;*/\r\n    height:400px;\r\n    width:50%;\r\n    background-position: center;\r\n    background-size: 100%;\r\n    color:black !important;\r\n    opacity: 0.3;\r\n    position: running(wtrmrk);\r\n    background-repeat: repeat-x;\r\n    }",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Payment Entry",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<div id=\"header-html\"   style = \"margin-top:-15px !important; width:95.2%; margin-left:15px !important\">\n    <div class = \"row\" style = \"\">\n        <div class = \"col-xs-10\" style = \"width:100%; float:left; border:1px solid black \">\n                 <!--{% set header = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1}, \"content\") %}-->\n        \n        <!--{% if doc.company == 'Impala Glass Industries Ltd' %}-->\n        <!--    {% set logo = \"/files/Impala.png\" %} {% elif doc.company == \"Impala Africa Ltd\" %} {% set logo = \"/files/impala-africa-logo.jpg\" %}-->\n        <!--{% endif %}-->\n        \n        \n        {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website',]) %}\n        \n        {% set comapny_address_line1 = '' %}        \n        {% set comapny_city = '' %}        \n        {% set comapny_counrty = '' %}        \n        {% set comapny_state = '' %}        \n        {% set phone = '' %}        \n\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\n\n        {% if company_address_name  %}\n        {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\n                \n\n        {% set comapny_address_line1 = address.address_line1 %}        \n        {% set comapny_city =  address.city  %}        \n        {% set comapny_counrty =  address.country  %}        \n        {% set comapny_state =  address.state  %}        \n\n        {% set phone = address.phone %}        \n\n        {% endif  %}\n\n\n            \n        {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \n        'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \n        'state' : comapny_state,\n        'phone_no' : phone, 'email' : company_details[0].email, 'pin_no': company_details[0].tax_id ,  'company_logo' : company_details[0].company_logo, 'website' : company_details[0].website,  }) %}\n        {{header_updated}}\n\n\n            <table  class = \"table table-sm\" style = \"width:28%; \"> \n                <tr>\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:14px\"> REMITTANCE ADVICE </b> </span> </center>  </td>\n                </tr>\n\n                <tr>\n                    <td style = 'font-size:11px'> Date </td> <td style = 'font-size:11px'> {{ doc.get_formatted('posting_date') }} </td>\n                </tr>\n\n                <tr> \n                    <td style = \"font-size:11px\"> Voucher # </td> <td style = \"font-size:11px\">  {{ doc.name }}</td>\n                </tr>\n                <tr>\n                    <td style = \"font-size:11px\"> Type: </td> <td style = \"font-size:11px\">  {{ doc.payment_type }}</td>\n                </tr>\n            </table>\n        </div>\n\n        <div class = \"col-xs-8\" style = 'float:left'>\n        </div>\n    </div>\n</div>\n\n\n<!--<table class = \"\"  style = \"width:100%; font-size:11px; margin-top:10px;\"> -->\n<!--    <tr> -->\n<!--        <td style = \"width:40%\">  -->\n<!--        </td>-->\n<!--        <td style=\"20%\">-->\n            <!--<img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\" class=\"center\" height=100px>-->\n<!--        </td>-->\n<!--        <td style = \"width:35%\">  -->\n<!--        </td>-->\n<!--    </tr>-->\n<!--</table>-->\n\n\n\n<table id=\"tab1\"  style = \"width:100%; font-size:11px; margin-top:10px;\">\n    <tr style = \"width:100%; border:0px solid red;\"> \n        <td id=\"cell1\" style = \"width:100%; border:0px solid black;\">  \n            <div style=\"width:100%;\">\n                <div>\n                    \n                    <p style=\"padding: 5px 5px 5px 5px;\">{% if doc.payment_type=='Pay' %} Paid To: {% elif doc.payment_type=='Receive' %} Received from: {% endif %}  <span style=\"margin-left: 30px; font-weight:bold; text-transform:uppercase;\">{{doc.party_name }}</span>   </p>\n                    <!--<p style=\"padding: 5px 5px 5px 5px;\">Paid To:   <span style=\"margin-left: 30px;\">{{doc.party_name }}</span>   </p>-->\n                </div>\n                <div width=100%>\n                    <div style=\"float:left; padding: 5px 5px 5px 5px;\">Currency:</div>\n                    <div style=\"float:left; margin-left:60px; height: 30px; width: 15%; border-radius: 5px; padding: 5px 5px 5px 5px; border: 1px solid black;\">  KES  </div>\n                    <div style=\"float:left; margin-left:260px;padding: 5px 5px 5px 5px; \"> Amount :</div>\n                    <div style=\"float:left; margin-left:10px; height: 30px; width: 15%; border-radius: 5px; padding: 5px 5px 5px 5px; border: 1px solid black;\"> {{'{0:,.2f}'.format(doc.total_allocated_amount) }}  </div>\n                </div>\n                <div style=\"width:100%; margin-top:10px\">\n                    <div style=\"float:left; margin-top:10px; padding: 5px 5px 5px 5px;\">Amount in words:</div>\n                    <div style=\"float:left; margin-top:10px; margin-left:20px; height: 40px; width: 80%; border-radius: 5px; padding: 5px 5px 5px 5px; border: 1px solid black; text-align:left;\">\n                        {{ frappe.utils.money_in_words(doc.total_allocated_amount) }} \n                        </div>\n                </div>\n            </div>\n        </td>\n    </tr>\n</table>\n<!--<table style = \"width:100%; height:40px; font-size:11px;  margin-top:10px\">-->\n<!--    <tr width=100% style = \"border: 1px solid black;\">-->\n<!--        <td width=50%>Remarks:-->\n<!--            <p> {{ doc.remarks }} </p>-->\n<!--        </td>-->\n<!--    </tr>-->\n<!--</table>-->\n<table style = \"width:100%; font-size:11px;  margin-top:10px; border: 1px solid black;\">\n    <tr width=100% style = \"border-bottom:0px solid white;\">\n        <td class=\"cheque\" colspan=\"2\" width=50% style=\"\"><b>Payment Type: {{doc.mode_of_payment}}</b></td>\n    </tr>\n    <tr width=100% style = \"border-top: 0px solid green; border-bottom:0px;\">\n        <td  class=\"cheque\" width=50%>Cheque No:  {{ doc.reference_no  }}  </td>\n        <td  class=\"cheque\" width=50%>Cheque Maturity Date: {{ doc.reference_date }}  </td>\n    </tr>\n    <tr width=100% style = \"border-top: 0px solid black;\">\n        <td class = \"cheque\" colspan=\"2\" width=50%>Bank Name: {{ doc.bank }} </td>\n        \n    </tr>\n</table>\n\n\n<table style = \"width:100%; font-size:11px;  margin-top:20px\">\n    <tr width=100% style=\"border:1px solid black;\">\n        <th colspan=\"8\" style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> Payment Details:</th>\n    </tr>\n    <tr width=100%>\n        <th class=\"cheque\" style=\"font-size:11px; font-weight:bold;\"> # </th>\n        <th class=\"cheque\" style=\"font-size:11px; font-weight:bold;\">Inv No.</th>\n        <th class=\"cheque\" style=\"font-size:11px; font-weight:bold;\">Inv Date</th>\n        <th class=\"cheque\" style=\"font-size:11px; font-weight:bold;\">Inv Amount</th>\n        <th class=\"cheque\" style=\"font-size:11px; font-weight:bold;\">Amount Paid</th>\n        <th class=\"cheque\" style=\"font-size:11px; font-weight:bold;\">WTH Vat</th>\n        <th class=\"cheque\" style=\"font-size:11px; font-weight:bold;\">WTH Tax</th>\n        <th class=\"cheque\" style=\"font-size:11px; font-weight:bold;\">Chq Amount</th>\n    </tr>\n    {% set total_amount = {\"total_amount\":0} %}\n    {% for row in doc.references %}\n    {% if total_amount.update({\"total_amount\": total_amount[\"total_amount\"] + row.allocated_amount}) %} {% endif %}\n    <tr width=100%>\n        <td class=\"cheque\" style=\"font-size:11px; font-weight:bold;\">{{row.idx}}</td>\n        <td class=\"cheque\" style=\"font-size:11px; font-weight:bold;\">{{row.bill_no}}</td>\n        <td class=\"cheque\" style=\"font-size:11px; font-weight:bold;\">{{frappe.format(frappe.db.get_value(row.reference_doctype, row.reference_name, 'posting_date'), {'fieldtype' : 'Date'})}}</td>\n        <td class=\"cheque\" style=\"font-size:11px; font-weight:bold;text-align: right;\">{{'{0:,.2f}'.format(row.total_amount)}}</td>\n        <td class=\"cheque\" style=\"font-size:11px; font-weight:bold;text-align: right;\">{{'{0:,.2f}'.format(row.allocated_amount)}}</td>\n        <td class=\"cheque\" style=\"font-size:11px; font-weight:bold;text-align: right;\">{{'{0:,.2f}'.format(row.vat_withholding)}}</td>\n        <td class=\"cheque\" style=\"font-size:11px; font-weight:bold;text-align: right;\">{{'{0:,.2f}'.format(row.tax_withholding)}}</td>\n        <td class=\"cheque\" style=\"font-size:11px; font-weight:bold;text-align: right;\">{{'{0:,.2f}'.format(row.allocated_amount)}}</td>\n    </tr>\n    {% endfor %}\n    <tr width=100%>\n        <td colspan = \"7\" class=\"cheque\" style=\"font-size:11px; font-weight:bold;text-align:right;\">Total:</td>\n        <td class=\"cheque\" style=\"font-size:11px; font-weight:bold;\">{{'{0:,.2f}'.format(total_amount[\"total_amount\"])}}</td>\n    </tr>\n</table>\n{% if doc.docstatus==0 %}\n<div class ='watermark'>\n</div>\n{% endif %}\n\n<table style = \"width:100%; font-size:11px;  margin-top:30px\">\n    <tr width=100% style=\"border:1px solid black;\">\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Paid By:{{ doc.paid_from  }} </b> </td>\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b>  </b></td>\n    </tr>\n    <tr width=100%>\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Paid On: {{frappe.utils.formatdate(doc.get_formatted('posting_date'), \"dd-mm-yyyy\") }} </b> </td>\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b> Authorized By: {% if doc.docstatus==1 %} {{doc.owner}} {% endif %}</b> </td>\n    </tr>\n    <tr width=100%>\n        <td colspan=\"2\" width=50% style=\"border:1px solid black; font-size:11px;\"> <i>To be filled by customer.</i> </td>\n    </tr>\n    <tr width=100%>\n        <td colspan=\"2\" width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Cheque/Cash Received By: -- </b> </td>\n    </tr>\n    <tr width=100%>\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Name: -- </b> </td>\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b> ID No: -- </b> </td>\n    </tr>\n    <tr width=100%>\n        <td colspan=\"2\" width=50% height=60px style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Signature:  </b> </td>\n    </tr>\n</table>\n\n{% set footer = frappe.db.get_value(\"Letter Head\", {'is_default' : 1}, \"footer\") %}\n\n{% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(), \"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user}) %}\n{{ footer_updated }}\n\n\n    <div id=\"footer-html\" class=\"visible-pdf\">\n        <div class=\"letter-head-footer\">\n            {{ footer }}\n        </div>\n        <p class=\"text-center small page-number visible-pdf\">\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\n        </p>\n    </div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:52.705975",
  "module": "AQIQ Print Formats",
  "name": "REMITTANCE Paid",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 1,
  "css": "",
  "custom_format": 0,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Sales Invoice",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<style>\n\t.print-format table, .print-format tr, \n\t.print-format td, .print-format div, .print-format p {\n\t\tline-height: 150%;\n\t\tvertical-align: middle;\n\t}\n\n\n\t@media screen {\n\t\t.print-format {\n\t\t\twidth: 3.14in;\n\t\t\tpadding: 0.25in;\n\t\t\tmin-height: 8in;\n\t\t}\n\t}\n</style>\n\n<!--{% if letter_head %}-->\n<!--    {{ letter_head }}-->\n<!--{% endif %}-->\n\n\n\n\n\n\n\n<p class=\"text-center\" style=\"margin-bottom: 1rem\">\n\t{{ doc.company }}<br>\n\t<b>{{ doc.select_print_heading or _(\"Invoice\") }}</b><br>\n</p>\n<p>\n\t<b>{{ _(\"Receipt No\") }}:</b> {{ doc.name }}<br>\n\t<b>{{ _(\"Cashier\") }}:</b> {{ doc.owner }}<br>\n\t<b>{{ _(\"Customer\") }}:</b> {{ doc.customer_name }}<br>\n\t<b>{{ _(\"Date\") }}:</b> {{ doc.get_formatted(\"posting_date\") }}<br>\n\t<b>{{ _(\"Time\") }}:</b> {{  doc.get_formatted(\"posting_time\") }}<br>\n\t<div class=\"text-center\">\n\t<img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\">\n\t</div>\n</p>\n\n<hr>\n<table class=\"table table-condensed\">\n\t<thead>\n\t\t<tr>\n\t\t\t<th width=\"50%\">{{ _(\"Item\") }}</th>\n\t\t\t<th width=\"25%\" class=\"text-right\">{{ _(\"Qty\") }}</th>\n\t\t\t<th width=\"25%\" class=\"text-right\">{{ _(\"Amount\") }}</th>\n\t\t</tr>\n\t</thead>\n\t<tbody>\n\t\t{%- for item in doc.items -%}\n\t\t<tr>\n\t\t\t<td>\n\t\t\t\t{{ item.item_code }}\n\t\t\t\t{%- if item.item_name != item.item_code -%}\n\t\t\t\t\t<br>{{ item.item_name }}\n\t\t\t\t{%- endif -%}\n\t\t\t\t{%- if item.serial_no -%}\n\t\t\t\t\t<br><b>{{ _(\"SR.No\") }}:</b><br>\n\t\t\t\t\t{{ item.serial_no | replace(\"\\n\", \", \") }}\n\t\t\t\t{%- endif -%}\n\t\t\t</td>\n\t\t\t<td class=\"text-right\">{{ item.qty }}<br>@ {{ item.get_formatted(\"rate\") }}</td>\n\t\t\t<td class=\"text-right\">{{ item.get_formatted(\"amount\") }}</td>\n\t\t</tr>\n\t\t{%- endfor -%}\n\t</tbody>\n</table>\n<table class=\"table table-condensed no-border\">\n\t<tbody>\n\t\t<tr>\n\t\t\t{% if doc.flags.show_inclusive_tax_in_print %}\n\t\t\t\t<td class=\"text-right\" style=\"width: 70%\">\n\t\t\t\t\t{{ _(\"Total Excl. Tax\") }}\n\t\t\t\t</td>\n\t\t\t\t<td class=\"text-right\">\n\t\t\t\t\t{{ doc.get_formatted(\"net_total\", doc) }}\n\t\t\t\t</td>\n\t\t\t{% else %}\n\t\t\t\t<td class=\"text-right\" style=\"width: 70%\">\n\t\t\t\t\t{{ _(\"Total\") }}\n\t\t\t\t</td>\n\t\t\t\t<td class=\"text-right\">\n\t\t\t\t\t{{ doc.get_formatted(\"total\", doc) }}\n\t\t\t\t</td>\n\t\t\t{% endif %}\n\t\t</tr>\n\t\t{%- for row in doc.taxes -%}\n\t\t  {%- if not row.included_in_print_rate or doc.flags.show_inclusive_tax_in_print -%}\n\t\t\t<tr>\n\t\t\t\t<td class=\"text-right\" style=\"width: 70%\">\n\t\t\t\t    {% if '%' in row.description %}\n\t\t\t\t\t    {{ row.description }}\n\t\t\t\t\t{% else %}\n\t\t\t\t\t    {{ row.description }}@{{ row.rate }}%\n\t\t\t\t\t{% endif %}\n\t\t\t\t</td>\n\t\t\t\t<td class=\"text-right\">\n\t\t\t\t\t{{ row.get_formatted(\"tax_amount\", doc) }}\n\t\t\t\t</td>\n\t\t\t<tr>\n\t\t  {%- endif -%}\n\t\t{%- endfor -%}\n\n\t\t{%- if doc.discount_amount -%}\n\t\t<tr>\n\t\t\t<td class=\"text-right\" style=\"width: 75%\">\n\t\t\t\t{{ _(\"Discount\") }}\n\t\t\t</td>\n\t\t\t<td class=\"text-right\">\n\t\t\t\t{{ doc.get_formatted(\"discount_amount\") }}\n\t\t\t</td>\n\t\t</tr>\n\t\t{%- endif -%}\n\t\t<tr>\n\t\t\t<td class=\"text-right\" style=\"width: 75%\">\n\t\t\t\t<b>{{ _(\"Grand Total\") }}</b>\n\t\t\t</td>\n\t\t\t<td class=\"text-right\">\n\t\t\t\t{{ doc.get_formatted(\"grand_total\") }}\n\t\t\t</td>\n\t\t</tr>\n\t\t{%- if doc.rounded_total -%}\n\t\t<tr>\n\t\t\t<td class=\"text-right\" style=\"width: 75%\">\n\t\t\t\t<b>{{ _(\"Rounded Total\") }}</b>\n\t\t\t</td>\n\t\t\t<td class=\"text-right\">\n\t\t\t\t{{ doc.get_formatted(\"rounded_total\") }}\n\t\t\t</td>\n\t\t</tr>\n\t\t{%- endif -%}\n\t\t{%- for row in doc.payments -%}\n\t\t\t<tr>\n\t\t\t\t<td class=\"text-right\" style=\"width: 70%\">\n\t\t\t\t    {{ row.mode_of_payment }}\n\t\t\t\t</td>\n\t\t\t\t<td class=\"text-right\">\n\t\t\t\t\t{{ row.get_formatted(\"amount\", doc) }}\n\t\t\t\t</td>\n\t\t\t<tr>\n\t\t{%- endfor -%}\n\t\t<tr>\n\t\t\t<td class=\"text-right\" style=\"width: 75%\">\n\t\t\t\t<b>{{ _(\"Paid Amount\") }}</b>\n\t\t\t</td>\n\t\t\t<td class=\"text-right\">\n\t\t\t\t{{ doc.get_formatted(\"paid_amount\") }}\n\t\t\t</td>\n\t\t</tr>\n\t\t{%- if doc.change_amount -%}\n\t\t\t<tr>\n\t\t\t\t<td class=\"text-right\" style=\"width: 75%\">\n\t\t\t\t\t<b>{{ _(\"Change Amount\") }}</b>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"text-right\">\n\t\t\t\t\t{{ doc.get_formatted(\"change_amount\") }}\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t{%- endif -%}\n\t</tbody>\n</table>\n<hr>\n<p>{{ doc.terms or \"\" }}</p>\n<p class=\"text-center\">{{ _(\"Thank you, please visit again.\") }}</p>",
  "line_breaks": 1,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:52.641612",
  "module": "AQIQ Print Formats",
  "name": "POS TEST B",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "JS",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 1,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "POS Invoice",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<style>\r\n    .print-format table, .print-format tr, \r\n    .print-format td, .print-format div, .print-format p {\r\n        line-height: 150%;\r\n        vertical-align: middle;\r\n    }\r\n\r\n\r\n    @media screen {\r\n        .print-format {\r\n            width: 80mm;\r\n            padding: 0.25in;\r\n            min-height: 8in;\r\n        }\r\n    }\r\n</style>\r\n\r\n<!--{% if letter_head %}-->\r\n<!--    {{ letter_head }}-->\r\n<!--{% endif %}-->\r\n\r\n\r\n\r\n\r\n            <!--{% if doc.company == 'Impala Glass Industries Ltd' %}-->\r\n            <!--    {% set logo = \"/files/Impala.png\" %} {% elif doc.company == \"Impala Africa Ltd\" %} {% set logo = \"/files/impala-africa-logo.jpg\" %}-->\r\n            <!--{% endif %}-->\r\n            \r\n            \r\n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'company_logo', 'esd_no']) %}\r\n            \r\n            {% set address = '' %}        \r\n            {% set shop_name = '' %}\r\n            {% set phone = '' %}\r\n            {% set tax_registration = '' %}\r\n            {% set company = doc.company %}   \r\n            {% set company_logo =  '' %} \r\n            {% set email =  '' %} \r\n            \r\n            {% if company_details %} {% set company_logo =  company_details[0].company_logo %}  {% endif %}\r\n            \r\n            \r\n            {% if doc.pos_profile %}\r\n\r\n\r\n{% set pos_profile = frappe.db.get_value(\"POS Profile\", {\"name\" : doc.pos_profile }, [\"address\",\"name\",\"phone\",\"phone_2\",\"tax_registration\" , \"email\"] , as_dict = 1) %}\r\n            {% if pos_profile %}             \r\n                    {% set address = pos_profile.address %}        \r\n                    {% set shop_name = pos_profile.name %}\r\n                    {% set phone = pos_profile.phone %}\r\n                    {% set phone_2 = pos_profile.phone_2 %}\r\n                    {% set email = pos_profile.email %}\r\n                    {% set tax_registration = pos_profile.tax_registration %}\r\n\r\n            {% endif %}             \r\n            \r\n    \r\n        {% endif %}             \r\n    \r\n\r\n\r\n<div class=\"text-center\"> 786 </div>\r\n\r\n<div class=\"\">\r\n     <img src=\"{{ company_logo }}\" style=\"height: 180px; width: 90%;\">\r\n</div>\r\n<div class=\"text-center text-upper\" style=\"text-transform: uppercase ; font-size: 13px; font-weight: 900;\"> \r\n{{ shop_name }}\r\n</div>\r\n<p class=\"text-center\"> {{ address  }} </p>\r\n\r\n<table class=\"table table-condensed\" style=\"margin: 0px; border-collapse: collapse; padding: 0px;\">\r\n    <tbody><tr> \r\n        <td> Tax Registration </td> <td> {{  tax_registration }}  </td>\r\n    </tr>\r\n</tbody></table>\r\n\r\n\r\n<div class=\"text-center\" style=\"font-size: 15px; font-weight: 900;\">\r\n{% if doc.is_return!=1 %}\r\n{{\"Cash Receipt\"}}\r\n{% else %}\r\n{{ \"Return\" }}\r\n{% endif %}\r\n</div>\r\n\r\n<p>\r\n    <b>{{ _(\"Date\") }}:</b> {{ doc.get_formatted(\"posting_date\") }} : {{  doc.get_formatted(\"posting_time\") }}<br>\r\n    <b>{{ _(\"Customer\") }}:</b> {{ doc.customer_name }}<br>\r\n    {% if doc.tax_id %}\r\n        <b>{{ _(\"Pin\") }}:</b> {{ doc.tax_id }}<br>\r\n\r\n    {% endif %}\r\n    <b>{{ _(\"Invoice No\") }}:</b> {{ doc.name }}<br>\r\n    {% if doc.is_return==1%}\r\n    <b>{{ _(\"Tims Code\") }}:</b> {{ doc.tims_code or \"\"}}<br>\r\n    {% endif %}\r\n</p>\r\n    <div class=\"text-center\">\r\n    <img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\">\r\n    </div>\r\n\r\n<table class=\"table table-condensed\" style=\"margin: 0px; border-collapse: collapse; padding: 0px;\" >\r\n\r\n    <thead>\r\n        <tr>\r\n            <th width=\"40%\">{{ _(\"Item\") }}</th>\r\n            <th width=\"20%\" class=\"text-center\">{{ _(\"Qty\") }}</th>\r\n            <th width=\"20%\" class=\"text-center\">{{ _(\"Unit\") }}</th>\r\n            <th width=\"20%\" class=\"text-right\">{{ _(\"Amount\") }}</th>\r\n        </tr>\r\n    </thead>\r\n    <tbody>\r\n        {%- for item in doc.items -%}\r\n        <tr>\r\n            <td>\r\n                \r\n                {%- if item.item_name != item.item_code -%}\r\n                    {{ item.item_name }}\r\n                {%- endif -%}\r\n                {%- if item.serial_no -%}\r\n                    <br><b>{{ _(\"SR.No\") }}:</b><br>\r\n                    {{ item.serial_no | replace(\"\\n\", \", \") }}\r\n                {%- endif -%} \r\n                &nbsp;{{ item.item_code }}\r\n            </td>\r\n            <td class=\"text-right\">{{ item.qty }}</td>\r\n            <td class=\"text-right\">{{ '{0:,.2f}'.format(item.rate  ) }}</td>\r\n            <td class=\"text-right\">\r\n            {{ '{0:,.2f}'.format(item.amount  ) }}\r\n                \r\n                </td>\r\n        </tr>\r\n        {%- endfor -%}\r\n    </tbody>\r\n</table>\r\n<table class=\"table table-condensed no-border\">\r\n    <tbody>\r\n         {% if doc.currency == 'KES' %}\r\n        <tr>\r\n                <td class=\"text-right\" style=\"width: 70%\">\r\n                    {{ _(\" Sub Total\") }}\r\n                </td>\r\n                <td class=\"text-right\">\r\n                {{ '{0:,.2f}'.format(doc.net_total ) }} \r\n                </td>\r\n        </tr>\r\n        <tr>\r\n                <td class=\"text-right\" style=\"width: 70%\">\r\n                    {{ _(\"Tax Amount\") }}\r\n                </td>\r\n                <td class=\"text-right\">\r\n                 {{ '{0:,.2f}'.format(doc.total_taxes_and_charges ) }}  \r\n                </td>\r\n        </tr>\r\n\r\n        \r\n        <tr>\r\n            <td class=\"text-right\" style=\"width: 75%\">\r\n                <b>{{ _(\"Grand Total\") }}</b>\r\n            </td>\r\n            <td class=\"text-right\">\r\n\r\n                                {{ '{0:,.2f}'.format(doc.grand_total  ) }}\r\n\r\n            </td>\r\n        </tr>\r\n    \r\n    \r\n\r\n        {%- else -%}\r\n        <tr>\r\n            {% if doc.flags.show_inclusive_tax_in_print %}\r\n                <td class=\"text-right\" style=\"width: 70%\">\r\n                    {{ _(\"Total Excl. Tax in KES\") }}\r\n                </td>\r\n                <td class=\"text-right\">\r\n\r\n                    \r\n                                {{ '{0:,.2f}'.format(doc.base_net_total  ) }}\r\n\r\n                </td>\r\n            {% else %}\r\n                <td class=\"text-right\" style=\"width: 70%\">\r\n                    {{ _(\"Total in KES\") }}\r\n                </td>\r\n                <td class=\"text-right\">\r\n\r\n                                {{ '{0:,.2f}'.format(doc.base_total  ) }}\r\n\r\n                </td>\r\n            {% endif %}\r\n        </tr>\r\n       \r\n\r\n        {%- if doc.base_discount_amount -%}\r\n        <tr>\r\n            <td class=\"text-right\" style=\"width: 75%\">\r\n                {{ _(\"Discount\") }}\r\n            </td>\r\n            <td class=\"text-right\">\r\n                                {{ '{0:,.2f}'.format(doc.base_discount_amount  ) }}\r\n\r\n\r\n            </td>\r\n        </tr>\r\n        {%- endif -%}\r\n        <tr>\r\n            <td class=\"text-right\" style=\"width: 75%\">\r\n                <b>{{ _(\"Grand Total\") }}</b>\r\n            </td>\r\n            <td class=\"text-right\">\r\n\r\n                                {{ '{0:,.2f}'.format(doc.base_grand_total  ) }}\r\n\r\n            </td>\r\n        </tr>\r\n    \r\n        {%- endif -%}\r\n    </tbody>\r\n</table>\r\n<p class=\"text-center\"><b>Note: </b>\r\n        {% if doc.posa_notes %}\r\n        {{doc.posa_notes}} \r\n        {% endif %}\r\n</p>\r\n\r\n{% set mode_of_payment = {'mode_of_payment' : '' } %}\r\n{% for row in doc.payments %}\r\n{% if row.amount!= 0.0 %}\r\n{% if mode_of_payment.update({'mode_of_payment' : mode_of_payment['mode_of_payment'] + row.mode_of_payment + ', '}) %} {% endif %}\r\n{% endif %}\r\n{% endfor %}\r\n<p class=\"text-left\"><b>Mode of Payment: </b>{{mode_of_payment['mode_of_payment']}}</p>\r\n<hr>\r\n\r\n    <div style=\"display: flex; align-items: center; margin-right: 10px;\">\r\n        <div style=\"width: 100px; height: 100px; margin-right: 10px;\">\r\n         \r\n            <img src=\"{{doc.kra_qr_code}}\" alt=\"KRA QR Code here\" width=\"100\" height=\"100\">\r\n        </div>\r\n        <div style=\"position: relative; bottom:0\">\r\n            <p style=\"margin: 0;\"><br><br><br><br>\r\n             {{ doc.cusn or '' }}, {{ doc.signing_time or ''}} <br> {{ doc.cuin   or ''}}\r\n            </p>\r\n        </div>\r\n    </div>\r\n\r\n\r\n\r\n{% if doc.is_return!=1 %}\r\n<div style = \"font-size:13px\"> \r\n    <center>\r\n        <p> Please Come Again </p>\r\n        <p>  <span>{{ phone or \"\"}}</span>  <span>{{ phone_2 or \"\"}}</span> </p>\r\n\r\n        <p class=\"text-center\"> {{ email  }} </p>\r\n\r\n        <p> <b>\r\n        Goods Once Sold Cannot Be Returned\r\n </b>        \r\n        </p>\r\n    </center>\r\n</div>\r\n{% endif %}",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:52.539671",
  "module": "AQIQ Print Formats",
  "name": "POS",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": ".watermark {\r\n    position: fixed;\r\n    top:70px;\r\n    left:11%;\r\n    right:10%;\r\n    background: url(\"http://192.241.152.17/files/draft-background.png\");\r\n    background-repeat: no-repeat;\r\n    height:700px;\r\n    width:80%;\r\n    /*background-position: center;*/\r\n    background-size: 100%;\r\n    opacity: 0.5;\r\n    }",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Purchase Invoice",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "{% if doc.docstatus==0 %}\r\n<div class ='watermark'>\r\n</div>\r\n{% endif %}\r\n<div id=\"header-html\"   style = \"margin-top:-15px !important; width:95.2%; margin-left:15px !important\">\r\n    <div class = \"row\" style = \"\">\r\n        <div class = \"col-xs-10\" style = \"width:100%; float:left; border:1px solid black \">\r\n                  {% set header = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1}, \"content\") %}\r\n            \r\n            <!--{% if doc.company == 'Impala Glass Industries Ltd' %}-->\r\n            <!--    {% set logo = \"/files/Impala.png\" %} {% elif doc.company == \"Impala Africa Ltd\" %} {% set logo = \"/files/impala-africa-logo.jpg\" %}-->\r\n            <!--{% endif %}-->\r\n            \r\n            \r\n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website',]) %}\r\n            \r\n            \r\n        \r\n        {% set comapny_address_line1 = '' %}        \r\n        {% set comapny_city = '' %}        \r\n        {% set comapny_counrty = '' %}        \r\n        {% set comapny_state = '' %}        \r\n        {% set phone = '' %}        \r\n\r\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\r\n\r\n        {% if company_address_name  %}\r\n            {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\r\n                \r\n\r\n        {% set comapny_address_line1 = address.address_line1 %}        \r\n        {% set comapny_city =  address.city  %}        \r\n        {% set comapny_counrty =  address.country  %}        \r\n        {% set comapny_state =  address.state  %}        \r\n\r\n        {% set phone = address.phone %}        \r\n\r\n        {% endif  %}\r\n\r\n\r\n            \r\n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \r\n            'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \r\n            'state' : comapny_state,\r\n            'phone_no' : phone, 'email' : company_details[0].email, 'pin_no': company_details[0].tax_id ,  'company_logo' : company_details[0].company_logo, 'website' : company_details[0].website,  }) %}\r\n            {{header_updated}}\r\n            \r\n\r\n\r\n            <table  class = \"table table-sm\" style = \"width:28%; \"> \r\n                <tr>\r\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:14px\"> PURCHASE INVOICE </b> </span> </center>  </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Date </td> <td style = 'font-size:11px'>\r\n                     {{ frappe.utils.formatdate(doc.get_formatted('posting_date'), \"dd-mm-yyyy\") }}</td>\r\n                </tr>\r\n\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Order # </td> <td style = \"font-size:11px\">  {{ doc.name }}</td>\r\n                </tr>\r\n\r\n\r\n            </table>\r\n\r\n\r\n        </div>\r\n\r\n        <div class = \"col-xs-8\" style = 'float:left'>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n<table width = 100% class = \"\"  style = \"font-size:11px !important; border-bottom:1px solid black !important;\"> \r\n    <tr> \r\n        <td style = \"width:40%\">  \r\n            <div>  <b style=\"font-size:13px\"> Supplier Details: </b></div>\r\n            <div> <b> {{ doc.supplier_name }} </b> </div>\r\n            <div> {{ doc.supplier_address }} </div>\r\n            <!--<div> Pin No: ?? </div>-->\r\n            <div> {{ doc.contact_person }} </div>\r\n            <div> {{ doc.contact_mobile }} </div>\r\n        </td>\r\n        <td style=\"20%\">\r\n            <!--<img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\" class=\"center\" height=100px>-->\r\n        </td>\r\n        <td style = \"width:35%\">  \r\n            <table class = \"table table-sm; \" style = \"width:100%; margin-top:-1px !important;\" cellspacing = '0' cellpadding = '0'> \r\n                <tr>\r\n                    <td style = 'font-size:11px'> PO Date: </td> <td style = 'font-size:11px'> {{frappe.db.get_value('Purchase Order', doc.name, 'transaction_date') }}  </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> PO #. </td> <td style = 'font-size:11px'> {{ frappe.db.get_value('Purchase Order', doc.name, 'name') }}   </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> GRN No.: </td> <td style = 'font-size:11px'>  {{ frappe.db.get_value('Purchase Receipt', doc.name, 'name') }} </td>\r\n                </tr>\r\n                <!--<tr>-->\r\n                <!--    <td style = 'font-size:11px'> Warehouse: </td> <td style = 'font-size:11px'>  ?? </td>-->\r\n                <!--</tr>-->\r\n                <tr>\r\n                    <td style='font-size:11px'> Supp. Inv No.: </td>\r\n                    <!--<td style='font-size:11px'> {{ frappe.db.get_value('Sales Invoice', doc.name, 'name') }} </td>-->\r\n                    <td style='font-size:11px'> {{doc.bill_no }} </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style='font-size:11px'> Supp. Inv Date: </td>\r\n                    <!--<td style='font-size:11px'> {{ frappe.db.get_value('Sales Invoice', doc.name, 'posting_date') }}-->\r\n                    <!--</td>-->\r\n                    <td style='font-size:11px'> {{doc.bill_date}}\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Currency: </td> <td style = 'font-size:11px'>  {{doc.currency}} </td>\r\n                </tr>\r\n            </table>\r\n        </td>\r\n    </tr>\r\n</table>\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr width=100% height=40px style = \"border: 1px solid black;\">\r\n        <td width=50%>Remarks:</td>\r\n        \r\n    </tr>\r\n</table>\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:10px\" border = '1'> \r\n    <tr> \r\n        <thead> \r\n            <th>  # </th>\r\n            <th>  Item Code </th>\r\n            <th>  Item Name </th>\r\n            <th class=\"text-right\">  Rate </th>\r\n            <th class=\"text-right\">  Qty </th>\r\n            <th class=\"text-right\">  Total </th>\r\n            <th class=\"text-right\">  VAT </th>\r\n            <th class=\"text-right\">  Discount </th>\r\n            <th class=\"text-right\">  Gross </th>\r\n        </thead>\r\n    </tr>\r\n{% set total_amount = {\"total_amount\": 0} %}\r\n{% set total_vat = {\"total_vat\": 0} %}\r\n{% set discount_total = {\"discount_total\": 0} %}\r\n{% set gross_total = {\"gross_total\": 0} %}\r\n{% for row in doc.items %}\r\n    {% if total_amount.update({\"total_amount\": total_amount[\"total_amount\"] + row.qty * row.rate}) %} {% endif %}\r\n    \r\n        <tr>\r\n            <td style=\"\">{{ row.idx }}</td>\r\n            <td style=\"\">\r\n                {{ row.item_code }}\r\n            </td>\r\n            <td style=\"\">\r\n                {{ row.item_name }}\r\n            </td>\r\n            <td style=\"\" class=\"text-right\">\r\n                 {{ '{0:,.2f}'.format(row.rate  ) }} \r\n            </td>\r\n\r\n\r\n            <td style=\"\" class=\"text-right\">\r\n                {{ row.qty }}\r\n            </td>\r\n            {% set amount= row.qty * row.rate %}\r\n            \r\n            <td style=\"\" class=\"text-right\">\r\n                \r\n\r\n                 {{ '{0:,.2f}'.format(amount  ) }} \r\n            </td>\r\n        \r\n            <td style=\"\" class=\"text-right\">\r\n                {% set vat = (row.amount/100)*16 %}\r\n                {% if total_vat.update({\"total_vat\": total_vat[\"total_vat\"] + vat}) %} {% endif %}\r\n                {{ '{0:,.2f}'.format(vat  ) }} \r\n\r\n            </td>\r\n            <td style=\"\" class=\"text-right\">\r\n                \r\n                {{ '{0:,.2f}'.format( row.discount_amount  ) }} \r\n                {% if discount_total.update({\"discount_total\": discount_total[\"discount_total\"] + row.discount_amount}) %} {% endif %}\r\n\r\n            </td>\r\n\r\n            \r\n            <td style=\"\" class=\"text-right\">\r\n                {% if gross_total.update({\"gross_total\": gross_total[\"gross_total\"] + row.qty * row.rate + vat}) %} {% endif %}\r\n                 {{ '{0:,.2f}'.format( row.qty * row.rate + vat  ) }} \r\n            </td>\r\n\r\n        </tr>\r\n        {%- endfor -%}\r\n        <tr> \r\n            <td></td>\r\n            <td colspan=\"3\" class=\"text-right\"><b>Totals: </b>  </td>\r\n            <td class=\"text-right\"> <b>{{doc.total_qty}}</b></td>\r\n            <td class=\"text-right\">  <b> {{ '{0:,.2f}'.format(total_amount[\"total_amount\"]  ) }}</b> </td>\r\n            <td class=\"text-right\"> <b> {{ '{0:,.2f}'.format(total_vat[\"total_vat\"]  ) }} </b> </td>\r\n            <td class=\"text-right\"> <b>  {{ '{0:,.2f}'.format(discount_total[\"discount_total\"]  ) }}</b> </td>\r\n            <td class=\"text-right\"><b>   {{ '{0:,.2f}'.format(gross_total[\"gross_total\"]  ) }} </b> </td>\r\n        </tr>\r\n</table>\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr width=100% height=40px style = \"border: 1px solid black;\">\r\n        <td width=100%><b>Total Amount in words: {{ frappe.utils.money_in_words(gross_total[\"gross_total\"], doc.currency) }}</b></td>\r\n        \r\n    </tr>\r\n</table>\r\n<table style = \"width:100%; font-size:11px;  margin-top:10px; border-top:1px solid black; border-bottom:1px solid black;\">\r\n    <tr rowspan = \"4\">\r\n    <td  colspan = \"6\" width=60%><b> Payment Terms:  </b></td>\r\n    <td colspan = \"2\" width=40%>\r\n        <table class=\"table table-sm\" style=\"margin-top:0px\">\r\n             {% if doc.currency == 'KES' %}\r\n             <tr>\r\n                <td colspan = \"2\"> <b> VAT 16% </b> </td>\r\n                <td colspan = \"2\"><b> {{ '{0:,.2f}'.format(total_vat[\"total_vat\"]  ) }}</b> </td>\r\n            </tr>\r\n          \r\n            <tr>\r\n                <td colspan = \"2\"> <b> Discount </b> </td>\r\n                <td colspan = \"2\"> <b> {{ '{0:,.2f}'.format(discount_total[\"discount_total\"]  ) }} </b> </td>\r\n            </tr>\r\n            \r\n              <tr>\r\n                <td colspan = \"2\">  <b> Total Amount </b>  </td>\r\n                <td colspan = \"2\"> <b>  {{ '{0:,.2f}'.format(gross_total[\"gross_total\"]  ) }}  </b></td>\r\n            </tr>\r\n           \r\n            {% else %}\r\n             <tr>\r\n                <td colspan = \"2\"> <b>Exchange Rate. </b> </td>\r\n                <td colspan = \"2\"><b> {{ '{0:,.2f}'.format(doc.conversion_rate   ) }}</b> </td>\r\n            </tr>\r\n          \r\n            <tr>\r\n                <td colspan = \"2\"> <b>  Sub Total in KES. </b> </td>\r\n                <td colspan = \"2\"> <b> {{ '{0:,.2f}'.format(doc.base_net_total  ) }} </b> </td>\r\n            </tr>\r\n            \r\n              <tr>\r\n                <td colspan = \"2\">  <b> Total in KES: </b>  </td>\r\n                <td colspan = \"2\"> <b> {{ '{0:,.2f}'.format(doc.base_grand_total) }}  </b></td>\r\n            </tr>\r\n           \r\n             {% endif %}\r\n        </table>\r\n    </td>\r\n</tr>\r\n</table>\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr width=100% height=100px style = \"border-top:1px solid black; border-bottom:1px solid black;\">\r\n        <td width=100%><b>Terms and Conditions:</b></td>\r\n        \r\n    </tr>\r\n</table>\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr width=100% height=60px style = \"border-bottom: 1px solid black;\">\r\n        <td width=100%><b>Shippment Address:</b></td>\r\n        \r\n    </tr>\r\n</table>\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:10px\">\r\n    <tr width=100% style=\"border:1px solid black;\">\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created By: {{ doc.owner }} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b>  </b></td>\r\n        \r\n    </tr>\r\n    <tr width=100% style=\"border:1px solid black;\">\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Inspected/QC By:  </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b>  </b></td>\r\n        \r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created ON: {{ doc.get_formatted('creation')}} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b> Authorized By: {% if doc.docstatus==1 %}{% else %} empty {% endif %}   </b> </td>\r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Update Stock: </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b>     </b> </td>\r\n    </tr>\r\n</table>\r\n\r\n{% set footer = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1 }, \"footer\") %}\r\n\r\n\r\n{% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(), \"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user}) %}\r\n{{ footer_updated }}\r\n\r\n\r\n    <div id=\"footer-html\" class=\"visible-pdf\">\r\n        <div class=\"letter-head-footer\">\r\n            {{ footer }}\r\n        </div>\r\n        <p class=\"text-center small page-number visible-pdf\">\r\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\r\n        </p>\r\n    </div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:52.434254",
  "module": "AQIQ Print Formats",
  "name": "Purchase Invoice A5",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": ".watermark {\r\n    position: fixed;\r\n    top:70px;\r\n    left:11%;\r\n    right:10%;\r\n    background: url(\"http://192.241.152.17/files/draft-background.png\");\r\n    background-repeat: no-repeat;\r\n    height:700px;\r\n    width:80%;\r\n    /*background-position: center;*/\r\n    background-size: 100%;\r\n    opacity: 0.5;\r\n    }",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Purchase Invoice",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "{% if doc.docstatus==0 %}\r\n<div class ='watermark'>\r\n</div>\r\n{% endif %}\r\n<div id=\"header-html\"   style = \"margin-top:-15px !important; width:95.2%; margin-left:15px !important\">\r\n    <div class = \"row\" style = \"\">\r\n        <div class = \"col-xs-10\" style = \"width:100%; float:left; border:1px solid black \">\r\n            \r\n        {% set header = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1}, \"content\") %}\r\n            \r\n            <!--{% if doc.company == 'Impala Glass Industries Ltd' %}-->\r\n            <!--    {% set logo = \"/files/Impala.png\" %} {% elif doc.company == \"Impala Africa Ltd\" %} {% set logo = \"/files/impala-africa-logo.jpg\" %}-->\r\n            <!--{% endif %}-->\r\n            \r\n            \r\n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website',]) %}\r\n            \r\n            \r\n        \r\n        {% set comapny_address_line1 = '' %}        \r\n        {% set comapny_city = '' %}        \r\n        {% set comapny_counrty = '' %}        \r\n        {% set comapny_state = '' %}        \r\n        {% set phone = '' %}        \r\n\r\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\r\n\r\n        {% if company_address_name  %}\r\n            {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\r\n                \r\n\r\n        {% set comapny_address_line1 = address.address_line1 %}        \r\n        {% set comapny_city =  address.city  %}        \r\n        {% set comapny_counrty =  address.country  %}        \r\n        {% set comapny_state =  address.state  %}        \r\n\r\n        {% set phone = address.phone %}        \r\n\r\n        {% endif  %}\r\n\r\n\r\n            \r\n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \r\n            'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \r\n            'state' : comapny_state,\r\n            'phone_no' : phone, 'email' : company_details[0].email, 'pin_no': company_details[0].tax_id ,  'company_logo' : company_details[0].company_logo, 'website' : company_details[0].website,  }) %}\r\n            {{header_updated}}\r\n            \r\n            \r\n            <table  class = \"table table-sm\" style = \"width:28%; \"> \r\n                <tr>\r\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:14px\"> PURCHASE RETURN </b> </span> </center>  </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Date </td> <td style = 'font-size:11px'>   {{ frappe.utils.formatdate(doc.get_formatted('posting_date'), \"dd-mm-yyyy\") }} </td>\r\n                </tr>\r\n\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Order # </td> <td style = \"font-size:11px\">  {{ doc.name }}</td>\r\n                </tr>\r\n\r\n\r\n            </table>\r\n\r\n\r\n        </div>\r\n\r\n        <div class = \"col-xs-8\" style = 'float:left'>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n<table width = 100% class = \"\"  style = \"font-size:11px !important; border-bottom:1px solid black !important;\"> \r\n    <tr> \r\n        <td style = \"width:40%\">  \r\n            <div>  <b style=\"font-size:13px\"> Supplier Details: </b></div>\r\n            <div> <b> {{ doc.supplier_name }} </b> </div>\r\n            <div> {{ doc.supplier_address }} </div>\r\n            <!--<div> Pin No: ?? </div>-->\r\n            <div> {{ doc.contact_person }} </div>\r\n            <div> {{ doc.contact_mobile }} </div>\r\n        </td>\r\n        <td style=\"20%\">\r\n            <!--<img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\" class=\"center\" height=100px>-->\r\n        </td>\r\n        <td style = \"width:35%\">  \r\n            <table class = \"table table-sm; \" style = \"width:100%; margin-top:-1px !important;\" cellspacing = '0' cellpadding = '0'> \r\n                <tr>\r\n                    <td style = 'font-size:11px'> PO Date: </td> <td style = 'font-size:11px'> {{frappe.db.get_value('Purchase Order', doc.name, 'transaction_date') }}  </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> PO #. </td> <td style = 'font-size:11px'> {{ frappe.db.get_value('Purchase Order', doc.name, 'name') }}   </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> GRN No.: </td> <td style = 'font-size:11px'>  {{ frappe.db.get_value('Purchase Receipt', doc.name, 'name') }} </td>\r\n                </tr>\r\n                <!--<tr>-->\r\n                <!--    <td style = 'font-size:11px'> Warehouse: </td> <td style = 'font-size:11px'>  ?? </td>-->\r\n                <!--</tr>-->\r\n                <tr>\r\n                    <td style='font-size:11px'> Supp. Inv No.: </td>\r\n                    <!--<td style='font-size:11px'> {{ frappe.db.get_value('Sales Invoice', doc.name, 'name') }} </td>-->\r\n                    <td style='font-size:11px'> {{doc.bill_no }} </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style='font-size:11px'> Supp. Inv Date: </td>\r\n                    <!--<td style='font-size:11px'> {{ frappe.db.get_value('Sales Invoice', doc.name, 'posting_date') }}-->\r\n                    <!--</td>-->\r\n                    <td style='font-size:11px'> {{doc.bill_date}}\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Currency: </td> <td style = 'font-size:11px'>  {{doc.currency}} </td>\r\n                </tr>\r\n            </table>\r\n        </td>\r\n    </tr>\r\n</table>\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr width=100% height=40px style = \"border: 1px solid black;\">\r\n        <td width=50%>Remarks:</td>\r\n        \r\n    </tr>\r\n</table>\r\n\r\n<table style=\"width:100%; font-size:11px;  margin-top:10px\" border='1'>\r\n    <tr>\r\n        <thead>\r\n            <th> # </th>\r\n            <th> Item Code </th>\r\n            <th> Item Name </th>\r\n            <th class=\"text-right\"> Rate </th>\r\n            <th class=\"text-right\"> Qty </th>\r\n            <th class=\"text-right\"> Total </th>\r\n            <th class=\"text-right\"> VAT </th>\r\n            <th class=\"text-right\"> Discount </th>\r\n            <th class=\"text-right\"> Gross </th>\r\n        </thead>\r\n    </tr>\r\n    {% set total_amount = {\"total_amount\": 0} %}\r\n    {% set total_vat = {\"total_vat\": 0} %}\r\n    {% set discount_total = {\"discount_total\": 0} %}\r\n    {% set gross_total = {\"gross_total\": 0} %}\r\n    {% for row in doc.items %}\r\n    {% if total_amount.update({\"total_amount\": total_amount[\"total_amount\"] + row.base_net_amount}) %} {% endif\r\n    %}\r\n\r\n    <tr>\r\n        <td style=\"\">{{ row.idx }}</td>\r\n        <td style=\"\">\r\n            {{ row.item_code }}\r\n        </td>\r\n        <td style=\"\">\r\n            {{ row.item_name }}\r\n        </td>\r\n        <td style=\"\" class=\"text-right\">\r\n            {{ '{0:,.2f}'.format(row.base_rate ) }}\r\n        </td>\r\n\r\n\r\n        <td style=\"\" class=\"text-right\">\r\n            {{ row.qty }}\r\n        </td>\r\n\r\n        <td style=\"\" class=\"text-right\">\r\n\r\n\r\n            {{ '{0:,.2f}'.format(row.base_net_amount ) }}\r\n        </td>\r\n\r\n        <td style=\"\" class=\"text-right\">\r\n\r\n            {% set t = row.total_tax_percentage %}\r\n            {% set tx = t|replace('%', '')|int %}\r\n            {% set vat = row.base_net_amount/100*tx %}\r\n            {{ '{0:,.2f}'.format(vat) }}\r\n            {% if total_vat.update({\"total_vat\": total_vat[\"total_vat\"] + vat}) %} {% endif %}\r\n\r\n        </td>\r\n        <td style=\"\" class=\"text-right\">\r\n\r\n            {{ '{0:,.2f}'.format( row.discount_amount ) }}\r\n            {% if discount_total.update({\"discount_total\": discount_total[\"discount_total\"] + row.discount_amount}) %}\r\n            {% endif %}\r\n\r\n        </td>\r\n\r\n\r\n        <td style=\"\" class=\"text-right\">\r\n            {% if gross_total.update({\"gross_total\": gross_total[\"gross_total\"] + row.base_net_amount + vat}) %}\r\n            {% endif\r\n            %}\r\n            {{ '{0:,.2f}'.format( row.base_net_amount + vat ) }}\r\n        </td>\r\n\r\n    </tr>\r\n    {%- endfor -%}\r\n    <tr>\r\n        <td></td>\r\n        <td colspan=\"3\" class=\"text-right\"><b>Totals: </b> </td>\r\n        <td class=\"text-right\"> <b>{{doc.total_qty}}</b></td>\r\n        <td class=\"text-right\"> <b> {{ '{0:,.2f}'.format(total_amount[\"total_amount\"]|abs ) }}</b> </td>\r\n        <td class=\"text-right\"> <b> {{ '{0:,.2f}'.format(total_vat[\"total_vat\"] ) }} </b> </td>\r\n        <td class=\"text-right\"> <b> {{ '{0:,.2f}'.format(discount_total[\"discount_total\"] ) }}</b> </td>\r\n        <td class=\"text-right\"><b> {{ '{0:,.2f}'.format(gross_total[\"gross_total\"] ) }} </b> </td>\r\n    </tr>\r\n</table>\r\n<table style=\"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr width=100% height=40px style=\"border: 1px solid black;\">\r\n        <td width=100%><b>Total Amount in words: {{ frappe.utils.money_in_words(gross_total[\"gross_total\"],\r\n                doc.currency) }}</b></td>\r\n\r\n    </tr>\r\n</table>\r\n<table style=\"width:100%; font-size:11px;  margin-top:10px; border-top:1px solid black; border-bottom:1px solid black;\">\r\n    <tr rowspan=\"4\">\r\n        <td colspan=\"6\" width=60%><b> Payment Terms: </b></td>\r\n        <td colspan=\"2\" width=40%>\r\n            <table class=\"table table-sm\" style=\"margin-top:0px\">\r\n                {% if doc.currency == 'KES' %}\r\n\r\n                <tr>\r\n                    <td colspan=\"2\"> <b> Sub Total </b> </td>\r\n                    <td colspan=\"2\"><b> {{ '{0:,.2f}'.format(doc.net_total ) }}</b> </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <td colspan=\"2\"> <b> VAT </b> </td>\r\n                    <td colspan=\"2\"><b> {{ '{0:,.2f}'.format(doc.total_taxes_and_charges) }}</b> </td>\r\n                </tr>\r\n\r\n\r\n                <tr>\r\n                    <td colspan=\"2\"> <b> Total Amount </b> </td>\r\n                    <td colspan=\"2\"> <b> {{ '{0:,.2f}'.format(doc.grand_total ) }} </b></td>\r\n                </tr>\r\n                {% else %}\r\n                <tr>\r\n                    <td colspan=\"2\"> <b>Exchange Rate. </b> </td>\r\n                    <td colspan=\"2\"><b> {{ '{0:,.2f}'.format(doc.conversion_rate ) }}</b> </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <td colspan=\"2\"> <b> Sub Total in KES. </b> </td>\r\n                    <td colspan=\"2\"> <b> {{ '{0:,.2f}'.format(doc.base_net_total ) }} </b> </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <td colspan=\"2\"> <b> Total in KES: </b> </td>\r\n                    <td colspan=\"2\"> <b> {{ '{0:,.2f}'.format(doc.base_grand_total) }} </b></td>\r\n                </tr>\r\n\r\n                {% endif %}\r\n            </table>\r\n        </td>\r\n    </tr>\r\n</table>\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr width=100% height=100px style = \"border-top:1px solid black; border-bottom:1px solid black;\">\r\n        <td width=100%><b>Terms and Conditions:</b></td>\r\n        \r\n    </tr>\r\n</table>\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:2px\">\r\n    <tr width=100% height=60px style = \"border-bottom: 1px solid black;\">\r\n        <td width=100%><b>Return Reason:</b></td>\r\n        \r\n    </tr>\r\n</table>\r\n\r\n<table style = \"width:100%; font-size:11px;  margin-top:10px\">\r\n    <tr width=100% style=\"border:1px solid black;\">\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created By: {{ doc.owner }} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b>  </b></td>\r\n        \r\n    </tr>\r\n    <tr width=100% style=\"border:1px solid black;\">\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Inspected/QC By:  </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b>  </b></td>\r\n        \r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created ON: {{ doc.get_formatted('creation')}} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b> Authorized By: {% if doc.docstatus==1 %}{% else %} empty {% endif %}   </b> </td>\r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Update Stock: </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b>     </b> </td>\r\n    </tr>\r\n</table>\r\n\r\n\r\n\r\n            {% set footer = frappe.db.get_value(\"Default Letter Head\", {\"is_default\" : 1}  , \"footer\") %}\r\n\r\n{% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(), \"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user}) %}\r\n{{ footer_updated }}\r\n\r\n\r\n    <div id=\"footer-html\" class=\"visible-pdf\">\r\n        <div class=\"letter-head-footer\">\r\n            {{ footer }}\r\n        </div>\r\n        <p class=\"text-center small page-number visible-pdf\">\r\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\r\n        </p>\r\n    </div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:52.326475",
  "module": "AQIQ Print Formats",
  "name": "Purchase Return A5",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "/*.watermark {*/\r\n/*    position: fixed;*/\r\n/*    top: 420px;*/\r\n/*    left: 220px;*/\r\n    \r\n/*    right: 220px;*/\r\n/*    background: url(\"http://192.241.152.17/files/draft-background.png\");*/\r\n/*    background-repeat: no-repeat;*/\r\n    /*background-size: center;*/\r\n/*    height:400px;*/\r\n/*    width:50%;*/\r\n/*    background-position: center;*/\r\n/*    background-size: 100%;*/\r\n/*    color:black !important;*/\r\n/*    opacity: 0.3;*/\r\n/*    position: running(wtrmrk);*/\r\n/*    background-repeat: repeat-x;*/\r\n/*    }*/\r\n\r\n.watermark {\r\n    position: fixed;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%) rotate(-45deg);\r\n    opacity: 0.5;\r\n    font-size: 100px;\r\n    color: rgba(255, 0, 0, 0.3);\r\n}",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Sales Invoice",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<div id=\"header-html\"   style = \"margin-top:-15px !important; width:95.2%; margin-left:15px !important\">\r\n    <div class = \"row\" style = \"\">\r\n        <div class = \"col-xs-10\" style = \"width:100%; float:left; border:1px solid black \">\r\n             {% set header = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1}, \"content\") %}\r\n            \r\n            <!--{% if doc.company == 'Impala Glass Industries Ltd' %}-->\r\n            <!--    {% set logo = \"/files/Impala.png\" %} {% elif doc.company == \"Impala Africa Ltd\" %} {% set logo = \"/files/impala-africa-logo.jpg\" %}-->\r\n            <!--{% endif %}-->\r\n            \r\n            \r\n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website','esd_no']) %}\r\n            \r\n            \r\n        \r\n        {% set comapny_address_line1 = '' %}        \r\n        {% set comapny_city = '' %}        \r\n        {% set comapny_counrty = '' %}        \r\n        {% set comapny_state = '' %}        \r\n        {% set phone = '' %}        \r\n\r\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\r\n\r\n        {% if company_address_name  %}\r\n            {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\r\n                \r\n\r\n        {% set comapny_address_line1 = address.address_line1 %}        \r\n        {% set comapny_city =  address.city  %}        \r\n        {% set comapny_counrty =  address.country  %}        \r\n        {% set comapny_state =  address.state  %}        \r\n\r\n        {% set phone = address.phone %}        \r\n\r\n        {% endif  %}\r\n\r\n\r\n            \r\n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \r\n            'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \r\n            'state' : comapny_state,\r\n            'phone_no' : phone, 'email' : company_details[0].email, 'pin_no': company_details[0].tax_id ,  'company_logo' : company_details[0].company_logo, 'website' : company_details[0].website,  }) %}\r\n            {{header_updated}}\r\n            \r\n            \r\n            <table  class = \"table table-sm\" style = \"width:28%; \"> \r\n                <tr>\r\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:14px\"> RETURN REQUEST </b> </span> </center>  </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Date </td> <td style = 'font-size:11px'>\r\n                     {{ frappe.utils.formatdate(doc.get_formatted('posting_date'), \"dd-mm-yyyy\") }} </td>\r\n                </tr>\r\n\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Order # </td> <td style = \"font-size:11px\">  {{ doc.name }}</td>\r\n                </tr>\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Division </td> <td style = \"font-size:11px\">  {{ doc.cost_center }} </td>\r\n                </tr>\r\n            </table>\r\n\r\n        </div>\r\n\r\n        <div class = \"col-xs-8\" style = 'float:left'>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n\r\n\r\n<table class = \"\"  style = \"width:100%; font-size:11px !important; border-bottom:1px solid black !important;\"> \r\n    <tr> \r\n        <td style = \"width:40%\">  \r\n            <div>  <b style=\"font-size:13px\"> Return From: </b></div>\r\n            <div> <b> {{ doc.customer }} </b> </div>\r\n            <div> <b> {{ doc.customer_name }} </b> </div>\r\n            <div> {{ doc.address_display }} </div>\r\n            <!--<div> {{ doc.pin_no }} </div>-->\r\n        </td>\r\n        <td style=\"22%\">\r\n            <img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\" class=\"center\" height=100px>\r\n        </td>\r\n        <td style = \"width:35%\">  \r\n            <table class = \"table table-sm; \" style = \"width:100%; margin-top:-1px !important;\" cellspacing = '0' cellpadding = '0'> \r\n                <tr>\r\n                    <td style = 'font-size:11px'> INV Date: </td> <td style = 'font-size:11px'> {{ frappe.utils.formatdate(doc.get_formatted('posting_date'), \"dd-mm-yyyy\") }} </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:12px'> INV #. </td> <td style = 'font-size:13px'>  <b>{{ doc.name }}</b> </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:12px'> RR #. </td> <td style = 'font-size:13px'> <b> {{doc.is_return}} </b></td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Sales Person </td>\r\n                    {% set salesman = [] %}\r\n                    {% for i in doc.sales_team %}\r\n                        {% set salesman = salesman.append(i.get(\"sales_person\")) %}\r\n                    {% endfor %}\r\n                    {% set sales_team = salesman|join(', ') %}\r\n                    \r\n                    <td style = 'font-size:11px'>{{sales_team}}</td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Currency: </td> <td style = 'font-size:11px'> Sh </td>\r\n                </tr>\r\n            </table>\r\n        </td>\r\n    </tr>\r\n</table>\r\n<div style=\"margin-top:2px; height:40px; border:1px solid black;\">\r\n    <b>Additional notes:<br>{{ doc.posa_notes }}</b>\r\n</div>\r\n<div style=\"margin-top:2px; height:40px; border:1px solid black;\">\r\n    <b>Return Reason:</b>\r\n</div>\r\n<table style = \"width:100%; font-size:11px;  margin-top:10px\" border = '1'> \r\n    <tr > \r\n        <thead> \r\n            <th style=\"text-align:center;\">  # </th>\r\n            <th style=\"text-align:center;\">  Item Code </th>\r\n            <th style=\"text-align:center;\">  Item Name </th>\r\n            <th style=\"text-align:center;\">  Rate </th>\r\n            <th style=\"text-align:center;\">  Qty </th>\r\n            <th style=\"text-align:center;\">  Total </th>\r\n            <th style=\"text-align:center;\">  VAT </th>\r\n            <th style=\"text-align:center;\">  Discount </th>\r\n            <th style=\"text-align:center;\">  Gross </th>\r\n\r\n        </thead>\r\n    </tr>\r\n{% set total_amount = {\"total_amount\": 0} %}\r\n{% set total_vat = {\"total_vat\": 0} %}\r\n{% set discount_total = {\"discount_total\": 0} %}\r\n{% set gross_total = {\"gross_total\": 0} %}\r\n{% for row in doc.items %}\r\n    {% if total_amount.update({\"total_amount\": total_amount[\"total_amount\"] + row.qty * row.rate}) %} {% endif %}\r\n    \r\n        <tr>\r\n            <td style=\"\">{{ row.idx }}</td>\r\n            <td style=\"\">\r\n                {{ row.item_code }}\r\n            </td>\r\n            <td style=\"\">\r\n                {{ row.item_name }}\r\n            </td>\r\n            <td style=\"text-align:right\">\r\n                {{    row.get_formatted(\"rate\") }}\r\n            </td>\r\n\r\n\r\n            <td style=\"text-align:right\"  >\r\n                {{ row.qty }}\r\n            </td>\r\n            {% set amount= row.qty * row.rate %}\r\n            \r\n            <td style=\"text-align:right\">\r\n                \r\n                <!--{{ frappe.utils.fmt_money(amount, currency=\"KES\") }} -->\r\n                 {{ '{0:,.2f}'.format(amount  ) }} \r\n            </td>\r\n        \r\n            <td style=\"text-align:right\">\r\n\r\n\r\n\r\n\r\n                {% set vat = (row.net_amount/100)* total_tax_percentage|int  %}\r\n                {% if total_vat.update({\"total_vat\": total_vat[\"total_vat\"] + vat}) %} {% endif %}\r\n                <!--{{frappe.utils.fmt_money(vat,currency=\"KES\")    }}-->\r\n                 {{ '{0:,.2f}'.format(vat  ) }} \r\n\r\n            </td>\r\n            <td style=\"text-align:right\">\r\n                 {{ '{0:,.2f}'.format(row.discount_amount) }} \r\n\r\n                 {% if discount_total.update({\"discount_total\": discount_total[\"discount_total\"] + row.discount_amount}) %} {% endif %}\r\n\r\n            </td>\r\n\r\n            \r\n            <td style=\"text-align:right\">\r\n                {% if gross_total.update({\"gross_total\": gross_total[\"gross_total\"] + row.qty * row.net_amount + vat}) %} {% endif %}\r\n                <!--{{ frappe.utils.fmt_money(row.qty * row.rate + vat,currency=\"KES\") }}-->\r\n                 {{ '{0:,.2f}'.format(row.qty * row.net_amount + vat) }}     \r\n                    \r\n            </td>\r\n\r\n        </tr>\r\n        {%- endfor -%}\r\n        <tr> \r\n            <td colspan=\"4\" class=\"text-right\"><b>Totals:</b>   </td>\r\n            <td style=\"text-align:right\"> {{doc.total_qty}}</td>\r\n            <td style=\"text-align:right\">   {{ '{0:,.2f}'.format(total_amount[\"total_amount\"]) }} </td>\r\n            <td style=\"text-align:right\"> {{ '{0:,.2f}'.format(total_vat[\"total_vat\"])}}  </td>\r\n            <td style=\"text-align:right\"> {{ '{0:,.2f}'.format(discount_total[\"discount_total\"])}}  </td>\r\n            <td class=\"text-right\">  {{ '{0:,.2f}'.format(gross_total[\"gross_total\"]) }} </td>\r\n        </tr>\r\n</table>\r\n<div style=\"margin-top:2px; margin-bottom:5px;  border:1px solid black;\">\r\n     <b>Total Amount in words: {{ frappe.utils.money_in_words(gross_total[\"gross_total\"], doc.currency) }} </b>\r\n</div>\r\n<table width=100%>\r\n    <tr width=100% style=\"border-top:0.5px solid black; border-bottom:0.5px solid black;\">\r\n    <td width=60% style=\"font-size:11px; font-weight:bold;\"> Return Checks:  </td>\r\n    <td width=40%>\r\n        <table class=\"table table-sm\" style=\"margin-top:0px\">\r\n             {% if doc.currency == 'KES' %}\r\n            <tr>\r\n                <td colspan = \"2\" style=\"font-size:11px; font-weight:bold;\"> <b> VAT 16%: </b> </td>\r\n                <td colspan = \"2\" style=\"font-size:11px; font-weight:bold;\"><b>{{ '{0:,.2f}'.format(total_vat[\"total_vat\"])}}</b> </td>\r\n            </tr>\r\n            <tr>\r\n                <td colspan = \"2\" style=\"font-size:11px; font-weight:bold;\"> <b> Discount: </b> </td>\r\n                <td colspan = \"2\" style=\"font-size:11px; font-weight:bold;\"> <b> {{ '{0:,.2f}'.format(discount_total[\"discount_total\"])}}  </b> </td>\r\n            </tr>\r\n            <tr>\r\n                 <td colspan = \"2\" style=\"font-size:11px; font-weight:bold;\">  <b> Total Amount: </b>  </td>\r\n                <td colspan = \"2\" style=\"font-size:11px; font-weight:bold;\"> <b> {{ '{0:,.2f}'.format(total_amount[\"total_amount\"]) }} </b></td>\r\n                \r\n            </tr>\r\n             {% else %}\r\n            \r\n            <tr class = \"text-right\" > \r\n                <td colspan = \"\" class = \"text-size-10 text-right\"  style=\"font-size:10px; font-weight:bold;\"> <b> Exchange Rate.</b> </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right\" style=\"font-size:10px; font-weight:bold;\"><b> \r\n                \r\n\r\n                                                 {{ '{0:,.2f}'.format(doc.conversion_rate ) }} \r\n                </b> </td>\r\n\r\n\r\n            </tr>\r\n            <tr class = \"text-right\" > \r\n                <td colspan = \"\" class = \"text-size-10 text-right\"  style=\"font-size:10px; font-weight:bold;\"> <b> Sub Total in KES.</b> </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right\" style=\"font-size:10px; font-weight:bold;\"><b> \r\n                \r\n\r\n                                                 {{ '{0:,.2f}'.format(doc.base_net_total ) }} \r\n                </b> </td>\r\n\r\n\r\n            </tr>\r\n\r\n            <tr class = \"text-right\" > \r\n                <td colspan = \"\" class = \"text-size-10 text-right \" style=\"font-size:10px; font-weight:bold;\">  <b> Total in KES: </b>  </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right \" style=\"font-size:10px; font-weight:bold;\"> \r\n                \r\n                \r\n                <b>  \r\n                                                    {{ '{0:,.2f}'.format(doc.base_grand_total) }} \r\n\r\n                \r\n\r\n                \r\n                </b></td>\r\n            </tr>\r\n            \r\n            \r\n            {% endif %}\r\n\r\n        </table>\r\n    </td>\r\n</tr>\r\n</table>\r\n<div style=\"margin-top:2px; margin-bottom:2px; height:100px;  border-top:0.5px solid black; border-bottom:0.5px solid black;\">\r\n    <b>Terms and Conditions</b>\r\n</div>\r\n\r\n{% if doc.docstatus==0 %}\r\n<div class ='watermark'>\r\n    DRAFT\r\n</div>\r\n{% endif %}\r\n\r\n<table width=100%>\r\n    <tr width=100% style=\"border:1px solid black;\">\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created By: {{ doc.owner }} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b>  </b></td>\r\n        \r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created ON: {{ doc.get_formatted('creation')}} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b> Authorized By:  {% if doc.docstatus==1 %} {{doc.owner}} {% endif %}  </b> </td>\r\n    </tr>\r\n</table>\r\n\r\n<div style=\"margin-top:1px; margin-bottom:1px;  border:1px solid black;\"></div>\r\n<div class = 'text-center' style = \"font-size:12px;\" >Goods sold as per our terms & condition, to view the same visit <a href=\"https://impalaglass.com/tnc/\">impalaglass.com/tnc</a></div>\r\n\r\n{% set footer = frappe.db.get_value(\"Letter Head\", doc.letter_head, \"footer\") %}\r\n\r\n{% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(), \"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user, \"is_return\" : doc.is_return, \"tims_code\" : doc.tims_code, \"return_against\" : doc.return_against or \"\"}) %}\r\n{{ footer_updated }}\r\n\r\n    <div id=\"footer-html\" class=\"visible-pdf\">\r\n        <div class=\"letter-head-footer\">\r\n            {{ footer }}\r\n        </div>\r\n        <p class=\"text-center small page-number visible-pdf\">\r\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\r\n        </p>\r\n    </div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:52.216937",
  "module": "AQIQ Print Formats",
  "name": "Return Request",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "/*.watermark {*/\r\n  \r\n/*    position: fixed;*/\r\n/*    top: 420px;*/\r\n/*    left: 220px;*/\r\n/*    right: 220px;*/\r\n/*    background: url(\"http://192.241.152.17/files/draft-background.png\");*/\r\n/*    background-repeat: no-repeat;*/\r\n    /*background-size: center;*/\r\n/*    height:400px;*/\r\n/*    width:50%;*/\r\n/*    background-position: center;*/\r\n/*    background-size: 100%;*/\r\n/*    color:black !important;*/\r\n/*    opacity: 0.3;*/\r\n/*    position: running(wtrmrk);*/\r\n/*    background-repeat: repeat-x;*/\r\n/*    }*/\r\n    \r\n    \r\n    \r\n    \r\n    .watermark {\r\n    position: fixed;\r\n    top:70px;\r\n    left:11%;\r\n    right:10%;\r\n    background: url(\"http://192.241.152.17/files/draft-background.png\");\r\n    background-repeat: no-repeat;\r\n    height:700px;\r\n    width:80%;\r\n    /*background-position: center;*/\r\n    background-size: 100%;\r\n    opacity: 0.5;\r\n    }",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Sales Invoice",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "{% if doc.is_return == 1 %}\r\n\r\n<div id=\"header-html\"   style = \"margin-top:-15px !important; width:95.2%; margin-left:15px !important\">\r\n    <div class = \"row\" style = \"\">\r\n        <div class = \"col-xs-10\" style = \"width:100%; float:left; border:1px solid black \">\r\n{% set header = frappe.db.get_value(\"Letter Head\", {\"is_default\" : 1}, \"content\") %}\r\n            \r\n            <!--{% if doc.company == 'Impala Glass Industries Ltd' %}-->\r\n            <!--    {% set logo = \"/files/Impala.png\" %} {% elif doc.company == \"Impala Africa Ltd\" %} {% set logo = \"/files/impala-africa-logo.jpg\" %}-->\r\n            <!--{% endif %}-->\r\n            \r\n            \r\n            {% set company_details = frappe.db.get_list('Company', filters = {'name' : doc.company}, fields = ['company_name', 'phone_no', 'email', 'tax_id', 'company_logo', 'website', 'esd_no']) %}\r\n            \r\n            \r\n        \r\n        {% set comapny_address_line1 = '' %}        \r\n        {% set comapny_city = '' %}        \r\n        {% set comapny_counrty = '' %}        \r\n        {% set comapny_state = '' %}        \r\n        {% set phone = '' %}        \r\n\r\n        {% set company_address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Company\" ,  \"link_name\":  doc.company  }, \"parent\") %}\r\n\r\n        {% if company_address_name  %}\r\n            {% set address = frappe.db.get_value(\"Address\" ,company_address_name , [\"address_line1\", \"address_title\" , \"city\" , \"country\" , \"state\" , \"email_id\" , \"phone\" ], as_dict = 1) %}\r\n                \r\n\r\n        {% set comapny_address_line1 = address.address_line1 %}        \r\n        {% set comapny_city =  address.city  %}        \r\n        {% set comapny_counrty =  address.country  %}        \r\n        {% set comapny_state =  address.state  %}        \r\n\r\n        {% set phone = address.phone %}        \r\n\r\n        {% endif  %}\r\n\r\n\r\n            \r\n            {% set header_updated = frappe.render_template(header, {'company' : company_details[0].company_name, \r\n            'company_address' : comapny_address_line1 , 'city' : comapny_city, \"country\" : comapny_counrty , \r\n            'state' : comapny_state,\r\n            'phone_no' : phone, 'email' : company_details[0].email, 'pin_no': company_details[0].tax_id ,  'company_logo' : company_details[0].company_logo, 'website' : company_details[0].website,  }) %}\r\n            {{header_updated}}\r\n            \r\n            \r\n            <table  class = \"table table-sm\" style = \"width:28%; \"> \r\n                <tr>\r\n                    <td colspan = \"2\"> <center>  <span style = \"\"> <b style = \"font-size:14px\"> CREDIT NOTE </b> </span> </center>  </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Date </td> <td style = 'font-size:11px'>  {{ frappe.utils.formatdate(doc.get_formatted('posting_date'), \"dd-mm-yyyy\") }}  </td>\r\n                </tr>\r\n\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> CR # </td> <td style = \"font-size:10px\">  {{ doc.name }}</td>\r\n                </tr>\r\n                <tr> \r\n                    <td style = \"font-size:11px\"> Division </td> <td style = \"font-size:11px\">  {{ doc.cost_center }} </td>\r\n                </tr>\r\n            </table>\r\n\r\n        </div>\r\n\r\n        <div class = \"col-xs-8\" style = 'float:left'>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n\r\n\r\n<table class = \"\"  style = \"width:100%; font-size:11px !important; border-bottom:1px solid black !important;\"> \r\n    <tr> \r\n        <td style = \"width:40%;\" >  \r\n            <div>  <b style=\"font-size:13px\"> Return From: </b></div>\r\n            <div> <b> {{ doc.customer }} </b> </div>\r\n            <div> <b> {{ doc.customer_name }} </b> </div>\r\n            <div style = \"height:80px;\"> {{ doc.address_display }} </div>\r\n            <div> \r\n            <div class=\"\" style = 'font-size:11px;'> Customer Pin # : <span style = 'visibility:hidden;' >______</span> <b class=\"\" style = 'font-size:11px'> {{ doc.tax_id or \"\" }}  </b></div>\r\n            </div>\r\n           \r\n        </td>\r\n        <td style=\"20%\">\r\n            <img src=\"/files/QRCode{{doc.name}}.svg\" alt=\"QR Code here\" class=\"center\" height=100px>\r\n        </td>\r\n        <td style = \"width:35%;\">\r\n            <table class = \"table table-sm; \" style = \"width:100%; margin-top:-1px !important;\" cellspacing = '0' cellpadding = '0'> \r\n                <!--<tr>-->\r\n                <!--    <td style = 'font-size:11px'> INV Date: </td> <td style = 'font-size:11px'>  {{ doc.posting_date }} </td>-->\r\n                <!--</tr>-->\r\n                <!--<tr>-->\r\n                <!--    <td style = 'font-size:11px'> INV #. </td> <td style = 'font-size:11px'>  {{ doc.name }} </td>-->\r\n                <!--</tr>-->\r\n                <!--<tr>-->\r\n                <!--    <td style = 'font-size:11px'> SR #. </td> <td style = 'font-size:11px'>  {{doc.name}} </td>-->\r\n                <!--</tr>-->\r\n                <tr>\r\n                    <td style = 'font-size:11px'> RINV #. </td> <td style = 'font-size:11px'> {{doc.return_against}} </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Sales Person </td>\r\n                    {% set salesman = [] %}\r\n                    {% for i in doc.sales_team %}\r\n                        {% set salesman = salesman.append(i.get(\"sales_person\")) %}\r\n                    {% endfor %}\r\n                    {% set sales_team = salesman|join(', ') %}\r\n                    \r\n                    <td style = 'font-size:11px'>{{sales_team}}</td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> Currency: </td> <td style = 'font-size:11px'> {{doc.currency}} </td>\r\n                </tr>\r\n                <tr>\r\n                    <td style = 'font-size:11px'> TIMS Code: </td> <td style = 'font-size:11px'> {{doc.tims_code or frappe.db.get_value('Sales Invoice', doc.return_against, 'cuin')}} </td>\r\n                </tr>\r\n            </table>\r\n        </td>\r\n    </tr>\r\n</table>\r\n<table class=\"table table-sm\" style=\"width: 100%; font-size: 9px; margin-top: 10px; border-collapse: collapse;\">\r\n    <tr style=\"height: 40px; border: 1px solid black;\">\r\n        <td style=\"\"><b>Return Reason:</b></td>\r\n        <td style=\"text-align: left; border-left: none;\">{{doc.return_reason}}</td>\r\n        <td style=\"\"><b>Return Against:</b></td>\r\n        <td style=\"text-align: left; border-left: none;\">{{doc.return_against or ''}}</td>\r\n    </tr>\r\n    <tr style=\"height: 40px; border: 1px solid black;\">\r\n        <td style=\"border-left: none;\"><b>Additional Notes:</b></td>\r\n        <td colspan=\"3\"><p style=\"text-align: left;\">{{doc.posa_notes}}</p></td>\r\n    </tr>\r\n</table>\r\n\r\n\r\n<table  class = 'table table-sm' style = \"width:100%; font-size:9px;  margin-top:10px\" border = '1'> \r\n    <tr> \r\n        <thead> \r\n            <th class=\"text-left text-size-9 \" style = \"\"  >  # </th>\r\n            <th class=\"text-left text-size-9 \">  Item Code </th>\r\n            <th class=\"text-left text-size-9 \">  Item Name </th>\r\n            <th class=\"text-right text-size-9 \">  Qty </th>\r\n\r\n            <th class=\"text-right text-size-9 \">  Unit Price </th>\r\n            <th class=\"text-right text-size-9 \">  Total Amount </th>\r\n\r\n        </thead>\r\n    </tr>\r\n{% set total_ex_vat = {\"total_ex_vat\": 0.0} %}\r\n{% set total_in_vat = {\"total_in_vat\": 0.0} %}\r\n{% set total_amount = {\"total_amount\": 0} %}\r\n{% set total_rate = {\"total_rate\": 0} %}\r\n{% set gross_total = {\"gross_total\": 0} %}\r\n{% set total_inclusive = {\"total_inclusive\": 0} %}\r\n{% set tax_type = doc.tax_type  %}\r\n\r\n{% for row in doc.items %}\r\n    {% if total_amount.update({\"total_amount\": total_amount[\"total_amount\"] + row.qty * row.rate}) %} {% endif %}\r\n    \r\n        <tr>\r\n            <td style=\"\" class=\"text-left text-size-9 \">{{ row.idx }}</td>\r\n            <td style=\"\" class=\"text-left text-size-9 \">\r\n                {{ row.item_code }}\r\n            </td>\r\n            <td style=\"\" class=\"text-left text-size-9 \">\r\n                {{ row.item_name }}\r\n            </td>\r\n            <td style=\"\" class=\"text-right text-size-9 \">\r\n                {{ row.qty|abs }}\r\n            </td>\r\n    \r\n\r\n            <td style=\"\" class=\"text-right text-size-9 \">\r\n\r\n  {{ '{0:,.2f}'.format(row.rate  ) }} \r\n\r\n        {% if total_rate.update({\"total_rate\": total_rate[\"total_rate\"] + row.rate }) %} {% endif %}\r\n            </td>\r\n        \r\n        {% set in_vat = '' %}\r\n\r\n        {% set total_tax_percentage = row.total_tax_percentage |replace(\"%\", \"\")  %}   \r\n        {% set ex_vat  =  ((row.net_amount|float / 100) * total_tax_percentage|int)  %}\r\n        \r\n        \r\n        {% set in_vat  =  row.net_amount  / 100 * total_tax_percentage | int  %}\r\n           \r\n            <td style=\"\" class=\"text-right text-size-9 \">\r\n            {% set total_inlusive_temp = ''  %}\r\n\r\n            {% if tax_type == 'Exclusive' %}\r\n\r\n                {% set total_inlusive_temp = ex_vat + row.net_amount  %}\r\n            \r\n                  {{ '{0:,.2f}'.format(total_inlusive_temp|abs ) }} \r\n\r\n                \r\n                {% if total_inclusive.update({\"total_inclusive\": total_inclusive[\"total_inclusive\"] + total_inlusive_temp}) %} {% endif %}\r\n                \r\n\r\n            {% else  %}\r\n\r\n                {% set total_inlusive_temp =  row.net_amount + in_vat   %}\r\n                {% if total_inclusive.update({\"total_inclusive\": total_inclusive[\"total_inclusive\"] + total_inlusive_temp}) %} {% endif %}\r\n\r\n\r\n                  {{ '{0:,.2f}'.format(total_inlusive_temp|abs  ) }} \r\n\r\n            {% endif  %}\r\n            </td>\r\n\r\n        </tr>\r\n        {%- endfor -%}\r\n        <tr> \r\n            <td colspan=\"3\" class=\"text-right\"><b>Totals:</b>   </td>\r\n            <td class=\"text-right\"> <b>\r\n                {{doc.total_qty|abs}}</b></td>\r\n\r\n            <td class=\"text-right small \">  <b>\r\n                \r\n                                  {{ '{0:,.2f}'.format(total_rate.total_rate  ) }} \r\n\r\n                \r\n                </b> </td>\r\n\r\n            <td class=\"text-right small \">  <b>\r\n                                 {{ '{0:,.2f}'.format( total_inclusive.total_inclusive|abs ) }} \r\n                \r\n                </b> </td>\r\n        </tr>\r\n        \r\n        <tr> \r\n            <td colspan = \"9\"> \r\n            <b class = \"text-size-10\" >Total Amount in words:   {{ frappe.utils.money_in_words(total_inclusive.total_inclusive ) }}  </b>\r\n\r\n            </td>\r\n        </tr>\r\n        </table  >\r\n\r\n\r\n<table width=100%>\r\n    <tr width=100% style=\"border-top:0.5px solid black; border-bottom:0.5px solid black;\">\r\n    <td width=60% style=\"font-size:11px; font-weight:bold;\"> Return Checks:  </td>\r\n    <td width=40%>\r\n        <table class = \"text-right\" style = '; width:100%; border:none' > \r\n            {% if doc.currency == 'KES' %}\r\n            <tr class = \"text-right\" > \r\n                <td colspan = \"\" class = \"text-size-10 text-right\"  style=\"font-size:10px; font-weight:bold;\"> <b> Total Excl.</b> </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right\" style=\"font-size:10px; font-weight:bold;\"><b> \r\n                \r\n\r\n                                                 {{ '{0:,.2f}'.format(doc.net_total ) }} \r\n                </b> </td>\r\n\r\n\r\n            </tr>\r\n            <tr class = \"text-right\" > \r\n                <td colspan = \"\" class = \"text-size-10 text-right\"  style=\"font-size:10px; font-weight:bold;\"> <b>  Tax Amount </b> </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right\" style=\"font-size:10px; font-weight:bold;\"><b> \r\n                \r\n\r\n                                                 {{ '{0:,.2f}'.format(doc.total_taxes_and_charges ) }} \r\n                </b> </td>\r\n\r\n\r\n            </tr>\r\n\r\n            <tr class = \"text-right\" > \r\n                <td colspan = \"\" class = \"text-size-10 text-right \" style=\"font-size:10px; font-weight:bold;\">  <b> Total Amount: </b>  </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right \" style=\"font-size:10px; font-weight:bold;\"> \r\n                \r\n                \r\n                <b>  \r\n                                                    {{ '{0:,.2f}'.format(total_inclusive.total_inclusive) }} \r\n\r\n                \r\n\r\n                \r\n                </b></td>\r\n            </tr>\r\n            {% else %}\r\n            \r\n            <tr class = \"text-right\" > \r\n                <td colspan = \"\" class = \"text-size-10 text-right\"  style=\"font-size:10px; font-weight:bold;\"> <b> Exchange Rate.</b> </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right\" style=\"font-size:10px; font-weight:bold;\"><b> \r\n                \r\n\r\n                                                 {{ '{0:,.2f}'.format(doc.conversion_rate ) }} \r\n                </b> </td>\r\n\r\n\r\n            </tr>\r\n            <tr class = \"text-right\" > \r\n                <td colspan = \"\" class = \"text-size-10 text-right\"  style=\"font-size:10px; font-weight:bold;\"> <b> Sub Total in KES.</b> </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right\" style=\"font-size:10px; font-weight:bold;\"><b> \r\n                \r\n\r\n                                                 {{ '{0:,.2f}'.format(doc.base_net_total|abs ) }} \r\n                </b> </td>\r\n\r\n\r\n            </tr>\r\n\r\n\r\n            <tr class = \"text-right\" > \r\n                <td colspan = \"\" class = \"text-size-10 text-right \" style=\"font-size:10px; font-weight:bold;\">  <b> Total in KES: </b>  </td>\r\n                <td colspan = \"\" class = \"text-size-10 text-right \" style=\"font-size:10px; font-weight:bold;\"> \r\n                \r\n                \r\n                <b>  \r\n                                                    {{ '{0:,.2f}'.format(doc.base_grand_total) }} \r\n\r\n                \r\n\r\n                \r\n                </b></td>\r\n            </tr>\r\n            \r\n            \r\n            {% endif %}\r\n        </table>\r\n\r\n    </td>\r\n</tr>\r\n</table>\r\n<div style=\"margin-top:2px; margin-bottom:2px; height:100px;  border-top:0.5px solid black; border-bottom:0.5px solid black;\">\r\n    <b>Terms and Conditions</b>\r\n<div class = 'text-center' style = \"font-size:12px;\" >Goods sold as per our terms & condition, to view the same visit <a href=\"https://impalaglass.com/tnc/\">impalaglass.com/tnc</a></div>\r\n\r\n</div>\r\n{% if doc.docstatus==0 %}\r\n<div class ='watermark'>\r\n</div>\r\n{% endif %}\r\n<table width=100%>\r\n    <tr width=100% style=\"border:1px solid black;\">\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created By: {{ doc.owner }} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b>  </b></td>\r\n        \r\n    </tr>\r\n    <tr width=100%>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"> <b> Created ON: {{ doc.get_formatted('creation')}} </b> </td>\r\n        <td width=50% style=\"border:1px solid black; font-size:11px; font-weight:bold;\"><b> Authorized By:  {% if doc.docstatus==1 %} {{doc.owner}} {% endif %}  </b> </td>\r\n    </tr>\r\n</table>\r\n\r\n\r\n    <div style=\"display: flex; align-items: center; margin-right: 10px;\">\r\n        <div style=\"width: 100px; height: 100px; margin-right: 10px;\">\r\n         \r\n            <img src=\"{{doc.kra_qr_code}}\" alt=\"KRA QR Code here\" width=\"100\" height=\"100\">\r\n        </div>\r\n        <div style=\"position: relative; bottom:0\">\r\n            <p style=\"margin: 0;\"><br><br><br><br>\r\n             {{ doc.cusn or '' }}, {{ doc.signing_time or ''}} <br> {{ doc.cuin   or ''}}\r\n            </p>\r\n        </div>\r\n    </div>\r\n\r\n\r\n\r\n\r\n{% set times_printed = doc.times_printed or 0 %}\r\n{% if times_printed >= 1 %} {% set duplicate = 'DUPLICATE'%} {% endif %}\r\n\r\n{% set footer = frappe.db.get_value(\"Letter Head\", doc.letter_head, \"footer\") %}\r\n\r\n{% set footer_updated = frappe.render_template(footer, {\"created_by\" : doc.owner, \"creation\":frappe.utils.now(), \"user_phone\": frappe.db.get_value(\"User\", frappe.session.user, \"mobile_no\"), \"user\" : frappe.session.user, \"is_return\": doc.is_return, \"tims_code\": doc.tims_code, \"return_against\" : doc.return_against or \"\", 'times_printed' : times_printed, 'duplicate': duplicate or ''}) %}\r\n{{ footer_updated }}\r\n\r\n\r\n    <div id=\"footer-html\" class=\"visible-pdf\">\r\n        <div class=\"letter-head-footer\">\r\n            \r\n            {{ footer }}\r\n        </div>\r\n        <p class=\"text-center small page-number visible-pdf\">\r\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\r\n        </p>\r\n    </div>\r\n{% endif %}",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:52.091857",
  "module": "AQIQ Print Formats",
  "name": "Sales Return",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 0,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Purchase Invoice",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": "[{\"fieldname\": \"print_heading_template\", \"fieldtype\": \"Custom HTML\", \"options\": \"<div class=\\\"print-heading\\\">\\t\\t\\t\\t<h2>Purchase Invoice<br><small>{{ doc.name }}</small>\\t\\t\\t\\t</h2></div>\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"print_hide\": 0, \"fieldname\": \"supplier_name\", \"label\": \"Supplier Name\"}, {\"print_hide\": 0, \"fieldname\": \"due_date\", \"label\": \"Due Date\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Address\"}, {\"fieldtype\": \"Column Break\"}, {\"print_hide\": 0, \"fieldname\": \"address_display\", \"label\": \"Address\"}, {\"print_hide\": 0, \"fieldname\": \"contact_display\", \"label\": \"Contact\"}, {\"print_hide\": 0, \"fieldname\": \"contact_mobile\", \"label\": \"Mobile No\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"visible_columns\": [{\"print_hide\": 0, \"fieldname\": \"item_name\", \"print_width\": \"\"}, {\"print_hide\": 0, \"fieldname\": \"description\", \"print_width\": \"300px\"}, {\"print_hide\": 0, \"fieldname\": \"image\", \"print_width\": \"\"}, {\"print_hide\": 0, \"fieldname\": \"received_qty\", \"print_width\": \"\"}, {\"print_hide\": 0, \"fieldname\": \"qty\", \"print_width\": \"\"}, {\"print_hide\": 0, \"fieldname\": \"rejected_qty\", \"print_width\": \"\"}, {\"print_hide\": 0, \"fieldname\": \"discount_percentage\", \"print_width\": \"\"}, {\"print_hide\": 0, \"fieldname\": \"rate\", \"print_width\": \"\"}, {\"print_hide\": 0, \"fieldname\": \"amount\", \"print_width\": \"\"}, {\"print_hide\": 0, \"fieldname\": \"pricing_rule\", \"print_width\": \"\"}, {\"print_hide\": 0, \"fieldname\": \"weight_per_unit\", \"print_width\": \"\"}, {\"print_hide\": 0, \"fieldname\": \"total_weight\", \"print_width\": \"\"}, {\"print_hide\": 0, \"fieldname\": \"weight_uom\", \"print_width\": \"\"}, {\"print_hide\": 0, \"fieldname\": \"warehouse\", \"print_width\": \"\"}, {\"print_hide\": 0, \"fieldname\": \"rejected_warehouse\", \"print_width\": \"\"}, {\"print_hide\": 0, \"fieldname\": \"batch_no\", \"print_width\": \"\"}, {\"print_hide\": 0, \"fieldname\": \"serial_no\", \"print_width\": \"\"}, {\"print_hide\": 0, \"fieldname\": \"bom\", \"print_width\": \"\"}, {\"print_hide\": 0, \"fieldname\": \"asset\", \"print_width\": \"\"}, {\"print_hide\": 0, \"fieldname\": \"gst_hsn_code\", \"print_width\": \"\"}], \"print_hide\": 0, \"fieldname\": \"items\", \"label\": \"Items\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldtype\": \"Column Break\"}, {\"print_hide\": 0, \"fieldname\": \"total\", \"label\": \"Total\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"visible_columns\": [{\"print_hide\": 0, \"fieldname\": \"category\", \"print_width\": \"\"}, {\"print_hide\": 0, \"fieldname\": \"add_deduct_tax\", \"print_width\": \"\"}, {\"print_hide\": 0, \"fieldname\": \"charge_type\", \"print_width\": \"\"}, {\"print_hide\": 0, \"fieldname\": \"row_id\", \"print_width\": \"\"}, {\"print_hide\": 0, \"fieldname\": \"included_in_print_rate\", \"print_width\": \"\"}, {\"print_hide\": 0, \"fieldname\": \"account_head\", \"print_width\": \"\"}, {\"print_hide\": 0, \"fieldname\": \"cost_center\", \"print_width\": \"\"}, {\"print_hide\": 0, \"fieldname\": \"description\", \"print_width\": \"300px\"}, {\"print_hide\": 0, \"fieldname\": \"rate\", \"print_width\": \"\"}, {\"print_hide\": 0, \"fieldname\": \"tax_amount\", \"print_width\": \"\"}, {\"print_hide\": 0, \"fieldname\": \"total\", \"print_width\": \"\"}], \"print_hide\": 0, \"fieldname\": \"taxes\", \"label\": \"Purchase Taxes and Charges\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldtype\": \"Column Break\"}, {\"print_hide\": 0, \"fieldname\": \"grand_total\", \"label\": \"Grand Total\"}, {\"print_hide\": 0, \"fieldname\": \"in_words\", \"label\": \"In Words\"}, {\"print_hide\": 0, \"fieldname\": \"disable_rounded_total\", \"label\": \"Disable Rounded Total\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Payments\"}, {\"fieldtype\": \"Column Break\"}, {\"print_hide\": 0, \"fieldname\": \"cash_bank_account\", \"label\": \"Cash/Bank Account\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"print_hide\": 0, \"fieldname\": \"other_charges_calculation\", \"align\": \"left\", \"label\": \"Tax Breakup\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Raw\"}, {\"fieldtype\": \"Column Break\"}, {\"visible_columns\": [{\"print_hide\": 0, \"fieldname\": \"main_item_code\", \"print_width\": \"\"}, {\"print_hide\": 0, \"fieldname\": \"rm_item_code\", \"print_width\": \"\"}, {\"print_hide\": 0, \"fieldname\": \"description\", \"print_width\": \"300px\"}, {\"print_hide\": 0, \"fieldname\": \"batch_no\", \"print_width\": \"\"}, {\"print_hide\": 0, \"fieldname\": \"serial_no\", \"print_width\": \"\"}, {\"print_hide\": 0, \"fieldname\": \"required_qty\", \"print_width\": \"\"}, {\"print_hide\": 0, \"fieldname\": \"consumed_qty\", \"print_width\": \"\"}, {\"print_hide\": 0, \"fieldname\": \"stock_uom\", \"print_width\": \"\"}, {\"print_hide\": 0, \"fieldname\": \"rate\", \"print_width\": \"\"}, {\"print_hide\": 0, \"fieldname\": \"amount\", \"print_width\": \"\"}, {\"print_hide\": 0, \"fieldname\": \"conversion_factor\", \"print_width\": \"\"}, {\"print_hide\": 0, \"fieldname\": \"current_stock\", \"print_width\": \"\"}, {\"print_hide\": 0, \"fieldname\": \"reference_name\", \"print_width\": \"\"}, {\"print_hide\": 0, \"fieldname\": \"bom_detail_no\", \"print_width\": \"\"}], \"print_hide\": 0, \"fieldname\": \"supplied_items\", \"label\": \"Supplied Items\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Terms\"}, {\"fieldtype\": \"Column Break\"}, {\"print_hide\": 0, \"fieldname\": \"terms\", \"label\": \"Terms and Conditions1\"}]",
  "html": null,
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:52.010186",
  "module": "AQIQ Print Formats",
  "name": "GST Purchase Invoice",
  "page_number": "Hide",
  "print_format_builder": 1,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Lab Test",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "font_size": 14,
  "format_data": null,
  "html": "<div >\n  {% if letter_head and not no_letterhead -%}\n    <div class=\"letter-head\">{{ letter_head }}</div>\n    <hr>\n  {%- endif %}\n\n  {% if (doc.docstatus != 1) %}\n  <div><h2 class=\"text-uppercase text-center\"><b>WORKSHEET</b></h2></div>\n\t<br/>\n\t<div class=\"row section-break\">\n    <div class=\"col-xs-6 column-break\">\n\n      <div class=\"row\">\n        <div class=\"col-xs-4 text-left\">\n          <label>Patient</label>\n        </div>\n        {% if doc.patient_name %}\n        <div class=\"col-xs-7  value\">\n          {{ doc.patient_name }}\n        </div>\n        {% else %}\n        <div class=\"col-xs-7  value\">\n          {{ doc.patient }}\n        </div>\n        {%- endif -%}\n      </div>\n\n      <div class=\"row\">\n        <div class=\"col-xs-4 text-left\">\n          <label>Age</label>\n        </div>\n        <div class=\"col-xs-7  value\">\n          {{ doc.patient_age or '' }}\n        </div>\n      </div>\n\n      <div class=\"row\">\n        <div class=\"col-xs-4 text-left\">\n          <label>Gender</label>\n        </div>\n        <div class=\"col-xs-7  value\">\n          {{ doc.patient_sex or '' }}\n        </div>\n      </div>\n\n    </div>\n\n    <div class=\"col-xs-6 column-break\">\n\n      <div class=\"row\">\n        <div class=\"col-xs-4 text-left\">\n          <label>Practitioner</label>\n        </div>\n        {% if doc.practitioner_name %}\n        <div class=\"col-xs-7  text-left value\">\n          {{ doc.practitioner_name }}\n        </div>\n        {% else %}\n\t\t\t{% if doc.referring_practitioner_name %}\n            <div class=\"col-xs-7  text-left value\">\n            {{ doc.referring_practitioner_name }}\n            </div>\n\t\t    {% endif %}\n        {%- endif -%}\n      </div>\n\n      {% if doc.sample_date %}\n      <div class=\"row\">\n        <div class=\"col-xs-4 text-left\">\n          <label>Sample Date</label>\n        </div>\n        <div class=\"col-xs-7 text-left value\">\n        {{ doc.sample_date }}\n        </div>\n      </div>\n      {%- endif -%}\n    </div>\n  </div>\n\n\t<div>\n    <hr><h4 class=\"text-uppercase text-center\"><b><u>Department of {{ doc.department }}</u></b></h4>\n  </div>\n\n\t<table class=\"table\">\n    <tbody>\n      {%- if doc.normal_test_items -%}\n      <tr>\n        <th>Name of Test</th>\n        <th class=\"text-left\">Result</th>\n        <th class=\"text-right\">Normal Range</th>\n      </tr>\n\n      {%- if doc.normal_test_items|length > 1 %}\n      <tr><td style=\"width: 40%;\"> <b>{{ doc.lab_test_name }}</b> </td><td></td></tr>\n      {%- endif -%}\n\n      {%- for row in doc.normal_test_items -%}\n      <tr>\n        <td style=\"width: 40%;border:none;\">\n          {%- if doc.normal_test_items|length > 1 %}&emsp;&emsp;{%- endif -%}\n          {%- if row.lab_test_name -%}<b>{{ row.lab_test_name }}</b>\n          {%- else -%}&emsp;&emsp;&emsp;{%- endif -%}\n          {%- if row.lab_test_event -%} &emsp;&emsp;{{ row.lab_test_event }}{%- endif -%}\n        </td>\n\n        <td style=\"width: 20%;text-align: right;border:none;\">\n          {%- if row.lab_test_uom -%}&nbsp;{{ row.lab_test_uom }}{%- endif -%}\n        </td>\n\n        <td style=\"width: 30%;text-align: right;border:none;\">\n          <div style=\"border: 0px;\">\n            {%- if row.normal_range -%}{{ row.normal_range }}{%- endif -%}\n          </div>\n        </td>\n      </tr>\n\n      {%- endfor -%}\n      {%- endif -%}\n    </tbody>\n  </table>\n\n\t<table class=\"table\">\n    <tbody>\n      {%- if doc.descriptive_test_items -%}\n      <tr>\n        <th>Name of Test</th>\n        <th class=\"text-left\">Result</th>\n      </tr>\n      <tr><td style=\"width: 30%;border:none;\"> <b>{{ doc.lab_test_name }}</b> </td><td></td></tr>\n\t\t\t{% set gr_lab_test_name = {'ltname': ''} %}\n      {%- for row in doc.descriptive_test_items -%}\n\t\t\t{%- if row.lab_test_name -%}\n\t\t\t{%- if row.lab_test_name != gr_lab_test_name.ltname -%}\n\t\t\t<tr>\n\t\t\t\t<td style=\"width: 30%;border:none;\"> &emsp;{{ row.lab_test_name }} </td>\n\t\t\t\t<td style=\"width: 70%;text-align: left;border:none;\"></td>\n\t\t\t</tr>\n\t\t\t{% if gr_lab_test_name.update({'ltname': row.lab_test_name}) %} {% endif %}\n\t\t\t{%- endif -%}\n\t\t\t{%- endif -%}\n      <tr>\n        <td style=\"width: 30%;border:none;\"> &emsp;&emsp;{{ row.lab_test_particulars }} </td>\n        <td style=\"width: 70%;text-align: left;border:none;\"></td>\n      </tr>\n      {%- endfor -%}\n      {%- endif -%}\n    </tbody>\n  </table>\n  <div>\n    {% if doc.worksheet_instructions %}\n    <hr>\n    <b>Instructions</b>\n    {{ doc.worksheet_instructions }}\n    {%- endif -%}\n</div>\n  {% elif (frappe.db.get_value(\"Healthcare Settings\", \"None\", \"require_test_result_approval\") == '1' and doc.status != \"Approved\") %}\n  <b>Lab Tests have to be Approved for Print .. !</b>\n  {%- else -%}\n  <div class=\"row section-break\">\n    <div class=\"col-xs-6 column-break\">\n\n      <div class=\"row\">\n        <div class=\"col-xs-4 text-left\">\n          <label>Patient</label>\n        </div>\n        {% if doc.patient_name %}\n        <div class=\"col-xs-7  value\">\n          {{ doc.patient_name }}\n        </div>\n        {% else %}\n        <div class=\"col-xs-7  value\">\n            {{ doc.patient }}\n        </div>\n        {%- endif -%}\n      </div>\n\n      <div class=\"row\">\n        <div class=\"col-xs-4 text-left\">\n          <label>Age</label>\n        </div>\n        <div class=\"col-xs-7  value\">\n        {{ doc.patient_age or '' }}\n        </div>\n      </div>\n\n      <div class=\"row\">\n        <div class=\"col-xs-4 text-left\">\n          <label>Gender</label>\n        </div>\n        <div class=\"col-xs-7  value\">\n          {{ doc.patient_sex or '' }}\n        </div>\n      </div>\n\n    </div>\n\n    <div class=\"col-xs-6 column-break\">\n\n      <div class=\"row\">\n        <div class=\"col-xs-4 text-left\">\n          <label>Practitioner</label>\n        </div>\n        {% if doc.practitioner_name %}\n        <div class=\"col-xs-7  text-left value\">\n          {{ doc.practitioner_name }}\n        </div>\n\t\t{% else %}\n\t\t    {% if doc.referring_practitioner_name %}\n                <div class=\"col-xs-7  text-left value\">\n                {{ doc.referring_practitioner_name }}\n                </div>\n\t\t\t{% endif %}\n        {%- endif -%}\n      </div>\n\n      {% if doc.sample_date %}\n      <div class=\"row\">\n        <div class=\"col-xs-4 text-left\">\n          <label>Sample Date</label>\n        </div>\n        <div class=\"col-xs-7 text-left value\">\n          {{ doc.sample_date }}\n        </div>\n      </div>\n      {%- endif -%}\n\n      {% if doc.result_date %}\n      <div class=\"row\">\n        <div class=\"col-xs-4 text-left\">\n          <label>Result Date</label>\n        </div>\n        <div class=\"col-xs-7 text-left value\">\n          {{ doc.result_date }}\n        </div>\n      </div>\n      {%- endif -%}\n\n    </div>\n\n  </div>\n\n  <div>\n    <hr><h4 class=\"text-uppercase text-center\"><b><u>Department of {{ doc.department }}</u></b></h4>\n  </div>\n\n\t<div>\n\t\t{% if doc.result_legend and  (doc.legend_print_position == \"Top\" or doc.legend_print_position == \"Both\")%}\n\t\t<b>Result Legend:</b>\n\t\t{{ doc.result_legend }}\n\t\t{%- endif -%}\n\t</div>\n\n  <table class=\"table\">\n    <tbody>\n      {%- if doc.normal_test_items -%}\n      <tr>\n        <th>Name of Test</th>\n        <th class=\"text-left\">Result</th>\n        <th class=\"text-right\">Normal Range</th>\n      </tr>\n\n      {%- if doc.normal_test_items|length > 1 %}\n      <tr><td style=\"width: 40%;\"> <b>{{ doc.lab_test_name }}</b> </td><td></td></tr>\n      {%- endif -%}\n\n      {%- for row in doc.normal_test_items -%}\n      <tr>\n        <td style=\"width: 40%;border:none;\">\n          {%- if doc.normal_test_items|length > 1 %}&emsp;&emsp;{%- endif -%}\n          {%- if row.lab_test_name -%}<b>{{ row.lab_test_name }}</b>\n          {%- else -%}&emsp;&emsp;&emsp;{%- endif -%}\n          {%- if row.lab_test_event -%} &emsp;&emsp;{{ row.lab_test_event }}{%- endif -%}\n        </td>\n\n        <td style=\"width: 20%;text-align: left;border:none;\">\n\t\t\t\t\t{%- if row.result_value -%}\n\t\t\t\t\t\t{%- if row.bold -%}<b>{% endif %}\n\t\t\t\t\t\t{%- if row.underline -%}<u>{% endif %}\n\t\t\t\t\t\t{%- if row.italic -%}<i>{% endif %}\n                        {{ row.result_value }}\n                        {%- if row.lab_test_uom -%}&emsp;{{ row.lab_test_uom }}{%- endif -%}\n\t\t\t\t\t\t{%- if row.italic -%}</i>{% endif %}\n\t\t\t\t\t\t{%- if row.underline -%}</u>{% endif %}\n\t\t\t\t\t\t{%- if row.bold -%}</b>{% endif %}\n\t\t\t\t\t{%- endif -%}\n          \n\t\t\t\t\t{%- if row.secondary_uom and row.conversion_factor and row.secondary_uom_result -%}\n\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t{%- if row.bold -%}<b>{% endif %}\n\t\t\t\t\t\t{%- if row.underline -%}<u>{% endif %}\n\t\t\t\t\t\t{%- if row.italic -%}<i>{% endif %}\n                        {{ row.secondary_uom_result }}\n                        &emsp;{{ row.secondary_uom }}\n\t\t\t\t\t\t{%- if row.italic -%}</i>{% endif %}\n\t\t\t\t\t\t{%- if row.underline -%}</u>{% endif %}\n\t\t\t\t\t\t{%- if row.bold -%}</b>{% endif %}\n\t\t\t\t\t\t&emsp;\n\t\t\t\t\t{%- endif -%}\n        </td>\n\n        <td style=\"width: 30%;text-align: right;border:none;\">\n          <div style=\"border: 0px;\">\n            {%- if row.normal_range -%}{{ row.normal_range }}{%- endif -%}\n          </div>\n        </td>\n      </tr>\n\n      {%- endfor -%}\n      {%- endif -%}\n    </tbody>\n  </table>\n\n  <table class=\"table\">\n    <tbody>\n      {%- if doc.descriptive_test_items -%}\n      <tr>\n        <th>Name of Test</th>\n        <th class=\"text-left\">Result</th>\n      </tr>\n      <tr><td style=\"width: 30%;border:none;\"> <b>{{ doc.lab_test_name }}</b> </td><td></td></tr>\n\t\t\t{% set gr_lab_test_name = {'ltname': ''} %}\n      {%- for row in doc.descriptive_test_items -%}\n\t\t\t{%- if row.lab_test_name -%}\n\t\t\t{%- if row.lab_test_name != gr_lab_test_name.ltname -%}\n\t\t\t<tr>\n\t\t\t\t<td style=\"width: 30%;border:none;\"> &emsp;{{ row.lab_test_name }} </td>\n\t\t\t\t<td style=\"width: 70%;text-align: left;border:none;\"></td>\n\t\t\t</tr>\n\t\t\t{% if gr_lab_test_name.update({'ltname': row.lab_test_name}) %} {% endif %}\n\t\t\t{%- endif -%}\n\t\t\t{%- endif -%}\n      <tr>\n        <td style=\"width: 30%;border:none;\"> &emsp;&emsp;{{ row.lab_test_particulars }} </td>\n        <td style=\"width: 70%;text-align: left;border:none;\">\n          {%- if row.result_value -%}{{ row.result_value }}{%- endif -%}\n        </td>\n      </tr>\n      {%- endfor -%}\n      {%- endif -%}\n\n\t\t\t{%- if doc.organisms -%}\n\t\t\t<tr>\n\t\t\t\t<th>Organism</th>\n\t\t\t\t<th class=\"text-left\">Colony Population</th>\n\t\t\t</tr>\n\t\t\t{%- for row in doc.organisms -%}\n\t\t\t<tr>\n\t\t\t\t<td style=\"width: 30%;border:none;\"> {{ row.organism }} </td>\n\t\t\t\t<td style=\"width: 60%;text-align: left;border:none;\">\n\t\t\t\t\t{{ row.colony_population }}\n\t\t\t\t\t{% if row.colony_uom %}\n\t\t\t\t\t\t{{ row.colony_uom }}\n\t\t\t\t\t{% endif %}\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t\t{%- endfor -%}\n\t\t\t{%- endif -%}\n\n\t\t\t{%- if doc.sensitivity_test_items -%}\n\t\t\t<tr>\n\t\t\t\t<th>Antibiotic</th>\n\t\t\t\t<th class=\"text-left\">Sensitivity</th>\n\t\t\t</tr>\n\t\t\t{%- for row in doc.sensitivity_test_items -%}\n\t\t\t<tr>\n\t\t\t\t<td style=\"width: 30%;border:none;\"> {{ row.antibiotic }} </td>\n\t\t\t\t<td style=\"width: 70%;text-align: left;border:none;\">{{ row.antibiotic_sensitivity }}</td>\n\t\t\t</tr>\n\t\t\t{%- endfor -%}\n\t\t\t{%- endif -%}\n\n    </tbody>\n  </table>\n  <div>\n    {% if doc.custom_result %}\n        <br/>\n        <div> {{ doc.custom_result }} </div>\n    {%- endif -%}\n    </div>\n\n    <div>\n        {% if doc.lab_test_comment %}\n        <br/>\n        <b>Comments</b>\n        {{ doc.lab_test_comment }}\n        {%- endif -%}\n    </div>\n\n    <div class=\"text-right\">\n        {%- if (frappe.db.get_value(\"Healthcare Settings\", \"None\", \"employee_name_and_designation_in_print\") == '1') -%}\n            {%- if doc.employee_name -%}\n            <h6 class=\"text-uppercase\"><b>{{ doc.employee_name }}</b></h6>\n            {%- endif -%}\n            {%- if doc.employee_designation -%}\n            <h6 class=\"text-uppercase\"><b>{{ doc.employee_designation }}</b></h6>\n            {%- endif -%}\n        {%- else -%}\n            {%- if frappe.db.get_value(\"Healthcare Settings\", \"None\", \"custom_signature_in_print\") -%}\n            <h6 ><b>{{ frappe.db.get_value(\"Healthcare Settings\", \"None\", \"custom_signature_in_print\") }}</b></h6>\n            {%- endif -%}\n        {%- endif -%}\n    </div>\n\n    <div>\n        {% if doc.result_legend and  (doc.legend_print_position == \"Bottom\" or doc.legend_print_position == \"Both\" or doc.legend_print_position == \"\")%}\n        <hr>\n        <b>Result Legend</b>\n        {{ doc.result_legend }}\n        {%- endif -%}\n    </div>\n  {%- endif -%}\n</div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-12-11 13:10:51.132532",
  "module": "AQIQ Print Formats",
  "name": "Lab Test Print",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 }
]